var MW=Object.defineProperty;var uk=r=>{throw TypeError(r)};var HW=(r,e,t)=>e in r?MW(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var qt=(r,e,t)=>HW(r,typeof e!="symbol"?e+"":e,t),UU=(r,e,t)=>e.has(r)||uk("Cannot "+t);var C=(r,e,t)=>(UU(r,e,"read from private field"),t?t.call(r):e.get(r)),Be=(r,e,t)=>e.has(r)?uk("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),he=(r,e,t,n)=>(UU(r,e,"write to private field"),n?n.call(r,t):e.set(r,t),t),be=(r,e,t)=>(UU(r,e,"access private method"),t);var Al=(r,e,t,n)=>({set _(A){he(r,e,A,t)},get _(){return C(r,e,n)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const A of document.querySelectorAll('link[rel="modulepreload"]'))n(A);new MutationObserver(A=>{for(const i of A)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function t(A){const i={};return A.integrity&&(i.integrity=A.integrity),A.referrerPolicy&&(i.referrerPolicy=A.referrerPolicy),A.crossOrigin==="use-credentials"?i.credentials="include":A.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(A){if(A.ep)return;A.ep=!0;const i=t(A);fetch(A.href,i)}})();function uw(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function jW(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var e=r.default;if(typeof e=="function"){var t=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var A=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,A.get?A:{enumerable:!0,get:function(){return r[n]}})}),t}var TU={exports:{}},tC={},QU={exports:{}},pn={},ck;function VW(){if(ck)return pn;ck=1;/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),a=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),l=Symbol.for("react.lazy"),c=Symbol.iterator;function h(G){return G===null||typeof G!="object"?null:(G=c&&G[c]||G["@@iterator"],typeof G=="function"?G:null)}var d={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(G,H,z){this.props=G,this.context=H,this.refs=g,this.updater=z||d}y.prototype.isReactComponent={},y.prototype.setState=function(G,H){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,H,"setState")},y.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function v(){}v.prototype=y.prototype;function w(G,H,z){this.props=G,this.context=H,this.refs=g,this.updater=z||d}var b=w.prototype=new v;b.constructor=w,m(b,y.prototype),b.isPureReactComponent=!0;var B=Array.isArray,F=Object.prototype.hasOwnProperty,N={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function U(G,H,z){var oe,ae={},ie=null,pe=null;if(H!=null)for(oe in H.ref!==void 0&&(pe=H.ref),H.key!==void 0&&(ie=""+H.key),H)F.call(H,oe)&&!T.hasOwnProperty(oe)&&(ae[oe]=H[oe]);var Ce=arguments.length-2;if(Ce===1)ae.children=z;else if(1<Ce){for(var Ie=Array(Ce),Qe=0;Qe<Ce;Qe++)Ie[Qe]=arguments[Qe+2];ae.children=Ie}if(G&&G.defaultProps)for(oe in Ce=G.defaultProps,Ce)ae[oe]===void 0&&(ae[oe]=Ce[oe]);return{$$typeof:r,type:G,key:ie,ref:pe,props:ae,_owner:N.current}}function k(G,H){return{$$typeof:r,type:G.type,key:H,ref:G.ref,props:G.props,_owner:G._owner}}function D(G){return typeof G=="object"&&G!==null&&G.$$typeof===r}function _(G){var H={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(z){return H[z]})}var L=/\/+/g;function O(G,H){return typeof G=="object"&&G!==null&&G.key!=null?_(""+G.key):H.toString(36)}function V(G,H,z,oe,ae){var ie=typeof G;(ie==="undefined"||ie==="boolean")&&(G=null);var pe=!1;if(G===null)pe=!0;else switch(ie){case"string":case"number":pe=!0;break;case"object":switch(G.$$typeof){case r:case e:pe=!0}}if(pe)return pe=G,ae=ae(pe),G=oe===""?"."+O(pe,0):oe,B(ae)?(z="",G!=null&&(z=G.replace(L,"$&/")+"/"),V(ae,H,z,"",function(Qe){return Qe})):ae!=null&&(D(ae)&&(ae=k(ae,z+(!ae.key||pe&&pe.key===ae.key?"":(""+ae.key).replace(L,"$&/")+"/")+G)),H.push(ae)),1;if(pe=0,oe=oe===""?".":oe+":",B(G))for(var Ce=0;Ce<G.length;Ce++){ie=G[Ce];var Ie=oe+O(ie,Ce);pe+=V(ie,H,z,Ie,ae)}else if(Ie=h(G),typeof Ie=="function")for(G=Ie.call(G),Ce=0;!(ie=G.next()).done;)ie=ie.value,Ie=oe+O(ie,Ce++),pe+=V(ie,H,z,Ie,ae);else if(ie==="object")throw H=String(G),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.");return pe}function $(G,H,z){if(G==null)return G;var oe=[],ae=0;return V(G,oe,"","",function(ie){return H.call(z,ie,ae++)}),oe}function Y(G){if(G._status===-1){var H=G._result;H=H(),H.then(function(z){(G._status===0||G._status===-1)&&(G._status=1,G._result=z)},function(z){(G._status===0||G._status===-1)&&(G._status=2,G._result=z)}),G._status===-1&&(G._status=0,G._result=H)}if(G._status===1)return G._result.default;throw G._result}var re={current:null},le={transition:null},ne={ReactCurrentDispatcher:re,ReactCurrentBatchConfig:le,ReactCurrentOwner:N};function te(){throw Error("act(...) is not supported in production builds of React.")}return pn.Children={map:$,forEach:function(G,H,z){$(G,function(){H.apply(this,arguments)},z)},count:function(G){var H=0;return $(G,function(){H++}),H},toArray:function(G){return $(G,function(H){return H})||[]},only:function(G){if(!D(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},pn.Component=y,pn.Fragment=t,pn.Profiler=A,pn.PureComponent=w,pn.StrictMode=n,pn.Suspense=a,pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,pn.act=te,pn.cloneElement=function(G,H,z){if(G==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+G+".");var oe=m({},G.props),ae=G.key,ie=G.ref,pe=G._owner;if(H!=null){if(H.ref!==void 0&&(ie=H.ref,pe=N.current),H.key!==void 0&&(ae=""+H.key),G.type&&G.type.defaultProps)var Ce=G.type.defaultProps;for(Ie in H)F.call(H,Ie)&&!T.hasOwnProperty(Ie)&&(oe[Ie]=H[Ie]===void 0&&Ce!==void 0?Ce[Ie]:H[Ie])}var Ie=arguments.length-2;if(Ie===1)oe.children=z;else if(1<Ie){Ce=Array(Ie);for(var Qe=0;Qe<Ie;Qe++)Ce[Qe]=arguments[Qe+2];oe.children=Ce}return{$$typeof:r,type:G.type,key:ae,ref:ie,props:oe,_owner:pe}},pn.createContext=function(G){return G={$$typeof:s,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},G.Provider={$$typeof:i,_context:G},G.Consumer=G},pn.createElement=U,pn.createFactory=function(G){var H=U.bind(null,G);return H.type=G,H},pn.createRef=function(){return{current:null}},pn.forwardRef=function(G){return{$$typeof:o,render:G}},pn.isValidElement=D,pn.lazy=function(G){return{$$typeof:l,_payload:{_status:-1,_result:G},_init:Y}},pn.memo=function(G,H){return{$$typeof:u,type:G,compare:H===void 0?null:H}},pn.startTransition=function(G){var H=le.transition;le.transition={};try{G()}finally{le.transition=H}},pn.unstable_act=te,pn.useCallback=function(G,H){return re.current.useCallback(G,H)},pn.useContext=function(G){return re.current.useContext(G)},pn.useDebugValue=function(){},pn.useDeferredValue=function(G){return re.current.useDeferredValue(G)},pn.useEffect=function(G,H){return re.current.useEffect(G,H)},pn.useId=function(){return re.current.useId()},pn.useImperativeHandle=function(G,H,z){return re.current.useImperativeHandle(G,H,z)},pn.useInsertionEffect=function(G,H){return re.current.useInsertionEffect(G,H)},pn.useLayoutEffect=function(G,H){return re.current.useLayoutEffect(G,H)},pn.useMemo=function(G,H){return re.current.useMemo(G,H)},pn.useReducer=function(G,H,z){return re.current.useReducer(G,H,z)},pn.useRef=function(G){return re.current.useRef(G)},pn.useState=function(G){return re.current.useState(G)},pn.useSyncExternalStore=function(G,H,z){return re.current.useSyncExternalStore(G,H,z)},pn.useTransition=function(){return re.current.useTransition()},pn.version="18.3.1",pn}var hk;function n1(){return hk||(hk=1,QU.exports=VW()),QU.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fk;function KW(){if(fk)return tC;fk=1;var r=n1(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,A=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function s(o,a,u){var l,c={},h=null,d=null;u!==void 0&&(h=""+u),a.key!==void 0&&(h=""+a.key),a.ref!==void 0&&(d=a.ref);for(l in a)n.call(a,l)&&!i.hasOwnProperty(l)&&(c[l]=a[l]);if(o&&o.defaultProps)for(l in a=o.defaultProps,a)c[l]===void 0&&(c[l]=a[l]);return{$$typeof:e,type:o,key:h,ref:d,props:c,_owner:A.current}}return tC.Fragment=t,tC.jsx=s,tC.jsxs=s,tC}var dk;function GW(){return dk||(dk=1,TU.exports=KW()),TU.exports}var J=GW(),me=n1();const Dt=uw(me);var F2={},LU={exports:{}},Ml={},NU={exports:{}},RU={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pk;function zW(){return pk||(pk=1,function(r){function e(le,ne){var te=le.length;le.push(ne);e:for(;0<te;){var G=te-1>>>1,H=le[G];if(0<A(H,ne))le[G]=ne,le[te]=H,te=G;else break e}}function t(le){return le.length===0?null:le[0]}function n(le){if(le.length===0)return null;var ne=le[0],te=le.pop();if(te!==ne){le[0]=te;e:for(var G=0,H=le.length,z=H>>>1;G<z;){var oe=2*(G+1)-1,ae=le[oe],ie=oe+1,pe=le[ie];if(0>A(ae,te))ie<H&&0>A(pe,ae)?(le[G]=pe,le[ie]=te,G=ie):(le[G]=ae,le[oe]=te,G=oe);else if(ie<H&&0>A(pe,te))le[G]=pe,le[ie]=te,G=ie;else break e}}return ne}function A(le,ne){var te=le.sortIndex-ne.sortIndex;return te!==0?te:le.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;r.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();r.unstable_now=function(){return s.now()-o}}var a=[],u=[],l=1,c=null,h=3,d=!1,m=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(le){for(var ne=t(u);ne!==null;){if(ne.callback===null)n(u);else if(ne.startTime<=le)n(u),ne.sortIndex=ne.expirationTime,e(a,ne);else break;ne=t(u)}}function B(le){if(g=!1,b(le),!m)if(t(a)!==null)m=!0,Y(F);else{var ne=t(u);ne!==null&&re(B,ne.startTime-le)}}function F(le,ne){m=!1,g&&(g=!1,v(U),U=-1),d=!0;var te=h;try{for(b(ne),c=t(a);c!==null&&(!(c.expirationTime>ne)||le&&!_());){var G=c.callback;if(typeof G=="function"){c.callback=null,h=c.priorityLevel;var H=G(c.expirationTime<=ne);ne=r.unstable_now(),typeof H=="function"?c.callback=H:c===t(a)&&n(a),b(ne)}else n(a);c=t(a)}if(c!==null)var z=!0;else{var oe=t(u);oe!==null&&re(B,oe.startTime-ne),z=!1}return z}finally{c=null,h=te,d=!1}}var N=!1,T=null,U=-1,k=5,D=-1;function _(){return!(r.unstable_now()-D<k)}function L(){if(T!==null){var le=r.unstable_now();D=le;var ne=!0;try{ne=T(!0,le)}finally{ne?O():(N=!1,T=null)}}else N=!1}var O;if(typeof w=="function")O=function(){w(L)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,$=V.port2;V.port1.onmessage=L,O=function(){$.postMessage(null)}}else O=function(){y(L,0)};function Y(le){T=le,N||(N=!0,O())}function re(le,ne){U=y(function(){le(r.unstable_now())},ne)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(le){le.callback=null},r.unstable_continueExecution=function(){m||d||(m=!0,Y(F))},r.unstable_forceFrameRate=function(le){0>le||125<le?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<le?Math.floor(1e3/le):5},r.unstable_getCurrentPriorityLevel=function(){return h},r.unstable_getFirstCallbackNode=function(){return t(a)},r.unstable_next=function(le){switch(h){case 1:case 2:case 3:var ne=3;break;default:ne=h}var te=h;h=ne;try{return le()}finally{h=te}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(le,ne){switch(le){case 1:case 2:case 3:case 4:case 5:break;default:le=3}var te=h;h=le;try{return ne()}finally{h=te}},r.unstable_scheduleCallback=function(le,ne,te){var G=r.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?G+te:G):te=G,le){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=te+H,le={id:l++,callback:ne,priorityLevel:le,startTime:te,expirationTime:H,sortIndex:-1},te>G?(le.sortIndex=te,e(u,le),t(a)===null&&le===t(u)&&(g?(v(U),U=-1):g=!0,re(B,te-G))):(le.sortIndex=H,e(a,le),m||d||(m=!0,Y(F))),le},r.unstable_shouldYield=_,r.unstable_wrapCallback=function(le){var ne=h;return function(){var te=h;h=ne;try{return le.apply(this,arguments)}finally{h=te}}}}(RU)),RU}var gk;function qW(){return gk||(gk=1,NU.exports=zW()),NU.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mk;function WW(){if(mk)return Ml;mk=1;var r=n1(),e=qW();function t(f){for(var p="https://reactjs.org/docs/error-decoder.html?invariant="+f,E=1;E<arguments.length;E++)p+="&args[]="+encodeURIComponent(arguments[E]);return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,A={};function i(f,p){s(f,p),s(f+"Capture",p)}function s(f,p){for(A[f]=p,f=0;f<p.length;f++)n.add(p[f])}var o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),a=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,l={},c={};function h(f){return a.call(c,f)?!0:a.call(l,f)?!1:u.test(f)?c[f]=!0:(l[f]=!0,!1)}function d(f,p,E,M){if(E!==null&&E.type===0)return!1;switch(typeof p){case"function":case"symbol":return!0;case"boolean":return M?!1:E!==null?!E.acceptsBooleans:(f=f.toLowerCase().slice(0,5),f!=="data-"&&f!=="aria-");default:return!1}}function m(f,p,E,M){if(p===null||typeof p>"u"||d(f,p,E,M))return!0;if(M)return!1;if(E!==null)switch(E.type){case 3:return!p;case 4:return p===!1;case 5:return isNaN(p);case 6:return isNaN(p)||1>p}return!1}function g(f,p,E,M,q,se,_e){this.acceptsBooleans=p===2||p===3||p===4,this.attributeName=M,this.attributeNamespace=q,this.mustUseProperty=E,this.propertyName=f,this.type=p,this.sanitizeURL=se,this.removeEmptyString=_e}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(f){y[f]=new g(f,0,!1,f,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(f){var p=f[0];y[p]=new g(p,1,!1,f[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(f){y[f]=new g(f,2,!1,f.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(f){y[f]=new g(f,2,!1,f,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(f){y[f]=new g(f,3,!1,f.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(f){y[f]=new g(f,3,!0,f,null,!1,!1)}),["capture","download"].forEach(function(f){y[f]=new g(f,4,!1,f,null,!1,!1)}),["cols","rows","size","span"].forEach(function(f){y[f]=new g(f,6,!1,f,null,!1,!1)}),["rowSpan","start"].forEach(function(f){y[f]=new g(f,5,!1,f.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function w(f){return f[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(f){var p=f.replace(v,w);y[p]=new g(p,1,!1,f,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(f){var p=f.replace(v,w);y[p]=new g(p,1,!1,f,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(f){var p=f.replace(v,w);y[p]=new g(p,1,!1,f,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(f){y[f]=new g(f,1,!1,f.toLowerCase(),null,!1,!1)}),y.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(f){y[f]=new g(f,1,!1,f.toLowerCase(),null,!0,!0)});function b(f,p,E,M){var q=y.hasOwnProperty(p)?y[p]:null;(q!==null?q.type!==0:M||!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(m(p,E,q,M)&&(E=null),M||q===null?h(p)&&(E===null?f.removeAttribute(p):f.setAttribute(p,""+E)):q.mustUseProperty?f[q.propertyName]=E===null?q.type===3?!1:"":E:(p=q.attributeName,M=q.attributeNamespace,E===null?f.removeAttribute(p):(q=q.type,E=q===3||q===4&&E===!0?"":""+E,M?f.setAttributeNS(M,p,E):f.setAttribute(p,E))))}var B=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,F=Symbol.for("react.element"),N=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),_=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),re=Symbol.for("react.offscreen"),le=Symbol.iterator;function ne(f){return f===null||typeof f!="object"?null:(f=le&&f[le]||f["@@iterator"],typeof f=="function"?f:null)}var te=Object.assign,G;function H(f){if(G===void 0)try{throw Error()}catch(E){var p=E.stack.trim().match(/\n( *(at )?)/);G=p&&p[1]||""}return`
`+G+f}var z=!1;function oe(f,p){if(!f||z)return"";z=!0;var E=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(p)if(p=function(){throw Error()},Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(vt){var M=vt}Reflect.construct(f,[],p)}else{try{p.call()}catch(vt){M=vt}f.call(p.prototype)}else{try{throw Error()}catch(vt){M=vt}f()}}catch(vt){if(vt&&M&&typeof vt.stack=="string"){for(var q=vt.stack.split(`
`),se=M.stack.split(`
`),_e=q.length-1,je=se.length-1;1<=_e&&0<=je&&q[_e]!==se[je];)je--;for(;1<=_e&&0<=je;_e--,je--)if(q[_e]!==se[je]){if(_e!==1||je!==1)do if(_e--,je--,0>je||q[_e]!==se[je]){var Xe=`
`+q[_e].replace(" at new "," at ");return f.displayName&&Xe.includes("<anonymous>")&&(Xe=Xe.replace("<anonymous>",f.displayName)),Xe}while(1<=_e&&0<=je);break}}}finally{z=!1,Error.prepareStackTrace=E}return(f=f?f.displayName||f.name:"")?H(f):""}function ae(f){switch(f.tag){case 5:return H(f.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return f=oe(f.type,!1),f;case 11:return f=oe(f.type.render,!1),f;case 1:return f=oe(f.type,!0),f;default:return""}}function ie(f){if(f==null)return null;if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case T:return"Fragment";case N:return"Portal";case k:return"Profiler";case U:return"StrictMode";case O:return"Suspense";case V:return"SuspenseList"}if(typeof f=="object")switch(f.$$typeof){case _:return(f.displayName||"Context")+".Consumer";case D:return(f._context.displayName||"Context")+".Provider";case L:var p=f.render;return f=f.displayName,f||(f=p.displayName||p.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case $:return p=f.displayName||null,p!==null?p:ie(f.type)||"Memo";case Y:p=f._payload,f=f._init;try{return ie(f(p))}catch{}}return null}function pe(f){var p=f.type;switch(f.tag){case 24:return"Cache";case 9:return(p.displayName||"Context")+".Consumer";case 10:return(p._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return f=p.render,f=f.displayName||f.name||"",p.displayName||(f!==""?"ForwardRef("+f+")":"ForwardRef");case 7:return"Fragment";case 5:return p;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ie(p);case 8:return p===U?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p}return null}function Ce(f){switch(typeof f){case"boolean":case"number":case"string":case"undefined":return f;case"object":return f;default:return""}}function Ie(f){var p=f.type;return(f=f.nodeName)&&f.toLowerCase()==="input"&&(p==="checkbox"||p==="radio")}function Qe(f){var p=Ie(f)?"checked":"value",E=Object.getOwnPropertyDescriptor(f.constructor.prototype,p),M=""+f[p];if(!f.hasOwnProperty(p)&&typeof E<"u"&&typeof E.get=="function"&&typeof E.set=="function"){var q=E.get,se=E.set;return Object.defineProperty(f,p,{configurable:!0,get:function(){return q.call(this)},set:function(_e){M=""+_e,se.call(this,_e)}}),Object.defineProperty(f,p,{enumerable:E.enumerable}),{getValue:function(){return M},setValue:function(_e){M=""+_e},stopTracking:function(){f._valueTracker=null,delete f[p]}}}}function qe(f){f._valueTracker||(f._valueTracker=Qe(f))}function et(f){if(!f)return!1;var p=f._valueTracker;if(!p)return!0;var E=p.getValue(),M="";return f&&(M=Ie(f)?f.checked?"true":"false":f.value),f=M,f!==E?(p.setValue(f),!0):!1}function nt(f){if(f=f||(typeof document<"u"?document:void 0),typeof f>"u")return null;try{return f.activeElement||f.body}catch{return f.body}}function pt(f,p){var E=p.checked;return te({},p,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:E??f._wrapperState.initialChecked})}function Ke(f,p){var E=p.defaultValue==null?"":p.defaultValue,M=p.checked!=null?p.checked:p.defaultChecked;E=Ce(p.value!=null?p.value:E),f._wrapperState={initialChecked:M,initialValue:E,controlled:p.type==="checkbox"||p.type==="radio"?p.checked!=null:p.value!=null}}function Le(f,p){p=p.checked,p!=null&&b(f,"checked",p,!1)}function Ut(f,p){Le(f,p);var E=Ce(p.value),M=p.type;if(E!=null)M==="number"?(E===0&&f.value===""||f.value!=E)&&(f.value=""+E):f.value!==""+E&&(f.value=""+E);else if(M==="submit"||M==="reset"){f.removeAttribute("value");return}p.hasOwnProperty("value")?Me(f,p.type,E):p.hasOwnProperty("defaultValue")&&Me(f,p.type,Ce(p.defaultValue)),p.checked==null&&p.defaultChecked!=null&&(f.defaultChecked=!!p.defaultChecked)}function ke(f,p,E){if(p.hasOwnProperty("value")||p.hasOwnProperty("defaultValue")){var M=p.type;if(!(M!=="submit"&&M!=="reset"||p.value!==void 0&&p.value!==null))return;p=""+f._wrapperState.initialValue,E||p===f.value||(f.value=p),f.defaultValue=p}E=f.name,E!==""&&(f.name=""),f.defaultChecked=!!f._wrapperState.initialChecked,E!==""&&(f.name=E)}function Me(f,p,E){(p!=="number"||nt(f.ownerDocument)!==f)&&(E==null?f.defaultValue=""+f._wrapperState.initialValue:f.defaultValue!==""+E&&(f.defaultValue=""+E))}var it=Array.isArray;function ut(f,p,E,M){if(f=f.options,p){p={};for(var q=0;q<E.length;q++)p["$"+E[q]]=!0;for(E=0;E<f.length;E++)q=p.hasOwnProperty("$"+f[E].value),f[E].selected!==q&&(f[E].selected=q),q&&M&&(f[E].defaultSelected=!0)}else{for(E=""+Ce(E),p=null,q=0;q<f.length;q++){if(f[q].value===E){f[q].selected=!0,M&&(f[q].defaultSelected=!0);return}p!==null||f[q].disabled||(p=f[q])}p!==null&&(p.selected=!0)}}function ze(f,p){if(p.dangerouslySetInnerHTML!=null)throw Error(t(91));return te({},p,{value:void 0,defaultValue:void 0,children:""+f._wrapperState.initialValue})}function Ve(f,p){var E=p.value;if(E==null){if(E=p.children,p=p.defaultValue,E!=null){if(p!=null)throw Error(t(92));if(it(E)){if(1<E.length)throw Error(t(93));E=E[0]}p=E}p==null&&(p=""),E=p}f._wrapperState={initialValue:Ce(E)}}function At(f,p){var E=Ce(p.value),M=Ce(p.defaultValue);E!=null&&(E=""+E,E!==f.value&&(f.value=E),p.defaultValue==null&&f.defaultValue!==E&&(f.defaultValue=E)),M!=null&&(f.defaultValue=""+M)}function lt(f){var p=f.textContent;p===f._wrapperState.initialValue&&p!==""&&p!==null&&(f.value=p)}function yt(f){switch(f){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ge(f,p){return f==null||f==="http://www.w3.org/1999/xhtml"?yt(p):f==="http://www.w3.org/2000/svg"&&p==="foreignObject"?"http://www.w3.org/1999/xhtml":f}var X,Ae=function(f){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(p,E,M,q){MSApp.execUnsafeLocalFunction(function(){return f(p,E,M,q)})}:f}(function(f,p){if(f.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in f)f.innerHTML=p;else{for(X=X||document.createElement("div"),X.innerHTML="<svg>"+p.valueOf().toString()+"</svg>",p=X.firstChild;f.firstChild;)f.removeChild(f.firstChild);for(;p.firstChild;)f.appendChild(p.firstChild)}});function de(f,p){if(p){var E=f.firstChild;if(E&&E===f.lastChild&&E.nodeType===3){E.nodeValue=p;return}}f.textContent=p}var we={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Oe=["Webkit","ms","Moz","O"];Object.keys(we).forEach(function(f){Oe.forEach(function(p){p=p+f.charAt(0).toUpperCase()+f.substring(1),we[p]=we[f]})});function He(f,p,E){return p==null||typeof p=="boolean"||p===""?"":E||typeof p!="number"||p===0||we.hasOwnProperty(f)&&we[f]?(""+p).trim():p+"px"}function Et(f,p){f=f.style;for(var E in p)if(p.hasOwnProperty(E)){var M=E.indexOf("--")===0,q=He(E,p[E],M);E==="float"&&(E="cssFloat"),M?f.setProperty(E,q):f[E]=q}}var Tt=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ht(f,p){if(p){if(Tt[f]&&(p.children!=null||p.dangerouslySetInnerHTML!=null))throw Error(t(137,f));if(p.dangerouslySetInnerHTML!=null){if(p.children!=null)throw Error(t(60));if(typeof p.dangerouslySetInnerHTML!="object"||!("__html"in p.dangerouslySetInnerHTML))throw Error(t(61))}if(p.style!=null&&typeof p.style!="object")throw Error(t(62))}}function gr(f,p){if(f.indexOf("-")===-1)return typeof p.is=="string";switch(f){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zt=null;function Jn(f){return f=f.target||f.srcElement||window,f.correspondingUseElement&&(f=f.correspondingUseElement),f.nodeType===3?f.parentNode:f}var Lr=null,vn=null,vr=null;function jt(f){if(f=Af(f)){if(typeof Lr!="function")throw Error(t(280));var p=f.stateNode;p&&(p=gd(p),Lr(f.stateNode,f.type,p))}}function Pt(f){vn?vr?vr.push(f):vr=[f]:vn=f}function Vt(){if(vn){var f=vn,p=vr;if(vr=vn=null,jt(f),p)for(f=0;f<p.length;f++)jt(p[f])}}function xr(f,p){return f(p)}function Gr(){}var On=!1;function BA(f,p,E){if(On)return f(p,E);On=!0;try{return xr(f,p,E)}finally{On=!1,(vn!==null||vr!==null)&&(Gr(),Vt())}}function $t(f,p){var E=f.stateNode;if(E===null)return null;var M=gd(E);if(M===null)return null;E=M[p];e:switch(p){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(M=!M.disabled)||(f=f.type,M=!(f==="button"||f==="input"||f==="select"||f==="textarea")),f=!M;break e;default:f=!1}if(f)return null;if(E&&typeof E!="function")throw Error(t(231,p,typeof E));return E}var JA=!1;if(o)try{var CA={};Object.defineProperty(CA,"passive",{get:function(){JA=!0}}),window.addEventListener("test",CA,CA),window.removeEventListener("test",CA,CA)}catch{JA=!1}function fn(f,p,E,M,q,se,_e,je,Xe){var vt=Array.prototype.slice.call(arguments,3);try{p.apply(E,vt)}catch(Mt){this.onError(Mt)}}var or=!1,yn=null,kn=!1,bA=null,xi={onError:function(f){or=!0,yn=f}};function qn(f,p,E,M,q,se,_e,je,Xe){or=!1,yn=null,fn.apply(xi,arguments)}function ZA(f,p,E,M,q,se,_e,je,Xe){if(qn.apply(this,arguments),or){if(or){var vt=yn;or=!1,yn=null}else throw Error(t(198));kn||(kn=!0,bA=vt)}}function oA(f){var p=f,E=f;if(f.alternate)for(;p.return;)p=p.return;else{f=p;do p=f,(p.flags&4098)!==0&&(E=p.return),f=p.return;while(f)}return p.tag===3?E:null}function jA(f){if(f.tag===13){var p=f.memoizedState;if(p===null&&(f=f.alternate,f!==null&&(p=f.memoizedState)),p!==null)return p.dehydrated}return null}function AA(f){if(oA(f)!==f)throw Error(t(188))}function Mi(f){var p=f.alternate;if(!p){if(p=oA(f),p===null)throw Error(t(188));return p!==f?null:f}for(var E=f,M=p;;){var q=E.return;if(q===null)break;var se=q.alternate;if(se===null){if(M=q.return,M!==null){E=M;continue}break}if(q.child===se.child){for(se=q.child;se;){if(se===E)return AA(q),f;if(se===M)return AA(q),p;se=se.sibling}throw Error(t(188))}if(E.return!==M.return)E=q,M=se;else{for(var _e=!1,je=q.child;je;){if(je===E){_e=!0,E=q,M=se;break}if(je===M){_e=!0,M=q,E=se;break}je=je.sibling}if(!_e){for(je=se.child;je;){if(je===E){_e=!0,E=se,M=q;break}if(je===M){_e=!0,M=se,E=q;break}je=je.sibling}if(!_e)throw Error(t(189))}}if(E.alternate!==M)throw Error(t(190))}if(E.tag!==3)throw Error(t(188));return E.stateNode.current===E?f:p}function nr(f){return f=Mi(f),f!==null?$e(f):null}function $e(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){var p=$e(f);if(p!==null)return p;f=f.sibling}return null}var Ot=e.unstable_scheduleCallback,tr=e.unstable_cancelCallback,sn=e.unstable_shouldYield,pA=e.unstable_requestPaint,Qr=e.unstable_now,LA=e.unstable_getCurrentPriorityLevel,Zn=e.unstable_ImmediatePriority,li=e.unstable_UserBlockingPriority,NA=e.unstable_NormalPriority,Dn=e.unstable_LowPriority,Ts=e.unstable_IdlePriority,Qs=null,Hi=null;function fs(f){if(Hi&&typeof Hi.onCommitFiberRoot=="function")try{Hi.onCommitFiberRoot(Qs,f,void 0,(f.current.flags&128)===128)}catch{}}var ei=Math.clz32?Math.clz32:Hc,gA=Math.log,Mc=Math.LN2;function Hc(f){return f>>>=0,f===0?32:31-(gA(f)/Mc|0)|0}var ta=64,So=4194304;function ro(f){switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return f&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return f}}function ji(f,p){var E=f.pendingLanes;if(E===0)return 0;var M=0,q=f.suspendedLanes,se=f.pingedLanes,_e=E&268435455;if(_e!==0){var je=_e&~q;je!==0?M=ro(je):(se&=_e,se!==0&&(M=ro(se)))}else _e=E&~q,_e!==0?M=ro(_e):se!==0&&(M=ro(se));if(M===0)return 0;if(p!==0&&p!==M&&(p&q)===0&&(q=M&-M,se=p&-p,q>=se||q===16&&(se&4194240)!==0))return p;if((M&4)!==0&&(M|=E&16),p=f.entangledLanes,p!==0)for(f=f.entanglements,p&=M;0<p;)E=31-ei(p),q=1<<E,M|=f[E],p&=~q;return M}function ti(f,p){switch(f){case 1:case 2:case 4:return p+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function VA(f,p){for(var E=f.suspendedLanes,M=f.pingedLanes,q=f.expirationTimes,se=f.pendingLanes;0<se;){var _e=31-ei(se),je=1<<_e,Xe=q[_e];Xe===-1?((je&E)===0||(je&M)!==0)&&(q[_e]=ti(je,p)):Xe<=p&&(f.expiredLanes|=je),se&=~je}}function Vi(f){return f=f.pendingLanes&-1073741825,f!==0?f:f&1073741824?1073741824:0}function Bl(){var f=ta;return ta<<=1,(ta&4194240)===0&&(ta=64),f}function Cl(f){for(var p=[],E=0;31>E;E++)p.push(f);return p}function Ha(f,p,E){f.pendingLanes|=p,p!==536870912&&(f.suspendedLanes=0,f.pingedLanes=0),f=f.eventTimes,p=31-ei(p),f[p]=E}function Wn(f,p){var E=f.pendingLanes&~p;f.pendingLanes=p,f.suspendedLanes=0,f.pingedLanes=0,f.expiredLanes&=p,f.mutableReadLanes&=p,f.entangledLanes&=p,p=f.entanglements;var M=f.eventTimes;for(f=f.expirationTimes;0<E;){var q=31-ei(E),se=1<<q;p[q]=0,M[q]=-1,f[q]=-1,E&=~se}}function ja(f,p){var E=f.entangledLanes|=p;for(f=f.entanglements;E;){var M=31-ei(E),q=1<<M;q&p|f[M]&p&&(f[M]|=p),E&=~q}}var on=0;function Ls(f){return f&=-f,1<f?4<f?(f&268435455)!==0?16:536870912:4:1}var Xh,nu,Yh,ra,bl,na=!1,yi=[],_n=null,Fo=null,no=null,_r=new Map,Ao=new Map,Aa=[],ia="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jc(f,p){switch(f){case"focusin":case"focusout":_n=null;break;case"dragenter":case"dragleave":Fo=null;break;case"mouseover":case"mouseout":no=null;break;case"pointerover":case"pointerout":_r.delete(p.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ao.delete(p.pointerId)}}function Ki(f,p,E,M,q,se){return f===null||f.nativeEvent!==se?(f={blockedOn:p,domEventName:E,eventSystemFlags:M,nativeEvent:se,targetContainers:[q]},p!==null&&(p=Af(p),p!==null&&nu(p)),f):(f.eventSystemFlags|=M,p=f.targetContainers,q!==null&&p.indexOf(q)===-1&&p.push(q),f)}function $u(f,p,E,M,q){switch(p){case"focusin":return _n=Ki(_n,f,p,E,M,q),!0;case"dragenter":return Fo=Ki(Fo,f,p,E,M,q),!0;case"mouseover":return no=Ki(no,f,p,E,M,q),!0;case"pointerover":var se=q.pointerId;return _r.set(se,Ki(_r.get(se)||null,f,p,E,M,q)),!0;case"gotpointercapture":return se=q.pointerId,Ao.set(se,Ki(Ao.get(se)||null,f,p,E,M,q)),!0}return!1}function Gi(f){var p=Wa(f.target);if(p!==null){var E=oA(p);if(E!==null){if(p=E.tag,p===13){if(p=jA(E),p!==null){f.blockedOn=p,bl(f.priority,function(){Yh(E)});return}}else if(p===3&&E.stateNode.current.memoizedState.isDehydrated){f.blockedOn=E.tag===3?E.stateNode.containerInfo:null;return}}}f.blockedOn=null}function sa(f){if(f.blockedOn!==null)return!1;for(var p=f.targetContainers;0<p.length;){var E=EA(f.domEventName,f.eventSystemFlags,p[0],f.nativeEvent);if(E===null){E=f.nativeEvent;var M=new E.constructor(E.type,E);zt=M,E.target.dispatchEvent(M),zt=null}else return p=Af(E),p!==null&&nu(p),f.blockedOn=E,!1;p.shift()}return!0}function El(f,p,E){sa(f)&&E.delete(p)}function Vc(){na=!1,_n!==null&&sa(_n)&&(_n=null),Fo!==null&&sa(Fo)&&(Fo=null),no!==null&&sa(no)&&(no=null),_r.forEach(El),Ao.forEach(El)}function Ns(f,p){f.blockedOn===p&&(f.blockedOn=null,na||(na=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Vc)))}function zi(f){function p(q){return Ns(q,f)}if(0<yi.length){Ns(yi[0],f);for(var E=1;E<yi.length;E++){var M=yi[E];M.blockedOn===f&&(M.blockedOn=null)}}for(_n!==null&&Ns(_n,f),Fo!==null&&Ns(Fo,f),no!==null&&Ns(no,f),_r.forEach(p),Ao.forEach(p),E=0;E<Aa.length;E++)M=Aa[E],M.blockedOn===f&&(M.blockedOn=null);for(;0<Aa.length&&(E=Aa[0],E.blockedOn===null);)Gi(E),E.blockedOn===null&&Aa.shift()}var ds=B.ReactCurrentBatchConfig,Va=!0;function Nn(f,p,E,M){var q=on,se=ds.transition;ds.transition=null;try{on=1,_l(f,p,E,M)}finally{on=q,ds.transition=se}}function Xu(f,p,E,M){var q=on,se=ds.transition;ds.transition=null;try{on=4,_l(f,p,E,M)}finally{on=q,ds.transition=se}}function _l(f,p,E,M){if(Va){var q=EA(f,p,E,M);if(q===null)Ac(f,p,M,Sl,E),jc(f,M);else if($u(q,f,p,E,M))M.stopPropagation();else if(jc(f,M),p&4&&-1<ia.indexOf(f)){for(;q!==null;){var se=Af(q);if(se!==null&&Xh(se),se=EA(f,p,E,M),se===null&&Ac(f,p,M,Sl,E),se===q)break;q=se}q!==null&&M.stopPropagation()}else Ac(f,p,M,null,E)}}var Sl=null;function EA(f,p,E,M){if(Sl=null,f=Jn(M),f=Wa(f),f!==null)if(p=oA(f),p===null)f=null;else if(E=p.tag,E===13){if(f=jA(p),f!==null)return f;f=null}else if(E===3){if(p.stateNode.current.memoizedState.isDehydrated)return p.tag===3?p.stateNode.containerInfo:null;f=null}else p!==f&&(f=null);return Sl=f,null}function Yu(f){switch(f){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(LA()){case Zn:return 1;case li:return 4;case NA:case Dn:return 16;case Ts:return 536870912;default:return 16}default:return 16}}var ri=null,Rs=null,KA=null;function Kc(){if(KA)return KA;var f,p=Rs,E=p.length,M,q="value"in ri?ri.value:ri.textContent,se=q.length;for(f=0;f<E&&p[f]===q[f];f++);var _e=E-f;for(M=1;M<=_e&&p[E-M]===q[se-M];M++);return KA=q.slice(f,1<M?1-M:void 0)}function Io(f){var p=f.keyCode;return"charCode"in f?(f=f.charCode,f===0&&p===13&&(f=13)):f=p,f===10&&(f=13),32<=f||f===13?f:0}function RA(){return!0}function oa(){return!1}function _A(f){function p(E,M,q,se,_e){this._reactName=E,this._targetInst=q,this.type=M,this.nativeEvent=se,this.target=_e,this.currentTarget=null;for(var je in f)f.hasOwnProperty(je)&&(E=f[je],this[je]=E?E(se):se[je]);return this.isDefaultPrevented=(se.defaultPrevented!=null?se.defaultPrevented:se.returnValue===!1)?RA:oa,this.isPropagationStopped=oa,this}return te(p.prototype,{preventDefault:function(){this.defaultPrevented=!0;var E=this.nativeEvent;E&&(E.preventDefault?E.preventDefault():typeof E.returnValue!="unknown"&&(E.returnValue=!1),this.isDefaultPrevented=RA)},stopPropagation:function(){var E=this.nativeEvent;E&&(E.stopPropagation?E.stopPropagation():typeof E.cancelBubble!="unknown"&&(E.cancelBubble=!0),this.isPropagationStopped=RA)},persist:function(){},isPersistent:RA}),p}var xo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(f){return f.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ui=_A(xo),Ps=te({},xo,{view:0,detail:0}),Au=_A(Ps),Fl,aa,Uo,Ka=te({},Ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xt,button:0,buttons:0,relatedTarget:function(f){return f.relatedTarget===void 0?f.fromElement===f.srcElement?f.toElement:f.fromElement:f.relatedTarget},movementX:function(f){return"movementX"in f?f.movementX:(f!==Uo&&(Uo&&f.type==="mousemove"?(Fl=f.screenX-Uo.screenX,aa=f.screenY-Uo.screenY):aa=Fl=0,Uo=f),Fl)},movementY:function(f){return"movementY"in f?f.movementY:aa}}),Il=_A(Ka),Ju=te({},Ka,{dataTransfer:0}),Jh=_A(Ju),Ga=te({},Ps,{relatedTarget:0}),la=_A(Ga),Zu=te({},xo,{animationName:0,elapsedTime:0,pseudoElement:0}),ps=_A(Zu),ec=te({},xo,{clipboardData:function(f){return"clipboardData"in f?f.clipboardData:window.clipboardData}}),K=_A(ec),ye=te({},xo,{data:0}),De=_A(ye),Ge={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},at={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ct={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rt(f){var p=this.nativeEvent;return p.getModifierState?p.getModifierState(f):(f=Ct[f])?!!p[f]:!1}function Xt(){return Rt}var x=te({},Ps,{key:function(f){if(f.key){var p=Ge[f.key]||f.key;if(p!=="Unidentified")return p}return f.type==="keypress"?(f=Io(f),f===13?"Enter":String.fromCharCode(f)):f.type==="keydown"||f.type==="keyup"?at[f.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xt,charCode:function(f){return f.type==="keypress"?Io(f):0},keyCode:function(f){return f.type==="keydown"||f.type==="keyup"?f.keyCode:0},which:function(f){return f.type==="keypress"?Io(f):f.type==="keydown"||f.type==="keyup"?f.keyCode:0}}),Z=_A(x),ce=te({},Ka,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xe=_A(ce),rt=te({},Ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xt}),dt=_A(rt),_t=te({},xo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kr=_A(_t),tn=te({},Ka,{deltaX:function(f){return"deltaX"in f?f.deltaX:"wheelDeltaX"in f?-f.wheelDeltaX:0},deltaY:function(f){return"deltaY"in f?f.deltaY:"wheelDeltaY"in f?-f.wheelDeltaY:"wheelDelta"in f?-f.wheelDelta:0},deltaZ:0,deltaMode:0}),Mr=_A(tn),ln=[9,13,27,32],rn=o&&"CompositionEvent"in window,Os=null;o&&"documentMode"in document&&(Os=document.documentMode);var SA=o&&"TextEvent"in window&&!Os,Mn=o&&(!rn||Os&&8<Os&&11>=Os),ua=" ",GA=!1;function tc(f,p){switch(f){case"keyup":return ln.indexOf(p.keyCode)!==-1;case"keydown":return p.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function io(f){return f=f.detail,typeof f=="object"&&"data"in f?f.data:null}var aA=!1;function Rn(f,p){switch(f){case"compositionend":return io(p);case"keypress":return p.which!==32?null:(GA=!0,ua);case"textInput":return f=p.data,f===ua&&GA?null:f;default:return null}}function Gc(f,p){if(aA)return f==="compositionend"||!rn&&tc(f,p)?(f=Kc(),KA=Rs=ri=null,aA=!1,f):null;switch(f){case"paste":return null;case"keypress":if(!(p.ctrlKey||p.altKey||p.metaKey)||p.ctrlKey&&p.altKey){if(p.char&&1<p.char.length)return p.char;if(p.which)return String.fromCharCode(p.which)}return null;case"compositionend":return Mn&&p.locale!=="ko"?null:p.data;default:return null}}var zc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qc(f){var p=f&&f.nodeName&&f.nodeName.toLowerCase();return p==="input"?!!zc[f.type]:p==="textarea"}function gs(f,p,E,M){Pt(M),p=Vp(p,"onChange"),0<p.length&&(E=new Ui("onChange","change",null,E,M),f.push({event:E,listeners:p}))}var xl=null,Ul=null;function ud(f){fd(f,0)}function lA(f){var p=th(f);if(et(p))return f}function To(f,p){if(f==="change")return p}var ca=!1;if(o){var PA;if(o){var qi="oninput"in document;if(!qi){var iu=document.createElement("div");iu.setAttribute("oninput","return;"),qi=typeof iu.oninput=="function"}PA=qi}else PA=!1;ca=PA&&(!document.documentMode||9<document.documentMode)}function ms(){xl&&(xl.detachEvent("onpropertychange",Ti),Ul=xl=null)}function Ti(f){if(f.propertyName==="value"&&lA(Ul)){var p=[];gs(p,Ul,f,Jn(f)),BA(ud,p)}}function su(f,p,E){f==="focusin"?(ms(),xl=p,Ul=E,xl.attachEvent("onpropertychange",Ti)):f==="focusout"&&ms()}function ou(f){if(f==="selectionchange"||f==="keyup"||f==="keydown")return lA(Ul)}function Qo(f,p){if(f==="click")return lA(p)}function so(f,p){if(f==="input"||f==="change")return lA(p)}function au(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var Pn=typeof Object.is=="function"?Object.is:au;function ha(f,p){if(Pn(f,p))return!0;if(typeof f!="object"||f===null||typeof p!="object"||p===null)return!1;var E=Object.keys(f),M=Object.keys(p);if(E.length!==M.length)return!1;for(M=0;M<E.length;M++){var q=E[M];if(!a.call(p,q)||!Pn(f[q],p[q]))return!1}return!0}function Wi(f){for(;f&&f.firstChild;)f=f.firstChild;return f}function Lo(f,p){var E=Wi(f);f=0;for(var M;E;){if(E.nodeType===3){if(M=f+E.textContent.length,f<=p&&M>=p)return{node:E,offset:p-f};f=M}e:{for(;E;){if(E.nextSibling){E=E.nextSibling;break e}E=E.parentNode}E=void 0}E=Wi(E)}}function Wc(f,p){return f&&p?f===p?!0:f&&f.nodeType===3?!1:p&&p.nodeType===3?Wc(f,p.parentNode):"contains"in f?f.contains(p):f.compareDocumentPosition?!!(f.compareDocumentPosition(p)&16):!1:!1}function ks(){for(var f=window,p=nt();p instanceof f.HTMLIFrameElement;){try{var E=typeof p.contentWindow.location.href=="string"}catch{E=!1}if(E)f=p.contentWindow;else break;p=nt(f.document)}return p}function rc(f){var p=f&&f.nodeName&&f.nodeName.toLowerCase();return p&&(p==="input"&&(f.type==="text"||f.type==="search"||f.type==="tel"||f.type==="url"||f.type==="password")||p==="textarea"||f.contentEditable==="true")}function $c(f){var p=ks(),E=f.focusedElem,M=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&Wc(E.ownerDocument.documentElement,E)){if(M!==null&&rc(E)){if(p=M.start,f=M.end,f===void 0&&(f=p),"selectionStart"in E)E.selectionStart=p,E.selectionEnd=Math.min(f,E.value.length);else if(f=(p=E.ownerDocument||document)&&p.defaultView||window,f.getSelection){f=f.getSelection();var q=E.textContent.length,se=Math.min(M.start,q);M=M.end===void 0?se:Math.min(M.end,q),!f.extend&&se>M&&(q=M,M=se,se=q),q=Lo(E,se);var _e=Lo(E,M);q&&_e&&(f.rangeCount!==1||f.anchorNode!==q.node||f.anchorOffset!==q.offset||f.focusNode!==_e.node||f.focusOffset!==_e.offset)&&(p=p.createRange(),p.setStart(q.node,q.offset),f.removeAllRanges(),se>M?(f.addRange(p),f.extend(_e.node,_e.offset)):(p.setEnd(_e.node,_e.offset),f.addRange(p)))}}for(p=[],f=E;f=f.parentNode;)f.nodeType===1&&p.push({element:f,left:f.scrollLeft,top:f.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<p.length;E++)f=p[E],f.element.scrollLeft=f.left,f.element.scrollTop=f.top}}var Xc=o&&"documentMode"in document&&11>=document.documentMode,vs=null,lu=null,za=null,Tl=!1;function Ql(f,p,E){var M=E.window===E?E.document:E.nodeType===9?E:E.ownerDocument;Tl||vs==null||vs!==nt(M)||(M=vs,"selectionStart"in M&&rc(M)?M={start:M.selectionStart,end:M.selectionEnd}:(M=(M.ownerDocument&&M.ownerDocument.defaultView||window).getSelection(),M={anchorNode:M.anchorNode,anchorOffset:M.anchorOffset,focusNode:M.focusNode,focusOffset:M.focusOffset}),za&&ha(za,M)||(za=M,M=Vp(lu,"onSelect"),0<M.length&&(p=new Ui("onSelect","select",null,p,E),f.push({event:p,listeners:M}),p.target=vs)))}function uu(f,p){var E={};return E[f.toLowerCase()]=p.toLowerCase(),E["Webkit"+f]="webkit"+p,E["Moz"+f]="moz"+p,E}var Qi={animationend:uu("Animation","AnimationEnd"),animationiteration:uu("Animation","AnimationIteration"),animationstart:uu("Animation","AnimationStart"),transitionend:uu("Transition","TransitionEnd")},Ds={},eA={};o&&(eA=document.createElement("div").style,"AnimationEvent"in window||(delete Qi.animationend.animation,delete Qi.animationiteration.animation,delete Qi.animationstart.animation),"TransitionEvent"in window||delete Qi.transitionend.transition);function Hn(f){if(Ds[f])return Ds[f];if(!Qi[f])return f;var p=Qi[f],E;for(E in p)if(p.hasOwnProperty(E)&&E in eA)return Ds[f]=p[E];return f}var zA=Hn("animationend"),OA=Hn("animationiteration"),Ll=Hn("animationstart"),Zh=Hn("transitionend"),cu=new Map,cd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qa(f,p){cu.set(f,p),i(p,[f])}for(var ef=0;ef<cd.length;ef++){var Ms=cd[ef],fa=Ms.toLowerCase(),Hp=Ms[0].toUpperCase()+Ms.slice(1);qa(fa,"on"+Hp)}qa(zA,"onAnimationEnd"),qa(OA,"onAnimationIteration"),qa(Ll,"onAnimationStart"),qa("dblclick","onDoubleClick"),qa("focusin","onFocus"),qa("focusout","onBlur"),qa(Zh,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yc=new Set("cancel close invalid load scroll toggle".split(" ").concat(nc));function hd(f,p,E){var M=f.type||"unknown-event";f.currentTarget=E,ZA(M,p,void 0,f),f.currentTarget=null}function fd(f,p){p=(p&4)!==0;for(var E=0;E<f.length;E++){var M=f[E],q=M.event;M=M.listeners;e:{var se=void 0;if(p)for(var _e=M.length-1;0<=_e;_e--){var je=M[_e],Xe=je.instance,vt=je.currentTarget;if(je=je.listener,Xe!==se&&q.isPropagationStopped())break e;hd(q,je,vt),se=Xe}else for(_e=0;_e<M.length;_e++){if(je=M[_e],Xe=je.instance,vt=je.currentTarget,je=je.listener,Xe!==se&&q.isPropagationStopped())break e;hd(q,je,vt),se=Xe}}}if(kn)throw f=bA,kn=!1,bA=null,f}function jn(f,p){var E=p[oo];E===void 0&&(E=p[oo]=new Set);var M=f+"__bubble";E.has(M)||(dd(p,f,2,!1),E.add(M))}function jp(f,p,E){var M=0;p&&(M|=4),dd(E,f,M,p)}var tf="_reactListening"+Math.random().toString(36).slice(2);function Jc(f){if(!f[tf]){f[tf]=!0,n.forEach(function(E){E!=="selectionchange"&&(Yc.has(E)||jp(E,!1,f),jp(E,!0,f))});var p=f.nodeType===9?f:f.ownerDocument;p===null||p[tf]||(p[tf]=!0,jp("selectionchange",!1,p))}}function dd(f,p,E,M){switch(Yu(p)){case 1:var q=Nn;break;case 4:q=Xu;break;default:q=_l}E=q.bind(null,p,E,f),q=void 0,!JA||p!=="touchstart"&&p!=="touchmove"&&p!=="wheel"||(q=!0),M?q!==void 0?f.addEventListener(p,E,{capture:!0,passive:q}):f.addEventListener(p,E,!0):q!==void 0?f.addEventListener(p,E,{passive:q}):f.addEventListener(p,E,!1)}function Ac(f,p,E,M,q){var se=M;if((p&1)===0&&(p&2)===0&&M!==null)e:for(;;){if(M===null)return;var _e=M.tag;if(_e===3||_e===4){var je=M.stateNode.containerInfo;if(je===q||je.nodeType===8&&je.parentNode===q)break;if(_e===4)for(_e=M.return;_e!==null;){var Xe=_e.tag;if((Xe===3||Xe===4)&&(Xe=_e.stateNode.containerInfo,Xe===q||Xe.nodeType===8&&Xe.parentNode===q))return;_e=_e.return}for(;je!==null;){if(_e=Wa(je),_e===null)return;if(Xe=_e.tag,Xe===5||Xe===6){M=se=_e;continue e}je=je.parentNode}}M=M.return}BA(function(){var vt=se,Mt=Jn(E),Kt=[];e:{var kt=cu.get(f);if(kt!==void 0){var ur=Ui,Cr=f;switch(f){case"keypress":if(Io(E)===0)break e;case"keydown":case"keyup":ur=Z;break;case"focusin":Cr="focus",ur=la;break;case"focusout":Cr="blur",ur=la;break;case"beforeblur":case"afterblur":ur=la;break;case"click":if(E.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ur=Il;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ur=Jh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ur=dt;break;case zA:case OA:case Ll:ur=ps;break;case Zh:ur=Kr;break;case"scroll":ur=Au;break;case"wheel":ur=Mr;break;case"copy":case"cut":case"paste":ur=K;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ur=xe}var br=(p&4)!==0,es=!br&&f==="scroll",gt=br?kt!==null?kt+"Capture":null:kt;br=[];for(var st=vt,mt;st!==null;){mt=st;var Wt=mt.stateNode;if(mt.tag===5&&Wt!==null&&(mt=Wt,gt!==null&&(Wt=$t(st,gt),Wt!=null&&br.push(pd(st,Wt,mt)))),es)break;st=st.return}0<br.length&&(kt=new ur(kt,Cr,null,E,Mt),Kt.push({event:kt,listeners:br}))}}if((p&7)===0){e:{if(kt=f==="mouseover"||f==="pointerover",ur=f==="mouseout"||f==="pointerout",kt&&E!==zt&&(Cr=E.relatedTarget||E.fromElement)&&(Wa(Cr)||Cr[Xi]))break e;if((ur||kt)&&(kt=Mt.window===Mt?Mt:(kt=Mt.ownerDocument)?kt.defaultView||kt.parentWindow:window,ur?(Cr=E.relatedTarget||E.toElement,ur=vt,Cr=Cr?Wa(Cr):null,Cr!==null&&(es=oA(Cr),Cr!==es||Cr.tag!==5&&Cr.tag!==6)&&(Cr=null)):(ur=null,Cr=vt),ur!==Cr)){if(br=Il,Wt="onMouseLeave",gt="onMouseEnter",st="mouse",(f==="pointerout"||f==="pointerover")&&(br=xe,Wt="onPointerLeave",gt="onPointerEnter",st="pointer"),es=ur==null?kt:th(ur),mt=Cr==null?kt:th(Cr),kt=new br(Wt,st+"leave",ur,E,Mt),kt.target=es,kt.relatedTarget=mt,Wt=null,Wa(Mt)===vt&&(br=new br(gt,st+"enter",Cr,E,Mt),br.target=mt,br.relatedTarget=es,Wt=br),es=Wt,ur&&Cr)t:{for(br=ur,gt=Cr,st=0,mt=br;mt;mt=Zc(mt))st++;for(mt=0,Wt=gt;Wt;Wt=Zc(Wt))mt++;for(;0<st-mt;)br=Zc(br),st--;for(;0<mt-st;)gt=Zc(gt),mt--;for(;st--;){if(br===gt||gt!==null&&br===gt.alternate)break t;br=Zc(br),gt=Zc(gt)}br=null}else br=null;ur!==null&&vw(Kt,kt,ur,br,!1),Cr!==null&&es!==null&&vw(Kt,es,Cr,br,!0)}}e:{if(kt=vt?th(vt):window,ur=kt.nodeName&&kt.nodeName.toLowerCase(),ur==="select"||ur==="input"&&kt.type==="file")var Sr=To;else if(qc(kt))if(ca)Sr=so;else{Sr=ou;var Rr=su}else(ur=kt.nodeName)&&ur.toLowerCase()==="input"&&(kt.type==="checkbox"||kt.type==="radio")&&(Sr=Qo);if(Sr&&(Sr=Sr(f,vt))){gs(Kt,Sr,E,Mt);break e}Rr&&Rr(f,kt,vt),f==="focusout"&&(Rr=kt._wrapperState)&&Rr.controlled&&kt.type==="number"&&Me(kt,"number",kt.value)}switch(Rr=vt?th(vt):window,f){case"focusin":(qc(Rr)||Rr.contentEditable==="true")&&(vs=Rr,lu=vt,za=null);break;case"focusout":za=lu=vs=null;break;case"mousedown":Tl=!0;break;case"contextmenu":case"mouseup":case"dragend":Tl=!1,Ql(Kt,E,Mt);break;case"selectionchange":if(Xc)break;case"keydown":case"keyup":Ql(Kt,E,Mt)}var Pr;if(rn)e:{switch(f){case"compositionstart":var zr="onCompositionStart";break e;case"compositionend":zr="onCompositionEnd";break e;case"compositionupdate":zr="onCompositionUpdate";break e}zr=void 0}else aA?tc(f,E)&&(zr="onCompositionEnd"):f==="keydown"&&E.keyCode===229&&(zr="onCompositionStart");zr&&(Mn&&E.locale!=="ko"&&(aA||zr!=="onCompositionStart"?zr==="onCompositionEnd"&&aA&&(Pr=Kc()):(ri=Mt,Rs="value"in ri?ri.value:ri.textContent,aA=!0)),Rr=Vp(vt,zr),0<Rr.length&&(zr=new De(zr,f,null,E,Mt),Kt.push({event:zr,listeners:Rr}),Pr?zr.data=Pr:(Pr=io(E),Pr!==null&&(zr.data=Pr)))),(Pr=SA?Rn(f,E):Gc(f,E))&&(vt=Vp(vt,"onBeforeInput"),0<vt.length&&(Mt=new De("onBeforeInput","beforeinput",null,E,Mt),Kt.push({event:Mt,listeners:vt}),Mt.data=Pr))}fd(Kt,p)})}function pd(f,p,E){return{instance:f,listener:p,currentTarget:E}}function Vp(f,p){for(var E=p+"Capture",M=[];f!==null;){var q=f,se=q.stateNode;q.tag===5&&se!==null&&(q=se,se=$t(f,E),se!=null&&M.unshift(pd(f,se,q)),se=$t(f,p),se!=null&&M.push(pd(f,se,q))),f=f.return}return M}function Zc(f){if(f===null)return null;do f=f.return;while(f&&f.tag!==5);return f||null}function vw(f,p,E,M,q){for(var se=p._reactName,_e=[];E!==null&&E!==M;){var je=E,Xe=je.alternate,vt=je.stateNode;if(Xe!==null&&Xe===M)break;je.tag===5&&vt!==null&&(je=vt,q?(Xe=$t(E,se),Xe!=null&&_e.unshift(pd(E,Xe,je))):q||(Xe=$t(E,se),Xe!=null&&_e.push(pd(E,Xe,je)))),E=E.return}_e.length!==0&&f.push({event:p,listeners:_e})}var Kp=/\r\n?/g,w1=/\u0000|\uFFFD/g;function yw(f){return(typeof f=="string"?f:""+f).replace(Kp,`
`).replace(w1,"")}function Gp(f,p,E){if(p=yw(p),yw(f)!==p&&E)throw Error(t(425))}function rf(){}var ic=null,eh=null;function qm(f,p){return f==="textarea"||f==="noscript"||typeof p.children=="string"||typeof p.children=="number"||typeof p.dangerouslySetInnerHTML=="object"&&p.dangerouslySetInnerHTML!==null&&p.dangerouslySetInnerHTML.__html!=null}var Wm=typeof setTimeout=="function"?setTimeout:void 0,ww=typeof clearTimeout=="function"?clearTimeout:void 0,Bw=typeof Promise=="function"?Promise:void 0,B1=typeof queueMicrotask=="function"?queueMicrotask:typeof Bw<"u"?function(f){return Bw.resolve(null).then(f).catch(C1)}:Wm;function C1(f){setTimeout(function(){throw f})}function $m(f,p){var E=p,M=0;do{var q=E.nextSibling;if(f.removeChild(E),q&&q.nodeType===8)if(E=q.data,E==="/$"){if(M===0){f.removeChild(q),zi(p);return}M--}else E!=="$"&&E!=="$?"&&E!=="$!"||M++;E=q}while(E);zi(p)}function Hs(f){for(;f!=null;f=f.nextSibling){var p=f.nodeType;if(p===1||p===3)break;if(p===8){if(p=f.data,p==="$"||p==="$!"||p==="$?")break;if(p==="/$")return null}}return f}function da(f){f=f.previousSibling;for(var p=0;f;){if(f.nodeType===8){var E=f.data;if(E==="$"||E==="$!"||E==="$?"){if(p===0)return f;p--}else E==="/$"&&p++}f=f.previousSibling}return null}var $i=Math.random().toString(36).slice(2),Nl="__reactFiber$"+$i,nf="__reactProps$"+$i,Xi="__reactContainer$"+$i,oo="__reactEvents$"+$i,b1="__reactListeners$"+$i,Xm="__reactHandles$"+$i;function Wa(f){var p=f[Nl];if(p)return p;for(var E=f.parentNode;E;){if(p=E[Xi]||E[Nl]){if(E=p.alternate,p.child!==null||E!==null&&E.child!==null)for(f=da(f);f!==null;){if(E=f[Nl])return E;f=da(f)}return p}f=E,E=f.parentNode}return null}function Af(f){return f=f[Nl]||f[Xi],!f||f.tag!==5&&f.tag!==6&&f.tag!==13&&f.tag!==3?null:f}function th(f){if(f.tag===5||f.tag===6)return f.stateNode;throw Error(t(33))}function gd(f){return f[nf]||null}var Ym=[],hu=-1;function $a(f){return{current:f}}function Sn(f){0>hu||(f.current=Ym[hu],Ym[hu]=null,hu--)}function tA(f,p){hu++,Ym[hu]=f.current,f.current=p}var sc={},Yi=$a(sc),ao=$a(!1),rh=sc;function sf(f,p){var E=f.type.contextTypes;if(!E)return sc;var M=f.stateNode;if(M&&M.__reactInternalMemoizedUnmaskedChildContext===p)return M.__reactInternalMemoizedMaskedChildContext;var q={},se;for(se in E)q[se]=p[se];return M&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=p,f.__reactInternalMemoizedMaskedChildContext=q),q}function lo(f){return f=f.childContextTypes,f!=null}function zp(){Sn(ao),Sn(Yi)}function Cw(f,p,E){if(Yi.current!==sc)throw Error(t(168));tA(Yi,p),tA(ao,E)}function Jm(f,p,E){var M=f.stateNode;if(p=p.childContextTypes,typeof M.getChildContext!="function")return E;M=M.getChildContext();for(var q in M)if(!(q in p))throw Error(t(108,pe(f)||"Unknown",q));return te({},E,M)}function nh(f){return f=(f=f.stateNode)&&f.__reactInternalMemoizedMergedChildContext||sc,rh=Yi.current,tA(Yi,f),tA(ao,ao.current),!0}function bw(f,p,E){var M=f.stateNode;if(!M)throw Error(t(169));E?(f=Jm(f,p,rh),M.__reactInternalMemoizedMergedChildContext=f,Sn(ao),Sn(Yi),tA(Yi,f)):Sn(ao),tA(ao,E)}var Rl=null,md=!1,S=!1;function j(f){Rl===null?Rl=[f]:Rl.push(f)}function W(f){md=!0,j(f)}function ue(){if(!S&&Rl!==null){S=!0;var f=0,p=on;try{var E=Rl;for(on=1;f<E.length;f++){var M=E[f];do M=M(!0);while(M!==null)}Rl=null,md=!1}catch(q){throw Rl!==null&&(Rl=Rl.slice(f+1)),Ot(Zn,ue),q}finally{on=p,S=!1}}return null}var ve=[],Ee=0,Fe=null,Ue=0,Te=[],Pe=0,We=null,ct=1,ht="";function ot(f,p){ve[Ee++]=Ue,ve[Ee++]=Fe,Fe=f,Ue=p}function bt(f,p,E){Te[Pe++]=ct,Te[Pe++]=ht,Te[Pe++]=We,We=f;var M=ct;f=ht;var q=32-ei(M)-1;M&=~(1<<q),E+=1;var se=32-ei(p)+q;if(30<se){var _e=q-q%5;se=(M&(1<<_e)-1).toString(32),M>>=_e,q-=_e,ct=1<<32-ei(p)+q|E<<q|M,ht=se+f}else ct=1<<se|E<<q|M,ht=f}function wt(f){f.return!==null&&(ot(f,1),bt(f,1,0))}function Ye(f){for(;f===Fe;)Fe=ve[--Ee],ve[Ee]=null,Ue=ve[--Ee],ve[Ee]=null;for(;f===We;)We=Te[--Pe],Te[Pe]=null,ht=Te[--Pe],Te[Pe]=null,ct=Te[--Pe],Te[Pe]=null}var Je=null,Ft=null,St=!1,xt=null;function Ar(f,p){var E=tt(5,null,null,0);E.elementType="DELETED",E.stateNode=p,E.return=f,p=f.deletions,p===null?(f.deletions=[E],f.flags|=16):p.push(E)}function Yt(f,p){switch(f.tag){case 5:var E=f.type;return p=p.nodeType!==1||E.toLowerCase()!==p.nodeName.toLowerCase()?null:p,p!==null?(f.stateNode=p,Je=f,Ft=Hs(p.firstChild),!0):!1;case 6:return p=f.pendingProps===""||p.nodeType!==3?null:p,p!==null?(f.stateNode=p,Je=f,Ft=null,!0):!1;case 13:return p=p.nodeType!==8?null:p,p!==null?(E=We!==null?{id:ct,overflow:ht}:null,f.memoizedState={dehydrated:p,treeContext:E,retryLane:1073741824},E=tt(18,null,null,0),E.stateNode=p,E.return=f,f.child=E,Je=f,Ft=null,!0):!1;default:return!1}}function Fr(f){return(f.mode&1)!==0&&(f.flags&128)===0}function Zt(f){if(St){var p=Ft;if(p){var E=p;if(!Yt(f,p)){if(Fr(f))throw Error(t(418));p=Hs(E.nextSibling);var M=Je;p&&Yt(f,p)?Ar(M,E):(f.flags=f.flags&-4097|2,St=!1,Je=f)}}else{if(Fr(f))throw Error(t(418));f.flags=f.flags&-4097|2,St=!1,Je=f}}}function Fn(f){for(f=f.return;f!==null&&f.tag!==5&&f.tag!==3&&f.tag!==13;)f=f.return;Je=f}function In(f){if(f!==Je)return!1;if(!St)return Fn(f),St=!0,!1;var p;if((p=f.tag!==3)&&!(p=f.tag!==5)&&(p=f.type,p=p!=="head"&&p!=="body"&&!qm(f.type,f.memoizedProps)),p&&(p=Ft)){if(Fr(f))throw un(),Error(t(418));for(;p;)Ar(f,p),p=Hs(p.nextSibling)}if(Fn(f),f.tag===13){if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(t(317));e:{for(f=f.nextSibling,p=0;f;){if(f.nodeType===8){var E=f.data;if(E==="/$"){if(p===0){Ft=Hs(f.nextSibling);break e}p--}else E!=="$"&&E!=="$!"&&E!=="$?"||p++}f=f.nextSibling}Ft=null}}else Ft=Je?Hs(f.stateNode.nextSibling):null;return!0}function un(){for(var f=Ft;f;)f=Hs(f.nextSibling)}function Lt(){Ft=Je=null,St=!1}function $n(f){xt===null?xt=[f]:xt.push(f)}var rA=B.ReactCurrentBatchConfig;function Nr(f,p,E){if(f=E.ref,f!==null&&typeof f!="function"&&typeof f!="object"){if(E._owner){if(E=E._owner,E){if(E.tag!==1)throw Error(t(309));var M=E.stateNode}if(!M)throw Error(t(147,f));var q=M,se=""+f;return p!==null&&p.ref!==null&&typeof p.ref=="function"&&p.ref._stringRef===se?p.ref:(p=function(_e){var je=q.refs;_e===null?delete je[se]:je[se]=_e},p._stringRef=se,p)}if(typeof f!="string")throw Error(t(284));if(!E._owner)throw Error(t(290,f))}return f}function xn(f,p){throw f=Object.prototype.toString.call(p),Error(t(31,f==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":f))}function js(f){var p=f._init;return p(f._payload)}function qA(f){function p(gt,st){if(f){var mt=gt.deletions;mt===null?(gt.deletions=[st],gt.flags|=16):mt.push(st)}}function E(gt,st){if(!f)return null;for(;st!==null;)p(gt,st),st=st.sibling;return null}function M(gt,st){for(gt=new Map;st!==null;)st.key!==null?gt.set(st.key,st):gt.set(st.index,st),st=st.sibling;return gt}function q(gt,st){return gt=er(gt,st),gt.index=0,gt.sibling=null,gt}function se(gt,st,mt){return gt.index=mt,f?(mt=gt.alternate,mt!==null?(mt=mt.index,mt<st?(gt.flags|=2,st):mt):(gt.flags|=2,st)):(gt.flags|=1048576,st)}function _e(gt){return f&&gt.alternate===null&&(gt.flags|=2),gt}function je(gt,st,mt,Wt){return st===null||st.tag!==6?(st=yr(mt,gt.mode,Wt),st.return=gt,st):(st=q(st,mt),st.return=gt,st)}function Xe(gt,st,mt,Wt){var Sr=mt.type;return Sr===T?Mt(gt,st,mt.props.children,Wt,mt.key):st!==null&&(st.elementType===Sr||typeof Sr=="object"&&Sr!==null&&Sr.$$typeof===Y&&js(Sr)===st.type)?(Wt=q(st,mt.props),Wt.ref=Nr(gt,st,mt),Wt.return=gt,Wt):(Wt=Gt(mt.type,mt.key,mt.props,null,gt.mode,Wt),Wt.ref=Nr(gt,st,mt),Wt.return=gt,Wt)}function vt(gt,st,mt,Wt){return st===null||st.tag!==4||st.stateNode.containerInfo!==mt.containerInfo||st.stateNode.implementation!==mt.implementation?(st=dr(mt,gt.mode,Wt),st.return=gt,st):(st=q(st,mt.children||[]),st.return=gt,st)}function Mt(gt,st,mt,Wt,Sr){return st===null||st.tag!==7?(st=Jt(mt,gt.mode,Wt,Sr),st.return=gt,st):(st=q(st,mt),st.return=gt,st)}function Kt(gt,st,mt){if(typeof st=="string"&&st!==""||typeof st=="number")return st=yr(""+st,gt.mode,mt),st.return=gt,st;if(typeof st=="object"&&st!==null){switch(st.$$typeof){case F:return mt=Gt(st.type,st.key,st.props,null,gt.mode,mt),mt.ref=Nr(gt,null,st),mt.return=gt,mt;case N:return st=dr(st,gt.mode,mt),st.return=gt,st;case Y:var Wt=st._init;return Kt(gt,Wt(st._payload),mt)}if(it(st)||ne(st))return st=Jt(st,gt.mode,mt,null),st.return=gt,st;xn(gt,st)}return null}function kt(gt,st,mt,Wt){var Sr=st!==null?st.key:null;if(typeof mt=="string"&&mt!==""||typeof mt=="number")return Sr!==null?null:je(gt,st,""+mt,Wt);if(typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case F:return mt.key===Sr?Xe(gt,st,mt,Wt):null;case N:return mt.key===Sr?vt(gt,st,mt,Wt):null;case Y:return Sr=mt._init,kt(gt,st,Sr(mt._payload),Wt)}if(it(mt)||ne(mt))return Sr!==null?null:Mt(gt,st,mt,Wt,null);xn(gt,mt)}return null}function ur(gt,st,mt,Wt,Sr){if(typeof Wt=="string"&&Wt!==""||typeof Wt=="number")return gt=gt.get(mt)||null,je(st,gt,""+Wt,Sr);if(typeof Wt=="object"&&Wt!==null){switch(Wt.$$typeof){case F:return gt=gt.get(Wt.key===null?mt:Wt.key)||null,Xe(st,gt,Wt,Sr);case N:return gt=gt.get(Wt.key===null?mt:Wt.key)||null,vt(st,gt,Wt,Sr);case Y:var Rr=Wt._init;return ur(gt,st,mt,Rr(Wt._payload),Sr)}if(it(Wt)||ne(Wt))return gt=gt.get(mt)||null,Mt(st,gt,Wt,Sr,null);xn(st,Wt)}return null}function Cr(gt,st,mt,Wt){for(var Sr=null,Rr=null,Pr=st,zr=st=0,go=null;Pr!==null&&zr<mt.length;zr++){Pr.index>zr?(go=Pr,Pr=null):go=Pr.sibling;var nA=kt(gt,Pr,mt[zr],Wt);if(nA===null){Pr===null&&(Pr=go);break}f&&Pr&&nA.alternate===null&&p(gt,Pr),st=se(nA,st,zr),Rr===null?Sr=nA:Rr.sibling=nA,Rr=nA,Pr=go}if(zr===mt.length)return E(gt,Pr),St&&ot(gt,zr),Sr;if(Pr===null){for(;zr<mt.length;zr++)Pr=Kt(gt,mt[zr],Wt),Pr!==null&&(st=se(Pr,st,zr),Rr===null?Sr=Pr:Rr.sibling=Pr,Rr=Pr);return St&&ot(gt,zr),Sr}for(Pr=M(gt,Pr);zr<mt.length;zr++)go=ur(Pr,gt,zr,mt[zr],Wt),go!==null&&(f&&go.alternate!==null&&Pr.delete(go.key===null?zr:go.key),st=se(go,st,zr),Rr===null?Sr=go:Rr.sibling=go,Rr=go);return f&&Pr.forEach(function(lg){return p(gt,lg)}),St&&ot(gt,zr),Sr}function br(gt,st,mt,Wt){var Sr=ne(mt);if(typeof Sr!="function")throw Error(t(150));if(mt=Sr.call(mt),mt==null)throw Error(t(151));for(var Rr=Sr=null,Pr=st,zr=st=0,go=null,nA=mt.next();Pr!==null&&!nA.done;zr++,nA=mt.next()){Pr.index>zr?(go=Pr,Pr=null):go=Pr.sibling;var lg=kt(gt,Pr,nA.value,Wt);if(lg===null){Pr===null&&(Pr=go);break}f&&Pr&&lg.alternate===null&&p(gt,Pr),st=se(lg,st,zr),Rr===null?Sr=lg:Rr.sibling=lg,Rr=lg,Pr=go}if(nA.done)return E(gt,Pr),St&&ot(gt,zr),Sr;if(Pr===null){for(;!nA.done;zr++,nA=mt.next())nA=Kt(gt,nA.value,Wt),nA!==null&&(st=se(nA,st,zr),Rr===null?Sr=nA:Rr.sibling=nA,Rr=nA);return St&&ot(gt,zr),Sr}for(Pr=M(gt,Pr);!nA.done;zr++,nA=mt.next())nA=ur(Pr,gt,zr,nA.value,Wt),nA!==null&&(f&&nA.alternate!==null&&Pr.delete(nA.key===null?zr:nA.key),st=se(nA,st,zr),Rr===null?Sr=nA:Rr.sibling=nA,Rr=nA);return f&&Pr.forEach(function(DW){return p(gt,DW)}),St&&ot(gt,zr),Sr}function es(gt,st,mt,Wt){if(typeof mt=="object"&&mt!==null&&mt.type===T&&mt.key===null&&(mt=mt.props.children),typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case F:e:{for(var Sr=mt.key,Rr=st;Rr!==null;){if(Rr.key===Sr){if(Sr=mt.type,Sr===T){if(Rr.tag===7){E(gt,Rr.sibling),st=q(Rr,mt.props.children),st.return=gt,gt=st;break e}}else if(Rr.elementType===Sr||typeof Sr=="object"&&Sr!==null&&Sr.$$typeof===Y&&js(Sr)===Rr.type){E(gt,Rr.sibling),st=q(Rr,mt.props),st.ref=Nr(gt,Rr,mt),st.return=gt,gt=st;break e}E(gt,Rr);break}else p(gt,Rr);Rr=Rr.sibling}mt.type===T?(st=Jt(mt.props.children,gt.mode,Wt,mt.key),st.return=gt,gt=st):(Wt=Gt(mt.type,mt.key,mt.props,null,gt.mode,Wt),Wt.ref=Nr(gt,st,mt),Wt.return=gt,gt=Wt)}return _e(gt);case N:e:{for(Rr=mt.key;st!==null;){if(st.key===Rr)if(st.tag===4&&st.stateNode.containerInfo===mt.containerInfo&&st.stateNode.implementation===mt.implementation){E(gt,st.sibling),st=q(st,mt.children||[]),st.return=gt,gt=st;break e}else{E(gt,st);break}else p(gt,st);st=st.sibling}st=dr(mt,gt.mode,Wt),st.return=gt,gt=st}return _e(gt);case Y:return Rr=mt._init,es(gt,st,Rr(mt._payload),Wt)}if(it(mt))return Cr(gt,st,mt,Wt);if(ne(mt))return br(gt,st,mt,Wt);xn(gt,mt)}return typeof mt=="string"&&mt!==""||typeof mt=="number"?(mt=""+mt,st!==null&&st.tag===6?(E(gt,st.sibling),st=q(st,mt),st.return=gt,gt=st):(E(gt,st),st=yr(mt,gt.mode,Wt),st.return=gt,gt=st),_e(gt)):E(gt,st)}return es}var kA=qA(!0),wn=qA(!1),ys=$a(null),ws=null,DA=null,mA=null;function wi(){mA=DA=ws=null}function Bs(f){var p=ys.current;Sn(ys),f._currentValue=p}function pa(f,p,E){for(;f!==null;){var M=f.alternate;if((f.childLanes&p)!==p?(f.childLanes|=p,M!==null&&(M.childLanes|=p)):M!==null&&(M.childLanes&p)!==p&&(M.childLanes|=p),f===E)break;f=f.return}}function FA(f,p){ws=f,mA=DA=null,f=f.dependencies,f!==null&&f.firstContext!==null&&((f.lanes&p)!==0&&(Oo=!0),f.firstContext=null)}function ui(f){var p=f._currentValue;if(mA!==f)if(f={context:f,memoizedValue:p,next:null},DA===null){if(ws===null)throw Error(t(308));DA=f,ws.dependencies={lanes:0,firstContext:f}}else DA=DA.next=f;return p}var Vs=null;function oc(f){Vs===null?Vs=[f]:Vs.push(f)}function fu(f,p,E,M){var q=p.interleaved;return q===null?(E.next=E,oc(p)):(E.next=q.next,q.next=E),p.interleaved=E,Vn(f,M)}function Vn(f,p){f.lanes|=p;var E=f.alternate;for(E!==null&&(E.lanes|=p),E=f,f=f.return;f!==null;)f.childLanes|=p,E=f.alternate,E!==null&&(E.childLanes|=p),E=f,f=f.return;return E.tag===3?E.stateNode:null}var Pl=!1;function qp(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zm(f,p){f=f.updateQueue,p.updateQueue===f&&(p.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,effects:f.effects})}function ga(f,p){return{eventTime:f,lane:p,tag:0,payload:null,callback:null,next:null}}function ma(f,p,E){var M=f.updateQueue;if(M===null)return null;if(M=M.shared,(dn&2)!==0){var q=M.pending;return q===null?p.next=p:(p.next=q.next,q.next=p),M.pending=p,Vn(f,E)}return q=M.interleaved,q===null?(p.next=p,oc(M)):(p.next=q.next,q.next=p),M.interleaved=p,Vn(f,E)}function ac(f,p,E){if(p=p.updateQueue,p!==null&&(p=p.shared,(E&4194240)!==0)){var M=p.lanes;M&=f.pendingLanes,E|=M,p.lanes=E,ja(f,E)}}function va(f,p){var E=f.updateQueue,M=f.alternate;if(M!==null&&(M=M.updateQueue,E===M)){var q=null,se=null;if(E=E.firstBaseUpdate,E!==null){do{var _e={eventTime:E.eventTime,lane:E.lane,tag:E.tag,payload:E.payload,callback:E.callback,next:null};se===null?q=se=_e:se=se.next=_e,E=E.next}while(E!==null);se===null?q=se=p:se=se.next=p}else q=se=p;E={baseState:M.baseState,firstBaseUpdate:q,lastBaseUpdate:se,shared:M.shared,effects:M.effects},f.updateQueue=E;return}f=E.lastBaseUpdate,f===null?E.firstBaseUpdate=p:f.next=p,E.lastBaseUpdate=p}function du(f,p,E,M){var q=f.updateQueue;Pl=!1;var se=q.firstBaseUpdate,_e=q.lastBaseUpdate,je=q.shared.pending;if(je!==null){q.shared.pending=null;var Xe=je,vt=Xe.next;Xe.next=null,_e===null?se=vt:_e.next=vt,_e=Xe;var Mt=f.alternate;Mt!==null&&(Mt=Mt.updateQueue,je=Mt.lastBaseUpdate,je!==_e&&(je===null?Mt.firstBaseUpdate=vt:je.next=vt,Mt.lastBaseUpdate=Xe))}if(se!==null){var Kt=q.baseState;_e=0,Mt=vt=Xe=null,je=se;do{var kt=je.lane,ur=je.eventTime;if((M&kt)===kt){Mt!==null&&(Mt=Mt.next={eventTime:ur,lane:0,tag:je.tag,payload:je.payload,callback:je.callback,next:null});e:{var Cr=f,br=je;switch(kt=p,ur=E,br.tag){case 1:if(Cr=br.payload,typeof Cr=="function"){Kt=Cr.call(ur,Kt,kt);break e}Kt=Cr;break e;case 3:Cr.flags=Cr.flags&-65537|128;case 0:if(Cr=br.payload,kt=typeof Cr=="function"?Cr.call(ur,Kt,kt):Cr,kt==null)break e;Kt=te({},Kt,kt);break e;case 2:Pl=!0}}je.callback!==null&&je.lane!==0&&(f.flags|=64,kt=q.effects,kt===null?q.effects=[je]:kt.push(je))}else ur={eventTime:ur,lane:kt,tag:je.tag,payload:je.payload,callback:je.callback,next:null},Mt===null?(vt=Mt=ur,Xe=Kt):Mt=Mt.next=ur,_e|=kt;if(je=je.next,je===null){if(je=q.shared.pending,je===null)break;kt=je,je=kt.next,kt.next=null,q.lastBaseUpdate=kt,q.shared.pending=null}}while(!0);if(Mt===null&&(Xe=Kt),q.baseState=Xe,q.firstBaseUpdate=vt,q.lastBaseUpdate=Mt,p=q.shared.interleaved,p!==null){q=p;do _e|=q.lane,q=q.next;while(q!==p)}else se===null&&(q.shared.lanes=0);Fd|=_e,f.lanes=_e,f.memoizedState=Kt}}function Ah(f,p,E){if(f=p.effects,p.effects=null,f!==null)for(p=0;p<f.length;p++){var M=f[p],q=M.callback;if(q!==null){if(M.callback=null,M=E,typeof q!="function")throw Error(t(191,q));q.call(M)}}}var ih={},No=$a(ih),pu=$a(ih),lc=$a(ih);function Xa(f){if(f===ih)throw Error(t(174));return f}function uc(f,p){switch(tA(lc,p),tA(pu,f),tA(No,ih),f=p.nodeType,f){case 9:case 11:p=(p=p.documentElement)?p.namespaceURI:ge(null,"");break;default:f=f===8?p.parentNode:p,p=f.namespaceURI||null,f=f.tagName,p=ge(p,f)}Sn(No),tA(No,p)}function Ya(){Sn(No),Sn(pu),Sn(lc)}function ev(f){Xa(lc.current);var p=Xa(No.current),E=ge(p,f.type);p!==E&&(tA(pu,f),tA(No,E))}function tv(f){pu.current===f&&(Sn(No),Sn(pu))}var uA=$a(0);function Ro(f){for(var p=f;p!==null;){if(p.tag===13){var E=p.memoizedState;if(E!==null&&(E=E.dehydrated,E===null||E.data==="$?"||E.data==="$!"))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===f)break;for(;p.sibling===null;){if(p.return===null||p.return===f)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var vd=[];function Wp(){for(var f=0;f<vd.length;f++)vd[f]._workInProgressVersionPrimary=null;vd.length=0}var yd=B.ReactCurrentDispatcher,wd=B.ReactCurrentBatchConfig,Ja=0,cA=null,ci=null,ni=null,of=!1,hi=!1,cc=0,E1=0;function Bi(){throw Error(t(321))}function $p(f,p){if(p===null)return!1;for(var E=0;E<p.length&&E<f.length;E++)if(!Pn(f[E],p[E]))return!1;return!0}function Bd(f,p,E,M,q,se){if(Ja=se,cA=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,yd.current=f===null||f.memoizedState===null?I1:o2,f=E(M,q),hi){se=0;do{if(hi=!1,cc=0,25<=se)throw Error(t(301));se+=1,ni=ci=null,p.updateQueue=null,yd.current=a2,f=E(M,q)}while(hi)}if(yd.current=iv,p=ci!==null&&ci.next!==null,Ja=0,ni=ci=cA=null,of=!1,p)throw Error(t(300));return f}function Ol(){var f=cc!==0;return cc=0,f}function Za(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ni===null?cA.memoizedState=ni=f:ni=ni.next=f,ni}function Po(){if(ci===null){var f=cA.alternate;f=f!==null?f.memoizedState:null}else f=ci.next;var p=ni===null?cA.memoizedState:ni.next;if(p!==null)ni=p,ci=f;else{if(f===null)throw Error(t(310));ci=f,f={memoizedState:ci.memoizedState,baseState:ci.baseState,baseQueue:ci.baseQueue,queue:ci.queue,next:null},ni===null?cA.memoizedState=ni=f:ni=ni.next=f}return ni}function Cd(f,p){return typeof p=="function"?p(f):p}function Xp(f){var p=Po(),E=p.queue;if(E===null)throw Error(t(311));E.lastRenderedReducer=f;var M=ci,q=M.baseQueue,se=E.pending;if(se!==null){if(q!==null){var _e=q.next;q.next=se.next,se.next=_e}M.baseQueue=q=se,E.pending=null}if(q!==null){se=q.next,M=M.baseState;var je=_e=null,Xe=null,vt=se;do{var Mt=vt.lane;if((Ja&Mt)===Mt)Xe!==null&&(Xe=Xe.next={lane:0,action:vt.action,hasEagerState:vt.hasEagerState,eagerState:vt.eagerState,next:null}),M=vt.hasEagerState?vt.eagerState:f(M,vt.action);else{var Kt={lane:Mt,action:vt.action,hasEagerState:vt.hasEagerState,eagerState:vt.eagerState,next:null};Xe===null?(je=Xe=Kt,_e=M):Xe=Xe.next=Kt,cA.lanes|=Mt,Fd|=Mt}vt=vt.next}while(vt!==null&&vt!==se);Xe===null?_e=M:Xe.next=je,Pn(M,p.memoizedState)||(Oo=!0),p.memoizedState=M,p.baseState=_e,p.baseQueue=Xe,E.lastRenderedState=M}if(f=E.interleaved,f!==null){q=f;do se=q.lane,cA.lanes|=se,Fd|=se,q=q.next;while(q!==f)}else q===null&&(E.lanes=0);return[p.memoizedState,E.dispatch]}function gu(f){var p=Po(),E=p.queue;if(E===null)throw Error(t(311));E.lastRenderedReducer=f;var M=E.dispatch,q=E.pending,se=p.memoizedState;if(q!==null){E.pending=null;var _e=q=q.next;do se=f(se,_e.action),_e=_e.next;while(_e!==q);Pn(se,p.memoizedState)||(Oo=!0),p.memoizedState=se,p.baseQueue===null&&(p.baseState=se),E.lastRenderedState=se}return[se,M]}function Ew(){}function bd(f,p){var E=cA,M=Po(),q=p(),se=!Pn(M.memoizedState,q);if(se&&(M.memoizedState=q,Oo=!0),M=M.queue,Zp(af.bind(null,E,M,f),[f]),M.getSnapshot!==p||se||ni!==null&&ni.memoizedState.tag&1){if(E.flags|=2048,Ks(9,Ci.bind(null,E,M,q,p),void 0,null),bs===null)throw Error(t(349));(Ja&30)!==0||rv(E,p,q)}return q}function rv(f,p,E){f.flags|=16384,f={getSnapshot:p,value:E},p=cA.updateQueue,p===null?(p={lastEffect:null,stores:null},cA.updateQueue=p,p.stores=[f]):(E=p.stores,E===null?p.stores=[f]:E.push(f))}function Ci(f,p,E,M){p.value=E,p.getSnapshot=M,lf(p)&&Yp(f)}function af(f,p,E){return E(function(){lf(p)&&Yp(f)})}function lf(f){var p=f.getSnapshot;f=f.value;try{var E=p();return!Pn(f,E)}catch{return!0}}function Yp(f){var p=Vn(f,1);p!==null&&ya(p,f,1,-1)}function uf(f){var p=Za();return typeof f=="function"&&(f=f()),p.memoizedState=p.baseState=f,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cd,lastRenderedState:f},p.queue=f,f=f.dispatch=EU.bind(null,cA,f),[p.memoizedState,f]}function Ks(f,p,E,M){return f={tag:f,create:p,destroy:E,deps:M,next:null},p=cA.updateQueue,p===null?(p={lastEffect:null,stores:null},cA.updateQueue=p,p.lastEffect=f.next=f):(E=p.lastEffect,E===null?p.lastEffect=f.next=f:(M=E.next,E.next=f,f.next=M,p.lastEffect=f)),f}function mu(){return Po().memoizedState}function el(f,p,E,M){var q=Za();cA.flags|=f,q.memoizedState=Ks(1|p,E,void 0,M===void 0?null:M)}function sh(f,p,E,M){var q=Po();M=M===void 0?null:M;var se=void 0;if(ci!==null){var _e=ci.memoizedState;if(se=_e.destroy,M!==null&&$p(M,_e.deps)){q.memoizedState=Ks(p,E,se,M);return}}cA.flags|=f,q.memoizedState=Ks(1|p,E,se,M)}function Jp(f,p){return el(8390656,8,f,p)}function Zp(f,p){return sh(2048,8,f,p)}function _w(f,p){return sh(4,2,f,p)}function eg(f,p){return sh(4,4,f,p)}function tg(f,p){if(typeof p=="function")return f=f(),p(f),function(){p(null)};if(p!=null)return f=f(),p.current=f,function(){p.current=null}}function _1(f,p,E){return E=E!=null?E.concat([f]):null,sh(4,4,tg.bind(null,p,f),E)}function Sw(){}function S1(f,p){var E=Po();p=p===void 0?null:p;var M=E.memoizedState;return M!==null&&p!==null&&$p(p,M[1])?M[0]:(E.memoizedState=[f,p],f)}function F1(f,p){var E=Po();p=p===void 0?null:p;var M=E.memoizedState;return M!==null&&p!==null&&$p(p,M[1])?M[0]:(f=f(),E.memoizedState=[f,p],f)}function Fw(f,p,E){return(Ja&21)===0?(f.baseState&&(f.baseState=!1,Oo=!0),f.memoizedState=E):(Pn(E,p)||(E=Bl(),cA.lanes|=E,Fd|=E,f.baseState=!0),p)}function CU(f,p){var E=on;on=E!==0&&4>E?E:4,f(!0);var M=wd.transition;wd.transition={};try{f(!1),p()}finally{on=E,wd.transition=M}}function i2(){return Po().memoizedState}function bU(f,p,E){var M=rl(f);if(E={lane:M,action:E,hasEagerState:!1,eagerState:null,next:null},nv(f))Av(p,E);else if(E=fu(f,p,E,M),E!==null){var q=qs();ya(E,f,M,q),s2(E,p,M)}}function EU(f,p,E){var M=rl(f),q={lane:M,action:E,hasEagerState:!1,eagerState:null,next:null};if(nv(f))Av(p,q);else{var se=f.alternate;if(f.lanes===0&&(se===null||se.lanes===0)&&(se=p.lastRenderedReducer,se!==null))try{var _e=p.lastRenderedState,je=se(_e,E);if(q.hasEagerState=!0,q.eagerState=je,Pn(je,_e)){var Xe=p.interleaved;Xe===null?(q.next=q,oc(p)):(q.next=Xe.next,Xe.next=q),p.interleaved=q;return}}catch{}finally{}E=fu(f,p,q,M),E!==null&&(q=qs(),ya(E,f,M,q),s2(E,p,M))}}function nv(f){var p=f.alternate;return f===cA||p!==null&&p===cA}function Av(f,p){hi=of=!0;var E=f.pending;E===null?p.next=p:(p.next=E.next,E.next=p),f.pending=p}function s2(f,p,E){if((E&4194240)!==0){var M=p.lanes;M&=f.pendingLanes,E|=M,p.lanes=E,ja(f,E)}}var iv={readContext:ui,useCallback:Bi,useContext:Bi,useEffect:Bi,useImperativeHandle:Bi,useInsertionEffect:Bi,useLayoutEffect:Bi,useMemo:Bi,useReducer:Bi,useRef:Bi,useState:Bi,useDebugValue:Bi,useDeferredValue:Bi,useTransition:Bi,useMutableSource:Bi,useSyncExternalStore:Bi,useId:Bi,unstable_isNewReconciler:!1},I1={readContext:ui,useCallback:function(f,p){return Za().memoizedState=[f,p===void 0?null:p],f},useContext:ui,useEffect:Jp,useImperativeHandle:function(f,p,E){return E=E!=null?E.concat([f]):null,el(4194308,4,tg.bind(null,p,f),E)},useLayoutEffect:function(f,p){return el(4194308,4,f,p)},useInsertionEffect:function(f,p){return el(4,2,f,p)},useMemo:function(f,p){var E=Za();return p=p===void 0?null:p,f=f(),E.memoizedState=[f,p],f},useReducer:function(f,p,E){var M=Za();return p=E!==void 0?E(p):p,M.memoizedState=M.baseState=p,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:p},M.queue=f,f=f.dispatch=bU.bind(null,cA,f),[M.memoizedState,f]},useRef:function(f){var p=Za();return f={current:f},p.memoizedState=f},useState:uf,useDebugValue:Sw,useDeferredValue:function(f){return Za().memoizedState=f},useTransition:function(){var f=uf(!1),p=f[0];return f=CU.bind(null,f[1]),Za().memoizedState=f,[p,f]},useMutableSource:function(){},useSyncExternalStore:function(f,p,E){var M=cA,q=Za();if(St){if(E===void 0)throw Error(t(407));E=E()}else{if(E=p(),bs===null)throw Error(t(349));(Ja&30)!==0||rv(M,p,E)}q.memoizedState=E;var se={value:E,getSnapshot:p};return q.queue=se,Jp(af.bind(null,M,se,f),[f]),M.flags|=2048,Ks(9,Ci.bind(null,M,se,E,p),void 0,null),E},useId:function(){var f=Za(),p=bs.identifierPrefix;if(St){var E=ht,M=ct;E=(M&~(1<<32-ei(M)-1)).toString(32)+E,p=":"+p+"R"+E,E=cc++,0<E&&(p+="H"+E.toString(32)),p+=":"}else E=E1++,p=":"+p+"r"+E.toString(32)+":";return f.memoizedState=p},unstable_isNewReconciler:!1},o2={readContext:ui,useCallback:S1,useContext:ui,useEffect:Zp,useImperativeHandle:_1,useInsertionEffect:_w,useLayoutEffect:eg,useMemo:F1,useReducer:Xp,useRef:mu,useState:function(){return Xp(Cd)},useDebugValue:Sw,useDeferredValue:function(f){var p=Po();return Fw(p,ci.memoizedState,f)},useTransition:function(){var f=Xp(Cd)[0],p=Po().memoizedState;return[f,p]},useMutableSource:Ew,useSyncExternalStore:bd,useId:i2,unstable_isNewReconciler:!1},a2={readContext:ui,useCallback:S1,useContext:ui,useEffect:Zp,useImperativeHandle:_1,useInsertionEffect:_w,useLayoutEffect:eg,useMemo:F1,useReducer:gu,useRef:mu,useState:function(){return gu(Cd)},useDebugValue:Sw,useDeferredValue:function(f){var p=Po();return ci===null?p.memoizedState=f:Fw(p,ci.memoizedState,f)},useTransition:function(){var f=gu(Cd)[0],p=Po().memoizedState;return[f,p]},useMutableSource:Ew,useSyncExternalStore:bd,useId:i2,unstable_isNewReconciler:!1};function kl(f,p){if(f&&f.defaultProps){p=te({},p),f=f.defaultProps;for(var E in f)p[E]===void 0&&(p[E]=f[E]);return p}return p}function x1(f,p,E,M){p=f.memoizedState,E=E(M,p),E=E==null?p:te({},p,E),f.memoizedState=E,f.lanes===0&&(f.updateQueue.baseState=E)}var Ed={isMounted:function(f){return(f=f._reactInternals)?oA(f)===f:!1},enqueueSetState:function(f,p,E){f=f._reactInternals;var M=qs(),q=rl(f),se=ga(M,q);se.payload=p,E!=null&&(se.callback=E),p=ma(f,se,q),p!==null&&(ya(p,f,q,M),ac(p,f,q))},enqueueReplaceState:function(f,p,E){f=f._reactInternals;var M=qs(),q=rl(f),se=ga(M,q);se.tag=1,se.payload=p,E!=null&&(se.callback=E),p=ma(f,se,q),p!==null&&(ya(p,f,q,M),ac(p,f,q))},enqueueForceUpdate:function(f,p){f=f._reactInternals;var E=qs(),M=rl(f),q=ga(E,M);q.tag=2,p!=null&&(q.callback=p),p=ma(f,q,M),p!==null&&(ya(p,f,M,E),ac(p,f,M))}};function U1(f,p,E,M,q,se,_e){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(M,se,_e):p.prototype&&p.prototype.isPureReactComponent?!ha(E,M)||!ha(q,se):!0}function T1(f,p,E){var M=!1,q=sc,se=p.contextType;return typeof se=="object"&&se!==null?se=ui(se):(q=lo(p)?rh:Yi.current,M=p.contextTypes,se=(M=M!=null)?sf(f,q):sc),p=new p(E,se),f.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Ed,f.stateNode=p,p._reactInternals=f,M&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=q,f.__reactInternalMemoizedMaskedChildContext=se),p}function l2(f,p,E,M){f=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(E,M),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(E,M),p.state!==f&&Ed.enqueueReplaceState(p,p.state,null)}function Q1(f,p,E,M){var q=f.stateNode;q.props=E,q.state=f.memoizedState,q.refs={},qp(f);var se=p.contextType;typeof se=="object"&&se!==null?q.context=ui(se):(se=lo(p)?rh:Yi.current,q.context=sf(f,se)),q.state=f.memoizedState,se=p.getDerivedStateFromProps,typeof se=="function"&&(x1(f,p,se,E),q.state=f.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof q.getSnapshotBeforeUpdate=="function"||typeof q.UNSAFE_componentWillMount!="function"&&typeof q.componentWillMount!="function"||(p=q.state,typeof q.componentWillMount=="function"&&q.componentWillMount(),typeof q.UNSAFE_componentWillMount=="function"&&q.UNSAFE_componentWillMount(),p!==q.state&&Ed.enqueueReplaceState(q,q.state,null),du(f,E,q,M),q.state=f.memoizedState),typeof q.componentDidMount=="function"&&(f.flags|=4194308)}function _d(f,p){try{var E="",M=p;do E+=ae(M),M=M.return;while(M);var q=E}catch(se){q=`
Error generating stack: `+se.message+`
`+se.stack}return{value:f,source:p,stack:q,digest:null}}function cf(f,p,E){return{value:f,source:null,stack:E??null,digest:p??null}}function sv(f,p){try{console.error(p.value)}catch(E){setTimeout(function(){throw E})}}var Iw=typeof WeakMap=="function"?WeakMap:Map;function u2(f,p,E){E=ga(-1,E),E.tag=3,E.payload={element:null};var M=p.value;return E.callback=function(){pv||(pv=!0,W1=M),sv(f,p)},E}function c2(f,p,E){E=ga(-1,E),E.tag=3;var M=f.type.getDerivedStateFromError;if(typeof M=="function"){var q=p.value;E.payload=function(){return M(q)},E.callback=function(){sv(f,p)}}var se=f.stateNode;return se!==null&&typeof se.componentDidCatch=="function"&&(E.callback=function(){sv(f,p),typeof M!="function"&&(gf===null?gf=new Set([this]):gf.add(this));var _e=p.stack;this.componentDidCatch(p.value,{componentStack:_e!==null?_e:""})}),E}function h2(f,p,E){var M=f.pingCache;if(M===null){M=f.pingCache=new Iw;var q=new Set;M.set(p,q)}else q=M.get(p),q===void 0&&(q=new Set,M.set(p,q));q.has(E)||(q.add(E),f=P.bind(null,f,p,E),p.then(f,f))}function f2(f){do{var p;if((p=f.tag===13)&&(p=f.memoizedState,p=p!==null?p.dehydrated!==null:!0),p)return f;f=f.return}while(f!==null);return null}function L1(f,p,E,M,q){return(f.mode&1)===0?(f===p?f.flags|=65536:(f.flags|=128,E.flags|=131072,E.flags&=-52805,E.tag===1&&(E.alternate===null?E.tag=17:(p=ga(-1,1),p.tag=2,ma(E,p,1))),E.lanes|=1),f):(f.flags|=65536,f.lanes=q,f)}var N1=B.ReactCurrentOwner,Oo=!1;function uo(f,p,E,M){p.child=f===null?wn(p,null,E,M):kA(p,f.child,E,M)}function xw(f,p,E,M,q){E=E.render;var se=p.ref;return FA(p,q),M=Bd(f,p,E,M,se,q),E=Ol(),f!==null&&!Oo?(p.updateQueue=f.updateQueue,p.flags&=-2053,f.lanes&=~q,tl(f,p,q)):(St&&E&&wt(p),p.flags|=1,uo(f,p,M,q),p.child)}function R1(f,p,E,M,q){if(f===null){var se=E.type;return typeof se=="function"&&!ft(se)&&se.defaultProps===void 0&&E.compare===null&&E.defaultProps===void 0?(p.tag=15,p.type=se,P1(f,p,se,M,q)):(f=Gt(E.type,null,M,p,p.mode,q),f.ref=p.ref,f.return=p,p.child=f)}if(se=f.child,(f.lanes&q)===0){var _e=se.memoizedProps;if(E=E.compare,E=E!==null?E:ha,E(_e,M)&&f.ref===p.ref)return tl(f,p,q)}return p.flags|=1,f=er(se,M),f.ref=p.ref,f.return=p,p.child=f}function P1(f,p,E,M,q){if(f!==null){var se=f.memoizedProps;if(ha(se,M)&&f.ref===p.ref)if(Oo=!1,p.pendingProps=M=se,(f.lanes&q)!==0)(f.flags&131072)!==0&&(Oo=!0);else return p.lanes=f.lanes,tl(f,p,q)}return rg(f,p,E,M,q)}function d2(f,p,E){var M=p.pendingProps,q=M.children,se=f!==null?f.memoizedState:null;if(M.mode==="hidden")if((p.mode&1)===0)p.memoizedState={baseLanes:0,cachePool:null,transitions:null},tA(Ag,ho),ho|=E;else{if((E&1073741824)===0)return f=se!==null?se.baseLanes|E:E,p.lanes=p.childLanes=1073741824,p.memoizedState={baseLanes:f,cachePool:null,transitions:null},p.updateQueue=null,tA(Ag,ho),ho|=f,null;p.memoizedState={baseLanes:0,cachePool:null,transitions:null},M=se!==null?se.baseLanes:E,tA(Ag,ho),ho|=M}else se!==null?(M=se.baseLanes|E,p.memoizedState=null):M=E,tA(Ag,ho),ho|=M;return uo(f,p,q,E),p.child}function ov(f,p){var E=p.ref;(f===null&&E!==null||f!==null&&f.ref!==E)&&(p.flags|=512,p.flags|=2097152)}function rg(f,p,E,M,q){var se=lo(E)?rh:Yi.current;return se=sf(p,se),FA(p,q),E=Bd(f,p,E,M,se,q),M=Ol(),f!==null&&!Oo?(p.updateQueue=f.updateQueue,p.flags&=-2053,f.lanes&=~q,tl(f,p,q)):(St&&M&&wt(p),p.flags|=1,uo(f,p,E,q),p.child)}function O1(f,p,E,M,q){if(lo(E)){var se=!0;nh(p)}else se=!1;if(FA(p,q),p.stateNode===null)vu(f,p),T1(p,E,M),Q1(p,E,M,q),M=!0;else if(f===null){var _e=p.stateNode,je=p.memoizedProps;_e.props=je;var Xe=_e.context,vt=E.contextType;typeof vt=="object"&&vt!==null?vt=ui(vt):(vt=lo(E)?rh:Yi.current,vt=sf(p,vt));var Mt=E.getDerivedStateFromProps,Kt=typeof Mt=="function"||typeof _e.getSnapshotBeforeUpdate=="function";Kt||typeof _e.UNSAFE_componentWillReceiveProps!="function"&&typeof _e.componentWillReceiveProps!="function"||(je!==M||Xe!==vt)&&l2(p,_e,M,vt),Pl=!1;var kt=p.memoizedState;_e.state=kt,du(p,M,_e,q),Xe=p.memoizedState,je!==M||kt!==Xe||ao.current||Pl?(typeof Mt=="function"&&(x1(p,E,Mt,M),Xe=p.memoizedState),(je=Pl||U1(p,E,je,M,kt,Xe,vt))?(Kt||typeof _e.UNSAFE_componentWillMount!="function"&&typeof _e.componentWillMount!="function"||(typeof _e.componentWillMount=="function"&&_e.componentWillMount(),typeof _e.UNSAFE_componentWillMount=="function"&&_e.UNSAFE_componentWillMount()),typeof _e.componentDidMount=="function"&&(p.flags|=4194308)):(typeof _e.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=M,p.memoizedState=Xe),_e.props=M,_e.state=Xe,_e.context=vt,M=je):(typeof _e.componentDidMount=="function"&&(p.flags|=4194308),M=!1)}else{_e=p.stateNode,Zm(f,p),je=p.memoizedProps,vt=p.type===p.elementType?je:kl(p.type,je),_e.props=vt,Kt=p.pendingProps,kt=_e.context,Xe=E.contextType,typeof Xe=="object"&&Xe!==null?Xe=ui(Xe):(Xe=lo(E)?rh:Yi.current,Xe=sf(p,Xe));var ur=E.getDerivedStateFromProps;(Mt=typeof ur=="function"||typeof _e.getSnapshotBeforeUpdate=="function")||typeof _e.UNSAFE_componentWillReceiveProps!="function"&&typeof _e.componentWillReceiveProps!="function"||(je!==Kt||kt!==Xe)&&l2(p,_e,M,Xe),Pl=!1,kt=p.memoizedState,_e.state=kt,du(p,M,_e,q);var Cr=p.memoizedState;je!==Kt||kt!==Cr||ao.current||Pl?(typeof ur=="function"&&(x1(p,E,ur,M),Cr=p.memoizedState),(vt=Pl||U1(p,E,vt,M,kt,Cr,Xe)||!1)?(Mt||typeof _e.UNSAFE_componentWillUpdate!="function"&&typeof _e.componentWillUpdate!="function"||(typeof _e.componentWillUpdate=="function"&&_e.componentWillUpdate(M,Cr,Xe),typeof _e.UNSAFE_componentWillUpdate=="function"&&_e.UNSAFE_componentWillUpdate(M,Cr,Xe)),typeof _e.componentDidUpdate=="function"&&(p.flags|=4),typeof _e.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof _e.componentDidUpdate!="function"||je===f.memoizedProps&&kt===f.memoizedState||(p.flags|=4),typeof _e.getSnapshotBeforeUpdate!="function"||je===f.memoizedProps&&kt===f.memoizedState||(p.flags|=1024),p.memoizedProps=M,p.memoizedState=Cr),_e.props=M,_e.state=Cr,_e.context=Xe,M=vt):(typeof _e.componentDidUpdate!="function"||je===f.memoizedProps&&kt===f.memoizedState||(p.flags|=4),typeof _e.getSnapshotBeforeUpdate!="function"||je===f.memoizedProps&&kt===f.memoizedState||(p.flags|=1024),M=!1)}return Uw(f,p,E,M,se,q)}function Uw(f,p,E,M,q,se){ov(f,p);var _e=(p.flags&128)!==0;if(!M&&!_e)return q&&bw(p,E,!1),tl(f,p,se);M=p.stateNode,N1.current=p;var je=_e&&typeof E.getDerivedStateFromError!="function"?null:M.render();return p.flags|=1,f!==null&&_e?(p.child=kA(p,f.child,null,se),p.child=kA(p,null,je,se)):uo(f,p,je,se),p.memoizedState=M.state,q&&bw(p,E,!0),p.child}function p2(f){var p=f.stateNode;p.pendingContext?Cw(f,p.pendingContext,p.pendingContext!==p.context):p.context&&Cw(f,p.context,!1),uc(f,p.containerInfo)}function k1(f,p,E,M,q){return Lt(),$n(q),p.flags|=256,uo(f,p,E,M),p.child}var Tw={dehydrated:null,treeContext:null,retryLane:0};function D1(f){return{baseLanes:f,cachePool:null,transitions:null}}function g2(f,p,E){var M=p.pendingProps,q=uA.current,se=!1,_e=(p.flags&128)!==0,je;if((je=_e)||(je=f!==null&&f.memoizedState===null?!1:(q&2)!==0),je?(se=!0,p.flags&=-129):(f===null||f.memoizedState!==null)&&(q|=1),tA(uA,q&1),f===null)return Zt(p),f=p.memoizedState,f!==null&&(f=f.dehydrated,f!==null)?((p.mode&1)===0?p.lanes=1:f.data==="$!"?p.lanes=8:p.lanes=1073741824,null):(_e=M.children,f=M.fallback,se?(M=p.mode,se=p.child,_e={mode:"hidden",children:_e},(M&1)===0&&se!==null?(se.childLanes=0,se.pendingProps=_e):se=Wr(_e,M,0,null),f=Jt(f,M,E,null),se.return=p,f.return=p,se.sibling=f,p.child=se,p.child.memoizedState=D1(E),p.memoizedState=Tw,f):hf(p,_e));if(q=f.memoizedState,q!==null&&(je=q.dehydrated,je!==null))return bi(f,p,_e,M,je,q,E);if(se){se=M.fallback,_e=p.mode,q=f.child,je=q.sibling;var Xe={mode:"hidden",children:M.children};return(_e&1)===0&&p.child!==q?(M=p.child,M.childLanes=0,M.pendingProps=Xe,p.deletions=null):(M=er(q,Xe),M.subtreeFlags=q.subtreeFlags&14680064),je!==null?se=er(je,se):(se=Jt(se,_e,E,null),se.flags|=2),se.return=p,M.return=p,M.sibling=se,p.child=M,M=se,se=p.child,_e=f.child.memoizedState,_e=_e===null?D1(E):{baseLanes:_e.baseLanes|E,cachePool:null,transitions:_e.transitions},se.memoizedState=_e,se.childLanes=f.childLanes&~E,p.memoizedState=Tw,M}return se=f.child,f=se.sibling,M=er(se,{mode:"visible",children:M.children}),(p.mode&1)===0&&(M.lanes=E),M.return=p,M.sibling=null,f!==null&&(E=p.deletions,E===null?(p.deletions=[f],p.flags|=16):E.push(f)),p.child=M,p.memoizedState=null,M}function hf(f,p){return p=Wr({mode:"visible",children:p},f.mode,0,null),p.return=f,f.child=p}function av(f,p,E,M){return M!==null&&$n(M),kA(p,f.child,null,E),f=hf(p,p.pendingProps.children),f.flags|=2,p.memoizedState=null,f}function bi(f,p,E,M,q,se,_e){if(E)return p.flags&256?(p.flags&=-257,M=cf(Error(t(422))),av(f,p,_e,M)):p.memoizedState!==null?(p.child=f.child,p.flags|=128,null):(se=M.fallback,q=p.mode,M=Wr({mode:"visible",children:M.children},q,0,null),se=Jt(se,q,_e,null),se.flags|=2,M.return=p,se.return=p,M.sibling=se,p.child=M,(p.mode&1)!==0&&kA(p,f.child,null,_e),p.child.memoizedState=D1(_e),p.memoizedState=Tw,se);if((p.mode&1)===0)return av(f,p,_e,null);if(q.data==="$!"){if(M=q.nextSibling&&q.nextSibling.dataset,M)var je=M.dgst;return M=je,se=Error(t(419)),M=cf(se,M,void 0),av(f,p,_e,M)}if(je=(_e&f.childLanes)!==0,Oo||je){if(M=bs,M!==null){switch(_e&-_e){case 4:q=2;break;case 16:q=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:q=32;break;case 536870912:q=268435456;break;default:q=0}q=(q&(M.suspendedLanes|_e))!==0?0:q,q!==0&&q!==se.retryLane&&(se.retryLane=q,Vn(f,q),ya(M,f,q,-1))}return eC(),M=cf(Error(t(421))),av(f,p,_e,M)}return q.data==="$?"?(p.flags|=128,p.child=f.child,p=fe.bind(null,f),q._reactRetry=p,null):(f=se.treeContext,Ft=Hs(q.nextSibling),Je=p,St=!0,xt=null,f!==null&&(Te[Pe++]=ct,Te[Pe++]=ht,Te[Pe++]=We,ct=f.id,ht=f.overflow,We=p),p=hf(p,M.children),p.flags|=4096,p)}function ff(f,p,E){f.lanes|=p;var M=f.alternate;M!==null&&(M.lanes|=p),pa(f.return,p,E)}function df(f,p,E,M,q){var se=f.memoizedState;se===null?f.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:M,tail:E,tailMode:q}:(se.isBackwards=p,se.rendering=null,se.renderingStartTime=0,se.last=M,se.tail=E,se.tailMode=q)}function oh(f,p,E){var M=p.pendingProps,q=M.revealOrder,se=M.tail;if(uo(f,p,M.children,E),M=uA.current,(M&2)!==0)M=M&1|2,p.flags|=128;else{if(f!==null&&(f.flags&128)!==0)e:for(f=p.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&ff(f,E,p);else if(f.tag===19)ff(f,E,p);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===p)break e;for(;f.sibling===null;){if(f.return===null||f.return===p)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}M&=1}if(tA(uA,M),(p.mode&1)===0)p.memoizedState=null;else switch(q){case"forwards":for(E=p.child,q=null;E!==null;)f=E.alternate,f!==null&&Ro(f)===null&&(q=E),E=E.sibling;E=q,E===null?(q=p.child,p.child=null):(q=E.sibling,E.sibling=null),df(p,!1,q,E,se);break;case"backwards":for(E=null,q=p.child,p.child=null;q!==null;){if(f=q.alternate,f!==null&&Ro(f)===null){p.child=q;break}f=q.sibling,q.sibling=E,E=q,q=f}df(p,!0,E,null,se);break;case"together":df(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function vu(f,p){(p.mode&1)===0&&f!==null&&(f.alternate=null,p.alternate=null,p.flags|=2)}function tl(f,p,E){if(f!==null&&(p.dependencies=f.dependencies),Fd|=p.lanes,(E&p.childLanes)===0)return null;if(f!==null&&p.child!==f.child)throw Error(t(153));if(p.child!==null){for(f=p.child,E=er(f,f.pendingProps),p.child=E,E.return=p;f.sibling!==null;)f=f.sibling,E=E.sibling=er(f,f.pendingProps),E.return=p;E.sibling=null}return p.child}function ah(f,p,E){switch(p.tag){case 3:p2(p),Lt();break;case 5:ev(p);break;case 1:lo(p.type)&&nh(p);break;case 4:uc(p,p.stateNode.containerInfo);break;case 10:var M=p.type._context,q=p.memoizedProps.value;tA(ys,M._currentValue),M._currentValue=q;break;case 13:if(M=p.memoizedState,M!==null)return M.dehydrated!==null?(tA(uA,uA.current&1),p.flags|=128,null):(E&p.child.childLanes)!==0?g2(f,p,E):(tA(uA,uA.current&1),f=tl(f,p,E),f!==null?f.sibling:null);tA(uA,uA.current&1);break;case 19:if(M=(E&p.childLanes)!==0,(f.flags&128)!==0){if(M)return oh(f,p,E);p.flags|=128}if(q=p.memoizedState,q!==null&&(q.rendering=null,q.tail=null,q.lastEffect=null),tA(uA,uA.current),M)break;return null;case 22:case 23:return p.lanes=0,d2(f,p,E)}return tl(f,p,E)}var M1,Qw,H1,Lw;M1=function(f,p){for(var E=p.child;E!==null;){if(E.tag===5||E.tag===6)f.appendChild(E.stateNode);else if(E.tag!==4&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===p)break;for(;E.sibling===null;){if(E.return===null||E.return===p)return;E=E.return}E.sibling.return=E.return,E=E.sibling}},Qw=function(){},H1=function(f,p,E,M){var q=f.memoizedProps;if(q!==M){f=p.stateNode,Xa(No.current);var se=null;switch(E){case"input":q=pt(f,q),M=pt(f,M),se=[];break;case"select":q=te({},q,{value:void 0}),M=te({},M,{value:void 0}),se=[];break;case"textarea":q=ze(f,q),M=ze(f,M),se=[];break;default:typeof q.onClick!="function"&&typeof M.onClick=="function"&&(f.onclick=rf)}Ht(E,M);var _e;E=null;for(vt in q)if(!M.hasOwnProperty(vt)&&q.hasOwnProperty(vt)&&q[vt]!=null)if(vt==="style"){var je=q[vt];for(_e in je)je.hasOwnProperty(_e)&&(E||(E={}),E[_e]="")}else vt!=="dangerouslySetInnerHTML"&&vt!=="children"&&vt!=="suppressContentEditableWarning"&&vt!=="suppressHydrationWarning"&&vt!=="autoFocus"&&(A.hasOwnProperty(vt)?se||(se=[]):(se=se||[]).push(vt,null));for(vt in M){var Xe=M[vt];if(je=q!=null?q[vt]:void 0,M.hasOwnProperty(vt)&&Xe!==je&&(Xe!=null||je!=null))if(vt==="style")if(je){for(_e in je)!je.hasOwnProperty(_e)||Xe&&Xe.hasOwnProperty(_e)||(E||(E={}),E[_e]="");for(_e in Xe)Xe.hasOwnProperty(_e)&&je[_e]!==Xe[_e]&&(E||(E={}),E[_e]=Xe[_e])}else E||(se||(se=[]),se.push(vt,E)),E=Xe;else vt==="dangerouslySetInnerHTML"?(Xe=Xe?Xe.__html:void 0,je=je?je.__html:void 0,Xe!=null&&je!==Xe&&(se=se||[]).push(vt,Xe)):vt==="children"?typeof Xe!="string"&&typeof Xe!="number"||(se=se||[]).push(vt,""+Xe):vt!=="suppressContentEditableWarning"&&vt!=="suppressHydrationWarning"&&(A.hasOwnProperty(vt)?(Xe!=null&&vt==="onScroll"&&jn("scroll",f),se||je===Xe||(se=[])):(se=se||[]).push(vt,Xe))}E&&(se=se||[]).push("style",E);var vt=se;(p.updateQueue=vt)&&(p.flags|=4)}},Lw=function(f,p,E,M){E!==M&&(p.flags|=4)};function lh(f,p){if(!St)switch(f.tailMode){case"hidden":p=f.tail;for(var E=null;p!==null;)p.alternate!==null&&(E=p),p=p.sibling;E===null?f.tail=null:E.sibling=null;break;case"collapsed":E=f.tail;for(var M=null;E!==null;)E.alternate!==null&&(M=E),E=E.sibling;M===null?p||f.tail===null?f.tail=null:f.tail.sibling=null:M.sibling=null}}function Gs(f){var p=f.alternate!==null&&f.alternate.child===f.child,E=0,M=0;if(p)for(var q=f.child;q!==null;)E|=q.lanes|q.childLanes,M|=q.subtreeFlags&14680064,M|=q.flags&14680064,q.return=f,q=q.sibling;else for(q=f.child;q!==null;)E|=q.lanes|q.childLanes,M|=q.subtreeFlags,M|=q.flags,q.return=f,q=q.sibling;return f.subtreeFlags|=M,f.childLanes=E,p}function m2(f,p,E){var M=p.pendingProps;switch(Ye(p),p.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gs(p),null;case 1:return lo(p.type)&&zp(),Gs(p),null;case 3:return M=p.stateNode,Ya(),Sn(ao),Sn(Yi),Wp(),M.pendingContext&&(M.context=M.pendingContext,M.pendingContext=null),(f===null||f.child===null)&&(In(p)?p.flags|=4:f===null||f.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,xt!==null&&(X1(xt),xt=null))),Qw(f,p),Gs(p),null;case 5:tv(p);var q=Xa(lc.current);if(E=p.type,f!==null&&p.stateNode!=null)H1(f,p,E,M,q),f.ref!==p.ref&&(p.flags|=512,p.flags|=2097152);else{if(!M){if(p.stateNode===null)throw Error(t(166));return Gs(p),null}if(f=Xa(No.current),In(p)){M=p.stateNode,E=p.type;var se=p.memoizedProps;switch(M[Nl]=p,M[nf]=se,f=(p.mode&1)!==0,E){case"dialog":jn("cancel",M),jn("close",M);break;case"iframe":case"object":case"embed":jn("load",M);break;case"video":case"audio":for(q=0;q<nc.length;q++)jn(nc[q],M);break;case"source":jn("error",M);break;case"img":case"image":case"link":jn("error",M),jn("load",M);break;case"details":jn("toggle",M);break;case"input":Ke(M,se),jn("invalid",M);break;case"select":M._wrapperState={wasMultiple:!!se.multiple},jn("invalid",M);break;case"textarea":Ve(M,se),jn("invalid",M)}Ht(E,se),q=null;for(var _e in se)if(se.hasOwnProperty(_e)){var je=se[_e];_e==="children"?typeof je=="string"?M.textContent!==je&&(se.suppressHydrationWarning!==!0&&Gp(M.textContent,je,f),q=["children",je]):typeof je=="number"&&M.textContent!==""+je&&(se.suppressHydrationWarning!==!0&&Gp(M.textContent,je,f),q=["children",""+je]):A.hasOwnProperty(_e)&&je!=null&&_e==="onScroll"&&jn("scroll",M)}switch(E){case"input":qe(M),ke(M,se,!0);break;case"textarea":qe(M),lt(M);break;case"select":case"option":break;default:typeof se.onClick=="function"&&(M.onclick=rf)}M=q,p.updateQueue=M,M!==null&&(p.flags|=4)}else{_e=q.nodeType===9?q:q.ownerDocument,f==="http://www.w3.org/1999/xhtml"&&(f=yt(E)),f==="http://www.w3.org/1999/xhtml"?E==="script"?(f=_e.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild)):typeof M.is=="string"?f=_e.createElement(E,{is:M.is}):(f=_e.createElement(E),E==="select"&&(_e=f,M.multiple?_e.multiple=!0:M.size&&(_e.size=M.size))):f=_e.createElementNS(f,E),f[Nl]=p,f[nf]=M,M1(f,p,!1,!1),p.stateNode=f;e:{switch(_e=gr(E,M),E){case"dialog":jn("cancel",f),jn("close",f),q=M;break;case"iframe":case"object":case"embed":jn("load",f),q=M;break;case"video":case"audio":for(q=0;q<nc.length;q++)jn(nc[q],f);q=M;break;case"source":jn("error",f),q=M;break;case"img":case"image":case"link":jn("error",f),jn("load",f),q=M;break;case"details":jn("toggle",f),q=M;break;case"input":Ke(f,M),q=pt(f,M),jn("invalid",f);break;case"option":q=M;break;case"select":f._wrapperState={wasMultiple:!!M.multiple},q=te({},M,{value:void 0}),jn("invalid",f);break;case"textarea":Ve(f,M),q=ze(f,M),jn("invalid",f);break;default:q=M}Ht(E,q),je=q;for(se in je)if(je.hasOwnProperty(se)){var Xe=je[se];se==="style"?Et(f,Xe):se==="dangerouslySetInnerHTML"?(Xe=Xe?Xe.__html:void 0,Xe!=null&&Ae(f,Xe)):se==="children"?typeof Xe=="string"?(E!=="textarea"||Xe!=="")&&de(f,Xe):typeof Xe=="number"&&de(f,""+Xe):se!=="suppressContentEditableWarning"&&se!=="suppressHydrationWarning"&&se!=="autoFocus"&&(A.hasOwnProperty(se)?Xe!=null&&se==="onScroll"&&jn("scroll",f):Xe!=null&&b(f,se,Xe,_e))}switch(E){case"input":qe(f),ke(f,M,!1);break;case"textarea":qe(f),lt(f);break;case"option":M.value!=null&&f.setAttribute("value",""+Ce(M.value));break;case"select":f.multiple=!!M.multiple,se=M.value,se!=null?ut(f,!!M.multiple,se,!1):M.defaultValue!=null&&ut(f,!!M.multiple,M.defaultValue,!0);break;default:typeof q.onClick=="function"&&(f.onclick=rf)}switch(E){case"button":case"input":case"select":case"textarea":M=!!M.autoFocus;break e;case"img":M=!0;break e;default:M=!1}}M&&(p.flags|=4)}p.ref!==null&&(p.flags|=512,p.flags|=2097152)}return Gs(p),null;case 6:if(f&&p.stateNode!=null)Lw(f,p,f.memoizedProps,M);else{if(typeof M!="string"&&p.stateNode===null)throw Error(t(166));if(E=Xa(lc.current),Xa(No.current),In(p)){if(M=p.stateNode,E=p.memoizedProps,M[Nl]=p,(se=M.nodeValue!==E)&&(f=Je,f!==null))switch(f.tag){case 3:Gp(M.nodeValue,E,(f.mode&1)!==0);break;case 5:f.memoizedProps.suppressHydrationWarning!==!0&&Gp(M.nodeValue,E,(f.mode&1)!==0)}se&&(p.flags|=4)}else M=(E.nodeType===9?E:E.ownerDocument).createTextNode(M),M[Nl]=p,p.stateNode=M}return Gs(p),null;case 13:if(Sn(uA),M=p.memoizedState,f===null||f.memoizedState!==null&&f.memoizedState.dehydrated!==null){if(St&&Ft!==null&&(p.mode&1)!==0&&(p.flags&128)===0)un(),Lt(),p.flags|=98560,se=!1;else if(se=In(p),M!==null&&M.dehydrated!==null){if(f===null){if(!se)throw Error(t(318));if(se=p.memoizedState,se=se!==null?se.dehydrated:null,!se)throw Error(t(317));se[Nl]=p}else Lt(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;Gs(p),se=!1}else xt!==null&&(X1(xt),xt=null),se=!0;if(!se)return p.flags&65536?p:null}return(p.flags&128)!==0?(p.lanes=E,p):(M=M!==null,M!==(f!==null&&f.memoizedState!==null)&&M&&(p.child.flags|=8192,(p.mode&1)!==0&&(f===null||(uA.current&1)!==0?Ji===0&&(Ji=3):eC())),p.updateQueue!==null&&(p.flags|=4),Gs(p),null);case 4:return Ya(),Qw(f,p),f===null&&Jc(p.stateNode.containerInfo),Gs(p),null;case 10:return Bs(p.type._context),Gs(p),null;case 17:return lo(p.type)&&zp(),Gs(p),null;case 19:if(Sn(uA),se=p.memoizedState,se===null)return Gs(p),null;if(M=(p.flags&128)!==0,_e=se.rendering,_e===null)if(M)lh(se,!1);else{if(Ji!==0||f!==null&&(f.flags&128)!==0)for(f=p.child;f!==null;){if(_e=Ro(f),_e!==null){for(p.flags|=128,lh(se,!1),M=_e.updateQueue,M!==null&&(p.updateQueue=M,p.flags|=4),p.subtreeFlags=0,M=E,E=p.child;E!==null;)se=E,f=M,se.flags&=14680066,_e=se.alternate,_e===null?(se.childLanes=0,se.lanes=f,se.child=null,se.subtreeFlags=0,se.memoizedProps=null,se.memoizedState=null,se.updateQueue=null,se.dependencies=null,se.stateNode=null):(se.childLanes=_e.childLanes,se.lanes=_e.lanes,se.child=_e.child,se.subtreeFlags=0,se.deletions=null,se.memoizedProps=_e.memoizedProps,se.memoizedState=_e.memoizedState,se.updateQueue=_e.updateQueue,se.type=_e.type,f=_e.dependencies,se.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),E=E.sibling;return tA(uA,uA.current&1|2),p.child}f=f.sibling}se.tail!==null&&Qr()>Id&&(p.flags|=128,M=!0,lh(se,!1),p.lanes=4194304)}else{if(!M)if(f=Ro(_e),f!==null){if(p.flags|=128,M=!0,E=f.updateQueue,E!==null&&(p.updateQueue=E,p.flags|=4),lh(se,!0),se.tail===null&&se.tailMode==="hidden"&&!_e.alternate&&!St)return Gs(p),null}else 2*Qr()-se.renderingStartTime>Id&&E!==1073741824&&(p.flags|=128,M=!0,lh(se,!1),p.lanes=4194304);se.isBackwards?(_e.sibling=p.child,p.child=_e):(E=se.last,E!==null?E.sibling=_e:p.child=_e,se.last=_e)}return se.tail!==null?(p=se.tail,se.rendering=p,se.tail=p.sibling,se.renderingStartTime=Qr(),p.sibling=null,E=uA.current,tA(uA,M?E&1|2:E&1),p):(Gs(p),null);case 22:case 23:return Z1(),M=p.memoizedState!==null,f!==null&&f.memoizedState!==null!==M&&(p.flags|=8192),M&&(p.mode&1)!==0?(ho&1073741824)!==0&&(Gs(p),p.subtreeFlags&6&&(p.flags|=8192)):Gs(p),null;case 24:return null;case 25:return null}throw Error(t(156,p.tag))}function lv(f,p){switch(Ye(p),p.tag){case 1:return lo(p.type)&&zp(),f=p.flags,f&65536?(p.flags=f&-65537|128,p):null;case 3:return Ya(),Sn(ao),Sn(Yi),Wp(),f=p.flags,(f&65536)!==0&&(f&128)===0?(p.flags=f&-65537|128,p):null;case 5:return tv(p),null;case 13:if(Sn(uA),f=p.memoizedState,f!==null&&f.dehydrated!==null){if(p.alternate===null)throw Error(t(340));Lt()}return f=p.flags,f&65536?(p.flags=f&-65537|128,p):null;case 19:return Sn(uA),null;case 4:return Ya(),null;case 10:return Bs(p.type._context),null;case 22:case 23:return Z1(),null;case 24:return null;default:return null}}var Nw=!1,co=!1,_U=typeof WeakSet=="function"?WeakSet:Set,fr=null;function ng(f,p){var E=f.ref;if(E!==null)if(typeof E=="function")try{E(null)}catch(M){R(f,p,M)}else E.current=null}function uv(f,p,E){try{E()}catch(M){R(f,p,M)}}var v2=!1;function SU(f,p){if(ic=Va,f=ks(),rc(f)){if("selectionStart"in f)var E={start:f.selectionStart,end:f.selectionEnd};else e:{E=(E=f.ownerDocument)&&E.defaultView||window;var M=E.getSelection&&E.getSelection();if(M&&M.rangeCount!==0){E=M.anchorNode;var q=M.anchorOffset,se=M.focusNode;M=M.focusOffset;try{E.nodeType,se.nodeType}catch{E=null;break e}var _e=0,je=-1,Xe=-1,vt=0,Mt=0,Kt=f,kt=null;t:for(;;){for(var ur;Kt!==E||q!==0&&Kt.nodeType!==3||(je=_e+q),Kt!==se||M!==0&&Kt.nodeType!==3||(Xe=_e+M),Kt.nodeType===3&&(_e+=Kt.nodeValue.length),(ur=Kt.firstChild)!==null;)kt=Kt,Kt=ur;for(;;){if(Kt===f)break t;if(kt===E&&++vt===q&&(je=_e),kt===se&&++Mt===M&&(Xe=_e),(ur=Kt.nextSibling)!==null)break;Kt=kt,kt=Kt.parentNode}Kt=ur}E=je===-1||Xe===-1?null:{start:je,end:Xe}}else E=null}E=E||{start:0,end:0}}else E=null;for(eh={focusedElem:f,selectionRange:E},Va=!1,fr=p;fr!==null;)if(p=fr,f=p.child,(p.subtreeFlags&1028)!==0&&f!==null)f.return=p,fr=f;else for(;fr!==null;){p=fr;try{var Cr=p.alternate;if((p.flags&1024)!==0)switch(p.tag){case 0:case 11:case 15:break;case 1:if(Cr!==null){var br=Cr.memoizedProps,es=Cr.memoizedState,gt=p.stateNode,st=gt.getSnapshotBeforeUpdate(p.elementType===p.type?br:kl(p.type,br),es);gt.__reactInternalSnapshotBeforeUpdate=st}break;case 3:var mt=p.stateNode.containerInfo;mt.nodeType===1?mt.textContent="":mt.nodeType===9&&mt.documentElement&&mt.removeChild(mt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Wt){R(p,p.return,Wt)}if(f=p.sibling,f!==null){f.return=p.return,fr=f;break}fr=p.return}return Cr=v2,v2=!1,Cr}function cv(f,p,E){var M=p.updateQueue;if(M=M!==null?M.lastEffect:null,M!==null){var q=M=M.next;do{if((q.tag&f)===f){var se=q.destroy;q.destroy=void 0,se!==void 0&&uv(p,E,se)}q=q.next}while(q!==M)}}function Rw(f,p){if(p=p.updateQueue,p=p!==null?p.lastEffect:null,p!==null){var E=p=p.next;do{if((E.tag&f)===f){var M=E.create;E.destroy=M()}E=E.next}while(E!==p)}}function j1(f){var p=f.ref;if(p!==null){var E=f.stateNode;switch(f.tag){case 5:f=E;break;default:f=E}typeof p=="function"?p(f):p.current=f}}function Pw(f){var p=f.alternate;p!==null&&(f.alternate=null,Pw(p)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(p=f.stateNode,p!==null&&(delete p[Nl],delete p[nf],delete p[oo],delete p[b1],delete p[Xm])),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}function Ow(f){return f.tag===5||f.tag===3||f.tag===4}function V1(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||Ow(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function K1(f,p,E){var M=f.tag;if(M===5||M===6)f=f.stateNode,p?E.nodeType===8?E.parentNode.insertBefore(f,p):E.insertBefore(f,p):(E.nodeType===8?(p=E.parentNode,p.insertBefore(f,E)):(p=E,p.appendChild(f)),E=E._reactRootContainer,E!=null||p.onclick!==null||(p.onclick=rf));else if(M!==4&&(f=f.child,f!==null))for(K1(f,p,E),f=f.sibling;f!==null;)K1(f,p,E),f=f.sibling}function G1(f,p,E){var M=f.tag;if(M===5||M===6)f=f.stateNode,p?E.insertBefore(f,p):E.appendChild(f);else if(M!==4&&(f=f.child,f!==null))for(G1(f,p,E),f=f.sibling;f!==null;)G1(f,p,E),f=f.sibling}var Cs=null,yu=!1;function pf(f,p,E){for(E=E.child;E!==null;)y2(f,p,E),E=E.sibling}function y2(f,p,E){if(Hi&&typeof Hi.onCommitFiberUnmount=="function")try{Hi.onCommitFiberUnmount(Qs,E)}catch{}switch(E.tag){case 5:co||ng(E,p);case 6:var M=Cs,q=yu;Cs=null,pf(f,p,E),Cs=M,yu=q,Cs!==null&&(yu?(f=Cs,E=E.stateNode,f.nodeType===8?f.parentNode.removeChild(E):f.removeChild(E)):Cs.removeChild(E.stateNode));break;case 18:Cs!==null&&(yu?(f=Cs,E=E.stateNode,f.nodeType===8?$m(f.parentNode,E):f.nodeType===1&&$m(f,E),zi(f)):$m(Cs,E.stateNode));break;case 4:M=Cs,q=yu,Cs=E.stateNode.containerInfo,yu=!0,pf(f,p,E),Cs=M,yu=q;break;case 0:case 11:case 14:case 15:if(!co&&(M=E.updateQueue,M!==null&&(M=M.lastEffect,M!==null))){q=M=M.next;do{var se=q,_e=se.destroy;se=se.tag,_e!==void 0&&((se&2)!==0||(se&4)!==0)&&uv(E,p,_e),q=q.next}while(q!==M)}pf(f,p,E);break;case 1:if(!co&&(ng(E,p),M=E.stateNode,typeof M.componentWillUnmount=="function"))try{M.props=E.memoizedProps,M.state=E.memoizedState,M.componentWillUnmount()}catch(je){R(E,p,je)}pf(f,p,E);break;case 21:pf(f,p,E);break;case 22:E.mode&1?(co=(M=co)||E.memoizedState!==null,pf(f,p,E),co=M):pf(f,p,E);break;default:pf(f,p,E)}}function w2(f){var p=f.updateQueue;if(p!==null){f.updateQueue=null;var E=f.stateNode;E===null&&(E=f.stateNode=new _U),p.forEach(function(M){var q=Se.bind(null,f,M);E.has(M)||(E.add(M),M.then(q,q))})}}function wu(f,p){var E=p.deletions;if(E!==null)for(var M=0;M<E.length;M++){var q=E[M];try{var se=f,_e=p,je=_e;e:for(;je!==null;){switch(je.tag){case 5:Cs=je.stateNode,yu=!1;break e;case 3:Cs=je.stateNode.containerInfo,yu=!0;break e;case 4:Cs=je.stateNode.containerInfo,yu=!0;break e}je=je.return}if(Cs===null)throw Error(t(160));y2(se,_e,q),Cs=null,yu=!1;var Xe=q.alternate;Xe!==null&&(Xe.return=null),q.return=null}catch(vt){R(q,p,vt)}}if(p.subtreeFlags&12854)for(p=p.child;p!==null;)kw(p,f),p=p.sibling}function kw(f,p){var E=f.alternate,M=f.flags;switch(f.tag){case 0:case 11:case 14:case 15:if(wu(p,f),hc(f),M&4){try{cv(3,f,f.return),Rw(3,f)}catch(br){R(f,f.return,br)}try{cv(5,f,f.return)}catch(br){R(f,f.return,br)}}break;case 1:wu(p,f),hc(f),M&512&&E!==null&&ng(E,E.return);break;case 5:if(wu(p,f),hc(f),M&512&&E!==null&&ng(E,E.return),f.flags&32){var q=f.stateNode;try{de(q,"")}catch(br){R(f,f.return,br)}}if(M&4&&(q=f.stateNode,q!=null)){var se=f.memoizedProps,_e=E!==null?E.memoizedProps:se,je=f.type,Xe=f.updateQueue;if(f.updateQueue=null,Xe!==null)try{je==="input"&&se.type==="radio"&&se.name!=null&&Le(q,se),gr(je,_e);var vt=gr(je,se);for(_e=0;_e<Xe.length;_e+=2){var Mt=Xe[_e],Kt=Xe[_e+1];Mt==="style"?Et(q,Kt):Mt==="dangerouslySetInnerHTML"?Ae(q,Kt):Mt==="children"?de(q,Kt):b(q,Mt,Kt,vt)}switch(je){case"input":Ut(q,se);break;case"textarea":At(q,se);break;case"select":var kt=q._wrapperState.wasMultiple;q._wrapperState.wasMultiple=!!se.multiple;var ur=se.value;ur!=null?ut(q,!!se.multiple,ur,!1):kt!==!!se.multiple&&(se.defaultValue!=null?ut(q,!!se.multiple,se.defaultValue,!0):ut(q,!!se.multiple,se.multiple?[]:"",!1))}q[nf]=se}catch(br){R(f,f.return,br)}}break;case 6:if(wu(p,f),hc(f),M&4){if(f.stateNode===null)throw Error(t(162));q=f.stateNode,se=f.memoizedProps;try{q.nodeValue=se}catch(br){R(f,f.return,br)}}break;case 3:if(wu(p,f),hc(f),M&4&&E!==null&&E.memoizedState.isDehydrated)try{zi(p.containerInfo)}catch(br){R(f,f.return,br)}break;case 4:wu(p,f),hc(f);break;case 13:wu(p,f),hc(f),q=f.child,q.flags&8192&&(se=q.memoizedState!==null,q.stateNode.isHidden=se,!se||q.alternate!==null&&q.alternate.memoizedState!==null||(dv=Qr())),M&4&&w2(f);break;case 22:if(Mt=E!==null&&E.memoizedState!==null,f.mode&1?(co=(vt=co)||Mt,wu(p,f),co=vt):wu(p,f),hc(f),M&8192){if(vt=f.memoizedState!==null,(f.stateNode.isHidden=vt)&&!Mt&&(f.mode&1)!==0)for(fr=f,Mt=f.child;Mt!==null;){for(Kt=fr=Mt;fr!==null;){switch(kt=fr,ur=kt.child,kt.tag){case 0:case 11:case 14:case 15:cv(4,kt,kt.return);break;case 1:ng(kt,kt.return);var Cr=kt.stateNode;if(typeof Cr.componentWillUnmount=="function"){M=kt,E=kt.return;try{p=M,Cr.props=p.memoizedProps,Cr.state=p.memoizedState,Cr.componentWillUnmount()}catch(br){R(M,E,br)}}break;case 5:ng(kt,kt.return);break;case 22:if(kt.memoizedState!==null){Sd(Kt);continue}}ur!==null?(ur.return=kt,fr=ur):Sd(Kt)}Mt=Mt.sibling}e:for(Mt=null,Kt=f;;){if(Kt.tag===5){if(Mt===null){Mt=Kt;try{q=Kt.stateNode,vt?(se=q.style,typeof se.setProperty=="function"?se.setProperty("display","none","important"):se.display="none"):(je=Kt.stateNode,Xe=Kt.memoizedProps.style,_e=Xe!=null&&Xe.hasOwnProperty("display")?Xe.display:null,je.style.display=He("display",_e))}catch(br){R(f,f.return,br)}}}else if(Kt.tag===6){if(Mt===null)try{Kt.stateNode.nodeValue=vt?"":Kt.memoizedProps}catch(br){R(f,f.return,br)}}else if((Kt.tag!==22&&Kt.tag!==23||Kt.memoizedState===null||Kt===f)&&Kt.child!==null){Kt.child.return=Kt,Kt=Kt.child;continue}if(Kt===f)break e;for(;Kt.sibling===null;){if(Kt.return===null||Kt.return===f)break e;Mt===Kt&&(Mt=null),Kt=Kt.return}Mt===Kt&&(Mt=null),Kt.sibling.return=Kt.return,Kt=Kt.sibling}}break;case 19:wu(p,f),hc(f),M&4&&w2(f);break;case 21:break;default:wu(p,f),hc(f)}}function hc(f){var p=f.flags;if(p&2){try{e:{for(var E=f.return;E!==null;){if(Ow(E)){var M=E;break e}E=E.return}throw Error(t(160))}switch(M.tag){case 5:var q=M.stateNode;M.flags&32&&(de(q,""),M.flags&=-33);var se=V1(f);G1(f,se,q);break;case 3:case 4:var _e=M.stateNode.containerInfo,je=V1(f);K1(f,je,_e);break;default:throw Error(t(161))}}catch(Xe){R(f,f.return,Xe)}f.flags&=-3}p&4096&&(f.flags&=-4097)}function z1(f,p,E){fr=f,B2(f)}function B2(f,p,E){for(var M=(f.mode&1)!==0;fr!==null;){var q=fr,se=q.child;if(q.tag===22&&M){var _e=q.memoizedState!==null||Nw;if(!_e){var je=q.alternate,Xe=je!==null&&je.memoizedState!==null||co;je=Nw;var vt=co;if(Nw=_e,(co=Xe)&&!vt)for(fr=q;fr!==null;)_e=fr,Xe=_e.child,_e.tag===22&&_e.memoizedState!==null?hv(q):Xe!==null?(Xe.return=_e,fr=Xe):hv(q);for(;se!==null;)fr=se,B2(se),se=se.sibling;fr=q,Nw=je,co=vt}ir(f)}else(q.subtreeFlags&8772)!==0&&se!==null?(se.return=q,fr=se):ir(f)}}function ir(f){for(;fr!==null;){var p=fr;if((p.flags&8772)!==0){var E=p.alternate;try{if((p.flags&8772)!==0)switch(p.tag){case 0:case 11:case 15:co||Rw(5,p);break;case 1:var M=p.stateNode;if(p.flags&4&&!co)if(E===null)M.componentDidMount();else{var q=p.elementType===p.type?E.memoizedProps:kl(p.type,E.memoizedProps);M.componentDidUpdate(q,E.memoizedState,M.__reactInternalSnapshotBeforeUpdate)}var se=p.updateQueue;se!==null&&Ah(p,se,M);break;case 3:var _e=p.updateQueue;if(_e!==null){if(E=null,p.child!==null)switch(p.child.tag){case 5:E=p.child.stateNode;break;case 1:E=p.child.stateNode}Ah(p,_e,E)}break;case 5:var je=p.stateNode;if(E===null&&p.flags&4){E=je;var Xe=p.memoizedProps;switch(p.type){case"button":case"input":case"select":case"textarea":Xe.autoFocus&&E.focus();break;case"img":Xe.src&&(E.src=Xe.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(p.memoizedState===null){var vt=p.alternate;if(vt!==null){var Mt=vt.memoizedState;if(Mt!==null){var Kt=Mt.dehydrated;Kt!==null&&zi(Kt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}co||p.flags&512&&j1(p)}catch(kt){R(p,p.return,kt)}}if(p===f){fr=null;break}if(E=p.sibling,E!==null){E.return=p.return,fr=E;break}fr=p.return}}function Sd(f){for(;fr!==null;){var p=fr;if(p===f){fr=null;break}var E=p.sibling;if(E!==null){E.return=p.return,fr=E;break}fr=p.return}}function hv(f){for(;fr!==null;){var p=fr;try{switch(p.tag){case 0:case 11:case 15:var E=p.return;try{Rw(4,p)}catch(Xe){R(p,E,Xe)}break;case 1:var M=p.stateNode;if(typeof M.componentDidMount=="function"){var q=p.return;try{M.componentDidMount()}catch(Xe){R(p,q,Xe)}}var se=p.return;try{j1(p)}catch(Xe){R(p,se,Xe)}break;case 5:var _e=p.return;try{j1(p)}catch(Xe){R(p,_e,Xe)}}}catch(Xe){R(p,p.return,Xe)}if(p===f){fr=null;break}var je=p.sibling;if(je!==null){je.return=p.return,fr=je;break}fr=p.return}}var Dl=Math.ceil,Dw=B.ReactCurrentDispatcher,Kn=B.ReactCurrentOwner,Bn=B.ReactCurrentBatchConfig,dn=0,bs=null,Ai=null,zs=0,ho=0,Ag=$a(0),Ji=0,ig=null,Fd=0,fv=0,q1=0,sg=null,ko=null,dv=0,Id=1/0,uh=null,pv=!1,W1=null,gf=null,Mw=!1,Bu=null,Do=0,og=0,ag=null,Hw=-1,jw=0;function qs(){return(dn&6)!==0?Qr():Hw!==-1?Hw:Hw=Qr()}function rl(f){return(f.mode&1)===0?1:(dn&2)!==0&&zs!==0?zs&-zs:rA.transition!==null?(jw===0&&(jw=Bl()),jw):(f=on,f!==0||(f=window.event,f=f===void 0?16:Yu(f.type)),f)}function ya(f,p,E,M){if(50<og)throw og=0,ag=null,Error(t(185));Ha(f,E,M),((dn&2)===0||f!==bs)&&(f===bs&&((dn&2)===0&&(fv|=E),Ji===4&&mf(f,zs)),wa(f,M),E===1&&dn===0&&(p.mode&1)===0&&(Id=Qr()+500,md&&ue()))}function wa(f,p){var E=f.callbackNode;VA(f,p);var M=ji(f,f===bs?zs:0);if(M===0)E!==null&&tr(E),f.callbackNode=null,f.callbackPriority=0;else if(p=M&-M,f.callbackPriority!==p){if(E!=null&&tr(E),p===1)f.tag===0?W(Y1.bind(null,f)):j(Y1.bind(null,f)),B1(function(){(dn&6)===0&&ue()}),E=null;else{switch(Ls(M)){case 1:E=Zn;break;case 4:E=li;break;case 16:E=NA;break;case 536870912:E=Ts;break;default:E=NA}E=Ne(E,xd.bind(null,f))}f.callbackPriority=p,f.callbackNode=E}}function xd(f,p){if(Hw=-1,jw=0,(dn&6)!==0)throw Error(t(327));var E=f.callbackNode;if(Q()&&f.callbackNode!==E)return null;var M=ji(f,f===bs?zs:0);if(M===0)return null;if((M&30)!==0||(M&f.expiredLanes)!==0||p)p=Vw(f,M);else{p=M;var q=dn;dn|=2;var se=E2();(bs!==f||zs!==p)&&(uh=null,Id=Qr()+500,Td(f,p));do try{IU();break}catch(je){b2(f,je)}while(!0);wi(),Dw.current=se,dn=q,Ai!==null?p=0:(bs=null,zs=0,p=Ji)}if(p!==0){if(p===2&&(q=Vi(f),q!==0&&(M=q,p=$1(f,q))),p===1)throw E=ig,Td(f,0),mf(f,M),wa(f,Qr()),E;if(p===6)mf(f,M);else{if(q=f.current.alternate,(M&30)===0&&!C2(q)&&(p=Vw(f,M),p===2&&(se=Vi(f),se!==0&&(M=se,p=$1(f,se))),p===1))throw E=ig,Td(f,0),mf(f,M),wa(f,Qr()),E;switch(f.finishedWork=q,f.finishedLanes=M,p){case 0:case 1:throw Error(t(345));case 2:Qd(f,ko,uh);break;case 3:if(mf(f,M),(M&130023424)===M&&(p=dv+500-Qr(),10<p)){if(ji(f,0)!==0)break;if(q=f.suspendedLanes,(q&M)!==M){qs(),f.pingedLanes|=f.suspendedLanes&q;break}f.timeoutHandle=Wm(Qd.bind(null,f,ko,uh),p);break}Qd(f,ko,uh);break;case 4:if(mf(f,M),(M&4194240)===M)break;for(p=f.eventTimes,q=-1;0<M;){var _e=31-ei(M);se=1<<_e,_e=p[_e],_e>q&&(q=_e),M&=~se}if(M=q,M=Qr()-M,M=(120>M?120:480>M?480:1080>M?1080:1920>M?1920:3e3>M?3e3:4320>M?4320:1960*Dl(M/1960))-M,10<M){f.timeoutHandle=Wm(Qd.bind(null,f,ko,uh),M);break}Qd(f,ko,uh);break;case 5:Qd(f,ko,uh);break;default:throw Error(t(329))}}}return wa(f,Qr()),f.callbackNode===E?xd.bind(null,f):null}function $1(f,p){var E=sg;return f.current.memoizedState.isDehydrated&&(Td(f,p).flags|=256),f=Vw(f,p),f!==2&&(p=ko,ko=E,p!==null&&X1(p)),f}function X1(f){ko===null?ko=f:ko.push.apply(ko,f)}function C2(f){for(var p=f;;){if(p.flags&16384){var E=p.updateQueue;if(E!==null&&(E=E.stores,E!==null))for(var M=0;M<E.length;M++){var q=E[M],se=q.getSnapshot;q=q.value;try{if(!Pn(se(),q))return!1}catch{return!1}}}if(E=p.child,p.subtreeFlags&16384&&E!==null)E.return=p,p=E;else{if(p===f)break;for(;p.sibling===null;){if(p.return===null||p.return===f)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function mf(f,p){for(p&=~q1,p&=~fv,f.suspendedLanes|=p,f.pingedLanes&=~p,f=f.expirationTimes;0<p;){var E=31-ei(p),M=1<<E;f[E]=-1,p&=~M}}function Y1(f){if((dn&6)!==0)throw Error(t(327));Q();var p=ji(f,0);if((p&1)===0)return wa(f,Qr()),null;var E=Vw(f,p);if(f.tag!==0&&E===2){var M=Vi(f);M!==0&&(p=M,E=$1(f,M))}if(E===1)throw E=ig,Td(f,0),mf(f,p),wa(f,Qr()),E;if(E===6)throw Error(t(345));return f.finishedWork=f.current.alternate,f.finishedLanes=p,Qd(f,ko,uh),wa(f,Qr()),null}function J1(f,p){var E=dn;dn|=1;try{return f(p)}finally{dn=E,dn===0&&(Id=Qr()+500,md&&ue())}}function Ud(f){Bu!==null&&Bu.tag===0&&(dn&6)===0&&Q();var p=dn;dn|=1;var E=Bn.transition,M=on;try{if(Bn.transition=null,on=1,f)return f()}finally{on=M,Bn.transition=E,dn=p,(dn&6)===0&&ue()}}function Z1(){ho=Ag.current,Sn(Ag)}function Td(f,p){f.finishedWork=null,f.finishedLanes=0;var E=f.timeoutHandle;if(E!==-1&&(f.timeoutHandle=-1,ww(E)),Ai!==null)for(E=Ai.return;E!==null;){var M=E;switch(Ye(M),M.tag){case 1:M=M.type.childContextTypes,M!=null&&zp();break;case 3:Ya(),Sn(ao),Sn(Yi),Wp();break;case 5:tv(M);break;case 4:Ya();break;case 13:Sn(uA);break;case 19:Sn(uA);break;case 10:Bs(M.type._context);break;case 22:case 23:Z1()}E=E.return}if(bs=f,Ai=f=er(f.current,null),zs=ho=p,Ji=0,ig=null,q1=fv=Fd=0,ko=sg=null,Vs!==null){for(p=0;p<Vs.length;p++)if(E=Vs[p],M=E.interleaved,M!==null){E.interleaved=null;var q=M.next,se=E.pending;if(se!==null){var _e=se.next;se.next=q,M.next=_e}E.pending=M}Vs=null}return f}function b2(f,p){do{var E=Ai;try{if(wi(),yd.current=iv,of){for(var M=cA.memoizedState;M!==null;){var q=M.queue;q!==null&&(q.pending=null),M=M.next}of=!1}if(Ja=0,ni=ci=cA=null,hi=!1,cc=0,Kn.current=null,E===null||E.return===null){Ji=1,ig=p,Ai=null;break}e:{var se=f,_e=E.return,je=E,Xe=p;if(p=zs,je.flags|=32768,Xe!==null&&typeof Xe=="object"&&typeof Xe.then=="function"){var vt=Xe,Mt=je,Kt=Mt.tag;if((Mt.mode&1)===0&&(Kt===0||Kt===11||Kt===15)){var kt=Mt.alternate;kt?(Mt.updateQueue=kt.updateQueue,Mt.memoizedState=kt.memoizedState,Mt.lanes=kt.lanes):(Mt.updateQueue=null,Mt.memoizedState=null)}var ur=f2(_e);if(ur!==null){ur.flags&=-257,L1(ur,_e,je,se,p),ur.mode&1&&h2(se,vt,p),p=ur,Xe=vt;var Cr=p.updateQueue;if(Cr===null){var br=new Set;br.add(Xe),p.updateQueue=br}else Cr.add(Xe);break e}else{if((p&1)===0){h2(se,vt,p),eC();break e}Xe=Error(t(426))}}else if(St&&je.mode&1){var es=f2(_e);if(es!==null){(es.flags&65536)===0&&(es.flags|=256),L1(es,_e,je,se,p),$n(_d(Xe,je));break e}}se=Xe=_d(Xe,je),Ji!==4&&(Ji=2),sg===null?sg=[se]:sg.push(se),se=_e;do{switch(se.tag){case 3:se.flags|=65536,p&=-p,se.lanes|=p;var gt=u2(se,Xe,p);va(se,gt);break e;case 1:je=Xe;var st=se.type,mt=se.stateNode;if((se.flags&128)===0&&(typeof st.getDerivedStateFromError=="function"||mt!==null&&typeof mt.componentDidCatch=="function"&&(gf===null||!gf.has(mt)))){se.flags|=65536,p&=-p,se.lanes|=p;var Wt=c2(se,je,p);va(se,Wt);break e}}se=se.return}while(se!==null)}S2(E)}catch(Sr){p=Sr,Ai===E&&E!==null&&(Ai=E=E.return);continue}break}while(!0)}function E2(){var f=Dw.current;return Dw.current=iv,f===null?iv:f}function eC(){(Ji===0||Ji===3||Ji===2)&&(Ji=4),bs===null||(Fd&268435455)===0&&(fv&268435455)===0||mf(bs,zs)}function Vw(f,p){var E=dn;dn|=2;var M=E2();(bs!==f||zs!==p)&&(uh=null,Td(f,p));do try{FU();break}catch(q){b2(f,q)}while(!0);if(wi(),dn=E,Dw.current=M,Ai!==null)throw Error(t(261));return bs=null,zs=0,Ji}function FU(){for(;Ai!==null;)_2(Ai)}function IU(){for(;Ai!==null&&!sn();)_2(Ai)}function _2(f){var p=Re(f.alternate,f,ho);f.memoizedProps=f.pendingProps,p===null?S2(f):Ai=p,Kn.current=null}function S2(f){var p=f;do{var E=p.alternate;if(f=p.return,(p.flags&32768)===0){if(E=m2(E,p,ho),E!==null){Ai=E;return}}else{if(E=lv(E,p),E!==null){E.flags&=32767,Ai=E;return}if(f!==null)f.flags|=32768,f.subtreeFlags=0,f.deletions=null;else{Ji=6,Ai=null;return}}if(p=p.sibling,p!==null){Ai=p;return}Ai=p=f}while(p!==null);Ji===0&&(Ji=5)}function Qd(f,p,E){var M=on,q=Bn.transition;try{Bn.transition=null,on=1,xU(f,p,E,M)}finally{Bn.transition=q,on=M}return null}function xU(f,p,E,M){do Q();while(Bu!==null);if((dn&6)!==0)throw Error(t(327));E=f.finishedWork;var q=f.finishedLanes;if(E===null)return null;if(f.finishedWork=null,f.finishedLanes=0,E===f.current)throw Error(t(177));f.callbackNode=null,f.callbackPriority=0;var se=E.lanes|E.childLanes;if(Wn(f,se),f===bs&&(Ai=bs=null,zs=0),(E.subtreeFlags&2064)===0&&(E.flags&2064)===0||Mw||(Mw=!0,Ne(NA,function(){return Q(),null})),se=(E.flags&15990)!==0,(E.subtreeFlags&15990)!==0||se){se=Bn.transition,Bn.transition=null;var _e=on;on=1;var je=dn;dn|=4,Kn.current=null,SU(f,E),kw(E,f),$c(eh),Va=!!ic,eh=ic=null,f.current=E,z1(E),pA(),dn=je,on=_e,Bn.transition=se}else f.current=E;if(Mw&&(Mw=!1,Bu=f,Do=q),se=f.pendingLanes,se===0&&(gf=null),fs(E.stateNode),wa(f,Qr()),p!==null)for(M=f.onRecoverableError,E=0;E<p.length;E++)q=p[E],M(q.value,{componentStack:q.stack,digest:q.digest});if(pv)throw pv=!1,f=W1,W1=null,f;return(Do&1)!==0&&f.tag!==0&&Q(),se=f.pendingLanes,(se&1)!==0?f===ag?og++:(og=0,ag=f):og=0,ue(),null}function Q(){if(Bu!==null){var f=Ls(Do),p=Bn.transition,E=on;try{if(Bn.transition=null,on=16>f?16:f,Bu===null)var M=!1;else{if(f=Bu,Bu=null,Do=0,(dn&6)!==0)throw Error(t(331));var q=dn;for(dn|=4,fr=f.current;fr!==null;){var se=fr,_e=se.child;if((fr.flags&16)!==0){var je=se.deletions;if(je!==null){for(var Xe=0;Xe<je.length;Xe++){var vt=je[Xe];for(fr=vt;fr!==null;){var Mt=fr;switch(Mt.tag){case 0:case 11:case 15:cv(8,Mt,se)}var Kt=Mt.child;if(Kt!==null)Kt.return=Mt,fr=Kt;else for(;fr!==null;){Mt=fr;var kt=Mt.sibling,ur=Mt.return;if(Pw(Mt),Mt===vt){fr=null;break}if(kt!==null){kt.return=ur,fr=kt;break}fr=ur}}}var Cr=se.alternate;if(Cr!==null){var br=Cr.child;if(br!==null){Cr.child=null;do{var es=br.sibling;br.sibling=null,br=es}while(br!==null)}}fr=se}}if((se.subtreeFlags&2064)!==0&&_e!==null)_e.return=se,fr=_e;else e:for(;fr!==null;){if(se=fr,(se.flags&2048)!==0)switch(se.tag){case 0:case 11:case 15:cv(9,se,se.return)}var gt=se.sibling;if(gt!==null){gt.return=se.return,fr=gt;break e}fr=se.return}}var st=f.current;for(fr=st;fr!==null;){_e=fr;var mt=_e.child;if((_e.subtreeFlags&2064)!==0&&mt!==null)mt.return=_e,fr=mt;else e:for(_e=st;fr!==null;){if(je=fr,(je.flags&2048)!==0)try{switch(je.tag){case 0:case 11:case 15:Rw(9,je)}}catch(Sr){R(je,je.return,Sr)}if(je===_e){fr=null;break e}var Wt=je.sibling;if(Wt!==null){Wt.return=je.return,fr=Wt;break e}fr=je.return}}if(dn=q,ue(),Hi&&typeof Hi.onPostCommitFiberRoot=="function")try{Hi.onPostCommitFiberRoot(Qs,f)}catch{}M=!0}return M}finally{on=E,Bn.transition=p}}return!1}function I(f,p,E){p=_d(E,p),p=u2(f,p,1),f=ma(f,p,1),p=qs(),f!==null&&(Ha(f,1,p),wa(f,p))}function R(f,p,E){if(f.tag===3)I(f,f,E);else for(;p!==null;){if(p.tag===3){I(p,f,E);break}else if(p.tag===1){var M=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof M.componentDidCatch=="function"&&(gf===null||!gf.has(M))){f=_d(E,f),f=c2(p,f,1),p=ma(p,f,1),f=qs(),p!==null&&(Ha(p,1,f),wa(p,f));break}}p=p.return}}function P(f,p,E){var M=f.pingCache;M!==null&&M.delete(p),p=qs(),f.pingedLanes|=f.suspendedLanes&E,bs===f&&(zs&E)===E&&(Ji===4||Ji===3&&(zs&130023424)===zs&&500>Qr()-dv?Td(f,0):q1|=E),wa(f,p)}function ee(f,p){p===0&&((f.mode&1)===0?p=1:(p=So,So<<=1,(So&130023424)===0&&(So=4194304)));var E=qs();f=Vn(f,p),f!==null&&(Ha(f,p,E),wa(f,E))}function fe(f){var p=f.memoizedState,E=0;p!==null&&(E=p.retryLane),ee(f,E)}function Se(f,p){var E=0;switch(f.tag){case 13:var M=f.stateNode,q=f.memoizedState;q!==null&&(E=q.retryLane);break;case 19:M=f.stateNode;break;default:throw Error(t(314))}M!==null&&M.delete(p),ee(f,E)}var Re;Re=function(f,p,E){if(f!==null)if(f.memoizedProps!==p.pendingProps||ao.current)Oo=!0;else{if((f.lanes&E)===0&&(p.flags&128)===0)return Oo=!1,ah(f,p,E);Oo=(f.flags&131072)!==0}else Oo=!1,St&&(p.flags&1048576)!==0&&bt(p,Ue,p.index);switch(p.lanes=0,p.tag){case 2:var M=p.type;vu(f,p),f=p.pendingProps;var q=sf(p,Yi.current);FA(p,E),q=Bd(null,p,M,f,q,E);var se=Ol();return p.flags|=1,typeof q=="object"&&q!==null&&typeof q.render=="function"&&q.$$typeof===void 0?(p.tag=1,p.memoizedState=null,p.updateQueue=null,lo(M)?(se=!0,nh(p)):se=!1,p.memoizedState=q.state!==null&&q.state!==void 0?q.state:null,qp(p),q.updater=Ed,p.stateNode=q,q._reactInternals=p,Q1(p,M,f,E),p=Uw(null,p,M,!0,se,E)):(p.tag=0,St&&se&&wt(p),uo(null,p,q,E),p=p.child),p;case 16:M=p.elementType;e:{switch(vu(f,p),f=p.pendingProps,q=M._init,M=q(M._payload),p.type=M,q=p.tag=It(M),f=kl(M,f),q){case 0:p=rg(null,p,M,f,E);break e;case 1:p=O1(null,p,M,f,E);break e;case 11:p=xw(null,p,M,f,E);break e;case 14:p=R1(null,p,M,kl(M.type,f),E);break e}throw Error(t(306,M,""))}return p;case 0:return M=p.type,q=p.pendingProps,q=p.elementType===M?q:kl(M,q),rg(f,p,M,q,E);case 1:return M=p.type,q=p.pendingProps,q=p.elementType===M?q:kl(M,q),O1(f,p,M,q,E);case 3:e:{if(p2(p),f===null)throw Error(t(387));M=p.pendingProps,se=p.memoizedState,q=se.element,Zm(f,p),du(p,M,null,E);var _e=p.memoizedState;if(M=_e.element,se.isDehydrated)if(se={element:M,isDehydrated:!1,cache:_e.cache,pendingSuspenseBoundaries:_e.pendingSuspenseBoundaries,transitions:_e.transitions},p.updateQueue.baseState=se,p.memoizedState=se,p.flags&256){q=_d(Error(t(423)),p),p=k1(f,p,M,E,q);break e}else if(M!==q){q=_d(Error(t(424)),p),p=k1(f,p,M,E,q);break e}else for(Ft=Hs(p.stateNode.containerInfo.firstChild),Je=p,St=!0,xt=null,E=wn(p,null,M,E),p.child=E;E;)E.flags=E.flags&-3|4096,E=E.sibling;else{if(Lt(),M===q){p=tl(f,p,E);break e}uo(f,p,M,E)}p=p.child}return p;case 5:return ev(p),f===null&&Zt(p),M=p.type,q=p.pendingProps,se=f!==null?f.memoizedProps:null,_e=q.children,qm(M,q)?_e=null:se!==null&&qm(M,se)&&(p.flags|=32),ov(f,p),uo(f,p,_e,E),p.child;case 6:return f===null&&Zt(p),null;case 13:return g2(f,p,E);case 4:return uc(p,p.stateNode.containerInfo),M=p.pendingProps,f===null?p.child=kA(p,null,M,E):uo(f,p,M,E),p.child;case 11:return M=p.type,q=p.pendingProps,q=p.elementType===M?q:kl(M,q),xw(f,p,M,q,E);case 7:return uo(f,p,p.pendingProps,E),p.child;case 8:return uo(f,p,p.pendingProps.children,E),p.child;case 12:return uo(f,p,p.pendingProps.children,E),p.child;case 10:e:{if(M=p.type._context,q=p.pendingProps,se=p.memoizedProps,_e=q.value,tA(ys,M._currentValue),M._currentValue=_e,se!==null)if(Pn(se.value,_e)){if(se.children===q.children&&!ao.current){p=tl(f,p,E);break e}}else for(se=p.child,se!==null&&(se.return=p);se!==null;){var je=se.dependencies;if(je!==null){_e=se.child;for(var Xe=je.firstContext;Xe!==null;){if(Xe.context===M){if(se.tag===1){Xe=ga(-1,E&-E),Xe.tag=2;var vt=se.updateQueue;if(vt!==null){vt=vt.shared;var Mt=vt.pending;Mt===null?Xe.next=Xe:(Xe.next=Mt.next,Mt.next=Xe),vt.pending=Xe}}se.lanes|=E,Xe=se.alternate,Xe!==null&&(Xe.lanes|=E),pa(se.return,E,p),je.lanes|=E;break}Xe=Xe.next}}else if(se.tag===10)_e=se.type===p.type?null:se.child;else if(se.tag===18){if(_e=se.return,_e===null)throw Error(t(341));_e.lanes|=E,je=_e.alternate,je!==null&&(je.lanes|=E),pa(_e,E,p),_e=se.sibling}else _e=se.child;if(_e!==null)_e.return=se;else for(_e=se;_e!==null;){if(_e===p){_e=null;break}if(se=_e.sibling,se!==null){se.return=_e.return,_e=se;break}_e=_e.return}se=_e}uo(f,p,q.children,E),p=p.child}return p;case 9:return q=p.type,M=p.pendingProps.children,FA(p,E),q=ui(q),M=M(q),p.flags|=1,uo(f,p,M,E),p.child;case 14:return M=p.type,q=kl(M,p.pendingProps),q=kl(M.type,q),R1(f,p,M,q,E);case 15:return P1(f,p,p.type,p.pendingProps,E);case 17:return M=p.type,q=p.pendingProps,q=p.elementType===M?q:kl(M,q),vu(f,p),p.tag=1,lo(M)?(f=!0,nh(p)):f=!1,FA(p,E),T1(p,M,q),Q1(p,M,q,E),Uw(null,p,M,!0,f,E);case 19:return oh(f,p,E);case 22:return d2(f,p,E)}throw Error(t(156,p.tag))};function Ne(f,p){return Ot(f,p)}function Ze(f,p,E,M){this.tag=f,this.key=E,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=M,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tt(f,p,E,M){return new Ze(f,p,E,M)}function ft(f){return f=f.prototype,!(!f||!f.isReactComponent)}function It(f){if(typeof f=="function")return ft(f)?1:0;if(f!=null){if(f=f.$$typeof,f===L)return 11;if(f===$)return 14}return 2}function er(f,p){var E=f.alternate;return E===null?(E=tt(f.tag,p,f.key,f.mode),E.elementType=f.elementType,E.type=f.type,E.stateNode=f.stateNode,E.alternate=f,f.alternate=E):(E.pendingProps=p,E.type=f.type,E.flags=0,E.subtreeFlags=0,E.deletions=null),E.flags=f.flags&14680064,E.childLanes=f.childLanes,E.lanes=f.lanes,E.child=f.child,E.memoizedProps=f.memoizedProps,E.memoizedState=f.memoizedState,E.updateQueue=f.updateQueue,p=f.dependencies,E.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},E.sibling=f.sibling,E.index=f.index,E.ref=f.ref,E}function Gt(f,p,E,M,q,se){var _e=2;if(M=f,typeof f=="function")ft(f)&&(_e=1);else if(typeof f=="string")_e=5;else e:switch(f){case T:return Jt(E.children,q,se,p);case U:_e=8,q|=8;break;case k:return f=tt(12,E,p,q|2),f.elementType=k,f.lanes=se,f;case O:return f=tt(13,E,p,q),f.elementType=O,f.lanes=se,f;case V:return f=tt(19,E,p,q),f.elementType=V,f.lanes=se,f;case re:return Wr(E,q,se,p);default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case D:_e=10;break e;case _:_e=9;break e;case L:_e=11;break e;case $:_e=14;break e;case Y:_e=16,M=null;break e}throw Error(t(130,f==null?f:typeof f,""))}return p=tt(_e,E,p,q),p.elementType=f,p.type=M,p.lanes=se,p}function Jt(f,p,E,M){return f=tt(7,f,M,p),f.lanes=E,f}function Wr(f,p,E,M){return f=tt(22,f,M,p),f.elementType=re,f.lanes=E,f.stateNode={isHidden:!1},f}function yr(f,p,E){return f=tt(6,f,null,p),f.lanes=E,f}function dr(f,p,E){return p=tt(4,f.children!==null?f.children:[],f.key,p),p.lanes=E,p.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},p}function Gn(f,p,E,M,q){this.tag=p,this.containerInfo=f,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cl(0),this.expirationTimes=Cl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cl(0),this.identifierPrefix=M,this.onRecoverableError=q,this.mutableSourceEagerHydrationData=null}function Yr(f,p,E,M,q,se,_e,je,Xe){return f=new Gn(f,p,E,je,Xe),p===1?(p=1,se===!0&&(p|=8)):p=0,se=tt(3,null,null,p),f.current=se,se.stateNode=f,se.memoizedState={element:M,isDehydrated:E,cache:null,transitions:null,pendingSuspenseBoundaries:null},qp(se),f}function Hr(f,p,E){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:N,key:M==null?null:""+M,children:f,containerInfo:p,implementation:E}}function sr(f){if(!f)return sc;f=f._reactInternals;e:{if(oA(f)!==f||f.tag!==1)throw Error(t(170));var p=f;do{switch(p.tag){case 3:p=p.stateNode.context;break e;case 1:if(lo(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break e}}p=p.return}while(p!==null);throw Error(t(171))}if(f.tag===1){var E=f.type;if(lo(E))return Jm(f,E,p)}return p}function Cn(f,p,E,M,q,se,_e,je,Xe){return f=Yr(E,M,!0,f,q,se,_e,je,Xe),f.context=sr(null),E=f.current,M=qs(),q=rl(E),se=ga(M,q),se.callback=p??null,ma(E,se,q),f.current.lanes=q,Ha(f,q,M),wa(f,M),f}function cn(f,p,E,M){var q=p.current,se=qs(),_e=rl(q);return E=sr(E),p.context===null?p.context=E:p.pendingContext=E,p=ga(se,_e),p.payload={element:f},M=M===void 0?null:M,M!==null&&(p.callback=M),f=ma(q,p,_e),f!==null&&(ya(f,q,_e,se),ac(f,q,_e)),_e}function kr(f){if(f=f.current,!f.child)return null;switch(f.child.tag){case 5:return f.child.stateNode;default:return f.child.stateNode}}function Ei(f,p){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var E=f.retryLane;f.retryLane=E!==0&&E<p?E:p}}function fo(f,p){Ei(f,p),(f=f.alternate)&&Ei(f,p)}function nl(){return null}var iA=typeof reportError=="function"?reportError:function(f){console.error(f)};function Zi(f){this._internalRoot=f}Cu.prototype.render=Zi.prototype.render=function(f){var p=this._internalRoot;if(p===null)throw Error(t(409));cn(f,p,null,null)},Cu.prototype.unmount=Zi.prototype.unmount=function(){var f=this._internalRoot;if(f!==null){this._internalRoot=null;var p=f.containerInfo;Ud(function(){cn(null,f,null,null)}),p[Xi]=null}};function Cu(f){this._internalRoot=f}Cu.prototype.unstable_scheduleHydration=function(f){if(f){var p=ra();f={blockedOn:null,target:f,priority:p};for(var E=0;E<Aa.length&&p!==0&&p<Aa[E].priority;E++);Aa.splice(E,0,f),E===0&&Gi(f)}};function po(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)}function Ws(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11&&(f.nodeType!==8||f.nodeValue!==" react-mount-point-unstable "))}function vf(){}function fc(f,p,E,M,q){if(q){if(typeof M=="function"){var se=M;M=function(){var vt=kr(_e);se.call(vt)}}var _e=Cn(p,M,f,0,null,!1,!1,"",vf);return f._reactRootContainer=_e,f[Xi]=_e.current,Jc(f.nodeType===8?f.parentNode:f),Ud(),_e}for(;q=f.lastChild;)f.removeChild(q);if(typeof M=="function"){var je=M;M=function(){var vt=kr(Xe);je.call(vt)}}var Xe=Yr(f,0,!1,null,null,!1,!1,"",vf);return f._reactRootContainer=Xe,f[Xi]=Xe.current,Jc(f.nodeType===8?f.parentNode:f),Ud(function(){cn(p,Xe,E,M)}),Xe}function bu(f,p,E,M,q){var se=E._reactRootContainer;if(se){var _e=se;if(typeof q=="function"){var je=q;q=function(){var Xe=kr(_e);je.call(Xe)}}cn(p,_e,f,q)}else _e=fc(E,p,f,q,M);return kr(_e)}Xh=function(f){switch(f.tag){case 3:var p=f.stateNode;if(p.current.memoizedState.isDehydrated){var E=ro(p.pendingLanes);E!==0&&(ja(p,E|1),wa(p,Qr()),(dn&6)===0&&(Id=Qr()+500,ue()))}break;case 13:Ud(function(){var M=Vn(f,1);if(M!==null){var q=qs();ya(M,f,1,q)}}),fo(f,1)}},nu=function(f){if(f.tag===13){var p=Vn(f,134217728);if(p!==null){var E=qs();ya(p,f,134217728,E)}fo(f,134217728)}},Yh=function(f){if(f.tag===13){var p=rl(f),E=Vn(f,p);if(E!==null){var M=qs();ya(E,f,p,M)}fo(f,p)}},ra=function(){return on},bl=function(f,p){var E=on;try{return on=f,p()}finally{on=E}},Lr=function(f,p,E){switch(p){case"input":if(Ut(f,E),p=E.name,E.type==="radio"&&p!=null){for(E=f;E.parentNode;)E=E.parentNode;for(E=E.querySelectorAll("input[name="+JSON.stringify(""+p)+'][type="radio"]'),p=0;p<E.length;p++){var M=E[p];if(M!==f&&M.form===f.form){var q=gd(M);if(!q)throw Error(t(90));et(M),Ut(M,q)}}}break;case"textarea":At(f,E);break;case"select":p=E.value,p!=null&&ut(f,!!E.multiple,p,!1)}},xr=J1,Gr=Ud;var Ld={usingClientEntryPoint:!1,Events:[Af,th,gd,Pt,Vt,J1]},Eu={findFiberByHostInstance:Wa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ch={bundleType:Eu.bundleType,version:Eu.version,rendererPackageName:Eu.rendererPackageName,rendererConfig:Eu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:B.ReactCurrentDispatcher,findHostInstanceByFiber:function(f){return f=nr(f),f===null?null:f.stateNode},findFiberByHostInstance:Eu.findFiberByHostInstance||nl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dc.isDisabled&&dc.supportsFiber)try{Qs=dc.inject(ch),Hi=dc}catch{}}return Ml.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ld,Ml.createPortal=function(f,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!po(p))throw Error(t(200));return Hr(f,p,null,E)},Ml.createRoot=function(f,p){if(!po(f))throw Error(t(299));var E=!1,M="",q=iA;return p!=null&&(p.unstable_strictMode===!0&&(E=!0),p.identifierPrefix!==void 0&&(M=p.identifierPrefix),p.onRecoverableError!==void 0&&(q=p.onRecoverableError)),p=Yr(f,1,!1,null,null,E,!1,M,q),f[Xi]=p.current,Jc(f.nodeType===8?f.parentNode:f),new Zi(p)},Ml.findDOMNode=function(f){if(f==null)return null;if(f.nodeType===1)return f;var p=f._reactInternals;if(p===void 0)throw typeof f.render=="function"?Error(t(188)):(f=Object.keys(f).join(","),Error(t(268,f)));return f=nr(p),f=f===null?null:f.stateNode,f},Ml.flushSync=function(f){return Ud(f)},Ml.hydrate=function(f,p,E){if(!Ws(p))throw Error(t(200));return bu(null,f,p,!0,E)},Ml.hydrateRoot=function(f,p,E){if(!po(f))throw Error(t(405));var M=E!=null&&E.hydratedSources||null,q=!1,se="",_e=iA;if(E!=null&&(E.unstable_strictMode===!0&&(q=!0),E.identifierPrefix!==void 0&&(se=E.identifierPrefix),E.onRecoverableError!==void 0&&(_e=E.onRecoverableError)),p=Cn(p,null,f,1,E??null,q,!1,se,_e),f[Xi]=p.current,Jc(f),M)for(f=0;f<M.length;f++)E=M[f],q=E._getVersion,q=q(E._source),p.mutableSourceEagerHydrationData==null?p.mutableSourceEagerHydrationData=[E,q]:p.mutableSourceEagerHydrationData.push(E,q);return new Cu(p)},Ml.render=function(f,p,E){if(!Ws(p))throw Error(t(200));return bu(null,f,p,!1,E)},Ml.unmountComponentAtNode=function(f){if(!Ws(f))throw Error(t(40));return f._reactRootContainer?(Ud(function(){bu(null,null,f,!1,function(){f._reactRootContainer=null,f[Xi]=null})}),!0):!1},Ml.unstable_batchedUpdates=J1,Ml.unstable_renderSubtreeIntoContainer=function(f,p,E,M){if(!Ws(E))throw Error(t(200));if(f==null||f._reactInternals===void 0)throw Error(t(38));return bu(f,p,E,!1,M)},Ml.version="18.3.1-next-f1338f8080-20240426",Ml}var vk;function MR(){if(vk)return LU.exports;vk=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),LU.exports=WW(),LU.exports}var yk;function $W(){if(yk)return F2;yk=1;var r=MR();return F2.createRoot=r.createRoot,F2.hydrateRoot=r.hydrateRoot,F2}var XW=$W();const YW=uw(XW);var rC={},wk;function JW(){if(wk)return rC;wk=1,Object.defineProperty(rC,"__esModule",{value:!0}),rC.parse=s,rC.serialize=u;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,A=Object.prototype.toString,i=(()=>{const h=function(){};return h.prototype=Object.create(null),h})();function s(h,d){const m=new i,g=h.length;if(g<2)return m;const y=(d==null?void 0:d.decode)||l;let v=0;do{const w=h.indexOf("=",v);if(w===-1)break;const b=h.indexOf(";",v),B=b===-1?g:b;if(w>B){v=h.lastIndexOf(";",w-1)+1;continue}const F=o(h,v,w),N=a(h,w,F),T=h.slice(F,N);if(m[T]===void 0){let U=o(h,w+1,B),k=a(h,B,U);const D=y(h.slice(U,k));m[T]=D}v=B+1}while(v<g);return m}function o(h,d,m){do{const g=h.charCodeAt(d);if(g!==32&&g!==9)return d}while(++d<m);return m}function a(h,d,m){for(;d>m;){const g=h.charCodeAt(--d);if(g!==32&&g!==9)return d+1}return m}function u(h,d,m){const g=(m==null?void 0:m.encode)||encodeURIComponent;if(!r.test(h))throw new TypeError(`argument name is invalid: ${h}`);const y=g(d);if(!e.test(y))throw new TypeError(`argument val is invalid: ${d}`);let v=h+"="+y;if(!m)return v;if(m.maxAge!==void 0){if(!Number.isInteger(m.maxAge))throw new TypeError(`option maxAge is invalid: ${m.maxAge}`);v+="; Max-Age="+m.maxAge}if(m.domain){if(!t.test(m.domain))throw new TypeError(`option domain is invalid: ${m.domain}`);v+="; Domain="+m.domain}if(m.path){if(!n.test(m.path))throw new TypeError(`option path is invalid: ${m.path}`);v+="; Path="+m.path}if(m.expires){if(!c(m.expires)||!Number.isFinite(m.expires.valueOf()))throw new TypeError(`option expires is invalid: ${m.expires}`);v+="; Expires="+m.expires.toUTCString()}if(m.httpOnly&&(v+="; HttpOnly"),m.secure&&(v+="; Secure"),m.partitioned&&(v+="; Partitioned"),m.priority)switch(typeof m.priority=="string"?m.priority.toLowerCase():void 0){case"low":v+="; Priority=Low";break;case"medium":v+="; Priority=Medium";break;case"high":v+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${m.priority}`)}if(m.sameSite)switch(typeof m.sameSite=="string"?m.sameSite.toLowerCase():m.sameSite){case!0:case"strict":v+="; SameSite=Strict";break;case"lax":v+="; SameSite=Lax";break;case"none":v+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${m.sameSite}`)}return v}function l(h){if(h.indexOf("%")===-1)return h;try{return decodeURIComponent(h)}catch{return h}}function c(h){return A.call(h)==="[object Date]"}return rC}JW();var Bk="popstate";function ZW(r={}){function e(n,A){let{pathname:i,search:s,hash:o}=n.location;return KL("",{pathname:i,search:s,hash:o},A.state&&A.state.usr||null,A.state&&A.state.key||"default")}function t(n,A){return typeof A=="string"?A:_b(A)}return t$(e,t,null,r)}function vi(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function kh(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function e$(){return Math.random().toString(36).substring(2,10)}function Ck(r,e){return{usr:r.state,key:r.key,idx:e}}function KL(r,e,t=null,n){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?A1(e):e,state:t,key:e&&e.key||n||e$()}}function _b({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function A1(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substring(n),r=r.substring(0,n)),r&&(e.pathname=r)}return e}function t$(r,e,t,n={}){let{window:A=document.defaultView,v5Compat:i=!1}=n,s=A.history,o="POP",a=null,u=l();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function l(){return(s.state||{idx:null}).idx}function c(){o="POP";let y=l(),v=y==null?null:y-u;u=y,a&&a({action:o,location:g.location,delta:v})}function h(y,v){o="PUSH";let w=KL(g.location,y,v);u=l()+1;let b=Ck(w,u),B=g.createHref(w);try{s.pushState(b,"",B)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;A.location.assign(B)}i&&a&&a({action:o,location:g.location,delta:1})}function d(y,v){o="REPLACE";let w=KL(g.location,y,v);u=l();let b=Ck(w,u),B=g.createHref(w);s.replaceState(b,"",B),i&&a&&a({action:o,location:g.location,delta:0})}function m(y){return r$(y)}let g={get action(){return o},get location(){return r(A,s)},listen(y){if(a)throw new Error("A history only accepts one active listener");return A.addEventListener(Bk,c),a=y,()=>{A.removeEventListener(Bk,c),a=null}},createHref(y){return e(A,y)},createURL:m,encodeLocation(y){let v=m(y);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:d,go(y){return s.go(y)}};return g}function r$(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),vi(t,"No window.location.(origin|href) available to create URL");let n=typeof r=="string"?r:_b(r);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=t+n),new URL(n,t)}function B8(r,e,t="/"){return n$(r,e,t,!1)}function n$(r,e,t,n){let A=typeof e=="string"?A1(e):e,i=Ip(A.pathname||"/",t);if(i==null)return null;let s=C8(r);A$(s);let o=null;for(let a=0;o==null&&a<s.length;++a){let u=p$(i);o=f$(s[a],u,n)}return o}function C8(r,e=[],t=[],n=""){let A=(i,s,o)=>{let a={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};a.relativePath.startsWith("/")&&(vi(a.relativePath.startsWith(n),`Absolute route path "${a.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),a.relativePath=a.relativePath.slice(n.length));let u=bp([n,a.relativePath]),l=t.concat(a);i.children&&i.children.length>0&&(vi(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),C8(i.children,e,l,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:c$(u,i.index),routesMeta:l})};return r.forEach((i,s)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))A(i,s);else for(let a of b8(i.path))A(i,s,a)}),e}function b8(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,A=t.endsWith("?"),i=t.replace(/\?$/,"");if(n.length===0)return A?[i,""]:[i];let s=b8(n.join("/")),o=[];return o.push(...s.map(a=>a===""?i:[i,a].join("/"))),A&&o.push(...s),o.map(a=>r.startsWith("/")&&a===""?"/":a)}function A$(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:h$(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var i$=/^:[\w-]+$/,s$=3,o$=2,a$=1,l$=10,u$=-2,bk=r=>r==="*";function c$(r,e){let t=r.split("/"),n=t.length;return t.some(bk)&&(n+=u$),e&&(n+=o$),t.filter(A=>!bk(A)).reduce((A,i)=>A+(i$.test(i)?s$:i===""?a$:l$),n)}function h$(r,e){return r.length===e.length&&r.slice(0,-1).every((n,A)=>n===e[A])?r[r.length-1]-e[e.length-1]:0}function f$(r,e,t=!1){let{routesMeta:n}=r,A={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],u=o===n.length-1,l=i==="/"?e:e.slice(i.length)||"/",c=TF({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},l),h=a.route;if(!c&&u&&t&&!n[n.length-1].route.index&&(c=TF({path:a.relativePath,caseSensitive:a.caseSensitive,end:!1},l)),!c)return null;Object.assign(A,c.params),s.push({params:A,pathname:bp([i,c.pathname]),pathnameBase:y$(bp([i,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(i=bp([i,c.pathnameBase]))}return s}function TF(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=d$(r.path,r.caseSensitive,r.end),A=e.match(t);if(!A)return null;let i=A[0],s=i.replace(/(.)\/+$/,"$1"),o=A.slice(1);return{params:n.reduce((u,{paramName:l,isOptional:c},h)=>{if(l==="*"){let m=o[h]||"";s=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const d=o[h];return c&&!d?u[l]=void 0:u[l]=(d||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:s,pattern:r}}function d$(r,e=!1,t=!0){kh(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let n=[],A="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,a)=>(n.push({paramName:o,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),A+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?A+="\\/*$":r!==""&&r!=="/"&&(A+="(?:(?=\\/|$))"),[new RegExp(A,e?void 0:"i"),n]}function p$(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return kh(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Ip(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function g$(r,e="/"){let{pathname:t,search:n="",hash:A=""}=typeof r=="string"?A1(r):r;return{pathname:t?t.startsWith("/")?t:m$(t,e):e,search:w$(n),hash:B$(A)}}function m$(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(A=>{A===".."?t.length>1&&t.pop():A!=="."&&t.push(A)}),t.length>1?t.join("/"):"/"}function PU(r,e,t,n){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function v$(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function HR(r){let e=v$(r);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function jR(r,e,t,n=!1){let A;typeof r=="string"?A=A1(r):(A={...r},vi(!A.pathname||!A.pathname.includes("?"),PU("?","pathname","search",A)),vi(!A.pathname||!A.pathname.includes("#"),PU("#","pathname","hash",A)),vi(!A.search||!A.search.includes("#"),PU("#","search","hash",A)));let i=r===""||A.pathname==="",s=i?"/":A.pathname,o;if(s==null)o=t;else{let c=e.length-1;if(!n&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),c-=1;A.pathname=h.join("/")}o=c>=0?e[c]:"/"}let a=g$(A,o),u=s&&s!=="/"&&s.endsWith("/"),l=(i||s===".")&&t.endsWith("/");return!a.pathname.endsWith("/")&&(u||l)&&(a.pathname+="/"),a}var bp=r=>r.join("/").replace(/\/\/+/g,"/"),y$=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),w$=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,B$=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function C$(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var E8=["POST","PUT","PATCH","DELETE"];new Set(E8);var b$=["GET",...E8];new Set(b$);var i1=me.createContext(null);i1.displayName="DataRouter";var JI=me.createContext(null);JI.displayName="DataRouterState";var _8=me.createContext({isTransitioning:!1});_8.displayName="ViewTransition";var E$=me.createContext(new Map);E$.displayName="Fetchers";var _$=me.createContext(null);_$.displayName="Await";var Vh=me.createContext(null);Vh.displayName="Navigation";var U_=me.createContext(null);U_.displayName="Location";var Kh=me.createContext({outlet:null,matches:[],isDataRoute:!1});Kh.displayName="Route";var VR=me.createContext(null);VR.displayName="RouteError";function S$(r,{relative:e}={}){vi(s1(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=me.useContext(Vh),{hash:A,pathname:i,search:s}=T_(r,{relative:e}),o=i;return t!=="/"&&(o=i==="/"?t:bp([t,i])),n.createHref({pathname:o,search:s,hash:A})}function s1(){return me.useContext(U_)!=null}function Ad(){return vi(s1(),"useLocation() may be used only in the context of a <Router> component."),me.useContext(U_).location}var S8="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function F8(r){me.useContext(Vh).static||me.useLayoutEffect(r)}function wl(){let{isDataRoute:r}=me.useContext(Kh);return r?D$():F$()}function F$(){vi(s1(),"useNavigate() may be used only in the context of a <Router> component.");let r=me.useContext(i1),{basename:e,navigator:t}=me.useContext(Vh),{matches:n}=me.useContext(Kh),{pathname:A}=Ad(),i=JSON.stringify(HR(n)),s=me.useRef(!1);return F8(()=>{s.current=!0}),me.useCallback((a,u={})=>{if(kh(s.current,S8),!s.current)return;if(typeof a=="number"){t.go(a);return}let l=jR(a,JSON.parse(i),A,u.relative==="path");r==null&&e!=="/"&&(l.pathname=l.pathname==="/"?e:bp([e,l.pathname])),(u.replace?t.replace:t.push)(l,u.state,u)},[e,t,i,A,r])}me.createContext(null);function cw(){let{matches:r}=me.useContext(Kh),e=r[r.length-1];return e?e.params:{}}function T_(r,{relative:e}={}){let{matches:t}=me.useContext(Kh),{pathname:n}=Ad(),A=JSON.stringify(HR(t));return me.useMemo(()=>jR(r,JSON.parse(A),n,e==="path"),[r,A,n,e])}function I$(r,e){return I8(r,e)}function I8(r,e,t,n){var v;vi(s1(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:A}=me.useContext(Vh),{matches:i}=me.useContext(Kh),s=i[i.length-1],o=s?s.params:{},a=s?s.pathname:"/",u=s?s.pathnameBase:"/",l=s&&s.route;{let w=l&&l.path||"";x8(a,!l||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${a}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let c=Ad(),h;if(e){let w=typeof e=="string"?A1(e):e;vi(u==="/"||((v=w.pathname)==null?void 0:v.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${w.pathname}" was given in the \`location\` prop.`),h=w}else h=c;let d=h.pathname||"/",m=d;if(u!=="/"){let w=u.replace(/^\//,"").split("/");m="/"+d.replace(/^\//,"").split("/").slice(w.length).join("/")}let g=B8(r,{pathname:m});kh(l||g!=null,`No routes matched location "${h.pathname}${h.search}${h.hash}" `),kh(g==null||g[g.length-1].route.element!==void 0||g[g.length-1].route.Component!==void 0||g[g.length-1].route.lazy!==void 0,`Matched leaf route at location "${h.pathname}${h.search}${h.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=L$(g&&g.map(w=>Object.assign({},w,{params:Object.assign({},o,w.params),pathname:bp([u,A.encodeLocation?A.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?u:bp([u,A.encodeLocation?A.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,t,n);return e&&y?me.createElement(U_.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...h},navigationType:"POP"}},y):y}function x$(){let r=k$(),e=C$(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,n="rgba(200,200,200, 0.5)",A={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},s=null;return console.error("Error handled by React Router default ErrorBoundary:",r),s=me.createElement(me.Fragment,null,me.createElement("p",null," Hey developer "),me.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",me.createElement("code",{style:i},"ErrorBoundary")," or"," ",me.createElement("code",{style:i},"errorElement")," prop on your route.")),me.createElement(me.Fragment,null,me.createElement("h2",null,"Unexpected Application Error!"),me.createElement("h3",{style:{fontStyle:"italic"}},e),t?me.createElement("pre",{style:A},t):null,s)}var U$=me.createElement(x$,null),T$=class extends me.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?me.createElement(Kh.Provider,{value:this.props.routeContext},me.createElement(VR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Q$({routeContext:r,match:e,children:t}){let n=me.useContext(i1);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),me.createElement(Kh.Provider,{value:r},t)}function L$(r,e=[],t=null,n=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let A=r,i=t==null?void 0:t.errors;if(i!=null){let a=A.findIndex(u=>u.route.id&&(i==null?void 0:i[u.route.id])!==void 0);vi(a>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),A=A.slice(0,Math.min(A.length,a+1))}let s=!1,o=-1;if(t)for(let a=0;a<A.length;a++){let u=A[a];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(o=a),u.route.id){let{loaderData:l,errors:c}=t,h=u.route.loader&&!l.hasOwnProperty(u.route.id)&&(!c||c[u.route.id]===void 0);if(u.route.lazy||h){s=!0,o>=0?A=A.slice(0,o+1):A=[A[0]];break}}}return A.reduceRight((a,u,l)=>{let c,h=!1,d=null,m=null;t&&(c=i&&u.route.id?i[u.route.id]:void 0,d=u.route.errorElement||U$,s&&(o<0&&l===0?(x8("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,m=null):o===l&&(h=!0,m=u.route.hydrateFallbackElement||null)));let g=e.concat(A.slice(0,l+1)),y=()=>{let v;return c?v=d:h?v=m:u.route.Component?v=me.createElement(u.route.Component,null):u.route.element?v=u.route.element:v=a,me.createElement(Q$,{match:u,routeContext:{outlet:a,matches:g,isDataRoute:t!=null},children:v})};return t&&(u.route.ErrorBoundary||u.route.errorElement||l===0)?me.createElement(T$,{location:t.location,revalidation:t.revalidation,component:d,error:c,children:y(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):y()},null)}function KR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function N$(r){let e=me.useContext(i1);return vi(e,KR(r)),e}function R$(r){let e=me.useContext(JI);return vi(e,KR(r)),e}function P$(r){let e=me.useContext(Kh);return vi(e,KR(r)),e}function GR(r){let e=P$(r),t=e.matches[e.matches.length-1];return vi(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function O$(){return GR("useRouteId")}function k$(){var n;let r=me.useContext(VR),e=R$("useRouteError"),t=GR("useRouteError");return r!==void 0?r:(n=e.errors)==null?void 0:n[t]}function D$(){let{router:r}=N$("useNavigate"),e=GR("useNavigate"),t=me.useRef(!1);return F8(()=>{t.current=!0}),me.useCallback(async(A,i={})=>{kh(t.current,S8),t.current&&(typeof A=="number"?r.navigate(A):await r.navigate(A,{fromRouteId:e,...i}))},[r,e])}var Ek={};function x8(r,e,t){!e&&!Ek[r]&&(Ek[r]=!0,kh(!1,t))}me.memo(M$);function M$({routes:r,future:e,state:t}){return I8(r,void 0,t,e)}function H$({to:r,replace:e,state:t,relative:n}){vi(s1(),"<Navigate> may be used only in the context of a <Router> component.");let{static:A}=me.useContext(Vh);kh(!A,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=me.useContext(Kh),{pathname:s}=Ad(),o=wl(),a=jR(r,HR(i),s,n==="path"),u=JSON.stringify(a);return me.useEffect(()=>{o(JSON.parse(u),{replace:e,state:t,relative:n})},[o,u,n,e,t]),null}function ol(r){vi(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function j$({basename:r="/",children:e=null,location:t,navigationType:n="POP",navigator:A,static:i=!1}){vi(!s1(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=r.replace(/^\/*/,"/"),o=me.useMemo(()=>({basename:s,navigator:A,static:i,future:{}}),[s,A,i]);typeof t=="string"&&(t=A1(t));let{pathname:a="/",search:u="",hash:l="",state:c=null,key:h="default"}=t,d=me.useMemo(()=>{let m=Ip(a,s);return m==null?null:{location:{pathname:m,search:u,hash:l,state:c,key:h},navigationType:n}},[s,a,u,l,c,h,n]);return kh(d!=null,`<Router basename="${s}"> is not able to match the URL "${a}${u}${l}" because it does not start with the basename, so the <Router> won't render anything.`),d==null?null:me.createElement(Vh.Provider,{value:o},me.createElement(U_.Provider,{children:e,value:d}))}function V$({children:r,location:e}){return I$(GL(r),e)}function GL(r,e=[]){let t=[];return me.Children.forEach(r,(n,A)=>{if(!me.isValidElement(n))return;let i=[...e,A];if(n.type===me.Fragment){t.push.apply(t,GL(n.props.children,i));return}vi(n.type===ol,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),vi(!n.props.index||!n.props.children,"An index route cannot have child routes.");let s={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=GL(n.props.children,i)),t.push(s)}),t}var xS="get",US="application/x-www-form-urlencoded";function ZI(r){return r!=null&&typeof r.tagName=="string"}function K$(r){return ZI(r)&&r.tagName.toLowerCase()==="button"}function G$(r){return ZI(r)&&r.tagName.toLowerCase()==="form"}function z$(r){return ZI(r)&&r.tagName.toLowerCase()==="input"}function q$(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function W$(r,e){return r.button===0&&(!e||e==="_self")&&!q$(r)}var I2=null;function $$(){if(I2===null)try{new FormData(document.createElement("form"),0),I2=!1}catch{I2=!0}return I2}var X$=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function OU(r){return r!=null&&!X$.has(r)?(kh(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${US}"`),null):r}function Y$(r,e){let t,n,A,i,s;if(G$(r)){let o=r.getAttribute("action");n=o?Ip(o,e):null,t=r.getAttribute("method")||xS,A=OU(r.getAttribute("enctype"))||US,i=new FormData(r)}else if(K$(r)||z$(r)&&(r.type==="submit"||r.type==="image")){let o=r.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let a=r.getAttribute("formaction")||o.getAttribute("action");if(n=a?Ip(a,e):null,t=r.getAttribute("formmethod")||o.getAttribute("method")||xS,A=OU(r.getAttribute("formenctype"))||OU(o.getAttribute("enctype"))||US,i=new FormData(o,r),!$$()){let{name:u,type:l,value:c}=r;if(l==="image"){let h=u?`${u}.`:"";i.append(`${h}x`,"0"),i.append(`${h}y`,"0")}else u&&i.append(u,c)}}else{if(ZI(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=xS,n=null,A=US,s=r}return i&&A==="text/plain"&&(s=i,i=void 0),{action:n,method:t.toLowerCase(),encType:A,formData:i,body:s}}function zR(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function J$(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Z$(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function eX(r,e,t){let n=await Promise.all(r.map(async A=>{let i=e.routes[A.route.id];if(i){let s=await J$(i,t);return s.links?s.links():[]}return[]}));return AX(n.flat(1).filter(Z$).filter(A=>A.rel==="stylesheet"||A.rel==="preload").map(A=>A.rel==="stylesheet"?{...A,rel:"prefetch",as:"style"}:{...A,rel:"prefetch"}))}function _k(r,e,t,n,A,i){let s=(a,u)=>t[u]?a.route.id!==t[u].route.id:!0,o=(a,u)=>{var l;return t[u].pathname!==a.pathname||((l=t[u].route.path)==null?void 0:l.endsWith("*"))&&t[u].params["*"]!==a.params["*"]};return i==="assets"?e.filter((a,u)=>s(a,u)||o(a,u)):i==="data"?e.filter((a,u)=>{var c;let l=n.routes[a.route.id];if(!l||!l.hasLoader)return!1;if(s(a,u)||o(a,u))return!0;if(a.route.shouldRevalidate){let h=a.route.shouldRevalidate({currentUrl:new URL(A.pathname+A.search+A.hash,window.origin),currentParams:((c=t[0])==null?void 0:c.params)||{},nextUrl:new URL(r,window.origin),nextParams:a.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function tX(r,e,{includeHydrateFallback:t}={}){return rX(r.map(n=>{let A=e.routes[n.route.id];if(!A)return[];let i=[A.module];return A.clientActionModule&&(i=i.concat(A.clientActionModule)),A.clientLoaderModule&&(i=i.concat(A.clientLoaderModule)),t&&A.hydrateFallbackModule&&(i=i.concat(A.hydrateFallbackModule)),A.imports&&(i=i.concat(A.imports)),i}).flat(1))}function rX(r){return[...new Set(r)]}function nX(r){let e={},t=Object.keys(r).sort();for(let n of t)e[n]=r[n];return e}function AX(r,e){let t=new Set;return new Set(e),r.reduce((n,A)=>{let i=JSON.stringify(nX(A));return t.has(i)||(t.add(i),n.push({key:i,link:A})),n},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var iX=new Set([100,101,204,205]);function sX(r,e){let t=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":e&&Ip(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function U8(){let r=me.useContext(i1);return zR(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function oX(){let r=me.useContext(JI);return zR(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var qR=me.createContext(void 0);qR.displayName="FrameworkContext";function T8(){let r=me.useContext(qR);return zR(r,"You must render this element inside a <HydratedRouter> element"),r}function aX(r,e){let t=me.useContext(qR),[n,A]=me.useState(!1),[i,s]=me.useState(!1),{onFocus:o,onBlur:a,onMouseEnter:u,onMouseLeave:l,onTouchStart:c}=e,h=me.useRef(null);me.useEffect(()=>{if(r==="render"&&s(!0),r==="viewport"){let g=v=>{v.forEach(w=>{s(w.isIntersecting)})},y=new IntersectionObserver(g,{threshold:.5});return h.current&&y.observe(h.current),()=>{y.disconnect()}}},[r]),me.useEffect(()=>{if(n){let g=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(g)}}},[n]);let d=()=>{A(!0)},m=()=>{A(!1),s(!1)};return t?r!=="intent"?[i,h,{}]:[i,h,{onFocus:nC(o,d),onBlur:nC(a,m),onMouseEnter:nC(u,d),onMouseLeave:nC(l,m),onTouchStart:nC(c,d)}]:[!1,h,{}]}function nC(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function lX({page:r,...e}){let{router:t}=U8(),n=me.useMemo(()=>B8(t.routes,r,t.basename),[t.routes,r,t.basename]);return n?me.createElement(cX,{page:r,matches:n,...e}):null}function uX(r){let{manifest:e,routeModules:t}=T8(),[n,A]=me.useState([]);return me.useEffect(()=>{let i=!1;return eX(r,e,t).then(s=>{i||A(s)}),()=>{i=!0}},[r,e,t]),n}function cX({page:r,matches:e,...t}){let n=Ad(),{manifest:A,routeModules:i}=T8(),{basename:s}=U8(),{loaderData:o,matches:a}=oX(),u=me.useMemo(()=>_k(r,e,a,A,n,"data"),[r,e,a,A,n]),l=me.useMemo(()=>_k(r,e,a,A,n,"assets"),[r,e,a,A,n]),c=me.useMemo(()=>{if(r===n.pathname+n.search+n.hash)return[];let m=new Set,g=!1;if(e.forEach(v=>{var b;let w=A.routes[v.route.id];!w||!w.hasLoader||(!u.some(B=>B.route.id===v.route.id)&&v.route.id in o&&((b=i[v.route.id])!=null&&b.shouldRevalidate)||w.hasClientLoader?g=!0:m.add(v.route.id))}),m.size===0)return[];let y=sX(r,s);return g&&m.size>0&&y.searchParams.set("_routes",e.filter(v=>m.has(v.route.id)).map(v=>v.route.id).join(",")),[y.pathname+y.search]},[s,o,n,A,u,e,r,i]),h=me.useMemo(()=>tX(l,A),[l,A]),d=uX(l);return me.createElement(me.Fragment,null,c.map(m=>me.createElement("link",{key:m,rel:"prefetch",as:"fetch",href:m,...t})),h.map(m=>me.createElement("link",{key:m,rel:"modulepreload",href:m,...t})),d.map(({key:m,link:g})=>me.createElement("link",{key:m,...g})))}function hX(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Q8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Q8&&(window.__reactRouterVersion="7.6.3")}catch{}function fX({basename:r,children:e,window:t}){let n=me.useRef();n.current==null&&(n.current=ZW({window:t,v5Compat:!0}));let A=n.current,[i,s]=me.useState({action:A.action,location:A.location}),o=me.useCallback(a=>{me.startTransition(()=>s(a))},[s]);return me.useLayoutEffect(()=>A.listen(o),[A,o]),me.createElement(j$,{basename:r,children:e,location:i.location,navigationType:i.action,navigator:A})}var L8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,N8=me.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:A,reloadDocument:i,replace:s,state:o,target:a,to:u,preventScrollReset:l,viewTransition:c,...h},d){let{basename:m}=me.useContext(Vh),g=typeof u=="string"&&L8.test(u),y,v=!1;if(typeof u=="string"&&g&&(y=u,Q8))try{let k=new URL(window.location.href),D=u.startsWith("//")?new URL(k.protocol+u):new URL(u),_=Ip(D.pathname,m);D.origin===k.origin&&_!=null?u=_+D.search+D.hash:v=!0}catch{kh(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=S$(u,{relative:A}),[b,B,F]=aX(n,h),N=mX(u,{replace:s,state:o,target:a,preventScrollReset:l,relative:A,viewTransition:c});function T(k){e&&e(k),k.defaultPrevented||N(k)}let U=me.createElement("a",{...h,...F,href:y||w,onClick:v||i?e:T,ref:hX(d,B),target:a,"data-discover":!g&&t==="render"?"true":void 0});return b&&!g?me.createElement(me.Fragment,null,U,me.createElement(lX,{page:w})):U});N8.displayName="Link";var dX=me.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:A=!1,style:i,to:s,viewTransition:o,children:a,...u},l){let c=T_(s,{relative:u.relative}),h=Ad(),d=me.useContext(JI),{navigator:m,basename:g}=me.useContext(Vh),y=d!=null&&CX(c)&&o===!0,v=m.encodeLocation?m.encodeLocation(c).pathname:c.pathname,w=h.pathname,b=d&&d.navigation&&d.navigation.location?d.navigation.location.pathname:null;t||(w=w.toLowerCase(),b=b?b.toLowerCase():null,v=v.toLowerCase()),b&&g&&(b=Ip(b,g)||b);const B=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let F=w===v||!A&&w.startsWith(v)&&w.charAt(B)==="/",N=b!=null&&(b===v||!A&&b.startsWith(v)&&b.charAt(v.length)==="/"),T={isActive:F,isPending:N,isTransitioning:y},U=F?e:void 0,k;typeof n=="function"?k=n(T):k=[n,F?"active":null,N?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let D=typeof i=="function"?i(T):i;return me.createElement(N8,{...u,"aria-current":U,className:k,ref:l,style:D,to:s,viewTransition:o},typeof a=="function"?a(T):a)});dX.displayName="NavLink";var pX=me.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:A,state:i,method:s=xS,action:o,onSubmit:a,relative:u,preventScrollReset:l,viewTransition:c,...h},d)=>{let m=wX(),g=BX(o,{relative:u}),y=s.toLowerCase()==="get"?"get":"post",v=typeof o=="string"&&L8.test(o),w=b=>{if(a&&a(b),b.defaultPrevented)return;b.preventDefault();let B=b.nativeEvent.submitter,F=(B==null?void 0:B.getAttribute("formmethod"))||s;m(B||b.currentTarget,{fetcherKey:e,method:F,navigate:t,replace:A,state:i,relative:u,preventScrollReset:l,viewTransition:c})};return me.createElement("form",{ref:d,method:y,action:g,onSubmit:n?a:w,...h,"data-discover":!v&&r==="render"?"true":void 0})});pX.displayName="Form";function gX(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function R8(r){let e=me.useContext(i1);return vi(e,gX(r)),e}function mX(r,{target:e,replace:t,state:n,preventScrollReset:A,relative:i,viewTransition:s}={}){let o=wl(),a=Ad(),u=T_(r,{relative:i});return me.useCallback(l=>{if(W$(l,e)){l.preventDefault();let c=t!==void 0?t:_b(a)===_b(u);o(r,{replace:c,state:n,preventScrollReset:A,relative:i,viewTransition:s})}},[a,o,u,t,n,e,r,A,i,s])}var vX=0,yX=()=>`__${String(++vX)}__`;function wX(){let{router:r}=R8("useSubmit"),{basename:e}=me.useContext(Vh),t=O$();return me.useCallback(async(n,A={})=>{let{action:i,method:s,encType:o,formData:a,body:u}=Y$(n,e);if(A.navigate===!1){let l=A.fetcherKey||yX();await r.fetch(l,t,A.action||i,{preventScrollReset:A.preventScrollReset,formData:a,body:u,formMethod:A.method||s,formEncType:A.encType||o,flushSync:A.flushSync})}else await r.navigate(A.action||i,{preventScrollReset:A.preventScrollReset,formData:a,body:u,formMethod:A.method||s,formEncType:A.encType||o,replace:A.replace,state:A.state,fromRouteId:t,flushSync:A.flushSync,viewTransition:A.viewTransition})},[r,e,t])}function BX(r,{relative:e}={}){let{basename:t}=me.useContext(Vh),n=me.useContext(Kh);vi(n,"useFormAction must be used inside a RouteContext");let[A]=n.matches.slice(-1),i={...T_(r||".",{relative:e})},s=Ad();if(r==null){i.search=s.search;let o=new URLSearchParams(i.search),a=o.getAll("index");if(a.some(l=>l==="")){o.delete("index"),a.filter(c=>c).forEach(c=>o.append("index",c));let l=o.toString();i.search=l?`?${l}`:""}}return(!r||r===".")&&A.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(i.pathname=i.pathname==="/"?t:bp([t,i.pathname])),_b(i)}function CX(r,e={}){let t=me.useContext(_8);vi(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=R8("useViewTransitionState"),A=T_(r,{relative:e.relative});if(!t.isTransitioning)return!1;let i=Ip(t.currentLocation.pathname,n)||t.currentLocation.pathname,s=Ip(t.nextLocation.pathname,n)||t.nextLocation.pathname;return TF(A.pathname,s)!=null||TF(A.pathname,i)!=null}[...iX];MR();var kU={exports:{}},Sk;function bX(){if(Sk)return kU.exports;Sk=1;var r=kU.exports={},e,t;function n(){throw new Error("setTimeout has not been defined")}function A(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=n}catch{e=n}try{typeof clearTimeout=="function"?t=clearTimeout:t=A}catch{t=A}})();function i(g){if(e===setTimeout)return setTimeout(g,0);if((e===n||!e)&&setTimeout)return e=setTimeout,setTimeout(g,0);try{return e(g,0)}catch{try{return e.call(null,g,0)}catch{return e.call(this,g,0)}}}function s(g){if(t===clearTimeout)return clearTimeout(g);if((t===A||!t)&&clearTimeout)return t=clearTimeout,clearTimeout(g);try{return t(g)}catch{try{return t.call(null,g)}catch{return t.call(this,g)}}}var o=[],a=!1,u,l=-1;function c(){!a||!u||(a=!1,u.length?o=u.concat(o):l=-1,o.length&&h())}function h(){if(!a){var g=i(c);a=!0;for(var y=o.length;y;){for(u=o,o=[];++l<y;)u&&u[l].run();l=-1,y=o.length}u=null,a=!1,s(g)}}r.nextTick=function(g){var y=new Array(arguments.length-1);if(arguments.length>1)for(var v=1;v<arguments.length;v++)y[v-1]=arguments[v];o.push(new d(g,y)),o.length===1&&!a&&i(h)};function d(g,y){this.fun=g,this.array=y}d.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={};function m(){}return r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(g){return[]},r.binding=function(g){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(g){throw new Error("process.chdir is not supported")},r.umask=function(){return 0},kU.exports}var EX=bX();const pm=uw(EX),_X=()=>{};var Fk={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P8=function(r){const e=[];let t=0;for(let n=0;n<r.length;n++){let A=r.charCodeAt(n);A<128?e[t++]=A:A<2048?(e[t++]=A>>6|192,e[t++]=A&63|128):(A&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(A=65536+((A&1023)<<10)+(r.charCodeAt(++n)&1023),e[t++]=A>>18|240,e[t++]=A>>12&63|128,e[t++]=A>>6&63|128,e[t++]=A&63|128):(e[t++]=A>>12|224,e[t++]=A>>6&63|128,e[t++]=A&63|128)}return e},SX=function(r){const e=[];let t=0,n=0;for(;t<r.length;){const A=r[t++];if(A<128)e[n++]=String.fromCharCode(A);else if(A>191&&A<224){const i=r[t++];e[n++]=String.fromCharCode((A&31)<<6|i&63)}else if(A>239&&A<365){const i=r[t++],s=r[t++],o=r[t++],a=((A&7)<<18|(i&63)<<12|(s&63)<<6|o&63)-65536;e[n++]=String.fromCharCode(55296+(a>>10)),e[n++]=String.fromCharCode(56320+(a&1023))}else{const i=r[t++],s=r[t++];e[n++]=String.fromCharCode((A&15)<<12|(i&63)<<6|s&63)}}return e.join("")},O8={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let A=0;A<r.length;A+=3){const i=r[A],s=A+1<r.length,o=s?r[A+1]:0,a=A+2<r.length,u=a?r[A+2]:0,l=i>>2,c=(i&3)<<4|o>>4;let h=(o&15)<<2|u>>6,d=u&63;a||(d=64,s||(h=64)),n.push(t[l],t[c],t[h],t[d])}return n.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(P8(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):SX(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let A=0;A<r.length;){const i=t[r.charAt(A++)],o=A<r.length?t[r.charAt(A)]:0;++A;const u=A<r.length?t[r.charAt(A)]:64;++A;const c=A<r.length?t[r.charAt(A)]:64;if(++A,i==null||o==null||u==null||c==null)throw new FX;const h=i<<2|o>>4;if(n.push(h),u!==64){const d=o<<4&240|u>>2;if(n.push(d),c!==64){const m=u<<6&192|c;n.push(m)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class FX extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const IX=function(r){const e=P8(r);return O8.encodeByteArray(e,!0)},QF=function(r){return IX(r).replace(/\./g,"")},k8=function(r){try{return O8.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xX(){if(typeof self<"u")return self;if(typeof window<"u"||typeof window<"u")return window;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UX=()=>xX().__FIREBASE_DEFAULTS__,TX=()=>{if(typeof pm>"u"||typeof Fk>"u")return;const r=Fk.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},QX=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&k8(r[1]);return e&&JSON.parse(e)},ex=()=>{try{return _X()||UX()||TX()||QX()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},D8=r=>{var e,t;return(t=(e=ex())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},M8=r=>{const e=D8(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},H8=()=>{var r;return(r=ex())===null||r===void 0?void 0:r.config},j8=r=>{var e;return(e=ex())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LX{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vm(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function WR(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V8(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",A=r.iat||0,i=r.sub||r.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:A,exp:A+3600,auth_time:A,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},r);return[QF(JSON.stringify(t)),QF(JSON.stringify(s)),""].join(".")}const ob={};function NX(){const r={prod:[],emulator:[]};for(const e of Object.keys(ob))ob[e]?r.emulator.push(e):r.prod.push(e);return r}function RX(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let Ik=!1;function $R(r,e){if(typeof window>"u"||typeof document>"u"||!Vm(window.location.host)||ob[r]===e||ob[r]||Ik)return;ob[r]=e;function t(h){return`__firebase__banner__${h}`}const n="__firebase__banner",i=NX().prod.length>0;function s(){const h=document.getElementById(n);h&&h.remove()}function o(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function a(h,d){h.setAttribute("width","24"),h.setAttribute("id",d),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function u(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{Ik=!0,s()},h}function l(h,d){h.setAttribute("id",d),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function c(){const h=RX(n),d=t("text"),m=document.getElementById(d)||document.createElement("span"),g=t("learnmore"),y=document.getElementById(g)||document.createElement("a"),v=t("preprendIcon"),w=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const b=h.element;o(b),l(y,g);const B=u();a(w,v),b.append(w,m,y,B),document.body.appendChild(b)}i?(m.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,m.innerText="Preview backend running in this workspace."),m.setAttribute("id",d)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",c):c()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ma(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function PX(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ma())}function OX(){var r;const e=(r=ex())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(window.process)==="[object process]"}catch{return!1}}function kX(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function DX(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function MX(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function HX(){const r=Ma();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function jX(){return!OX()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function VX(){try{return typeof indexedDB=="object"}catch{return!1}}function KX(){return new Promise((r,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",A=self.indexedDB.open(n);A.onsuccess=()=>{A.result.close(),t||self.indexedDB.deleteDatabase(n),r(!0)},A.onupgradeneeded=()=>{t=!1},A.onerror=()=>{var i;e(((i=A.error)===null||i===void 0?void 0:i.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GX="FirebaseError";class id extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=GX,Object.setPrototypeOf(this,id.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Q_.prototype.create)}}class Q_{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},A=`${this.service}/${e}`,i=this.errors[e],s=i?zX(i,n):"Error",o=`${this.serviceName}: ${s} (${A}).`;return new id(A,o,n)}}function zX(r,e){return r.replace(qX,(t,n)=>{const A=e[n];return A!=null?String(A):`<${n}?>`})}const qX=/\{\$([^}]+)}/g;function WX(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Zy(r,e){if(r===e)return!0;const t=Object.keys(r),n=Object.keys(e);for(const A of t){if(!n.includes(A))return!1;const i=r[A],s=e[A];if(xk(i)&&xk(s)){if(!Zy(i,s))return!1}else if(i!==s)return!1}for(const A of n)if(!t.includes(A))return!1;return!0}function xk(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L_(r){const e=[];for(const[t,n]of Object.entries(r))Array.isArray(n)?n.forEach(A=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(A))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function $X(r,e){const t=new XX(r,e);return t.subscribe.bind(t)}class XX{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let A;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");YX(e,["next","error","complete"])?A=e:A={next:e,error:t,complete:n},A.next===void 0&&(A.next=DU),A.error===void 0&&(A.error=DU),A.complete===void 0&&(A.complete=DU);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?A.error(this.finalError):A.complete()}catch{}}),this.observers.push(A),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function YX(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function DU(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fi(r){return r&&r._delegate?r._delegate:r}class Fm{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let JX=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new LX;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const A=this.getOrInitializeService({instanceIdentifier:t});A&&n.resolve(A)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),A=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(A)return null;throw i}else{if(A)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(eY(e))try{this.getOrInitializeService({instanceIdentifier:vv})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const A=this.normalizeInstanceIdentifier(t);try{const i=this.getOrInitializeService({instanceIdentifier:A});n.resolve(i)}catch{}}}}clearInstance(e=vv){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=vv){return this.instances.has(e)}getOptions(e=vv){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const A=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);n===o&&s.resolve(A)}return A}onInit(e,t){var n;const A=this.normalizeInstanceIdentifier(t),i=(n=this.onInitCallbacks.get(A))!==null&&n!==void 0?n:new Set;i.add(e),this.onInitCallbacks.set(A,i);const s=this.instances.get(A);return s&&e(s,A),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const A of n)try{A(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:ZX(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=vv){return this.component?this.component.multipleInstances?e:vv:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function ZX(r){return r===vv?void 0:r}function eY(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tY{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new JX(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tn;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Tn||(Tn={}));const rY={debug:Tn.DEBUG,verbose:Tn.VERBOSE,info:Tn.INFO,warn:Tn.WARN,error:Tn.ERROR,silent:Tn.SILENT},nY=Tn.INFO,AY={[Tn.DEBUG]:"log",[Tn.VERBOSE]:"log",[Tn.INFO]:"info",[Tn.WARN]:"warn",[Tn.ERROR]:"error"},iY=(r,e,...t)=>{if(e<r.logLevel)return;const n=new Date().toISOString(),A=AY[e];if(A)console[A](`[${n}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let XR=class{constructor(e){this.name=e,this._logLevel=nY,this._logHandler=iY,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Tn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?rY[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Tn.DEBUG,...e),this._logHandler(this,Tn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Tn.VERBOSE,...e),this._logHandler(this,Tn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Tn.INFO,...e),this._logHandler(this,Tn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Tn.WARN,...e),this._logHandler(this,Tn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Tn.ERROR,...e),this._logHandler(this,Tn.ERROR,...e)}};const sY=(r,e)=>e.some(t=>r instanceof t);let Uk,Tk;function oY(){return Uk||(Uk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aY(){return Tk||(Tk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const K8=new WeakMap,zL=new WeakMap,G8=new WeakMap,MU=new WeakMap,YR=new WeakMap;function lY(r){const e=new Promise((t,n)=>{const A=()=>{r.removeEventListener("success",i),r.removeEventListener("error",s)},i=()=>{t(gm(r.result)),A()},s=()=>{n(r.error),A()};r.addEventListener("success",i),r.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&K8.set(t,r)}).catch(()=>{}),YR.set(e,r),e}function uY(r){if(zL.has(r))return;const e=new Promise((t,n)=>{const A=()=>{r.removeEventListener("complete",i),r.removeEventListener("error",s),r.removeEventListener("abort",s)},i=()=>{t(),A()},s=()=>{n(r.error||new DOMException("AbortError","AbortError")),A()};r.addEventListener("complete",i),r.addEventListener("error",s),r.addEventListener("abort",s)});zL.set(r,e)}let qL={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return zL.get(r);if(e==="objectStoreNames")return r.objectStoreNames||G8.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return gm(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function cY(r){qL=r(qL)}function hY(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=r.call(HU(this),e,...t);return G8.set(n,e.sort?e.sort():[e]),gm(n)}:aY().includes(r)?function(...e){return r.apply(HU(this),e),gm(K8.get(this))}:function(...e){return gm(r.apply(HU(this),e))}}function fY(r){return typeof r=="function"?hY(r):(r instanceof IDBTransaction&&uY(r),sY(r,oY())?new Proxy(r,qL):r)}function gm(r){if(r instanceof IDBRequest)return lY(r);if(MU.has(r))return MU.get(r);const e=fY(r);return e!==r&&(MU.set(r,e),YR.set(e,r)),e}const HU=r=>YR.get(r);function dY(r,e,{blocked:t,upgrade:n,blocking:A,terminated:i}={}){const s=indexedDB.open(r,e),o=gm(s);return n&&s.addEventListener("upgradeneeded",a=>{n(gm(s.result),a.oldVersion,a.newVersion,gm(s.transaction),a)}),t&&s.addEventListener("blocked",a=>t(a.oldVersion,a.newVersion,a)),o.then(a=>{i&&a.addEventListener("close",()=>i()),A&&a.addEventListener("versionchange",u=>A(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const pY=["get","getKey","getAll","getAllKeys","count"],gY=["put","add","delete","clear"],jU=new Map;function Qk(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(jU.get(e))return jU.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,A=gY.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(A||pY.includes(t)))return;const i=async function(s,...o){const a=this.transaction(s,A?"readwrite":"readonly");let u=a.store;return n&&(u=u.index(o.shift())),(await Promise.all([u[t](...o),A&&a.done]))[0]};return jU.set(e,i),i}cY(r=>({...r,get:(e,t,n)=>Qk(e,t)||r.get(e,t,n),has:(e,t)=>!!Qk(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mY{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(vY(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function vY(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const WL="@firebase/app",Lk="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp=new XR("@firebase/app"),yY="@firebase/app-compat",wY="@firebase/analytics-compat",BY="@firebase/analytics",CY="@firebase/app-check-compat",bY="@firebase/app-check",EY="@firebase/auth",_Y="@firebase/auth-compat",SY="@firebase/database",FY="@firebase/data-connect",IY="@firebase/database-compat",xY="@firebase/functions",UY="@firebase/functions-compat",TY="@firebase/installations",QY="@firebase/installations-compat",LY="@firebase/messaging",NY="@firebase/messaging-compat",RY="@firebase/performance",PY="@firebase/performance-compat",OY="@firebase/remote-config",kY="@firebase/remote-config-compat",DY="@firebase/storage",MY="@firebase/storage-compat",HY="@firebase/firestore",jY="@firebase/ai",VY="@firebase/firestore-compat",KY="firebase",GY="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $L="[DEFAULT]",zY={[WL]:"fire-core",[yY]:"fire-core-compat",[BY]:"fire-analytics",[wY]:"fire-analytics-compat",[bY]:"fire-app-check",[CY]:"fire-app-check-compat",[EY]:"fire-auth",[_Y]:"fire-auth-compat",[SY]:"fire-rtdb",[FY]:"fire-data-connect",[IY]:"fire-rtdb-compat",[xY]:"fire-fn",[UY]:"fire-fn-compat",[TY]:"fire-iid",[QY]:"fire-iid-compat",[LY]:"fire-fcm",[NY]:"fire-fcm-compat",[RY]:"fire-perf",[PY]:"fire-perf-compat",[OY]:"fire-rc",[kY]:"fire-rc-compat",[DY]:"fire-gcs",[MY]:"fire-gcs-compat",[HY]:"fire-fst",[VY]:"fire-fst-compat",[jY]:"fire-vertex","fire-js":"fire-js",[KY]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LF=new Map,qY=new Map,XL=new Map;function Nk(r,e){try{r.container.addComponent(e)}catch(t){xp.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function ew(r){const e=r.name;if(XL.has(e))return xp.debug(`There were multiple attempts to register component ${e}.`),!1;XL.set(e,r);for(const t of LF.values())Nk(t,r);for(const t of qY.values())Nk(t,r);return!0}function tx(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Fc(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WY={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},mm=new Q_("app","Firebase",WY);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Y{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Fm("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mm.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw=GY;function z8(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const n=Object.assign({name:$L,automaticDataCollectionEnabled:!0},e),A=n.name;if(typeof A!="string"||!A)throw mm.create("bad-app-name",{appName:String(A)});if(t||(t=H8()),!t)throw mm.create("no-options");const i=LF.get(A);if(i){if(Zy(t,i.options)&&Zy(n,i.config))return i;throw mm.create("duplicate-app",{appName:A})}const s=new tY(A);for(const a of XL.values())s.addComponent(a);const o=new $Y(t,n,s);return LF.set(A,o),o}function JR(r=$L){const e=LF.get(r);if(!e&&r===$L&&H8())return z8();if(!e)throw mm.create("no-app",{appName:r});return e}function qf(r,e,t){var n;let A=(n=zY[r])!==null&&n!==void 0?n:r;t&&(A+=`-${t}`);const i=A.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${A}" with version "${e}":`];i&&o.push(`library name "${A}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xp.warn(o.join(" "));return}ew(new Fm(`${A}-version`,()=>({library:A,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XY="firebase-heartbeat-database",YY=1,Sb="firebase-heartbeat-store";let VU=null;function q8(){return VU||(VU=dY(XY,YY,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Sb)}catch(t){console.warn(t)}}}}).catch(r=>{throw mm.create("idb-open",{originalErrorMessage:r.message})})),VU}async function JY(r){try{const t=(await q8()).transaction(Sb),n=await t.objectStore(Sb).get(W8(r));return await t.done,n}catch(e){if(e instanceof id)xp.warn(e.message);else{const t=mm.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});xp.warn(t.message)}}}async function Rk(r,e){try{const n=(await q8()).transaction(Sb,"readwrite");await n.objectStore(Sb).put(e,W8(r)),await n.done}catch(t){if(t instanceof id)xp.warn(t.message);else{const n=mm.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});xp.warn(n.message)}}}function W8(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZY=1024,eJ=30;class tJ{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new nJ(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,t;try{const A=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Pk();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:A}),this._heartbeatsCache.heartbeats.length>eJ){const s=AJ(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){xp.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Pk(),{heartbeatsToSend:n,unsentEntries:A}=rJ(this._heartbeatsCache.heartbeats),i=QF(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,A.length>0?(this._heartbeatsCache.heartbeats=A,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return xp.warn(t),""}}}function Pk(){return new Date().toISOString().substring(0,10)}function rJ(r,e=ZY){const t=[];let n=r.slice();for(const A of r){const i=t.find(s=>s.agent===A.agent);if(i){if(i.dates.push(A.date),Ok(t)>e){i.dates.pop();break}}else if(t.push({agent:A.agent,dates:[A.date]}),Ok(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class nJ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return VX()?KX().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await JY(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const A=await this.read();return Rk(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:A.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const A=await this.read();return Rk(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:A.lastSentHeartbeatDate,heartbeats:[...A.heartbeats,...e.heartbeats]})}else return}}function Ok(r){return QF(JSON.stringify({version:2,heartbeats:r})).length}function AJ(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let n=1;n<r.length;n++)r[n].date<t&&(t=r[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iJ(r){ew(new Fm("platform-logger",e=>new mY(e),"PRIVATE")),ew(new Fm("heartbeat",e=>new tJ(e),"PRIVATE")),qf(WL,Lk,r),qf(WL,Lk,"esm2017"),qf("fire-js","")}iJ("");var sJ="firebase",oJ="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qf(sJ,oJ,"app");function ZR(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var A=0,n=Object.getOwnPropertySymbols(r);A<n.length;A++)e.indexOf(n[A])<0&&Object.prototype.propertyIsEnumerable.call(r,n[A])&&(t[n[A]]=r[n[A]]);return t}function $8(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const aJ=$8,X8=new Q_("auth","Firebase",$8());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NF=new XR("@firebase/auth");function lJ(r,...e){NF.logLevel<=Tn.WARN&&NF.warn(`Auth (${hw}): ${r}`,...e)}function TS(r,...e){NF.logLevel<=Tn.ERROR&&NF.error(`Auth (${hw}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function td(r,...e){throw tP(r,...e)}function Oh(r,...e){return tP(r,...e)}function eP(r,e,t){const n=Object.assign(Object.assign({},aJ()),{[e]:t});return new Q_("auth","Firebase",n).create(e,{appName:r.name})}function My(r){return eP(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function uJ(r,e,t){const n=t;if(!(e instanceof n))throw n.name!==e.constructor.name&&td(r,"argument-error"),eP(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function tP(r,...e){if(typeof r!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(t,...n)}return X8.create(r,...e)}function qr(r,e,...t){if(!r)throw tP(e,...t)}function wp(r){const e="INTERNAL ASSERTION FAILED: "+r;throw TS(e),new Error(e)}function Up(r,e){r||wp(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YL(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function cJ(){return kk()==="http:"||kk()==="https:"}function kk(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hJ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cJ()||DX()||"connection"in navigator)?navigator.onLine:!0}function fJ(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(e,t){this.shortDelay=e,this.longDelay=t,Up(t>e,"Short delay should be less than long delay!"),this.isMobile=PX()||MX()}get(){return hJ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rP(r,e){Up(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y8{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;wp("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;wp("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;wp("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dJ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pJ=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],gJ=new N_(3e4,6e4);function nP(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function o1(r,e,t,n,A={}){return J8(r,A,async()=>{let i={},s={};n&&(e==="GET"?s=n:i={body:JSON.stringify(n)});const o=L_(Object.assign({key:r.config.apiKey},s)).slice(1),a=await r._getAdditionalHeaders();a["Content-Type"]="application/json",r.languageCode&&(a["X-Firebase-Locale"]=r.languageCode);const u=Object.assign({method:e,headers:a},i);return kX()||(u.referrerPolicy="no-referrer"),r.emulatorConfig&&Vm(r.emulatorConfig.host)&&(u.credentials="include"),Y8.fetch()(await Z8(r,r.config.apiHost,t,o),u)})}async function J8(r,e,t){r._canInitEmulator=!1;const n=Object.assign(Object.assign({},dJ),e);try{const A=new vJ(r),i=await Promise.race([t(),A.promise]);A.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw x2(r,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const o=i.ok?s.errorMessage:s.error.message,[a,u]=o.split(" : ");if(a==="FEDERATED_USER_ID_ALREADY_LINKED")throw x2(r,"credential-already-in-use",s);if(a==="EMAIL_EXISTS")throw x2(r,"email-already-in-use",s);if(a==="USER_DISABLED")throw x2(r,"user-disabled",s);const l=n[a]||a.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw eP(r,l,u);td(r,l)}}catch(A){if(A instanceof id)throw A;td(r,"network-request-failed",{message:String(A)})}}async function mJ(r,e,t,n,A={}){const i=await o1(r,e,t,n,A);return"mfaPendingCredential"in i&&td(r,"multi-factor-auth-required",{_serverResponse:i}),i}async function Z8(r,e,t,n){const A=`${e}${t}?${n}`,i=r,s=i.config.emulator?rP(r.config,A):`${r.config.apiScheme}://${A}`;return pJ.includes(t)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(s).toString():s}class vJ{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(Oh(this.auth,"network-request-failed")),gJ.get())})}}function x2(r,e,t){const n={appName:r.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const A=Oh(r,e,n);return A.customData._tokenResponse=t,A}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yJ(r,e){return o1(r,"POST","/v1/accounts:delete",e)}async function RF(r,e){return o1(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function wJ(r,e=!1){const t=Fi(r),n=await t.getIdToken(e),A=AP(n);qr(A&&A.exp&&A.auth_time&&A.iat,t.auth,"internal-error");const i=typeof A.firebase=="object"?A.firebase:void 0,s=i==null?void 0:i.sign_in_provider;return{claims:A,token:n,authTime:ab(KU(A.auth_time)),issuedAtTime:ab(KU(A.iat)),expirationTime:ab(KU(A.exp)),signInProvider:s||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function KU(r){return Number(r)*1e3}function AP(r){const[e,t,n]=r.split(".");if(e===void 0||t===void 0||n===void 0)return TS("JWT malformed, contained fewer than 3 sections"),null;try{const A=k8(t);return A?JSON.parse(A):(TS("Failed to decode base64 JWT payload"),null)}catch(A){return TS("Caught error parsing JWT payload as JSON",A==null?void 0:A.toString()),null}}function Dk(r){const e=AP(r);return qr(e,"internal-error"),qr(typeof e.exp<"u","internal-error"),qr(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fb(r,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof id&&BJ(n)&&r.auth.currentUser===r&&await r.auth.signOut(),n}}function BJ({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CJ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const A=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ab(this.lastLoginAt),this.creationTime=ab(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PF(r){var e;const t=r.auth,n=await r.getIdToken(),A=await Fb(r,RF(t,{idToken:n}));qr(A==null?void 0:A.users.length,t,"internal-error");const i=A.users[0];r._notifyReloadListener(i);const s=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?e7(i.providerUserInfo):[],o=EJ(r.providerData,s),a=r.isAnonymous,u=!(r.email&&i.passwordHash)&&!(o!=null&&o.length),l=a?u:!1,c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new JL(i.createdAt,i.lastLoginAt),isAnonymous:l};Object.assign(r,c)}async function bJ(r){const e=Fi(r);await PF(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function EJ(r,e){return[...r.filter(n=>!e.some(A=>A.providerId===n.providerId)),...e]}function e7(r){return r.map(e=>{var{providerId:t}=e,n=ZR(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _J(r,e){const t=await J8(r,{},async()=>{const n=L_({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:A,apiKey:i}=r.config,s=await Z8(r,A,"/v1/token",`key=${i}`),o=await r._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const a={method:"POST",headers:o,body:n};return r.emulatorConfig&&Vm(r.emulatorConfig.host)&&(a.credentials="include"),Y8.fetch()(s,a)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function SJ(r,e){return o1(r,"POST","/v2/accounts:revokeToken",nP(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qr(e.idToken,"internal-error"),qr(typeof e.idToken<"u","internal-error"),qr(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Dk(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){qr(e.length!==0,"internal-error");const t=Dk(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(qr(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:A,expiresIn:i}=await _J(e,t);this.updateTokensAndExpiration(n,A,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:A,expirationTime:i}=t,s=new _0;return n&&(qr(typeof n=="string","internal-error",{appName:e}),s.refreshToken=n),A&&(qr(typeof A=="string","internal-error",{appName:e}),s.accessToken=A),i&&(qr(typeof i=="number","internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _0,this.toJSON())}_performRefresh(){return wp("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(r,e){qr(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Rh{constructor(e){var{uid:t,auth:n,stsTokenManager:A}=e,i=ZR(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new CJ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new JL(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Fb(this,this.stsTokenManager.getToken(this.auth,e));return qr(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return wJ(this,e)}reload(){return bJ(this)}_assign(e){this!==e&&(qr(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Rh(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){qr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await PF(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fc(this.auth.app))return Promise.reject(My(this.auth));const e=await this.getIdToken();return await Fb(this,yJ(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,A,i,s,o,a,u,l;const c=(n=t.displayName)!==null&&n!==void 0?n:void 0,h=(A=t.email)!==null&&A!==void 0?A:void 0,d=(i=t.phoneNumber)!==null&&i!==void 0?i:void 0,m=(s=t.photoURL)!==null&&s!==void 0?s:void 0,g=(o=t.tenantId)!==null&&o!==void 0?o:void 0,y=(a=t._redirectEventId)!==null&&a!==void 0?a:void 0,v=(u=t.createdAt)!==null&&u!==void 0?u:void 0,w=(l=t.lastLoginAt)!==null&&l!==void 0?l:void 0,{uid:b,emailVerified:B,isAnonymous:F,providerData:N,stsTokenManager:T}=t;qr(b&&T,e,"internal-error");const U=_0.fromJSON(this.name,T);qr(typeof b=="string",e,"internal-error"),ug(c,e.name),ug(h,e.name),qr(typeof B=="boolean",e,"internal-error"),qr(typeof F=="boolean",e,"internal-error"),ug(d,e.name),ug(m,e.name),ug(g,e.name),ug(y,e.name),ug(v,e.name),ug(w,e.name);const k=new Rh({uid:b,auth:e,email:h,emailVerified:B,displayName:c,isAnonymous:F,photoURL:m,phoneNumber:d,tenantId:g,stsTokenManager:U,createdAt:v,lastLoginAt:w});return N&&Array.isArray(N)&&(k.providerData=N.map(D=>Object.assign({},D))),y&&(k._redirectEventId=y),k}static async _fromIdTokenResponse(e,t,n=!1){const A=new _0;A.updateFromServerResponse(t);const i=new Rh({uid:t.localId,auth:e,stsTokenManager:A,isAnonymous:n});return await PF(i),i}static async _fromGetAccountInfoResponse(e,t,n){const A=t.users[0];qr(A.localId!==void 0,"internal-error");const i=A.providerUserInfo!==void 0?e7(A.providerUserInfo):[],s=!(A.email&&A.passwordHash)&&!(i!=null&&i.length),o=new _0;o.updateFromIdToken(n);const a=new Rh({uid:A.localId,auth:e,stsTokenManager:o,isAnonymous:s}),u={uid:A.localId,displayName:A.displayName||null,photoURL:A.photoUrl||null,email:A.email||null,emailVerified:A.emailVerified||!1,phoneNumber:A.phoneNumber||null,tenantId:A.tenantId||null,providerData:i,metadata:new JL(A.createdAt,A.lastLoginAt),isAnonymous:!(A.email&&A.passwordHash)&&!(i!=null&&i.length)};return Object.assign(a,u),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mk=new Map;function Bp(r){Up(r instanceof Function,"Expected a class definition");let e=Mk.get(r);return e?(Up(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Mk.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t7{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}t7.type="NONE";const Hk=t7;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(r,e,t){return`firebase:${r}:${e}:${t}`}class S0{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:A,name:i}=this.auth;this.fullUserKey=QS(this.userKey,A.apiKey,i),this.fullPersistenceKey=QS("persistence",A.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await RF(this.auth,{idToken:e}).catch(()=>{});return t?Rh._fromGetAccountInfoResponse(this.auth,t,e):null}return Rh._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new S0(Bp(Hk),e,n);const A=(await Promise.all(t.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=A[0]||Bp(Hk);const s=QS(n,e.config.apiKey,e.name);let o=null;for(const u of t)try{const l=await u._get(s);if(l){let c;if(typeof l=="string"){const h=await RF(e,{idToken:l}).catch(()=>{});if(!h)break;c=await Rh._fromGetAccountInfoResponse(e,h,l)}else c=Rh._fromJSON(e,l);u!==i&&(o=c),i=u;break}}catch{}const a=A.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!a.length?new S0(i,e,n):(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map(async u=>{if(u!==i)try{await u._remove(s)}catch{}})),new S0(i,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jk(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(i7(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(r7(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(o7(e))return"Blackberry";if(a7(e))return"Webos";if(n7(e))return"Safari";if((e.includes("chrome/")||A7(e))&&!e.includes("edge/"))return"Chrome";if(s7(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=r.match(t);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function r7(r=Ma()){return/firefox\//i.test(r)}function n7(r=Ma()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function A7(r=Ma()){return/crios\//i.test(r)}function i7(r=Ma()){return/iemobile/i.test(r)}function s7(r=Ma()){return/android/i.test(r)}function o7(r=Ma()){return/blackberry/i.test(r)}function a7(r=Ma()){return/webos/i.test(r)}function iP(r=Ma()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function FJ(r=Ma()){var e;return iP(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function IJ(){return HX()&&document.documentMode===10}function l7(r=Ma()){return iP(r)||s7(r)||a7(r)||o7(r)||/windows phone/i.test(r)||i7(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u7(r,e=[]){let t;switch(r){case"Browser":t=jk(Ma());break;case"Worker":t=`${jk(Ma())}-${r}`;break;default:t=r}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${hw}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xJ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=i=>new Promise((s,o)=>{try{const a=e(i);s(a)}catch(a){o(a)}});n.onAbort=t,this.queue.push(n);const A=this.queue.length-1;return()=>{this.queue[A]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const A of t)try{A()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UJ(r,e={}){return o1(r,"GET","/v2/passwordPolicy",nP(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TJ=6;class QJ{constructor(e){var t,n,A,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:TJ,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(A=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&A!==void 0?A:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,A,i,s,o;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=(t=a.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),a.isValid&&(a.isValid=(n=a.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),a.isValid&&(a.isValid=(A=a.containsLowercaseLetter)!==null&&A!==void 0?A:!0),a.isValid&&(a.isValid=(i=a.containsUppercaseLetter)!==null&&i!==void 0?i:!0),a.isValid&&(a.isValid=(s=a.containsNumericCharacter)!==null&&s!==void 0?s:!0),a.isValid&&(a.isValid=(o=a.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,A=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),A&&(t.meetsMaxPasswordLength=e.length<=A)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let A=0;A<e.length;A++)n=e.charAt(A),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,A,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=A)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LJ{constructor(e,t,n,A){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=A,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vk(this),this.idTokenSubscription=new Vk(this),this.beforeStateQueue=new xJ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=X8,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=A.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Bp(t)),this._initializationPromise=this.queue(async()=>{var n,A,i;if(!this._deleted&&(this.persistenceManager=await S0.create(this,e),(n=this._resolvePersistenceManagerAvailable)===null||n===void 0||n.call(this),!this._deleted)){if(!((A=this._popupRedirectResolver)===null||A===void 0)&&A._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await RF(this,{idToken:e}),n=await Rh._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Fc(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let A=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,o=A==null?void 0:A._redirectEventId,a=await this.tryRedirectSignIn(e);(!s||s===o)&&(a!=null&&a.user)&&(A=a.user,i=!0)}if(!A)return this.directlySetCurrentUser(null);if(!A._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(A)}catch(s){A=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return A?this.reloadAndSetCurrentUserOrClear(A):this.directlySetCurrentUser(null)}return qr(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===A._redirectEventId?this.directlySetCurrentUser(A):this.reloadAndSetCurrentUserOrClear(A)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await PF(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=fJ()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Fc(this.app))return Promise.reject(My(this));const t=e?Fi(e):null;return t&&qr(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&qr(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Fc(this.app)?Promise.reject(My(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Fc(this.app)?Promise.reject(My(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bp(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await UJ(this),t=new QJ(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Q_("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await SJ(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Bp(e)||this._popupRedirectResolver;qr(t,this,"argument-error"),this.redirectPersistenceManager=await S0.create(this,[Bp(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,A){if(this._deleted)return()=>{};const i=typeof t=="function"?t:t.next.bind(t);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(qr(o,this,"internal-error"),o.then(()=>{s||i(this.currentUser)}),typeof t=="function"){const a=e.addObserver(t,n,A);return()=>{s=!0,a()}}else{const a=e.addObserver(t);return()=>{s=!0,a()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qr(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=u7(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const A=await this._getAppCheckToken();return A&&(t["X-Firebase-AppCheck"]=A),t}async _getAppCheckToken(){var e;if(Fc(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&lJ(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function rx(r){return Fi(r)}class Vk{constructor(e){this.auth=e,this.observer=null,this.addObserver=$X(t=>this.observer=t)}get next(){return qr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sP={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function NJ(r){sP=r}function RJ(r){return sP.loadJS(r)}function PJ(){return sP.gapiScript}function OJ(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kJ(r,e){const t=tx(r,"auth");if(t.isInitialized()){const A=t.getImmediate(),i=t.getOptions();if(Zy(i,e??{}))return A;td(A,"already-initialized")}return t.initialize({options:e})}function DJ(r,e){const t=(e==null?void 0:e.persistence)||[],n=(Array.isArray(t)?t:[t]).map(Bp);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function MJ(r,e,t){const n=rx(r);qr(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const A=!1,i=c7(e),{host:s,port:o}=HJ(e),a=o===null?"":`:${o}`,u={url:`${i}//${s}${a}/`},l=Object.freeze({host:s,port:o,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:A})});if(!n._canInitEmulator){qr(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),qr(Zy(u,n.config.emulator)&&Zy(l,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=u,n.emulatorConfig=l,n.settings.appVerificationDisabledForTesting=!0,Vm(s)?(WR(`${i}//${s}${a}`),$R("Auth",!0)):jJ()}function c7(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function HJ(r){const e=c7(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(n);if(A){const i=A[1];return{host:i,port:Kk(n.substr(i.length+1))}}else{const[i,s]=n.split(":");return{host:i,port:Kk(s)}}}function Kk(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function jJ(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h7{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return wp("not implemented")}_getIdTokenResponse(e){return wp("not implemented")}_linkToIdToken(e,t){return wp("not implemented")}_getReauthenticationResolver(e){return wp("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F0(r,e){return mJ(r,"POST","/v1/accounts:signInWithIdp",nP(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VJ="http://localhost";class tw extends h7{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new tw(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):td("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:A}=t,i=ZR(t,["providerId","signInMethod"]);if(!n||!A)return null;const s=new tw(n,A);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){const t=this.buildRequest();return F0(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,F0(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,F0(e,t)}buildRequest(){const e={requestUri:VJ,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=L_(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_ extends oP{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg extends R_{constructor(){super("facebook.com")}static credential(e){return tw._fromParams({providerId:wg.PROVIDER_ID,signInMethod:wg.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wg.credentialFromTaggedObject(e)}static credentialFromError(e){return wg.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wg.credential(e.oauthAccessToken)}catch{return null}}}wg.FACEBOOK_SIGN_IN_METHOD="facebook.com";wg.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp extends R_{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return tw._fromParams({providerId:yp.PROVIDER_ID,signInMethod:yp.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return yp.credentialFromTaggedObject(e)}static credentialFromError(e){return yp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return yp.credential(t,n)}catch{return null}}}yp.GOOGLE_SIGN_IN_METHOD="google.com";yp.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg extends R_{constructor(){super("github.com")}static credential(e){return tw._fromParams({providerId:Bg.PROVIDER_ID,signInMethod:Bg.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bg.credentialFromTaggedObject(e)}static credentialFromError(e){return Bg.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bg.credential(e.oauthAccessToken)}catch{return null}}}Bg.GITHUB_SIGN_IN_METHOD="github.com";Bg.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg extends R_{constructor(){super("twitter.com")}static credential(e,t){return tw._fromParams({providerId:Cg.PROVIDER_ID,signInMethod:Cg.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Cg.credentialFromTaggedObject(e)}static credentialFromError(e){return Cg.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Cg.credential(t,n)}catch{return null}}}Cg.TWITTER_SIGN_IN_METHOD="twitter.com";Cg.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KB{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,A=!1){const i=await Rh._fromIdTokenResponse(e,n,A),s=Gk(n);return new KB({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const A=Gk(n);return new KB({user:e,providerId:A,_tokenResponse:n,operationType:t})}}function Gk(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OF extends id{constructor(e,t,n,A){var i;super(t.code,t.message),this.operationType=n,this.user=A,Object.setPrototypeOf(this,OF.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,A){return new OF(e,t,n,A)}}function f7(r,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?OF._fromErrorAndOperation(r,i,e,n):i})}async function KJ(r,e,t=!1){const n=await Fb(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return KB._forOperation(r,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GJ(r,e,t=!1){const{auth:n}=r;if(Fc(n.app))return Promise.reject(My(n));const A="reauthenticate";try{const i=await Fb(r,f7(n,A,e,r),t);qr(i.idToken,n,"internal-error");const s=AP(i.idToken);qr(s,n,"internal-error");const{sub:o}=s;return qr(r.uid===o,n,"user-mismatch"),KB._forOperation(r,A,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&td(n,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zJ(r,e,t=!1){if(Fc(r.app))return Promise.reject(My(r));const n="signIn",A=await f7(r,n,e),i=await KB._fromIdTokenResponse(r,n,A);return t||await r._updateCurrentUser(i.user),i}function qJ(r,e,t,n){return Fi(r).onIdTokenChanged(e,t,n)}function WJ(r,e,t){return Fi(r).beforeAuthStateChanged(e,t)}function a1(r,e,t,n){return Fi(r).onAuthStateChanged(e,t,n)}function $J(r){return Fi(r).signOut()}const kF="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d7{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(kF,"1"),this.storage.removeItem(kF),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XJ=1e3,YJ=10;class p7 extends d7{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=l7(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),A=this.localCache[t];n!==A&&e(t,A,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((s,o,a)=>{this.notifyListeners(s,a)});return}const n=e.key;t?this.detachListener():this.stopPolling();const A=()=>{const s=this.storage.getItem(n);!t&&this.localCache[n]===s||this.notifyListeners(n,s)},i=this.storage.getItem(n);IJ()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(A,YJ):A()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const A of Array.from(n))A(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},XJ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}p7.type="LOCAL";const JJ=p7;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g7 extends d7{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}g7.type="SESSION";const m7=g7;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZJ(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(A=>A.isListeningto(e));if(t)return t;const n=new nx(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:A,data:i}=t.data,s=this.handlersMap[A];if(!(s!=null&&s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:A});const o=Array.from(s).map(async u=>u(t.origin,i)),a=await ZJ(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:A,response:a})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nx.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aP(r="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eZ{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const A=typeof MessageChannel<"u"?new MessageChannel:null;if(!A)throw new Error("connection_unavailable");let i,s;return new Promise((o,a)=>{const u=aP("",20);A.port1.start();const l=setTimeout(()=>{a(new Error("unsupported_event"))},n);s={messageChannel:A,onMessage(c){const h=c;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(l),i=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),o(h.data.response);break;default:clearTimeout(l),clearTimeout(i),a(new Error("invalid_response"));break}}},this.handlers.add(s),A.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[A.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wf(){return window}function tZ(r){Wf().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v7(){return typeof Wf().WorkerGlobalScope<"u"&&typeof Wf().importScripts=="function"}async function rZ(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nZ(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function AZ(){return v7()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y7="firebaseLocalStorageDb",iZ=1,DF="firebaseLocalStorage",w7="fbase_key";class P_{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ax(r,e){return r.transaction([DF],e?"readwrite":"readonly").objectStore(DF)}function sZ(){const r=indexedDB.deleteDatabase(y7);return new P_(r).toPromise()}function ZL(){const r=indexedDB.open(y7,iZ);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(DF,{keyPath:w7})}catch(A){t(A)}}),r.addEventListener("success",async()=>{const n=r.result;n.objectStoreNames.contains(DF)?e(n):(n.close(),await sZ(),e(await ZL()))})})}async function zk(r,e,t){const n=Ax(r,!0).put({[w7]:e,value:t});return new P_(n).toPromise()}async function oZ(r,e){const t=Ax(r,!1).get(e),n=await new P_(t).toPromise();return n===void 0?null:n.value}function qk(r,e){const t=Ax(r,!0).delete(e);return new P_(t).toPromise()}const aZ=800,lZ=3;class B7{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ZL(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>lZ)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return v7()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nx._getInstance(AZ()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await rZ(),!this.activeServiceWorker)return;this.sender=new eZ(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((t=n[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||nZ()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ZL();return await zk(e,kF,"1"),await qk(e,kF),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>zk(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>oZ(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>qk(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(A=>{const i=Ax(A,!1).getAll();return new P_(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:A,value:i}of e)n.add(A),JSON.stringify(this.localCache[A])!==JSON.stringify(i)&&(this.notifyListeners(A,i),t.push(A));for(const A of Object.keys(this.localCache))this.localCache[A]&&!n.has(A)&&(this.notifyListeners(A,null),t.push(A));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const A of Array.from(n))A(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aZ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}B7.type="LOCAL";const uZ=B7;new N_(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C7(r,e){return e?Bp(e):(qr(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP extends h7{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return F0(e,this._buildIdpRequest())}_linkToIdToken(e,t){return F0(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return F0(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function cZ(r){return zJ(r.auth,new lP(r),r.bypassAuthState)}function hZ(r){const{auth:e,user:t}=r;return qr(t,e,"internal-error"),GJ(t,new lP(r),r.bypassAuthState)}async function fZ(r){const{auth:e,user:t}=r;return qr(t,e,"internal-error"),KJ(t,new lP(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b7{constructor(e,t,n,A,i=!1){this.auth=e,this.resolver=n,this.user=A,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:A,tenantId:i,error:s,type:o}=e;if(s){this.reject(s);return}const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:A||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cZ;case"linkViaPopup":case"linkViaRedirect":return fZ;case"reauthViaPopup":case"reauthViaRedirect":return hZ;default:td(this.auth,"internal-error")}}resolve(e){Up(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Up(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dZ=new N_(2e3,1e4);async function E7(r,e,t){if(Fc(r.app))return Promise.reject(Oh(r,"operation-not-supported-in-this-environment"));const n=rx(r);uJ(r,e,oP);const A=C7(n,t);return new Fv(n,"signInViaPopup",e,A).executeNotNull()}class Fv extends b7{constructor(e,t,n,A,i){super(e,t,A,i),this.provider=n,this.authWindow=null,this.pollId=null,Fv.currentPopupAction&&Fv.currentPopupAction.cancel(),Fv.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return qr(e,this.auth,"internal-error"),e}async onExecution(){Up(this.filter.length===1,"Popup operations only handle one event");const e=aP();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Oh(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Oh(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fv.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;if(!((n=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Oh(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,dZ.get())};e()}}Fv.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pZ="pendingRedirect",LS=new Map;class gZ extends b7{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=LS.get(this.auth._key());if(!e){try{const n=await mZ(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}LS.set(this.auth._key(),e)}return this.bypassAuthState||LS.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function mZ(r,e){const t=wZ(e),n=yZ(r);if(!await n._isAvailable())return!1;const A=await n._get(t)==="true";return await n._remove(t),A}function vZ(r,e){LS.set(r._key(),e)}function yZ(r){return Bp(r._redirectPersistence)}function wZ(r){return QS(pZ,r.config.apiKey,r.name)}async function BZ(r,e,t=!1){if(Fc(r.app))return Promise.reject(My(r));const n=rx(r),A=C7(n,e),s=await new gZ(n,A,t).execute();return s&&!t&&(delete s.user._redirectEventId,await n._persistUserIfCurrent(s.user),await n._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CZ=10*60*1e3;class bZ{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!EZ(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!_7(e)){const A=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";t.onError(Oh(this.auth,A))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=CZ&&this.cachedEventUids.clear(),this.cachedEventUids.has(Wk(e))}saveEventToCache(e){this.cachedEventUids.add(Wk(e)),this.lastProcessedEventTime=Date.now()}}function Wk(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function _7({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function EZ(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _7(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _Z(r,e={}){return o1(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SZ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,FZ=/^https?/;async function IZ(r){if(r.config.emulator)return;const{authorizedDomains:e}=await _Z(r);for(const t of e)try{if(xZ(t))return}catch{}td(r,"unauthorized-domain")}function xZ(r){const e=YL(),{protocol:t,hostname:n}=new URL(e);if(r.startsWith("chrome-extension://")){const s=new URL(r);return s.hostname===""&&n===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===n}if(!FZ.test(t))return!1;if(SZ.test(r))return n===r;const A=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UZ=new N_(3e4,6e4);function $k(){const r=Wf().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function TZ(r){return new Promise((e,t)=>{var n,A,i;function s(){$k(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$k(),t(Oh(r,"network-request-failed"))},timeout:UZ.get()})}if(!((A=(n=Wf().gapi)===null||n===void 0?void 0:n.iframes)===null||A===void 0)&&A.Iframe)e(gapi.iframes.getContext());else if(!((i=Wf().gapi)===null||i===void 0)&&i.load)s();else{const o=OJ("iframefcb");return Wf()[o]=()=>{gapi.load?s():t(Oh(r,"network-request-failed"))},RJ(`${PJ()}?onload=${o}`).catch(a=>t(a))}}).catch(e=>{throw NS=null,e})}let NS=null;function QZ(r){return NS=NS||TZ(r),NS}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LZ=new N_(5e3,15e3),NZ="__/auth/iframe",RZ="emulator/auth/iframe",PZ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},OZ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kZ(r){const e=r.config;qr(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?rP(e,RZ):`https://${r.config.authDomain}/${NZ}`,n={apiKey:e.apiKey,appName:r.name,v:hw},A=OZ.get(r.config.apiHost);A&&(n.eid=A);const i=r._getFrameworks();return i.length&&(n.fw=i.join(",")),`${t}?${L_(n).slice(1)}`}async function DZ(r){const e=await QZ(r),t=Wf().gapi;return qr(t,r,"internal-error"),e.open({where:document.body,url:kZ(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:PZ,dontclear:!0},n=>new Promise(async(A,i)=>{await n.restyle({setHideOnLeave:!1});const s=Oh(r,"network-request-failed"),o=Wf().setTimeout(()=>{i(s)},LZ.get());function a(){Wf().clearTimeout(o),A(n)}n.ping(a).then(a,()=>{i(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MZ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},HZ=500,jZ=600,VZ="_blank",KZ="http://localhost";class Xk{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function GZ(r,e,t,n=HZ,A=jZ){const i=Math.max((window.screen.availHeight-A)/2,0).toString(),s=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const a=Object.assign(Object.assign({},MZ),{width:n.toString(),height:A.toString(),top:i,left:s}),u=Ma().toLowerCase();t&&(o=A7(u)?VZ:t),r7(u)&&(e=e||KZ,a.scrollbars="yes");const l=Object.entries(a).reduce((h,[d,m])=>`${h}${d}=${m},`,"");if(FJ(u)&&o!=="_self")return zZ(e||"",o),new Xk(null);const c=window.open(e||"",o,l);qr(c,r,"popup-blocked");try{c.focus()}catch{}return new Xk(c)}function zZ(r,e){const t=document.createElement("a");t.href=r,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qZ="__/auth/handler",WZ="emulator/auth/handler",$Z=encodeURIComponent("fac");async function Yk(r,e,t,n,A,i){qr(r.config.authDomain,r,"auth-domain-config-required"),qr(r.config.apiKey,r,"invalid-api-key");const s={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:n,v:hw,eventId:A};if(e instanceof oP){e.setDefaultLanguage(r.languageCode),s.providerId=e.providerId||"",WX(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,c]of Object.entries({}))s[l]=c}if(e instanceof R_){const l=e.getScopes().filter(c=>c!=="");l.length>0&&(s.scopes=l.join(","))}r.tenantId&&(s.tid=r.tenantId);const o=s;for(const l of Object.keys(o))o[l]===void 0&&delete o[l];const a=await r._getAppCheckToken(),u=a?`#${$Z}=${encodeURIComponent(a)}`:"";return`${XZ(r)}?${L_(o).slice(1)}${u}`}function XZ({config:r}){return r.emulator?rP(r,WZ):`https://${r.authDomain}/${qZ}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GU="webStorageSupport";class YZ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=m7,this._completeRedirectFn=BZ,this._overrideRedirectResult=vZ}async _openPopup(e,t,n,A){var i;Up((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const s=await Yk(e,t,n,YL(),A);return GZ(e,s,aP())}async _openRedirect(e,t,n,A){await this._originValidation(e);const i=await Yk(e,t,n,YL(),A);return tZ(i),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:A,promise:i}=this.eventManagers[t];return A?Promise.resolve(A):(Up(i,"If manager is not set, promise should be"),i)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await DZ(e),n=new bZ(e);return t.register("authEvent",A=>(qr(A==null?void 0:A.authEvent,e,"invalid-auth-event"),{status:n.onEvent(A.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(GU,{type:GU},A=>{var i;const s=(i=A==null?void 0:A[0])===null||i===void 0?void 0:i[GU];s!==void 0&&t(!!s),td(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=IZ(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return l7()||n7()||iP()}}const JZ=YZ;var Jk="@firebase/auth",Zk="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZZ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){qr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eee(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tee(r){ew(new Fm("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),A=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=n.options;qr(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});const a={apiKey:s,authDomain:o,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:u7(r)},u=new LJ(n,A,i,a);return DJ(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),ew(new Fm("auth-internal",e=>{const t=rx(e.getProvider("auth").getImmediate());return(n=>new ZZ(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),qf(Jk,Zk,eee(r)),qf(Jk,Zk,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ree=5*60,nee=j8("authIdTokenMaxAge")||ree;let eD=null;const Aee=r=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>nee)return;const A=t==null?void 0:t.token;eD!==A&&(eD=A,await fetch(r,{method:A?"POST":"DELETE",headers:A?{Authorization:`Bearer ${A}`}:{}}))};function S7(r=JR()){const e=tx(r,"auth");if(e.isInitialized())return e.getImmediate();const t=kJ(r,{popupRedirectResolver:JZ,persistence:[uZ,JJ,m7]}),n=j8("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(n,location.origin);if(location.origin===i.origin){const s=Aee(i.toString());WJ(t,s,()=>s(t.currentUser)),qJ(t,o=>s(o))}}const A=D8("auth");return A&&MJ(t,`http://${A}`),t}function iee(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}NJ({loadJS(r){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=e,n.onerror=A=>{const i=Oh("internal-error");i.customData=A,t(i)},n.type="text/javascript",n.charset="UTF-8",iee().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tee("Browser");var zU={},AC={},tD;function see(){if(tD)return AC;tD=1,AC.byteLength=o,AC.toByteArray=u,AC.fromByteArray=h;for(var r=[],e=[],t=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",A=0,i=n.length;A<i;++A)r[A]=n[A],e[n.charCodeAt(A)]=A;e[45]=62,e[95]=63;function s(d){var m=d.length;if(m%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=d.indexOf("=");g===-1&&(g=m);var y=g===m?0:4-g%4;return[g,y]}function o(d){var m=s(d),g=m[0],y=m[1];return(g+y)*3/4-y}function a(d,m,g){return(m+g)*3/4-g}function u(d){var m,g=s(d),y=g[0],v=g[1],w=new t(a(d,y,v)),b=0,B=v>0?y-4:y,F;for(F=0;F<B;F+=4)m=e[d.charCodeAt(F)]<<18|e[d.charCodeAt(F+1)]<<12|e[d.charCodeAt(F+2)]<<6|e[d.charCodeAt(F+3)],w[b++]=m>>16&255,w[b++]=m>>8&255,w[b++]=m&255;return v===2&&(m=e[d.charCodeAt(F)]<<2|e[d.charCodeAt(F+1)]>>4,w[b++]=m&255),v===1&&(m=e[d.charCodeAt(F)]<<10|e[d.charCodeAt(F+1)]<<4|e[d.charCodeAt(F+2)]>>2,w[b++]=m>>8&255,w[b++]=m&255),w}function l(d){return r[d>>18&63]+r[d>>12&63]+r[d>>6&63]+r[d&63]}function c(d,m,g){for(var y,v=[],w=m;w<g;w+=3)y=(d[w]<<16&16711680)+(d[w+1]<<8&65280)+(d[w+2]&255),v.push(l(y));return v.join("")}function h(d){for(var m,g=d.length,y=g%3,v=[],w=16383,b=0,B=g-y;b<B;b+=w)v.push(c(d,b,b+w>B?B:b+w));return y===1?(m=d[g-1],v.push(r[m>>2]+r[m<<4&63]+"==")):y===2&&(m=(d[g-2]<<8)+d[g-1],v.push(r[m>>10]+r[m>>4&63]+r[m<<2&63]+"=")),v.join("")}return AC}var U2={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var rD;function oee(){return rD||(rD=1,U2.read=function(r,e,t,n,A){var i,s,o=A*8-n-1,a=(1<<o)-1,u=a>>1,l=-7,c=t?A-1:0,h=t?-1:1,d=r[e+c];for(c+=h,i=d&(1<<-l)-1,d>>=-l,l+=o;l>0;i=i*256+r[e+c],c+=h,l-=8);for(s=i&(1<<-l)-1,i>>=-l,l+=n;l>0;s=s*256+r[e+c],c+=h,l-=8);if(i===0)i=1-u;else{if(i===a)return s?NaN:(d?-1:1)*(1/0);s=s+Math.pow(2,n),i=i-u}return(d?-1:1)*s*Math.pow(2,i-n)},U2.write=function(r,e,t,n,A,i){var s,o,a,u=i*8-A-1,l=(1<<u)-1,c=l>>1,h=A===23?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:i-1,m=n?1:-1,g=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(a=Math.pow(2,-s))<1&&(s--,a*=2),s+c>=1?e+=h/a:e+=h*Math.pow(2,1-c),e*a>=2&&(s++,a/=2),s+c>=l?(o=0,s=l):s+c>=1?(o=(e*a-1)*Math.pow(2,A),s=s+c):(o=e*Math.pow(2,c-1)*Math.pow(2,A),s=0));A>=8;r[t+d]=o&255,d+=m,o/=256,A-=8);for(s=s<<A|o,u+=A;u>0;r[t+d]=s&255,d+=m,s/=256,u-=8);r[t+d-m]|=g*128}),U2}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var nD;function aee(){return nD||(nD=1,function(r){const e=see(),t=oee(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=o,r.SlowBuffer=w,r.INSPECT_MAX_BYTES=50;const A=2147483647;r.kMaxLength=A,o.TYPED_ARRAY_SUPPORT=i(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const ge=new Uint8Array(1),X={foo:function(){return 42}};return Object.setPrototypeOf(X,Uint8Array.prototype),Object.setPrototypeOf(ge,X),ge.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function s(ge){if(ge>A)throw new RangeError('The value "'+ge+'" is invalid for option "size"');const X=new Uint8Array(ge);return Object.setPrototypeOf(X,o.prototype),X}function o(ge,X,Ae){if(typeof ge=="number"){if(typeof X=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return c(ge)}return a(ge,X,Ae)}o.poolSize=8192;function a(ge,X,Ae){if(typeof ge=="string")return h(ge,X);if(ArrayBuffer.isView(ge))return m(ge);if(ge==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ge);if(ze(ge,ArrayBuffer)||ge&&ze(ge.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ze(ge,SharedArrayBuffer)||ge&&ze(ge.buffer,SharedArrayBuffer)))return g(ge,X,Ae);if(typeof ge=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const de=ge.valueOf&&ge.valueOf();if(de!=null&&de!==ge)return o.from(de,X,Ae);const we=y(ge);if(we)return we;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof ge[Symbol.toPrimitive]=="function")return o.from(ge[Symbol.toPrimitive]("string"),X,Ae);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ge)}o.from=function(ge,X,Ae){return a(ge,X,Ae)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function u(ge){if(typeof ge!="number")throw new TypeError('"size" argument must be of type number');if(ge<0)throw new RangeError('The value "'+ge+'" is invalid for option "size"')}function l(ge,X,Ae){return u(ge),ge<=0?s(ge):X!==void 0?typeof Ae=="string"?s(ge).fill(X,Ae):s(ge).fill(X):s(ge)}o.alloc=function(ge,X,Ae){return l(ge,X,Ae)};function c(ge){return u(ge),s(ge<0?0:v(ge)|0)}o.allocUnsafe=function(ge){return c(ge)},o.allocUnsafeSlow=function(ge){return c(ge)};function h(ge,X){if((typeof X!="string"||X==="")&&(X="utf8"),!o.isEncoding(X))throw new TypeError("Unknown encoding: "+X);const Ae=b(ge,X)|0;let de=s(Ae);const we=de.write(ge,X);return we!==Ae&&(de=de.slice(0,we)),de}function d(ge){const X=ge.length<0?0:v(ge.length)|0,Ae=s(X);for(let de=0;de<X;de+=1)Ae[de]=ge[de]&255;return Ae}function m(ge){if(ze(ge,Uint8Array)){const X=new Uint8Array(ge);return g(X.buffer,X.byteOffset,X.byteLength)}return d(ge)}function g(ge,X,Ae){if(X<0||ge.byteLength<X)throw new RangeError('"offset" is outside of buffer bounds');if(ge.byteLength<X+(Ae||0))throw new RangeError('"length" is outside of buffer bounds');let de;return X===void 0&&Ae===void 0?de=new Uint8Array(ge):Ae===void 0?de=new Uint8Array(ge,X):de=new Uint8Array(ge,X,Ae),Object.setPrototypeOf(de,o.prototype),de}function y(ge){if(o.isBuffer(ge)){const X=v(ge.length)|0,Ae=s(X);return Ae.length===0||ge.copy(Ae,0,0,X),Ae}if(ge.length!==void 0)return typeof ge.length!="number"||Ve(ge.length)?s(0):d(ge);if(ge.type==="Buffer"&&Array.isArray(ge.data))return d(ge.data)}function v(ge){if(ge>=A)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+A.toString(16)+" bytes");return ge|0}function w(ge){return+ge!=ge&&(ge=0),o.alloc(+ge)}o.isBuffer=function(X){return X!=null&&X._isBuffer===!0&&X!==o.prototype},o.compare=function(X,Ae){if(ze(X,Uint8Array)&&(X=o.from(X,X.offset,X.byteLength)),ze(Ae,Uint8Array)&&(Ae=o.from(Ae,Ae.offset,Ae.byteLength)),!o.isBuffer(X)||!o.isBuffer(Ae))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(X===Ae)return 0;let de=X.length,we=Ae.length;for(let Oe=0,He=Math.min(de,we);Oe<He;++Oe)if(X[Oe]!==Ae[Oe]){de=X[Oe],we=Ae[Oe];break}return de<we?-1:we<de?1:0},o.isEncoding=function(X){switch(String(X).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(X,Ae){if(!Array.isArray(X))throw new TypeError('"list" argument must be an Array of Buffers');if(X.length===0)return o.alloc(0);let de;if(Ae===void 0)for(Ae=0,de=0;de<X.length;++de)Ae+=X[de].length;const we=o.allocUnsafe(Ae);let Oe=0;for(de=0;de<X.length;++de){let He=X[de];if(ze(He,Uint8Array))Oe+He.length>we.length?(o.isBuffer(He)||(He=o.from(He)),He.copy(we,Oe)):Uint8Array.prototype.set.call(we,He,Oe);else if(o.isBuffer(He))He.copy(we,Oe);else throw new TypeError('"list" argument must be an Array of Buffers');Oe+=He.length}return we};function b(ge,X){if(o.isBuffer(ge))return ge.length;if(ArrayBuffer.isView(ge)||ze(ge,ArrayBuffer))return ge.byteLength;if(typeof ge!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ge);const Ae=ge.length,de=arguments.length>2&&arguments[2]===!0;if(!de&&Ae===0)return 0;let we=!1;for(;;)switch(X){case"ascii":case"latin1":case"binary":return Ae;case"utf8":case"utf-8":return Ut(ge).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ae*2;case"hex":return Ae>>>1;case"base64":return it(ge).length;default:if(we)return de?-1:Ut(ge).length;X=(""+X).toLowerCase(),we=!0}}o.byteLength=b;function B(ge,X,Ae){let de=!1;if((X===void 0||X<0)&&(X=0),X>this.length||((Ae===void 0||Ae>this.length)&&(Ae=this.length),Ae<=0)||(Ae>>>=0,X>>>=0,Ae<=X))return"";for(ge||(ge="utf8");;)switch(ge){case"hex":return ne(this,X,Ae);case"utf8":case"utf-8":return V(this,X,Ae);case"ascii":return re(this,X,Ae);case"latin1":case"binary":return le(this,X,Ae);case"base64":return O(this,X,Ae);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return te(this,X,Ae);default:if(de)throw new TypeError("Unknown encoding: "+ge);ge=(ge+"").toLowerCase(),de=!0}}o.prototype._isBuffer=!0;function F(ge,X,Ae){const de=ge[X];ge[X]=ge[Ae],ge[Ae]=de}o.prototype.swap16=function(){const X=this.length;if(X%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let Ae=0;Ae<X;Ae+=2)F(this,Ae,Ae+1);return this},o.prototype.swap32=function(){const X=this.length;if(X%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let Ae=0;Ae<X;Ae+=4)F(this,Ae,Ae+3),F(this,Ae+1,Ae+2);return this},o.prototype.swap64=function(){const X=this.length;if(X%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let Ae=0;Ae<X;Ae+=8)F(this,Ae,Ae+7),F(this,Ae+1,Ae+6),F(this,Ae+2,Ae+5),F(this,Ae+3,Ae+4);return this},o.prototype.toString=function(){const X=this.length;return X===0?"":arguments.length===0?V(this,0,X):B.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(X){if(!o.isBuffer(X))throw new TypeError("Argument must be a Buffer");return this===X?!0:o.compare(this,X)===0},o.prototype.inspect=function(){let X="";const Ae=r.INSPECT_MAX_BYTES;return X=this.toString("hex",0,Ae).replace(/(.{2})/g,"$1 ").trim(),this.length>Ae&&(X+=" ... "),"<Buffer "+X+">"},n&&(o.prototype[n]=o.prototype.inspect),o.prototype.compare=function(X,Ae,de,we,Oe){if(ze(X,Uint8Array)&&(X=o.from(X,X.offset,X.byteLength)),!o.isBuffer(X))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof X);if(Ae===void 0&&(Ae=0),de===void 0&&(de=X?X.length:0),we===void 0&&(we=0),Oe===void 0&&(Oe=this.length),Ae<0||de>X.length||we<0||Oe>this.length)throw new RangeError("out of range index");if(we>=Oe&&Ae>=de)return 0;if(we>=Oe)return-1;if(Ae>=de)return 1;if(Ae>>>=0,de>>>=0,we>>>=0,Oe>>>=0,this===X)return 0;let He=Oe-we,Et=de-Ae;const Tt=Math.min(He,Et),Ht=this.slice(we,Oe),gr=X.slice(Ae,de);for(let zt=0;zt<Tt;++zt)if(Ht[zt]!==gr[zt]){He=Ht[zt],Et=gr[zt];break}return He<Et?-1:Et<He?1:0};function N(ge,X,Ae,de,we){if(ge.length===0)return-1;if(typeof Ae=="string"?(de=Ae,Ae=0):Ae>2147483647?Ae=2147483647:Ae<-2147483648&&(Ae=-2147483648),Ae=+Ae,Ve(Ae)&&(Ae=we?0:ge.length-1),Ae<0&&(Ae=ge.length+Ae),Ae>=ge.length){if(we)return-1;Ae=ge.length-1}else if(Ae<0)if(we)Ae=0;else return-1;if(typeof X=="string"&&(X=o.from(X,de)),o.isBuffer(X))return X.length===0?-1:T(ge,X,Ae,de,we);if(typeof X=="number")return X=X&255,typeof Uint8Array.prototype.indexOf=="function"?we?Uint8Array.prototype.indexOf.call(ge,X,Ae):Uint8Array.prototype.lastIndexOf.call(ge,X,Ae):T(ge,[X],Ae,de,we);throw new TypeError("val must be string, number or Buffer")}function T(ge,X,Ae,de,we){let Oe=1,He=ge.length,Et=X.length;if(de!==void 0&&(de=String(de).toLowerCase(),de==="ucs2"||de==="ucs-2"||de==="utf16le"||de==="utf-16le")){if(ge.length<2||X.length<2)return-1;Oe=2,He/=2,Et/=2,Ae/=2}function Tt(gr,zt){return Oe===1?gr[zt]:gr.readUInt16BE(zt*Oe)}let Ht;if(we){let gr=-1;for(Ht=Ae;Ht<He;Ht++)if(Tt(ge,Ht)===Tt(X,gr===-1?0:Ht-gr)){if(gr===-1&&(gr=Ht),Ht-gr+1===Et)return gr*Oe}else gr!==-1&&(Ht-=Ht-gr),gr=-1}else for(Ae+Et>He&&(Ae=He-Et),Ht=Ae;Ht>=0;Ht--){let gr=!0;for(let zt=0;zt<Et;zt++)if(Tt(ge,Ht+zt)!==Tt(X,zt)){gr=!1;break}if(gr)return Ht}return-1}o.prototype.includes=function(X,Ae,de){return this.indexOf(X,Ae,de)!==-1},o.prototype.indexOf=function(X,Ae,de){return N(this,X,Ae,de,!0)},o.prototype.lastIndexOf=function(X,Ae,de){return N(this,X,Ae,de,!1)};function U(ge,X,Ae,de){Ae=Number(Ae)||0;const we=ge.length-Ae;de?(de=Number(de),de>we&&(de=we)):de=we;const Oe=X.length;de>Oe/2&&(de=Oe/2);let He;for(He=0;He<de;++He){const Et=parseInt(X.substr(He*2,2),16);if(Ve(Et))return He;ge[Ae+He]=Et}return He}function k(ge,X,Ae,de){return ut(Ut(X,ge.length-Ae),ge,Ae,de)}function D(ge,X,Ae,de){return ut(ke(X),ge,Ae,de)}function _(ge,X,Ae,de){return ut(it(X),ge,Ae,de)}function L(ge,X,Ae,de){return ut(Me(X,ge.length-Ae),ge,Ae,de)}o.prototype.write=function(X,Ae,de,we){if(Ae===void 0)we="utf8",de=this.length,Ae=0;else if(de===void 0&&typeof Ae=="string")we=Ae,de=this.length,Ae=0;else if(isFinite(Ae))Ae=Ae>>>0,isFinite(de)?(de=de>>>0,we===void 0&&(we="utf8")):(we=de,de=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Oe=this.length-Ae;if((de===void 0||de>Oe)&&(de=Oe),X.length>0&&(de<0||Ae<0)||Ae>this.length)throw new RangeError("Attempt to write outside buffer bounds");we||(we="utf8");let He=!1;for(;;)switch(we){case"hex":return U(this,X,Ae,de);case"utf8":case"utf-8":return k(this,X,Ae,de);case"ascii":case"latin1":case"binary":return D(this,X,Ae,de);case"base64":return _(this,X,Ae,de);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,X,Ae,de);default:if(He)throw new TypeError("Unknown encoding: "+we);we=(""+we).toLowerCase(),He=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function O(ge,X,Ae){return X===0&&Ae===ge.length?e.fromByteArray(ge):e.fromByteArray(ge.slice(X,Ae))}function V(ge,X,Ae){Ae=Math.min(ge.length,Ae);const de=[];let we=X;for(;we<Ae;){const Oe=ge[we];let He=null,Et=Oe>239?4:Oe>223?3:Oe>191?2:1;if(we+Et<=Ae){let Tt,Ht,gr,zt;switch(Et){case 1:Oe<128&&(He=Oe);break;case 2:Tt=ge[we+1],(Tt&192)===128&&(zt=(Oe&31)<<6|Tt&63,zt>127&&(He=zt));break;case 3:Tt=ge[we+1],Ht=ge[we+2],(Tt&192)===128&&(Ht&192)===128&&(zt=(Oe&15)<<12|(Tt&63)<<6|Ht&63,zt>2047&&(zt<55296||zt>57343)&&(He=zt));break;case 4:Tt=ge[we+1],Ht=ge[we+2],gr=ge[we+3],(Tt&192)===128&&(Ht&192)===128&&(gr&192)===128&&(zt=(Oe&15)<<18|(Tt&63)<<12|(Ht&63)<<6|gr&63,zt>65535&&zt<1114112&&(He=zt))}}He===null?(He=65533,Et=1):He>65535&&(He-=65536,de.push(He>>>10&1023|55296),He=56320|He&1023),de.push(He),we+=Et}return Y(de)}const $=4096;function Y(ge){const X=ge.length;if(X<=$)return String.fromCharCode.apply(String,ge);let Ae="",de=0;for(;de<X;)Ae+=String.fromCharCode.apply(String,ge.slice(de,de+=$));return Ae}function re(ge,X,Ae){let de="";Ae=Math.min(ge.length,Ae);for(let we=X;we<Ae;++we)de+=String.fromCharCode(ge[we]&127);return de}function le(ge,X,Ae){let de="";Ae=Math.min(ge.length,Ae);for(let we=X;we<Ae;++we)de+=String.fromCharCode(ge[we]);return de}function ne(ge,X,Ae){const de=ge.length;(!X||X<0)&&(X=0),(!Ae||Ae<0||Ae>de)&&(Ae=de);let we="";for(let Oe=X;Oe<Ae;++Oe)we+=At[ge[Oe]];return we}function te(ge,X,Ae){const de=ge.slice(X,Ae);let we="";for(let Oe=0;Oe<de.length-1;Oe+=2)we+=String.fromCharCode(de[Oe]+de[Oe+1]*256);return we}o.prototype.slice=function(X,Ae){const de=this.length;X=~~X,Ae=Ae===void 0?de:~~Ae,X<0?(X+=de,X<0&&(X=0)):X>de&&(X=de),Ae<0?(Ae+=de,Ae<0&&(Ae=0)):Ae>de&&(Ae=de),Ae<X&&(Ae=X);const we=this.subarray(X,Ae);return Object.setPrototypeOf(we,o.prototype),we};function G(ge,X,Ae){if(ge%1!==0||ge<0)throw new RangeError("offset is not uint");if(ge+X>Ae)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(X,Ae,de){X=X>>>0,Ae=Ae>>>0,de||G(X,Ae,this.length);let we=this[X],Oe=1,He=0;for(;++He<Ae&&(Oe*=256);)we+=this[X+He]*Oe;return we},o.prototype.readUintBE=o.prototype.readUIntBE=function(X,Ae,de){X=X>>>0,Ae=Ae>>>0,de||G(X,Ae,this.length);let we=this[X+--Ae],Oe=1;for(;Ae>0&&(Oe*=256);)we+=this[X+--Ae]*Oe;return we},o.prototype.readUint8=o.prototype.readUInt8=function(X,Ae){return X=X>>>0,Ae||G(X,1,this.length),this[X]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(X,Ae){return X=X>>>0,Ae||G(X,2,this.length),this[X]|this[X+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(X,Ae){return X=X>>>0,Ae||G(X,2,this.length),this[X]<<8|this[X+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(X,Ae){return X=X>>>0,Ae||G(X,4,this.length),(this[X]|this[X+1]<<8|this[X+2]<<16)+this[X+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(X,Ae){return X=X>>>0,Ae||G(X,4,this.length),this[X]*16777216+(this[X+1]<<16|this[X+2]<<8|this[X+3])},o.prototype.readBigUInt64LE=lt(function(X){X=X>>>0,nt(X,"offset");const Ae=this[X],de=this[X+7];(Ae===void 0||de===void 0)&&pt(X,this.length-8);const we=Ae+this[++X]*2**8+this[++X]*2**16+this[++X]*2**24,Oe=this[++X]+this[++X]*2**8+this[++X]*2**16+de*2**24;return BigInt(we)+(BigInt(Oe)<<BigInt(32))}),o.prototype.readBigUInt64BE=lt(function(X){X=X>>>0,nt(X,"offset");const Ae=this[X],de=this[X+7];(Ae===void 0||de===void 0)&&pt(X,this.length-8);const we=Ae*2**24+this[++X]*2**16+this[++X]*2**8+this[++X],Oe=this[++X]*2**24+this[++X]*2**16+this[++X]*2**8+de;return(BigInt(we)<<BigInt(32))+BigInt(Oe)}),o.prototype.readIntLE=function(X,Ae,de){X=X>>>0,Ae=Ae>>>0,de||G(X,Ae,this.length);let we=this[X],Oe=1,He=0;for(;++He<Ae&&(Oe*=256);)we+=this[X+He]*Oe;return Oe*=128,we>=Oe&&(we-=Math.pow(2,8*Ae)),we},o.prototype.readIntBE=function(X,Ae,de){X=X>>>0,Ae=Ae>>>0,de||G(X,Ae,this.length);let we=Ae,Oe=1,He=this[X+--we];for(;we>0&&(Oe*=256);)He+=this[X+--we]*Oe;return Oe*=128,He>=Oe&&(He-=Math.pow(2,8*Ae)),He},o.prototype.readInt8=function(X,Ae){return X=X>>>0,Ae||G(X,1,this.length),this[X]&128?(255-this[X]+1)*-1:this[X]},o.prototype.readInt16LE=function(X,Ae){X=X>>>0,Ae||G(X,2,this.length);const de=this[X]|this[X+1]<<8;return de&32768?de|4294901760:de},o.prototype.readInt16BE=function(X,Ae){X=X>>>0,Ae||G(X,2,this.length);const de=this[X+1]|this[X]<<8;return de&32768?de|4294901760:de},o.prototype.readInt32LE=function(X,Ae){return X=X>>>0,Ae||G(X,4,this.length),this[X]|this[X+1]<<8|this[X+2]<<16|this[X+3]<<24},o.prototype.readInt32BE=function(X,Ae){return X=X>>>0,Ae||G(X,4,this.length),this[X]<<24|this[X+1]<<16|this[X+2]<<8|this[X+3]},o.prototype.readBigInt64LE=lt(function(X){X=X>>>0,nt(X,"offset");const Ae=this[X],de=this[X+7];(Ae===void 0||de===void 0)&&pt(X,this.length-8);const we=this[X+4]+this[X+5]*2**8+this[X+6]*2**16+(de<<24);return(BigInt(we)<<BigInt(32))+BigInt(Ae+this[++X]*2**8+this[++X]*2**16+this[++X]*2**24)}),o.prototype.readBigInt64BE=lt(function(X){X=X>>>0,nt(X,"offset");const Ae=this[X],de=this[X+7];(Ae===void 0||de===void 0)&&pt(X,this.length-8);const we=(Ae<<24)+this[++X]*2**16+this[++X]*2**8+this[++X];return(BigInt(we)<<BigInt(32))+BigInt(this[++X]*2**24+this[++X]*2**16+this[++X]*2**8+de)}),o.prototype.readFloatLE=function(X,Ae){return X=X>>>0,Ae||G(X,4,this.length),t.read(this,X,!0,23,4)},o.prototype.readFloatBE=function(X,Ae){return X=X>>>0,Ae||G(X,4,this.length),t.read(this,X,!1,23,4)},o.prototype.readDoubleLE=function(X,Ae){return X=X>>>0,Ae||G(X,8,this.length),t.read(this,X,!0,52,8)},o.prototype.readDoubleBE=function(X,Ae){return X=X>>>0,Ae||G(X,8,this.length),t.read(this,X,!1,52,8)};function H(ge,X,Ae,de,we,Oe){if(!o.isBuffer(ge))throw new TypeError('"buffer" argument must be a Buffer instance');if(X>we||X<Oe)throw new RangeError('"value" argument is out of bounds');if(Ae+de>ge.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(X,Ae,de,we){if(X=+X,Ae=Ae>>>0,de=de>>>0,!we){const Et=Math.pow(2,8*de)-1;H(this,X,Ae,de,Et,0)}let Oe=1,He=0;for(this[Ae]=X&255;++He<de&&(Oe*=256);)this[Ae+He]=X/Oe&255;return Ae+de},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(X,Ae,de,we){if(X=+X,Ae=Ae>>>0,de=de>>>0,!we){const Et=Math.pow(2,8*de)-1;H(this,X,Ae,de,Et,0)}let Oe=de-1,He=1;for(this[Ae+Oe]=X&255;--Oe>=0&&(He*=256);)this[Ae+Oe]=X/He&255;return Ae+de},o.prototype.writeUint8=o.prototype.writeUInt8=function(X,Ae,de){return X=+X,Ae=Ae>>>0,de||H(this,X,Ae,1,255,0),this[Ae]=X&255,Ae+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(X,Ae,de){return X=+X,Ae=Ae>>>0,de||H(this,X,Ae,2,65535,0),this[Ae]=X&255,this[Ae+1]=X>>>8,Ae+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(X,Ae,de){return X=+X,Ae=Ae>>>0,de||H(this,X,Ae,2,65535,0),this[Ae]=X>>>8,this[Ae+1]=X&255,Ae+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(X,Ae,de){return X=+X,Ae=Ae>>>0,de||H(this,X,Ae,4,4294967295,0),this[Ae+3]=X>>>24,this[Ae+2]=X>>>16,this[Ae+1]=X>>>8,this[Ae]=X&255,Ae+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(X,Ae,de){return X=+X,Ae=Ae>>>0,de||H(this,X,Ae,4,4294967295,0),this[Ae]=X>>>24,this[Ae+1]=X>>>16,this[Ae+2]=X>>>8,this[Ae+3]=X&255,Ae+4};function z(ge,X,Ae,de,we){et(X,de,we,ge,Ae,7);let Oe=Number(X&BigInt(4294967295));ge[Ae++]=Oe,Oe=Oe>>8,ge[Ae++]=Oe,Oe=Oe>>8,ge[Ae++]=Oe,Oe=Oe>>8,ge[Ae++]=Oe;let He=Number(X>>BigInt(32)&BigInt(4294967295));return ge[Ae++]=He,He=He>>8,ge[Ae++]=He,He=He>>8,ge[Ae++]=He,He=He>>8,ge[Ae++]=He,Ae}function oe(ge,X,Ae,de,we){et(X,de,we,ge,Ae,7);let Oe=Number(X&BigInt(4294967295));ge[Ae+7]=Oe,Oe=Oe>>8,ge[Ae+6]=Oe,Oe=Oe>>8,ge[Ae+5]=Oe,Oe=Oe>>8,ge[Ae+4]=Oe;let He=Number(X>>BigInt(32)&BigInt(4294967295));return ge[Ae+3]=He,He=He>>8,ge[Ae+2]=He,He=He>>8,ge[Ae+1]=He,He=He>>8,ge[Ae]=He,Ae+8}o.prototype.writeBigUInt64LE=lt(function(X,Ae=0){return z(this,X,Ae,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=lt(function(X,Ae=0){return oe(this,X,Ae,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(X,Ae,de,we){if(X=+X,Ae=Ae>>>0,!we){const Tt=Math.pow(2,8*de-1);H(this,X,Ae,de,Tt-1,-Tt)}let Oe=0,He=1,Et=0;for(this[Ae]=X&255;++Oe<de&&(He*=256);)X<0&&Et===0&&this[Ae+Oe-1]!==0&&(Et=1),this[Ae+Oe]=(X/He>>0)-Et&255;return Ae+de},o.prototype.writeIntBE=function(X,Ae,de,we){if(X=+X,Ae=Ae>>>0,!we){const Tt=Math.pow(2,8*de-1);H(this,X,Ae,de,Tt-1,-Tt)}let Oe=de-1,He=1,Et=0;for(this[Ae+Oe]=X&255;--Oe>=0&&(He*=256);)X<0&&Et===0&&this[Ae+Oe+1]!==0&&(Et=1),this[Ae+Oe]=(X/He>>0)-Et&255;return Ae+de},o.prototype.writeInt8=function(X,Ae,de){return X=+X,Ae=Ae>>>0,de||H(this,X,Ae,1,127,-128),X<0&&(X=255+X+1),this[Ae]=X&255,Ae+1},o.prototype.writeInt16LE=function(X,Ae,de){return X=+X,Ae=Ae>>>0,de||H(this,X,Ae,2,32767,-32768),this[Ae]=X&255,this[Ae+1]=X>>>8,Ae+2},o.prototype.writeInt16BE=function(X,Ae,de){return X=+X,Ae=Ae>>>0,de||H(this,X,Ae,2,32767,-32768),this[Ae]=X>>>8,this[Ae+1]=X&255,Ae+2},o.prototype.writeInt32LE=function(X,Ae,de){return X=+X,Ae=Ae>>>0,de||H(this,X,Ae,4,2147483647,-2147483648),this[Ae]=X&255,this[Ae+1]=X>>>8,this[Ae+2]=X>>>16,this[Ae+3]=X>>>24,Ae+4},o.prototype.writeInt32BE=function(X,Ae,de){return X=+X,Ae=Ae>>>0,de||H(this,X,Ae,4,2147483647,-2147483648),X<0&&(X=4294967295+X+1),this[Ae]=X>>>24,this[Ae+1]=X>>>16,this[Ae+2]=X>>>8,this[Ae+3]=X&255,Ae+4},o.prototype.writeBigInt64LE=lt(function(X,Ae=0){return z(this,X,Ae,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=lt(function(X,Ae=0){return oe(this,X,Ae,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ae(ge,X,Ae,de,we,Oe){if(Ae+de>ge.length)throw new RangeError("Index out of range");if(Ae<0)throw new RangeError("Index out of range")}function ie(ge,X,Ae,de,we){return X=+X,Ae=Ae>>>0,we||ae(ge,X,Ae,4),t.write(ge,X,Ae,de,23,4),Ae+4}o.prototype.writeFloatLE=function(X,Ae,de){return ie(this,X,Ae,!0,de)},o.prototype.writeFloatBE=function(X,Ae,de){return ie(this,X,Ae,!1,de)};function pe(ge,X,Ae,de,we){return X=+X,Ae=Ae>>>0,we||ae(ge,X,Ae,8),t.write(ge,X,Ae,de,52,8),Ae+8}o.prototype.writeDoubleLE=function(X,Ae,de){return pe(this,X,Ae,!0,de)},o.prototype.writeDoubleBE=function(X,Ae,de){return pe(this,X,Ae,!1,de)},o.prototype.copy=function(X,Ae,de,we){if(!o.isBuffer(X))throw new TypeError("argument should be a Buffer");if(de||(de=0),!we&&we!==0&&(we=this.length),Ae>=X.length&&(Ae=X.length),Ae||(Ae=0),we>0&&we<de&&(we=de),we===de||X.length===0||this.length===0)return 0;if(Ae<0)throw new RangeError("targetStart out of bounds");if(de<0||de>=this.length)throw new RangeError("Index out of range");if(we<0)throw new RangeError("sourceEnd out of bounds");we>this.length&&(we=this.length),X.length-Ae<we-de&&(we=X.length-Ae+de);const Oe=we-de;return this===X&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Ae,de,we):Uint8Array.prototype.set.call(X,this.subarray(de,we),Ae),Oe},o.prototype.fill=function(X,Ae,de,we){if(typeof X=="string"){if(typeof Ae=="string"?(we=Ae,Ae=0,de=this.length):typeof de=="string"&&(we=de,de=this.length),we!==void 0&&typeof we!="string")throw new TypeError("encoding must be a string");if(typeof we=="string"&&!o.isEncoding(we))throw new TypeError("Unknown encoding: "+we);if(X.length===1){const He=X.charCodeAt(0);(we==="utf8"&&He<128||we==="latin1")&&(X=He)}}else typeof X=="number"?X=X&255:typeof X=="boolean"&&(X=Number(X));if(Ae<0||this.length<Ae||this.length<de)throw new RangeError("Out of range index");if(de<=Ae)return this;Ae=Ae>>>0,de=de===void 0?this.length:de>>>0,X||(X=0);let Oe;if(typeof X=="number")for(Oe=Ae;Oe<de;++Oe)this[Oe]=X;else{const He=o.isBuffer(X)?X:o.from(X,we),Et=He.length;if(Et===0)throw new TypeError('The value "'+X+'" is invalid for argument "value"');for(Oe=0;Oe<de-Ae;++Oe)this[Oe+Ae]=He[Oe%Et]}return this};const Ce={};function Ie(ge,X,Ae){Ce[ge]=class extends Ae{constructor(){super(),Object.defineProperty(this,"message",{value:X.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${ge}]`,this.stack,delete this.name}get code(){return ge}set code(we){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:we,writable:!0})}toString(){return`${this.name} [${ge}]: ${this.message}`}}}Ie("ERR_BUFFER_OUT_OF_BOUNDS",function(ge){return ge?`${ge} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ie("ERR_INVALID_ARG_TYPE",function(ge,X){return`The "${ge}" argument must be of type number. Received type ${typeof X}`},TypeError),Ie("ERR_OUT_OF_RANGE",function(ge,X,Ae){let de=`The value of "${ge}" is out of range.`,we=Ae;return Number.isInteger(Ae)&&Math.abs(Ae)>2**32?we=Qe(String(Ae)):typeof Ae=="bigint"&&(we=String(Ae),(Ae>BigInt(2)**BigInt(32)||Ae<-(BigInt(2)**BigInt(32)))&&(we=Qe(we)),we+="n"),de+=` It must be ${X}. Received ${we}`,de},RangeError);function Qe(ge){let X="",Ae=ge.length;const de=ge[0]==="-"?1:0;for(;Ae>=de+4;Ae-=3)X=`_${ge.slice(Ae-3,Ae)}${X}`;return`${ge.slice(0,Ae)}${X}`}function qe(ge,X,Ae){nt(X,"offset"),(ge[X]===void 0||ge[X+Ae]===void 0)&&pt(X,ge.length-(Ae+1))}function et(ge,X,Ae,de,we,Oe){if(ge>Ae||ge<X){const He=typeof X=="bigint"?"n":"";let Et;throw X===0||X===BigInt(0)?Et=`>= 0${He} and < 2${He} ** ${(Oe+1)*8}${He}`:Et=`>= -(2${He} ** ${(Oe+1)*8-1}${He}) and < 2 ** ${(Oe+1)*8-1}${He}`,new Ce.ERR_OUT_OF_RANGE("value",Et,ge)}qe(de,we,Oe)}function nt(ge,X){if(typeof ge!="number")throw new Ce.ERR_INVALID_ARG_TYPE(X,"number",ge)}function pt(ge,X,Ae){throw Math.floor(ge)!==ge?(nt(ge,Ae),new Ce.ERR_OUT_OF_RANGE("offset","an integer",ge)):X<0?new Ce.ERR_BUFFER_OUT_OF_BOUNDS:new Ce.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${X}`,ge)}const Ke=/[^+/0-9A-Za-z-_]/g;function Le(ge){if(ge=ge.split("=")[0],ge=ge.trim().replace(Ke,""),ge.length<2)return"";for(;ge.length%4!==0;)ge=ge+"=";return ge}function Ut(ge,X){X=X||1/0;let Ae;const de=ge.length;let we=null;const Oe=[];for(let He=0;He<de;++He){if(Ae=ge.charCodeAt(He),Ae>55295&&Ae<57344){if(!we){if(Ae>56319){(X-=3)>-1&&Oe.push(239,191,189);continue}else if(He+1===de){(X-=3)>-1&&Oe.push(239,191,189);continue}we=Ae;continue}if(Ae<56320){(X-=3)>-1&&Oe.push(239,191,189),we=Ae;continue}Ae=(we-55296<<10|Ae-56320)+65536}else we&&(X-=3)>-1&&Oe.push(239,191,189);if(we=null,Ae<128){if((X-=1)<0)break;Oe.push(Ae)}else if(Ae<2048){if((X-=2)<0)break;Oe.push(Ae>>6|192,Ae&63|128)}else if(Ae<65536){if((X-=3)<0)break;Oe.push(Ae>>12|224,Ae>>6&63|128,Ae&63|128)}else if(Ae<1114112){if((X-=4)<0)break;Oe.push(Ae>>18|240,Ae>>12&63|128,Ae>>6&63|128,Ae&63|128)}else throw new Error("Invalid code point")}return Oe}function ke(ge){const X=[];for(let Ae=0;Ae<ge.length;++Ae)X.push(ge.charCodeAt(Ae)&255);return X}function Me(ge,X){let Ae,de,we;const Oe=[];for(let He=0;He<ge.length&&!((X-=2)<0);++He)Ae=ge.charCodeAt(He),de=Ae>>8,we=Ae%256,Oe.push(we),Oe.push(de);return Oe}function it(ge){return e.toByteArray(Le(ge))}function ut(ge,X,Ae,de){let we;for(we=0;we<de&&!(we+Ae>=X.length||we>=ge.length);++we)X[we+Ae]=ge[we];return we}function ze(ge,X){return ge instanceof X||ge!=null&&ge.constructor!=null&&ge.constructor.name!=null&&ge.constructor.name===X.name}function Ve(ge){return ge!==ge}const At=function(){const ge="0123456789abcdef",X=new Array(256);for(let Ae=0;Ae<16;++Ae){const de=Ae*16;for(let we=0;we<16;++we)X[de+we]=ge[Ae]+ge[we]}return X}();function lt(ge){return typeof BigInt>"u"?yt:ge}function yt(){throw new Error("BigInt not supported")}}(zU)),zU}var bg=aee(),AD=typeof globalThis<"u"?globalThis:typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vm,F7;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,U){function k(){}k.prototype=U.prototype,T.D=U.prototype,T.prototype=new k,T.prototype.constructor=T,T.C=function(D,_,L){for(var O=Array(arguments.length-2),V=2;V<arguments.length;V++)O[V-2]=arguments[V];return U.prototype[_].apply(D,O)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,t),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function A(T,U,k){k||(k=0);var D=Array(16);if(typeof U=="string")for(var _=0;16>_;++_)D[_]=U.charCodeAt(k++)|U.charCodeAt(k++)<<8|U.charCodeAt(k++)<<16|U.charCodeAt(k++)<<24;else for(_=0;16>_;++_)D[_]=U[k++]|U[k++]<<8|U[k++]<<16|U[k++]<<24;U=T.g[0],k=T.g[1],_=T.g[2];var L=T.g[3],O=U+(L^k&(_^L))+D[0]+3614090360&4294967295;U=k+(O<<7&4294967295|O>>>25),O=L+(_^U&(k^_))+D[1]+3905402710&4294967295,L=U+(O<<12&4294967295|O>>>20),O=_+(k^L&(U^k))+D[2]+606105819&4294967295,_=L+(O<<17&4294967295|O>>>15),O=k+(U^_&(L^U))+D[3]+3250441966&4294967295,k=_+(O<<22&4294967295|O>>>10),O=U+(L^k&(_^L))+D[4]+4118548399&4294967295,U=k+(O<<7&4294967295|O>>>25),O=L+(_^U&(k^_))+D[5]+1200080426&4294967295,L=U+(O<<12&4294967295|O>>>20),O=_+(k^L&(U^k))+D[6]+2821735955&4294967295,_=L+(O<<17&4294967295|O>>>15),O=k+(U^_&(L^U))+D[7]+4249261313&4294967295,k=_+(O<<22&4294967295|O>>>10),O=U+(L^k&(_^L))+D[8]+1770035416&4294967295,U=k+(O<<7&4294967295|O>>>25),O=L+(_^U&(k^_))+D[9]+2336552879&4294967295,L=U+(O<<12&4294967295|O>>>20),O=_+(k^L&(U^k))+D[10]+4294925233&4294967295,_=L+(O<<17&4294967295|O>>>15),O=k+(U^_&(L^U))+D[11]+2304563134&4294967295,k=_+(O<<22&4294967295|O>>>10),O=U+(L^k&(_^L))+D[12]+1804603682&4294967295,U=k+(O<<7&4294967295|O>>>25),O=L+(_^U&(k^_))+D[13]+4254626195&4294967295,L=U+(O<<12&4294967295|O>>>20),O=_+(k^L&(U^k))+D[14]+2792965006&4294967295,_=L+(O<<17&4294967295|O>>>15),O=k+(U^_&(L^U))+D[15]+1236535329&4294967295,k=_+(O<<22&4294967295|O>>>10),O=U+(_^L&(k^_))+D[1]+4129170786&4294967295,U=k+(O<<5&4294967295|O>>>27),O=L+(k^_&(U^k))+D[6]+3225465664&4294967295,L=U+(O<<9&4294967295|O>>>23),O=_+(U^k&(L^U))+D[11]+643717713&4294967295,_=L+(O<<14&4294967295|O>>>18),O=k+(L^U&(_^L))+D[0]+3921069994&4294967295,k=_+(O<<20&4294967295|O>>>12),O=U+(_^L&(k^_))+D[5]+3593408605&4294967295,U=k+(O<<5&4294967295|O>>>27),O=L+(k^_&(U^k))+D[10]+38016083&4294967295,L=U+(O<<9&4294967295|O>>>23),O=_+(U^k&(L^U))+D[15]+3634488961&4294967295,_=L+(O<<14&4294967295|O>>>18),O=k+(L^U&(_^L))+D[4]+3889429448&4294967295,k=_+(O<<20&4294967295|O>>>12),O=U+(_^L&(k^_))+D[9]+568446438&4294967295,U=k+(O<<5&4294967295|O>>>27),O=L+(k^_&(U^k))+D[14]+3275163606&4294967295,L=U+(O<<9&4294967295|O>>>23),O=_+(U^k&(L^U))+D[3]+4107603335&4294967295,_=L+(O<<14&4294967295|O>>>18),O=k+(L^U&(_^L))+D[8]+1163531501&4294967295,k=_+(O<<20&4294967295|O>>>12),O=U+(_^L&(k^_))+D[13]+2850285829&4294967295,U=k+(O<<5&4294967295|O>>>27),O=L+(k^_&(U^k))+D[2]+4243563512&4294967295,L=U+(O<<9&4294967295|O>>>23),O=_+(U^k&(L^U))+D[7]+1735328473&4294967295,_=L+(O<<14&4294967295|O>>>18),O=k+(L^U&(_^L))+D[12]+2368359562&4294967295,k=_+(O<<20&4294967295|O>>>12),O=U+(k^_^L)+D[5]+4294588738&4294967295,U=k+(O<<4&4294967295|O>>>28),O=L+(U^k^_)+D[8]+2272392833&4294967295,L=U+(O<<11&4294967295|O>>>21),O=_+(L^U^k)+D[11]+1839030562&4294967295,_=L+(O<<16&4294967295|O>>>16),O=k+(_^L^U)+D[14]+4259657740&4294967295,k=_+(O<<23&4294967295|O>>>9),O=U+(k^_^L)+D[1]+2763975236&4294967295,U=k+(O<<4&4294967295|O>>>28),O=L+(U^k^_)+D[4]+1272893353&4294967295,L=U+(O<<11&4294967295|O>>>21),O=_+(L^U^k)+D[7]+4139469664&4294967295,_=L+(O<<16&4294967295|O>>>16),O=k+(_^L^U)+D[10]+3200236656&4294967295,k=_+(O<<23&4294967295|O>>>9),O=U+(k^_^L)+D[13]+681279174&4294967295,U=k+(O<<4&4294967295|O>>>28),O=L+(U^k^_)+D[0]+3936430074&4294967295,L=U+(O<<11&4294967295|O>>>21),O=_+(L^U^k)+D[3]+3572445317&4294967295,_=L+(O<<16&4294967295|O>>>16),O=k+(_^L^U)+D[6]+76029189&4294967295,k=_+(O<<23&4294967295|O>>>9),O=U+(k^_^L)+D[9]+3654602809&4294967295,U=k+(O<<4&4294967295|O>>>28),O=L+(U^k^_)+D[12]+3873151461&4294967295,L=U+(O<<11&4294967295|O>>>21),O=_+(L^U^k)+D[15]+530742520&4294967295,_=L+(O<<16&4294967295|O>>>16),O=k+(_^L^U)+D[2]+3299628645&4294967295,k=_+(O<<23&4294967295|O>>>9),O=U+(_^(k|~L))+D[0]+4096336452&4294967295,U=k+(O<<6&4294967295|O>>>26),O=L+(k^(U|~_))+D[7]+1126891415&4294967295,L=U+(O<<10&4294967295|O>>>22),O=_+(U^(L|~k))+D[14]+2878612391&4294967295,_=L+(O<<15&4294967295|O>>>17),O=k+(L^(_|~U))+D[5]+4237533241&4294967295,k=_+(O<<21&4294967295|O>>>11),O=U+(_^(k|~L))+D[12]+1700485571&4294967295,U=k+(O<<6&4294967295|O>>>26),O=L+(k^(U|~_))+D[3]+2399980690&4294967295,L=U+(O<<10&4294967295|O>>>22),O=_+(U^(L|~k))+D[10]+4293915773&4294967295,_=L+(O<<15&4294967295|O>>>17),O=k+(L^(_|~U))+D[1]+2240044497&4294967295,k=_+(O<<21&4294967295|O>>>11),O=U+(_^(k|~L))+D[8]+1873313359&4294967295,U=k+(O<<6&4294967295|O>>>26),O=L+(k^(U|~_))+D[15]+4264355552&4294967295,L=U+(O<<10&4294967295|O>>>22),O=_+(U^(L|~k))+D[6]+2734768916&4294967295,_=L+(O<<15&4294967295|O>>>17),O=k+(L^(_|~U))+D[13]+1309151649&4294967295,k=_+(O<<21&4294967295|O>>>11),O=U+(_^(k|~L))+D[4]+4149444226&4294967295,U=k+(O<<6&4294967295|O>>>26),O=L+(k^(U|~_))+D[11]+3174756917&4294967295,L=U+(O<<10&4294967295|O>>>22),O=_+(U^(L|~k))+D[2]+718787259&4294967295,_=L+(O<<15&4294967295|O>>>17),O=k+(L^(_|~U))+D[9]+3951481745&4294967295,T.g[0]=T.g[0]+U&4294967295,T.g[1]=T.g[1]+(_+(O<<21&4294967295|O>>>11))&4294967295,T.g[2]=T.g[2]+_&4294967295,T.g[3]=T.g[3]+L&4294967295}n.prototype.u=function(T,U){U===void 0&&(U=T.length);for(var k=U-this.blockSize,D=this.B,_=this.h,L=0;L<U;){if(_==0)for(;L<=k;)A(this,T,L),L+=this.blockSize;if(typeof T=="string"){for(;L<U;)if(D[_++]=T.charCodeAt(L++),_==this.blockSize){A(this,D),_=0;break}}else for(;L<U;)if(D[_++]=T[L++],_==this.blockSize){A(this,D),_=0;break}}this.h=_,this.o+=U},n.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var U=1;U<T.length-8;++U)T[U]=0;var k=8*this.o;for(U=T.length-8;U<T.length;++U)T[U]=k&255,k/=256;for(this.u(T),T=Array(16),U=k=0;4>U;++U)for(var D=0;32>D;D+=8)T[k++]=this.g[U]>>>D&255;return T};function i(T,U){var k=o;return Object.prototype.hasOwnProperty.call(k,T)?k[T]:k[T]=U(T)}function s(T,U){this.h=U;for(var k=[],D=!0,_=T.length-1;0<=_;_--){var L=T[_]|0;D&&L==U||(k[_]=L,D=!1)}this.g=k}var o={};function a(T){return-128<=T&&128>T?i(T,function(U){return new s([U|0],0>U?-1:0)}):new s([T|0],0>T?-1:0)}function u(T){if(isNaN(T)||!isFinite(T))return c;if(0>T)return y(u(-T));for(var U=[],k=1,D=0;T>=k;D++)U[D]=T/k|0,k*=4294967296;return new s(U,0)}function l(T,U){if(T.length==0)throw Error("number format error: empty string");if(U=U||10,2>U||36<U)throw Error("radix out of range: "+U);if(T.charAt(0)=="-")return y(l(T.substring(1),U));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=u(Math.pow(U,8)),D=c,_=0;_<T.length;_+=8){var L=Math.min(8,T.length-_),O=parseInt(T.substring(_,_+L),U);8>L?(L=u(Math.pow(U,L)),D=D.j(L).add(u(O))):(D=D.j(k),D=D.add(u(O)))}return D}var c=a(0),h=a(1),d=a(16777216);r=s.prototype,r.m=function(){if(g(this))return-y(this).m();for(var T=0,U=1,k=0;k<this.g.length;k++){var D=this.i(k);T+=(0<=D?D:4294967296+D)*U,U*=4294967296}return T},r.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(m(this))return"0";if(g(this))return"-"+y(this).toString(T);for(var U=u(Math.pow(T,6)),k=this,D="";;){var _=B(k,U).g;k=v(k,_.j(U));var L=((0<k.g.length?k.g[0]:k.h)>>>0).toString(T);if(k=_,m(k))return L+D;for(;6>L.length;)L="0"+L;D=L+D}},r.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function m(T){if(T.h!=0)return!1;for(var U=0;U<T.g.length;U++)if(T.g[U]!=0)return!1;return!0}function g(T){return T.h==-1}r.l=function(T){return T=v(this,T),g(T)?-1:m(T)?0:1};function y(T){for(var U=T.g.length,k=[],D=0;D<U;D++)k[D]=~T.g[D];return new s(k,~T.h).add(h)}r.abs=function(){return g(this)?y(this):this},r.add=function(T){for(var U=Math.max(this.g.length,T.g.length),k=[],D=0,_=0;_<=U;_++){var L=D+(this.i(_)&65535)+(T.i(_)&65535),O=(L>>>16)+(this.i(_)>>>16)+(T.i(_)>>>16);D=O>>>16,L&=65535,O&=65535,k[_]=O<<16|L}return new s(k,k[k.length-1]&-2147483648?-1:0)};function v(T,U){return T.add(y(U))}r.j=function(T){if(m(this)||m(T))return c;if(g(this))return g(T)?y(this).j(y(T)):y(y(this).j(T));if(g(T))return y(this.j(y(T)));if(0>this.l(d)&&0>T.l(d))return u(this.m()*T.m());for(var U=this.g.length+T.g.length,k=[],D=0;D<2*U;D++)k[D]=0;for(D=0;D<this.g.length;D++)for(var _=0;_<T.g.length;_++){var L=this.i(D)>>>16,O=this.i(D)&65535,V=T.i(_)>>>16,$=T.i(_)&65535;k[2*D+2*_]+=O*$,w(k,2*D+2*_),k[2*D+2*_+1]+=L*$,w(k,2*D+2*_+1),k[2*D+2*_+1]+=O*V,w(k,2*D+2*_+1),k[2*D+2*_+2]+=L*V,w(k,2*D+2*_+2)}for(D=0;D<U;D++)k[D]=k[2*D+1]<<16|k[2*D];for(D=U;D<2*U;D++)k[D]=0;return new s(k,0)};function w(T,U){for(;(T[U]&65535)!=T[U];)T[U+1]+=T[U]>>>16,T[U]&=65535,U++}function b(T,U){this.g=T,this.h=U}function B(T,U){if(m(U))throw Error("division by zero");if(m(T))return new b(c,c);if(g(T))return U=B(y(T),U),new b(y(U.g),y(U.h));if(g(U))return U=B(T,y(U)),new b(y(U.g),U.h);if(30<T.g.length){if(g(T)||g(U))throw Error("slowDivide_ only works with positive integers.");for(var k=h,D=U;0>=D.l(T);)k=F(k),D=F(D);var _=N(k,1),L=N(D,1);for(D=N(D,2),k=N(k,2);!m(D);){var O=L.add(D);0>=O.l(T)&&(_=_.add(k),L=O),D=N(D,1),k=N(k,1)}return U=v(T,_.j(U)),new b(_,U)}for(_=c;0<=T.l(U);){for(k=Math.max(1,Math.floor(T.m()/U.m())),D=Math.ceil(Math.log(k)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),L=u(k),O=L.j(U);g(O)||0<O.l(T);)k-=D,L=u(k),O=L.j(U);m(L)&&(L=h),_=_.add(L),T=v(T,O)}return new b(_,T)}r.A=function(T){return B(this,T).h},r.and=function(T){for(var U=Math.max(this.g.length,T.g.length),k=[],D=0;D<U;D++)k[D]=this.i(D)&T.i(D);return new s(k,this.h&T.h)},r.or=function(T){for(var U=Math.max(this.g.length,T.g.length),k=[],D=0;D<U;D++)k[D]=this.i(D)|T.i(D);return new s(k,this.h|T.h)},r.xor=function(T){for(var U=Math.max(this.g.length,T.g.length),k=[],D=0;D<U;D++)k[D]=this.i(D)^T.i(D);return new s(k,this.h^T.h)};function F(T){for(var U=T.g.length+1,k=[],D=0;D<U;D++)k[D]=T.i(D)<<1|T.i(D-1)>>>31;return new s(k,T.h)}function N(T,U){var k=U>>5;U%=32;for(var D=T.g.length-k,_=[],L=0;L<D;L++)_[L]=0<U?T.i(L+k)>>>U|T.i(L+k+1)<<32-U:T.i(L+k);return new s(_,T.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,F7=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=l,vm=s}).apply(typeof AD<"u"?AD:typeof self<"u"?self:typeof window<"u"?window:{});var T2=typeof globalThis<"u"?globalThis:typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var I7,FC,x7,RS,e5,U7,T7,Q7;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(x,Z,ce){return x==Array.prototype||x==Object.prototype||(x[Z]=ce.value),x};function t(x){x=[typeof globalThis=="object"&&globalThis,x,typeof window=="object"&&window,typeof self=="object"&&self,typeof T2=="object"&&T2];for(var Z=0;Z<x.length;++Z){var ce=x[Z];if(ce&&ce.Math==Math)return ce}throw Error("Cannot find global object")}var n=t(this);function A(x,Z){if(Z)e:{var ce=n;x=x.split(".");for(var xe=0;xe<x.length-1;xe++){var rt=x[xe];if(!(rt in ce))break e;ce=ce[rt]}x=x[x.length-1],xe=ce[x],Z=Z(xe),Z!=xe&&Z!=null&&e(ce,x,{configurable:!0,writable:!0,value:Z})}}function i(x,Z){x instanceof String&&(x+="");var ce=0,xe=!1,rt={next:function(){if(!xe&&ce<x.length){var dt=ce++;return{value:Z(dt,x[dt]),done:!1}}return xe=!0,{done:!0,value:void 0}}};return rt[Symbol.iterator]=function(){return rt},rt}A("Array.prototype.values",function(x){return x||function(){return i(this,function(Z,ce){return ce})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function a(x){var Z=typeof x;return Z=Z!="object"?Z:x?Array.isArray(x)?"array":Z:"null",Z=="array"||Z=="object"&&typeof x.length=="number"}function u(x){var Z=typeof x;return Z=="object"&&x!=null||Z=="function"}function l(x,Z,ce){return x.call.apply(x.bind,arguments)}function c(x,Z,ce){if(!x)throw Error();if(2<arguments.length){var xe=Array.prototype.slice.call(arguments,2);return function(){var rt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(rt,xe),x.apply(Z,rt)}}return function(){return x.apply(Z,arguments)}}function h(x,Z,ce){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?l:c,h.apply(null,arguments)}function d(x,Z){var ce=Array.prototype.slice.call(arguments,1);return function(){var xe=ce.slice();return xe.push.apply(xe,arguments),x.apply(this,xe)}}function m(x,Z){function ce(){}ce.prototype=Z.prototype,x.aa=Z.prototype,x.prototype=new ce,x.prototype.constructor=x,x.Qb=function(xe,rt,dt){for(var _t=Array(arguments.length-2),Kr=2;Kr<arguments.length;Kr++)_t[Kr-2]=arguments[Kr];return Z.prototype[rt].apply(xe,_t)}}function g(x){const Z=x.length;if(0<Z){const ce=Array(Z);for(let xe=0;xe<Z;xe++)ce[xe]=x[xe];return ce}return[]}function y(x,Z){for(let ce=1;ce<arguments.length;ce++){const xe=arguments[ce];if(a(xe)){const rt=x.length||0,dt=xe.length||0;x.length=rt+dt;for(let _t=0;_t<dt;_t++)x[rt+_t]=xe[_t]}else x.push(xe)}}class v{constructor(Z,ce){this.i=Z,this.j=ce,this.h=0,this.g=null}get(){let Z;return 0<this.h?(this.h--,Z=this.g,this.g=Z.next,Z.next=null):Z=this.i(),Z}}function w(x){return/^[\s\xa0]*$/.test(x)}function b(){var x=o.navigator;return x&&(x=x.userAgent)?x:""}function B(x){return B[" "](x),x}B[" "]=function(){};var F=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function N(x,Z,ce){for(const xe in x)Z.call(ce,x[xe],xe,x)}function T(x,Z){for(const ce in x)Z.call(void 0,x[ce],ce,x)}function U(x){const Z={};for(const ce in x)Z[ce]=x[ce];return Z}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(x,Z){let ce,xe;for(let rt=1;rt<arguments.length;rt++){xe=arguments[rt];for(ce in xe)x[ce]=xe[ce];for(let dt=0;dt<k.length;dt++)ce=k[dt],Object.prototype.hasOwnProperty.call(xe,ce)&&(x[ce]=xe[ce])}}function _(x){var Z=1;x=x.split(":");const ce=[];for(;0<Z&&x.length;)ce.push(x.shift()),Z--;return x.length&&ce.push(x.join(":")),ce}function L(x){o.setTimeout(()=>{throw x},0)}function O(){var x=ne;let Z=null;return x.g&&(Z=x.g,x.g=x.g.next,x.g||(x.h=null),Z.next=null),Z}class V{constructor(){this.h=this.g=null}add(Z,ce){const xe=$.get();xe.set(Z,ce),this.h?this.h.next=xe:this.g=xe,this.h=xe}}var $=new v(()=>new Y,x=>x.reset());class Y{constructor(){this.next=this.g=this.h=null}set(Z,ce){this.h=Z,this.g=ce,this.next=null}reset(){this.next=this.g=this.h=null}}let re,le=!1,ne=new V,te=()=>{const x=o.Promise.resolve(void 0);re=()=>{x.then(G)}};var G=()=>{for(var x;x=O();){try{x.h.call(x.g)}catch(ce){L(ce)}var Z=$;Z.j(x),100>Z.h&&(Z.h++,x.next=Z.g,Z.g=x)}le=!1};function H(){this.s=this.s,this.C=this.C}H.prototype.s=!1,H.prototype.ma=function(){this.s||(this.s=!0,this.N())},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function z(x,Z){this.type=x,this.g=this.target=Z,this.defaultPrevented=!1}z.prototype.h=function(){this.defaultPrevented=!0};var oe=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var x=!1,Z=Object.defineProperty({},"passive",{get:function(){x=!0}});try{const ce=()=>{};o.addEventListener("test",ce,Z),o.removeEventListener("test",ce,Z)}catch{}return x}();function ae(x,Z){if(z.call(this,x?x.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,x){var ce=this.type=x.type,xe=x.changedTouches&&x.changedTouches.length?x.changedTouches[0]:null;if(this.target=x.target||x.srcElement,this.g=Z,Z=x.relatedTarget){if(F){e:{try{B(Z.nodeName);var rt=!0;break e}catch{}rt=!1}rt||(Z=null)}}else ce=="mouseover"?Z=x.fromElement:ce=="mouseout"&&(Z=x.toElement);this.relatedTarget=Z,xe?(this.clientX=xe.clientX!==void 0?xe.clientX:xe.pageX,this.clientY=xe.clientY!==void 0?xe.clientY:xe.pageY,this.screenX=xe.screenX||0,this.screenY=xe.screenY||0):(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0),this.button=x.button,this.key=x.key||"",this.ctrlKey=x.ctrlKey,this.altKey=x.altKey,this.shiftKey=x.shiftKey,this.metaKey=x.metaKey,this.pointerId=x.pointerId||0,this.pointerType=typeof x.pointerType=="string"?x.pointerType:ie[x.pointerType]||"",this.state=x.state,this.i=x,x.defaultPrevented&&ae.aa.h.call(this)}}m(ae,z);var ie={2:"touch",3:"pen",4:"mouse"};ae.prototype.h=function(){ae.aa.h.call(this);var x=this.i;x.preventDefault?x.preventDefault():x.returnValue=!1};var pe="closure_listenable_"+(1e6*Math.random()|0),Ce=0;function Ie(x,Z,ce,xe,rt){this.listener=x,this.proxy=null,this.src=Z,this.type=ce,this.capture=!!xe,this.ha=rt,this.key=++Ce,this.da=this.fa=!1}function Qe(x){x.da=!0,x.listener=null,x.proxy=null,x.src=null,x.ha=null}function qe(x){this.src=x,this.g={},this.h=0}qe.prototype.add=function(x,Z,ce,xe,rt){var dt=x.toString();x=this.g[dt],x||(x=this.g[dt]=[],this.h++);var _t=nt(x,Z,xe,rt);return-1<_t?(Z=x[_t],ce||(Z.fa=!1)):(Z=new Ie(Z,this.src,dt,!!xe,rt),Z.fa=ce,x.push(Z)),Z};function et(x,Z){var ce=Z.type;if(ce in x.g){var xe=x.g[ce],rt=Array.prototype.indexOf.call(xe,Z,void 0),dt;(dt=0<=rt)&&Array.prototype.splice.call(xe,rt,1),dt&&(Qe(Z),x.g[ce].length==0&&(delete x.g[ce],x.h--))}}function nt(x,Z,ce,xe){for(var rt=0;rt<x.length;++rt){var dt=x[rt];if(!dt.da&&dt.listener==Z&&dt.capture==!!ce&&dt.ha==xe)return rt}return-1}var pt="closure_lm_"+(1e6*Math.random()|0),Ke={};function Le(x,Z,ce,xe,rt){if(Array.isArray(Z)){for(var dt=0;dt<Z.length;dt++)Le(x,Z[dt],ce,xe,rt);return null}return ce=lt(ce),x&&x[pe]?x.K(Z,ce,u(xe)?!!xe.capture:!1,rt):Ut(x,Z,ce,!1,xe,rt)}function Ut(x,Z,ce,xe,rt,dt){if(!Z)throw Error("Invalid event type");var _t=u(rt)?!!rt.capture:!!rt,Kr=Ve(x);if(Kr||(x[pt]=Kr=new qe(x)),ce=Kr.add(Z,ce,xe,_t,dt),ce.proxy)return ce;if(xe=ke(),ce.proxy=xe,xe.src=x,xe.listener=ce,x.addEventListener)oe||(rt=_t),rt===void 0&&(rt=!1),x.addEventListener(Z.toString(),xe,rt);else if(x.attachEvent)x.attachEvent(ut(Z.toString()),xe);else if(x.addListener&&x.removeListener)x.addListener(xe);else throw Error("addEventListener and attachEvent are unavailable.");return ce}function ke(){function x(ce){return Z.call(x.src,x.listener,ce)}const Z=ze;return x}function Me(x,Z,ce,xe,rt){if(Array.isArray(Z))for(var dt=0;dt<Z.length;dt++)Me(x,Z[dt],ce,xe,rt);else xe=u(xe)?!!xe.capture:!!xe,ce=lt(ce),x&&x[pe]?(x=x.i,Z=String(Z).toString(),Z in x.g&&(dt=x.g[Z],ce=nt(dt,ce,xe,rt),-1<ce&&(Qe(dt[ce]),Array.prototype.splice.call(dt,ce,1),dt.length==0&&(delete x.g[Z],x.h--)))):x&&(x=Ve(x))&&(Z=x.g[Z.toString()],x=-1,Z&&(x=nt(Z,ce,xe,rt)),(ce=-1<x?Z[x]:null)&&it(ce))}function it(x){if(typeof x!="number"&&x&&!x.da){var Z=x.src;if(Z&&Z[pe])et(Z.i,x);else{var ce=x.type,xe=x.proxy;Z.removeEventListener?Z.removeEventListener(ce,xe,x.capture):Z.detachEvent?Z.detachEvent(ut(ce),xe):Z.addListener&&Z.removeListener&&Z.removeListener(xe),(ce=Ve(Z))?(et(ce,x),ce.h==0&&(ce.src=null,Z[pt]=null)):Qe(x)}}}function ut(x){return x in Ke?Ke[x]:Ke[x]="on"+x}function ze(x,Z){if(x.da)x=!0;else{Z=new ae(Z,this);var ce=x.listener,xe=x.ha||x.src;x.fa&&it(x),x=ce.call(xe,Z)}return x}function Ve(x){return x=x[pt],x instanceof qe?x:null}var At="__closure_events_fn_"+(1e9*Math.random()>>>0);function lt(x){return typeof x=="function"?x:(x[At]||(x[At]=function(Z){return x.handleEvent(Z)}),x[At])}function yt(){H.call(this),this.i=new qe(this),this.M=this,this.F=null}m(yt,H),yt.prototype[pe]=!0,yt.prototype.removeEventListener=function(x,Z,ce,xe){Me(this,x,Z,ce,xe)};function ge(x,Z){var ce,xe=x.F;if(xe)for(ce=[];xe;xe=xe.F)ce.push(xe);if(x=x.M,xe=Z.type||Z,typeof Z=="string")Z=new z(Z,x);else if(Z instanceof z)Z.target=Z.target||x;else{var rt=Z;Z=new z(xe,x),D(Z,rt)}if(rt=!0,ce)for(var dt=ce.length-1;0<=dt;dt--){var _t=Z.g=ce[dt];rt=X(_t,xe,!0,Z)&&rt}if(_t=Z.g=x,rt=X(_t,xe,!0,Z)&&rt,rt=X(_t,xe,!1,Z)&&rt,ce)for(dt=0;dt<ce.length;dt++)_t=Z.g=ce[dt],rt=X(_t,xe,!1,Z)&&rt}yt.prototype.N=function(){if(yt.aa.N.call(this),this.i){var x=this.i,Z;for(Z in x.g){for(var ce=x.g[Z],xe=0;xe<ce.length;xe++)Qe(ce[xe]);delete x.g[Z],x.h--}}this.F=null},yt.prototype.K=function(x,Z,ce,xe){return this.i.add(String(x),Z,!1,ce,xe)},yt.prototype.L=function(x,Z,ce,xe){return this.i.add(String(x),Z,!0,ce,xe)};function X(x,Z,ce,xe){if(Z=x.i.g[String(Z)],!Z)return!0;Z=Z.concat();for(var rt=!0,dt=0;dt<Z.length;++dt){var _t=Z[dt];if(_t&&!_t.da&&_t.capture==ce){var Kr=_t.listener,tn=_t.ha||_t.src;_t.fa&&et(x.i,_t),rt=Kr.call(tn,xe)!==!1&&rt}}return rt&&!xe.defaultPrevented}function Ae(x,Z,ce){if(typeof x=="function")ce&&(x=h(x,ce));else if(x&&typeof x.handleEvent=="function")x=h(x.handleEvent,x);else throw Error("Invalid listener argument");return 2147483647<Number(Z)?-1:o.setTimeout(x,Z||0)}function de(x){x.g=Ae(()=>{x.g=null,x.i&&(x.i=!1,de(x))},x.l);const Z=x.h;x.h=null,x.m.apply(null,Z)}class we extends H{constructor(Z,ce){super(),this.m=Z,this.l=ce,this.h=null,this.i=!1,this.g=null}j(Z){this.h=arguments,this.g?this.i=!0:de(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Oe(x){H.call(this),this.h=x,this.g={}}m(Oe,H);var He=[];function Et(x){N(x.g,function(Z,ce){this.g.hasOwnProperty(ce)&&it(Z)},x),x.g={}}Oe.prototype.N=function(){Oe.aa.N.call(this),Et(this)},Oe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Tt=o.JSON.stringify,Ht=o.JSON.parse,gr=class{stringify(x){return o.JSON.stringify(x,void 0)}parse(x){return o.JSON.parse(x,void 0)}};function zt(){}zt.prototype.h=null;function Jn(x){return x.h||(x.h=x.i())}function Lr(){}var vn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vr(){z.call(this,"d")}m(vr,z);function jt(){z.call(this,"c")}m(jt,z);var Pt={},Vt=null;function xr(){return Vt=Vt||new yt}Pt.La="serverreachability";function Gr(x){z.call(this,Pt.La,x)}m(Gr,z);function On(x){const Z=xr();ge(Z,new Gr(Z))}Pt.STAT_EVENT="statevent";function BA(x,Z){z.call(this,Pt.STAT_EVENT,x),this.stat=Z}m(BA,z);function $t(x){const Z=xr();ge(Z,new BA(Z,x))}Pt.Ma="timingevent";function JA(x,Z){z.call(this,Pt.Ma,x),this.size=Z}m(JA,z);function CA(x,Z){if(typeof x!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){x()},Z)}function fn(){this.g=!0}fn.prototype.xa=function(){this.g=!1};function or(x,Z,ce,xe,rt,dt){x.info(function(){if(x.g)if(dt)for(var _t="",Kr=dt.split("&"),tn=0;tn<Kr.length;tn++){var Mr=Kr[tn].split("=");if(1<Mr.length){var ln=Mr[0];Mr=Mr[1];var rn=ln.split("_");_t=2<=rn.length&&rn[1]=="type"?_t+(ln+"="+Mr+"&"):_t+(ln+"=redacted&")}}else _t=null;else _t=dt;return"XMLHTTP REQ ("+xe+") [attempt "+rt+"]: "+Z+`
`+ce+`
`+_t})}function yn(x,Z,ce,xe,rt,dt,_t){x.info(function(){return"XMLHTTP RESP ("+xe+") [ attempt "+rt+"]: "+Z+`
`+ce+`
`+dt+" "+_t})}function kn(x,Z,ce,xe){x.info(function(){return"XMLHTTP TEXT ("+Z+"): "+xi(x,ce)+(xe?" "+xe:"")})}function bA(x,Z){x.info(function(){return"TIMEOUT: "+Z})}fn.prototype.info=function(){};function xi(x,Z){if(!x.g)return Z;if(!Z)return null;try{var ce=JSON.parse(Z);if(ce){for(x=0;x<ce.length;x++)if(Array.isArray(ce[x])){var xe=ce[x];if(!(2>xe.length)){var rt=xe[1];if(Array.isArray(rt)&&!(1>rt.length)){var dt=rt[0];if(dt!="noop"&&dt!="stop"&&dt!="close")for(var _t=1;_t<rt.length;_t++)rt[_t]=""}}}}return Tt(ce)}catch{return Z}}var qn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ZA={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},oA;function jA(){}m(jA,zt),jA.prototype.g=function(){return new XMLHttpRequest},jA.prototype.i=function(){return{}},oA=new jA;function AA(x,Z,ce,xe){this.j=x,this.i=Z,this.l=ce,this.R=xe||1,this.U=new Oe(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Mi}function Mi(){this.i=null,this.g="",this.h=!1}var nr={},$e={};function Ot(x,Z,ce){x.L=1,x.v=ja(Vi(Z)),x.m=ce,x.P=!0,tr(x,null)}function tr(x,Z){x.F=Date.now(),Qr(x),x.A=Vi(x.v);var ce=x.A,xe=x.R;Array.isArray(xe)||(xe=[String(xe)]),_r(ce.i,"t",xe),x.C=0,ce=x.j.J,x.h=new Mi,x.g=ye(x.j,ce?Z:null,!x.m),0<x.O&&(x.M=new we(h(x.Y,x,x.g),x.O)),Z=x.U,ce=x.g,xe=x.ca;var rt="readystatechange";Array.isArray(rt)||(rt&&(He[0]=rt.toString()),rt=He);for(var dt=0;dt<rt.length;dt++){var _t=Le(ce,rt[dt],xe||Z.handleEvent,!1,Z.h||Z);if(!_t)break;Z.g[_t.key]=_t}Z=x.H?U(x.H):{},x.m?(x.u||(x.u="POST"),Z["Content-Type"]="application/x-www-form-urlencoded",x.g.ea(x.A,x.u,x.m,Z)):(x.u="GET",x.g.ea(x.A,x.u,null,Z)),On(),or(x.i,x.u,x.A,x.l,x.R,x.m)}AA.prototype.ca=function(x){x=x.target;const Z=this.M;Z&&KA(x)==3?Z.j():this.Y(x)},AA.prototype.Y=function(x){try{if(x==this.g)e:{const rn=KA(this.g);var Z=this.g.Ba();const Os=this.g.Z();if(!(3>rn)&&(rn!=3||this.g&&(this.h.h||this.g.oa()||Kc(this.g)))){this.J||rn!=4||Z==7||(Z==8||0>=Os?On(3):On(2)),Zn(this);var ce=this.g.Z();this.X=ce;t:if(sn(this)){var xe=Kc(this.g);x="";var rt=xe.length,dt=KA(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){NA(this),li(this);var _t="";break t}this.h.i=new o.TextDecoder}for(Z=0;Z<rt;Z++)this.h.h=!0,x+=this.h.i.decode(xe[Z],{stream:!(dt&&Z==rt-1)});xe.length=0,this.h.g+=x,this.C=0,_t=this.h.g}else _t=this.g.oa();if(this.o=ce==200,yn(this.i,this.u,this.A,this.l,this.R,rn,ce),this.o){if(this.T&&!this.K){t:{if(this.g){var Kr,tn=this.g;if((Kr=tn.g?tn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Kr)){var Mr=Kr;break t}}Mr=null}if(ce=Mr)kn(this.i,this.l,ce,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Dn(this,ce);else{this.o=!1,this.s=3,$t(12),NA(this),li(this);break e}}if(this.P){ce=!0;let SA;for(;!this.J&&this.C<_t.length;)if(SA=pA(this,_t),SA==$e){rn==4&&(this.s=4,$t(14),ce=!1),kn(this.i,this.l,null,"[Incomplete Response]");break}else if(SA==nr){this.s=4,$t(15),kn(this.i,this.l,_t,"[Invalid Chunk]"),ce=!1;break}else kn(this.i,this.l,SA,null),Dn(this,SA);if(sn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rn!=4||_t.length!=0||this.h.h||(this.s=1,$t(16),ce=!1),this.o=this.o&&ce,!ce)kn(this.i,this.l,_t,"[Invalid Chunked Response]"),NA(this),li(this);else if(0<_t.length&&!this.W){this.W=!0;var ln=this.j;ln.g==this&&ln.ba&&!ln.M&&(ln.j.info("Great, no buffering proxy detected. Bytes received: "+_t.length),Ju(ln),ln.M=!0,$t(11))}}else kn(this.i,this.l,_t,null),Dn(this,_t);rn==4&&NA(this),this.o&&!this.J&&(rn==4?la(this.j,this):(this.o=!1,Qr(this)))}else Io(this.g),ce==400&&0<_t.indexOf("Unknown SID")?(this.s=3,$t(12)):(this.s=0,$t(13)),NA(this),li(this)}}}catch{}finally{}};function sn(x){return x.g?x.u=="GET"&&x.L!=2&&x.j.Ca:!1}function pA(x,Z){var ce=x.C,xe=Z.indexOf(`
`,ce);return xe==-1?$e:(ce=Number(Z.substring(ce,xe)),isNaN(ce)?nr:(xe+=1,xe+ce>Z.length?$e:(Z=Z.slice(xe,xe+ce),x.C=xe+ce,Z)))}AA.prototype.cancel=function(){this.J=!0,NA(this)};function Qr(x){x.S=Date.now()+x.I,LA(x,x.I)}function LA(x,Z){if(x.B!=null)throw Error("WatchDog timer not null");x.B=CA(h(x.ba,x),Z)}function Zn(x){x.B&&(o.clearTimeout(x.B),x.B=null)}AA.prototype.ba=function(){this.B=null;const x=Date.now();0<=x-this.S?(bA(this.i,this.A),this.L!=2&&(On(),$t(17)),NA(this),this.s=2,li(this)):LA(this,this.S-x)};function li(x){x.j.G==0||x.J||la(x.j,x)}function NA(x){Zn(x);var Z=x.M;Z&&typeof Z.ma=="function"&&Z.ma(),x.M=null,Et(x.U),x.g&&(Z=x.g,x.g=null,Z.abort(),Z.ma())}function Dn(x,Z){try{var ce=x.j;if(ce.G!=0&&(ce.g==x||ei(ce.h,x))){if(!x.K&&ei(ce.h,x)&&ce.G==3){try{var xe=ce.Da.g.parse(Z)}catch{xe=null}if(Array.isArray(xe)&&xe.length==3){var rt=xe;if(rt[0]==0){e:if(!ce.u){if(ce.g)if(ce.g.F+3e3<x.F)Ga(ce),xo(ce);else break e;Il(ce),$t(18)}}else ce.za=rt[1],0<ce.za-ce.T&&37500>rt[2]&&ce.F&&ce.v==0&&!ce.C&&(ce.C=CA(h(ce.Za,ce),6e3));if(1>=fs(ce.h)&&ce.ca){try{ce.ca()}catch{}ce.ca=void 0}}else ps(ce,11)}else if((x.K||ce.g==x)&&Ga(ce),!w(Z))for(rt=ce.Da.g.parse(Z),Z=0;Z<rt.length;Z++){let Mr=rt[Z];if(ce.T=Mr[0],Mr=Mr[1],ce.G==2)if(Mr[0]=="c"){ce.K=Mr[1],ce.ia=Mr[2];const ln=Mr[3];ln!=null&&(ce.la=ln,ce.j.info("VER="+ce.la));const rn=Mr[4];rn!=null&&(ce.Aa=rn,ce.j.info("SVER="+ce.Aa));const Os=Mr[5];Os!=null&&typeof Os=="number"&&0<Os&&(xe=1.5*Os,ce.L=xe,ce.j.info("backChannelRequestTimeoutMs_="+xe)),xe=ce;const SA=x.g;if(SA){const Mn=SA.g?SA.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mn){var dt=xe.h;dt.g||Mn.indexOf("spdy")==-1&&Mn.indexOf("quic")==-1&&Mn.indexOf("h2")==-1||(dt.j=dt.l,dt.g=new Set,dt.h&&(gA(dt,dt.h),dt.h=null))}if(xe.D){const ua=SA.g?SA.g.getResponseHeader("X-HTTP-Session-Id"):null;ua&&(xe.ya=ua,Wn(xe.I,xe.D,ua))}}ce.G=3,ce.l&&ce.l.ua(),ce.ba&&(ce.R=Date.now()-x.F,ce.j.info("Handshake RTT: "+ce.R+"ms")),xe=ce;var _t=x;if(xe.qa=K(xe,xe.J?xe.ia:null,xe.W),_t.K){Mc(xe.h,_t);var Kr=_t,tn=xe.L;tn&&(Kr.I=tn),Kr.B&&(Zn(Kr),Qr(Kr)),xe.g=_t}else Ka(xe);0<ce.i.length&&Ps(ce)}else Mr[0]!="stop"&&Mr[0]!="close"||ps(ce,7);else ce.G==3&&(Mr[0]=="stop"||Mr[0]=="close"?Mr[0]=="stop"?ps(ce,7):_A(ce):Mr[0]!="noop"&&ce.l&&ce.l.ta(Mr),ce.v=0)}}On(4)}catch{}}var Ts=class{constructor(x,Z){this.g=x,this.map=Z}};function Qs(x){this.l=x||10,o.PerformanceNavigationTiming?(x=o.performance.getEntriesByType("navigation"),x=0<x.length&&(x[0].nextHopProtocol=="hq"||x[0].nextHopProtocol=="h2")):x=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=x?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Hi(x){return x.h?!0:x.g?x.g.size>=x.j:!1}function fs(x){return x.h?1:x.g?x.g.size:0}function ei(x,Z){return x.h?x.h==Z:x.g?x.g.has(Z):!1}function gA(x,Z){x.g?x.g.add(Z):x.h=Z}function Mc(x,Z){x.h&&x.h==Z?x.h=null:x.g&&x.g.has(Z)&&x.g.delete(Z)}Qs.prototype.cancel=function(){if(this.i=Hc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const x of this.g.values())x.cancel();this.g.clear()}};function Hc(x){if(x.h!=null)return x.i.concat(x.h.D);if(x.g!=null&&x.g.size!==0){let Z=x.i;for(const ce of x.g.values())Z=Z.concat(ce.D);return Z}return g(x.i)}function ta(x){if(x.V&&typeof x.V=="function")return x.V();if(typeof Map<"u"&&x instanceof Map||typeof Set<"u"&&x instanceof Set)return Array.from(x.values());if(typeof x=="string")return x.split("");if(a(x)){for(var Z=[],ce=x.length,xe=0;xe<ce;xe++)Z.push(x[xe]);return Z}Z=[],ce=0;for(xe in x)Z[ce++]=x[xe];return Z}function So(x){if(x.na&&typeof x.na=="function")return x.na();if(!x.V||typeof x.V!="function"){if(typeof Map<"u"&&x instanceof Map)return Array.from(x.keys());if(!(typeof Set<"u"&&x instanceof Set)){if(a(x)||typeof x=="string"){var Z=[];x=x.length;for(var ce=0;ce<x;ce++)Z.push(ce);return Z}Z=[],ce=0;for(const xe in x)Z[ce++]=xe;return Z}}}function ro(x,Z){if(x.forEach&&typeof x.forEach=="function")x.forEach(Z,void 0);else if(a(x)||typeof x=="string")Array.prototype.forEach.call(x,Z,void 0);else for(var ce=So(x),xe=ta(x),rt=xe.length,dt=0;dt<rt;dt++)Z.call(void 0,xe[dt],ce&&ce[dt],x)}var ji=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ti(x,Z){if(x){x=x.split("&");for(var ce=0;ce<x.length;ce++){var xe=x[ce].indexOf("="),rt=null;if(0<=xe){var dt=x[ce].substring(0,xe);rt=x[ce].substring(xe+1)}else dt=x[ce];Z(dt,rt?decodeURIComponent(rt.replace(/\+/g," ")):"")}}}function VA(x){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,x instanceof VA){this.h=x.h,Bl(this,x.j),this.o=x.o,this.g=x.g,Cl(this,x.s),this.l=x.l;var Z=x.i,ce=new yi;ce.i=Z.i,Z.g&&(ce.g=new Map(Z.g),ce.h=Z.h),Ha(this,ce),this.m=x.m}else x&&(Z=String(x).match(ji))?(this.h=!1,Bl(this,Z[1]||"",!0),this.o=on(Z[2]||""),this.g=on(Z[3]||"",!0),Cl(this,Z[4]),this.l=on(Z[5]||"",!0),Ha(this,Z[6]||"",!0),this.m=on(Z[7]||"")):(this.h=!1,this.i=new yi(null,this.h))}VA.prototype.toString=function(){var x=[],Z=this.j;Z&&x.push(Ls(Z,nu,!0),":");var ce=this.g;return(ce||Z=="file")&&(x.push("//"),(Z=this.o)&&x.push(Ls(Z,nu,!0),"@"),x.push(encodeURIComponent(String(ce)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),ce=this.s,ce!=null&&x.push(":",String(ce))),(ce=this.l)&&(this.g&&ce.charAt(0)!="/"&&x.push("/"),x.push(Ls(ce,ce.charAt(0)=="/"?ra:Yh,!0))),(ce=this.i.toString())&&x.push("?",ce),(ce=this.m)&&x.push("#",Ls(ce,na)),x.join("")};function Vi(x){return new VA(x)}function Bl(x,Z,ce){x.j=ce?on(Z,!0):Z,x.j&&(x.j=x.j.replace(/:$/,""))}function Cl(x,Z){if(Z){if(Z=Number(Z),isNaN(Z)||0>Z)throw Error("Bad port number "+Z);x.s=Z}else x.s=null}function Ha(x,Z,ce){Z instanceof yi?(x.i=Z,Aa(x.i,x.h)):(ce||(Z=Ls(Z,bl)),x.i=new yi(Z,x.h))}function Wn(x,Z,ce){x.i.set(Z,ce)}function ja(x){return Wn(x,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),x}function on(x,Z){return x?Z?decodeURI(x.replace(/%25/g,"%2525")):decodeURIComponent(x):""}function Ls(x,Z,ce){return typeof x=="string"?(x=encodeURI(x).replace(Z,Xh),ce&&(x=x.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x):null}function Xh(x){return x=x.charCodeAt(0),"%"+(x>>4&15).toString(16)+(x&15).toString(16)}var nu=/[#\/\?@]/g,Yh=/[#\?:]/g,ra=/[#\?]/g,bl=/[#\?@]/g,na=/#/g;function yi(x,Z){this.h=this.g=null,this.i=x||null,this.j=!!Z}function _n(x){x.g||(x.g=new Map,x.h=0,x.i&&ti(x.i,function(Z,ce){x.add(decodeURIComponent(Z.replace(/\+/g," ")),ce)}))}r=yi.prototype,r.add=function(x,Z){_n(this),this.i=null,x=Ao(this,x);var ce=this.g.get(x);return ce||this.g.set(x,ce=[]),ce.push(Z),this.h+=1,this};function Fo(x,Z){_n(x),Z=Ao(x,Z),x.g.has(Z)&&(x.i=null,x.h-=x.g.get(Z).length,x.g.delete(Z))}function no(x,Z){return _n(x),Z=Ao(x,Z),x.g.has(Z)}r.forEach=function(x,Z){_n(this),this.g.forEach(function(ce,xe){ce.forEach(function(rt){x.call(Z,rt,xe,this)},this)},this)},r.na=function(){_n(this);const x=Array.from(this.g.values()),Z=Array.from(this.g.keys()),ce=[];for(let xe=0;xe<Z.length;xe++){const rt=x[xe];for(let dt=0;dt<rt.length;dt++)ce.push(Z[xe])}return ce},r.V=function(x){_n(this);let Z=[];if(typeof x=="string")no(this,x)&&(Z=Z.concat(this.g.get(Ao(this,x))));else{x=Array.from(this.g.values());for(let ce=0;ce<x.length;ce++)Z=Z.concat(x[ce])}return Z},r.set=function(x,Z){return _n(this),this.i=null,x=Ao(this,x),no(this,x)&&(this.h-=this.g.get(x).length),this.g.set(x,[Z]),this.h+=1,this},r.get=function(x,Z){return x?(x=this.V(x),0<x.length?String(x[0]):Z):Z};function _r(x,Z,ce){Fo(x,Z),0<ce.length&&(x.i=null,x.g.set(Ao(x,Z),g(ce)),x.h+=ce.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const x=[],Z=Array.from(this.g.keys());for(var ce=0;ce<Z.length;ce++){var xe=Z[ce];const dt=encodeURIComponent(String(xe)),_t=this.V(xe);for(xe=0;xe<_t.length;xe++){var rt=dt;_t[xe]!==""&&(rt+="="+encodeURIComponent(String(_t[xe]))),x.push(rt)}}return this.i=x.join("&")};function Ao(x,Z){return Z=String(Z),x.j&&(Z=Z.toLowerCase()),Z}function Aa(x,Z){Z&&!x.j&&(_n(x),x.i=null,x.g.forEach(function(ce,xe){var rt=xe.toLowerCase();xe!=rt&&(Fo(this,xe),_r(this,rt,ce))},x)),x.j=Z}function ia(x,Z){const ce=new fn;if(o.Image){const xe=new Image;xe.onload=d(Ki,ce,"TestLoadImage: loaded",!0,Z,xe),xe.onerror=d(Ki,ce,"TestLoadImage: error",!1,Z,xe),xe.onabort=d(Ki,ce,"TestLoadImage: abort",!1,Z,xe),xe.ontimeout=d(Ki,ce,"TestLoadImage: timeout",!1,Z,xe),o.setTimeout(function(){xe.ontimeout&&xe.ontimeout()},1e4),xe.src=x}else Z(!1)}function jc(x,Z){const ce=new fn,xe=new AbortController,rt=setTimeout(()=>{xe.abort(),Ki(ce,"TestPingServer: timeout",!1,Z)},1e4);fetch(x,{signal:xe.signal}).then(dt=>{clearTimeout(rt),dt.ok?Ki(ce,"TestPingServer: ok",!0,Z):Ki(ce,"TestPingServer: server error",!1,Z)}).catch(()=>{clearTimeout(rt),Ki(ce,"TestPingServer: error",!1,Z)})}function Ki(x,Z,ce,xe,rt){try{rt&&(rt.onload=null,rt.onerror=null,rt.onabort=null,rt.ontimeout=null),xe(ce)}catch{}}function $u(){this.g=new gr}function Gi(x,Z,ce){const xe=ce||"";try{ro(x,function(rt,dt){let _t=rt;u(rt)&&(_t=Tt(rt)),Z.push(xe+dt+"="+encodeURIComponent(_t))})}catch(rt){throw Z.push(xe+"type="+encodeURIComponent("_badmap")),rt}}function sa(x){this.l=x.Ub||null,this.j=x.eb||!1}m(sa,zt),sa.prototype.g=function(){return new El(this.l,this.j)},sa.prototype.i=function(x){return function(){return x}}({});function El(x,Z){yt.call(this),this.D=x,this.o=Z,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(El,yt),r=El.prototype,r.open=function(x,Z){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=x,this.A=Z,this.readyState=1,zi(this)},r.send=function(x){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const Z={headers:this.u,method:this.B,credentials:this.m,cache:void 0};x&&(Z.body=x),(this.D||o).fetch(new Request(this.A,Z)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ns(this)),this.readyState=0},r.Sa=function(x){if(this.g&&(this.l=x,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=x.headers,this.readyState=2,zi(this)),this.g&&(this.readyState=3,zi(this),this.g)))if(this.responseType==="arraybuffer")x.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in x){if(this.j=x.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Vc(this)}else x.text().then(this.Ra.bind(this),this.ga.bind(this))};function Vc(x){x.j.read().then(x.Pa.bind(x)).catch(x.ga.bind(x))}r.Pa=function(x){if(this.g){if(this.o&&x.value)this.response.push(x.value);else if(!this.o){var Z=x.value?x.value:new Uint8Array(0);(Z=this.v.decode(Z,{stream:!x.done}))&&(this.response=this.responseText+=Z)}x.done?Ns(this):zi(this),this.readyState==3&&Vc(this)}},r.Ra=function(x){this.g&&(this.response=this.responseText=x,Ns(this))},r.Qa=function(x){this.g&&(this.response=x,Ns(this))},r.ga=function(){this.g&&Ns(this)};function Ns(x){x.readyState=4,x.l=null,x.j=null,x.v=null,zi(x)}r.setRequestHeader=function(x,Z){this.u.append(x,Z)},r.getResponseHeader=function(x){return this.h&&this.h.get(x.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const x=[],Z=this.h.entries();for(var ce=Z.next();!ce.done;)ce=ce.value,x.push(ce[0]+": "+ce[1]),ce=Z.next();return x.join(`\r
`)};function zi(x){x.onreadystatechange&&x.onreadystatechange.call(x)}Object.defineProperty(El.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(x){this.m=x?"include":"same-origin"}});function ds(x){let Z="";return N(x,function(ce,xe){Z+=xe,Z+=":",Z+=ce,Z+=`\r
`}),Z}function Va(x,Z,ce){e:{for(xe in ce){var xe=!1;break e}xe=!0}xe||(ce=ds(ce),typeof x=="string"?ce!=null&&encodeURIComponent(String(ce)):Wn(x,Z,ce))}function Nn(x){yt.call(this),this.headers=new Map,this.o=x||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(Nn,yt);var Xu=/^https?$/i,_l=["POST","PUT"];r=Nn.prototype,r.Ha=function(x){this.J=x},r.ea=function(x,Z,ce,xe){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+x);Z=Z?Z.toUpperCase():"GET",this.D=x,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():oA.g(),this.v=this.o?Jn(this.o):Jn(oA),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(Z,String(x),!0),this.B=!1}catch(dt){Sl(this,dt);return}if(x=ce||"",ce=new Map(this.headers),xe)if(Object.getPrototypeOf(xe)===Object.prototype)for(var rt in xe)ce.set(rt,xe[rt]);else if(typeof xe.keys=="function"&&typeof xe.get=="function")for(const dt of xe.keys())ce.set(dt,xe.get(dt));else throw Error("Unknown input type for opt_headers: "+String(xe));xe=Array.from(ce.keys()).find(dt=>dt.toLowerCase()=="content-type"),rt=o.FormData&&x instanceof o.FormData,!(0<=Array.prototype.indexOf.call(_l,Z,void 0))||xe||rt||ce.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[dt,_t]of ce)this.g.setRequestHeader(dt,_t);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Rs(this),this.u=!0,this.g.send(x),this.u=!1}catch(dt){Sl(this,dt)}};function Sl(x,Z){x.h=!1,x.g&&(x.j=!0,x.g.abort(),x.j=!1),x.l=Z,x.m=5,EA(x),ri(x)}function EA(x){x.A||(x.A=!0,ge(x,"complete"),ge(x,"error"))}r.abort=function(x){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=x||7,ge(this,"complete"),ge(this,"abort"),ri(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ri(this,!0)),Nn.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Yu(this):this.bb())},r.bb=function(){Yu(this)};function Yu(x){if(x.h&&typeof s<"u"&&(!x.v[1]||KA(x)!=4||x.Z()!=2)){if(x.u&&KA(x)==4)Ae(x.Ea,0,x);else if(ge(x,"readystatechange"),KA(x)==4){x.h=!1;try{const _t=x.Z();e:switch(_t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var Z=!0;break e;default:Z=!1}var ce;if(!(ce=Z)){var xe;if(xe=_t===0){var rt=String(x.D).match(ji)[1]||null;!rt&&o.self&&o.self.location&&(rt=o.self.location.protocol.slice(0,-1)),xe=!Xu.test(rt?rt.toLowerCase():"")}ce=xe}if(ce)ge(x,"complete"),ge(x,"success");else{x.m=6;try{var dt=2<KA(x)?x.g.statusText:""}catch{dt=""}x.l=dt+" ["+x.Z()+"]",EA(x)}}finally{ri(x)}}}}function ri(x,Z){if(x.g){Rs(x);const ce=x.g,xe=x.v[0]?()=>{}:null;x.g=null,x.v=null,Z||ge(x,"ready");try{ce.onreadystatechange=xe}catch{}}}function Rs(x){x.I&&(o.clearTimeout(x.I),x.I=null)}r.isActive=function(){return!!this.g};function KA(x){return x.g?x.g.readyState:0}r.Z=function(){try{return 2<KA(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(x){if(this.g){var Z=this.g.responseText;return x&&Z.indexOf(x)==0&&(Z=Z.substring(x.length)),Ht(Z)}};function Kc(x){try{if(!x.g)return null;if("response"in x.g)return x.g.response;switch(x.H){case"":case"text":return x.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in x.g)return x.g.mozResponseArrayBuffer}return null}catch{return null}}function Io(x){const Z={};x=(x.g&&2<=KA(x)&&x.g.getAllResponseHeaders()||"").split(`\r
`);for(let xe=0;xe<x.length;xe++){if(w(x[xe]))continue;var ce=_(x[xe]);const rt=ce[0];if(ce=ce[1],typeof ce!="string")continue;ce=ce.trim();const dt=Z[rt]||[];Z[rt]=dt,dt.push(ce)}T(Z,function(xe){return xe.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function RA(x,Z,ce){return ce&&ce.internalChannelParams&&ce.internalChannelParams[x]||Z}function oa(x){this.Aa=0,this.i=[],this.j=new fn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=RA("failFast",!1,x),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=RA("baseRetryDelayMs",5e3,x),this.cb=RA("retryDelaySeedMs",1e4,x),this.Wa=RA("forwardChannelMaxRetries",2,x),this.wa=RA("forwardChannelRequestTimeoutMs",2e4,x),this.pa=x&&x.xmlHttpFactory||void 0,this.Xa=x&&x.Tb||void 0,this.Ca=x&&x.useFetchStreams||!1,this.L=void 0,this.J=x&&x.supportsCrossDomainXhr||!1,this.K="",this.h=new Qs(x&&x.concurrentRequestLimit),this.Da=new $u,this.P=x&&x.fastHandshake||!1,this.O=x&&x.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=x&&x.Rb||!1,x&&x.xa&&this.j.xa(),x&&x.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&x&&x.detectBufferingProxy||!1,this.ja=void 0,x&&x.longPollingTimeout&&0<x.longPollingTimeout&&(this.ja=x.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=oa.prototype,r.la=8,r.G=1,r.connect=function(x,Z,ce,xe){$t(0),this.W=x,this.H=Z||{},ce&&xe!==void 0&&(this.H.OSID=ce,this.H.OAID=xe),this.F=this.X,this.I=K(this,null,this.W),Ps(this)};function _A(x){if(Ui(x),x.G==3){var Z=x.U++,ce=Vi(x.I);if(Wn(ce,"SID",x.K),Wn(ce,"RID",Z),Wn(ce,"TYPE","terminate"),aa(x,ce),Z=new AA(x,x.j,Z),Z.L=2,Z.v=ja(Vi(ce)),ce=!1,o.navigator&&o.navigator.sendBeacon)try{ce=o.navigator.sendBeacon(Z.v.toString(),"")}catch{}!ce&&o.Image&&(new Image().src=Z.v,ce=!0),ce||(Z.g=ye(Z.j,null),Z.g.ea(Z.v)),Z.F=Date.now(),Qr(Z)}ec(x)}function xo(x){x.g&&(Ju(x),x.g.cancel(),x.g=null)}function Ui(x){xo(x),x.u&&(o.clearTimeout(x.u),x.u=null),Ga(x),x.h.cancel(),x.s&&(typeof x.s=="number"&&o.clearTimeout(x.s),x.s=null)}function Ps(x){if(!Hi(x.h)&&!x.s){x.s=!0;var Z=x.Ga;re||te(),le||(re(),le=!0),ne.add(Z,x),x.B=0}}function Au(x,Z){return fs(x.h)>=x.h.j-(x.s?1:0)?!1:x.s?(x.i=Z.D.concat(x.i),!0):x.G==1||x.G==2||x.B>=(x.Va?0:x.Wa)?!1:(x.s=CA(h(x.Ga,x,Z),Zu(x,x.B)),x.B++,!0)}r.Ga=function(x){if(this.s)if(this.s=null,this.G==1){if(!x){this.U=Math.floor(1e5*Math.random()),x=this.U++;const rt=new AA(this,this.j,x);let dt=this.o;if(this.S&&(dt?(dt=U(dt),D(dt,this.S)):dt=this.S),this.m!==null||this.O||(rt.H=dt,dt=null),this.P)e:{for(var Z=0,ce=0;ce<this.i.length;ce++){t:{var xe=this.i[ce];if("__data__"in xe.map&&(xe=xe.map.__data__,typeof xe=="string")){xe=xe.length;break t}xe=void 0}if(xe===void 0)break;if(Z+=xe,4096<Z){Z=ce;break e}if(Z===4096||ce===this.i.length-1){Z=ce+1;break e}}Z=1e3}else Z=1e3;Z=Uo(this,rt,Z),ce=Vi(this.I),Wn(ce,"RID",x),Wn(ce,"CVER",22),this.D&&Wn(ce,"X-HTTP-Session-Id",this.D),aa(this,ce),dt&&(this.O?Z="headers="+encodeURIComponent(String(ds(dt)))+"&"+Z:this.m&&Va(ce,this.m,dt)),gA(this.h,rt),this.Ua&&Wn(ce,"TYPE","init"),this.P?(Wn(ce,"$req",Z),Wn(ce,"SID","null"),rt.T=!0,Ot(rt,ce,null)):Ot(rt,ce,Z),this.G=2}}else this.G==3&&(x?Fl(this,x):this.i.length==0||Hi(this.h)||Fl(this))};function Fl(x,Z){var ce;Z?ce=Z.l:ce=x.U++;const xe=Vi(x.I);Wn(xe,"SID",x.K),Wn(xe,"RID",ce),Wn(xe,"AID",x.T),aa(x,xe),x.m&&x.o&&Va(xe,x.m,x.o),ce=new AA(x,x.j,ce,x.B+1),x.m===null&&(ce.H=x.o),Z&&(x.i=Z.D.concat(x.i)),Z=Uo(x,ce,1e3),ce.I=Math.round(.5*x.wa)+Math.round(.5*x.wa*Math.random()),gA(x.h,ce),Ot(ce,xe,Z)}function aa(x,Z){x.H&&N(x.H,function(ce,xe){Wn(Z,xe,ce)}),x.l&&ro({},function(ce,xe){Wn(Z,xe,ce)})}function Uo(x,Z,ce){ce=Math.min(x.i.length,ce);var xe=x.l?h(x.l.Na,x.l,x):null;e:{var rt=x.i;let dt=-1;for(;;){const _t=["count="+ce];dt==-1?0<ce?(dt=rt[0].g,_t.push("ofs="+dt)):dt=0:_t.push("ofs="+dt);let Kr=!0;for(let tn=0;tn<ce;tn++){let Mr=rt[tn].g;const ln=rt[tn].map;if(Mr-=dt,0>Mr)dt=Math.max(0,rt[tn].g-100),Kr=!1;else try{Gi(ln,_t,"req"+Mr+"_")}catch{xe&&xe(ln)}}if(Kr){xe=_t.join("&");break e}}}return x=x.i.splice(0,ce),Z.D=x,xe}function Ka(x){if(!x.g&&!x.u){x.Y=1;var Z=x.Fa;re||te(),le||(re(),le=!0),ne.add(Z,x),x.v=0}}function Il(x){return x.g||x.u||3<=x.v?!1:(x.Y++,x.u=CA(h(x.Fa,x),Zu(x,x.v)),x.v++,!0)}r.Fa=function(){if(this.u=null,Jh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var x=2*this.R;this.j.info("BP detection timer enabled: "+x),this.A=CA(h(this.ab,this),x)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,$t(10),xo(this),Jh(this))};function Ju(x){x.A!=null&&(o.clearTimeout(x.A),x.A=null)}function Jh(x){x.g=new AA(x,x.j,"rpc",x.Y),x.m===null&&(x.g.H=x.o),x.g.O=0;var Z=Vi(x.qa);Wn(Z,"RID","rpc"),Wn(Z,"SID",x.K),Wn(Z,"AID",x.T),Wn(Z,"CI",x.F?"0":"1"),!x.F&&x.ja&&Wn(Z,"TO",x.ja),Wn(Z,"TYPE","xmlhttp"),aa(x,Z),x.m&&x.o&&Va(Z,x.m,x.o),x.L&&(x.g.I=x.L);var ce=x.g;x=x.ia,ce.L=1,ce.v=ja(Vi(Z)),ce.m=null,ce.P=!0,tr(ce,x)}r.Za=function(){this.C!=null&&(this.C=null,xo(this),Il(this),$t(19))};function Ga(x){x.C!=null&&(o.clearTimeout(x.C),x.C=null)}function la(x,Z){var ce=null;if(x.g==Z){Ga(x),Ju(x),x.g=null;var xe=2}else if(ei(x.h,Z))ce=Z.D,Mc(x.h,Z),xe=1;else return;if(x.G!=0){if(Z.o)if(xe==1){ce=Z.m?Z.m.length:0,Z=Date.now()-Z.F;var rt=x.B;xe=xr(),ge(xe,new JA(xe,ce)),Ps(x)}else Ka(x);else if(rt=Z.s,rt==3||rt==0&&0<Z.X||!(xe==1&&Au(x,Z)||xe==2&&Il(x)))switch(ce&&0<ce.length&&(Z=x.h,Z.i=Z.i.concat(ce)),rt){case 1:ps(x,5);break;case 4:ps(x,10);break;case 3:ps(x,6);break;default:ps(x,2)}}}function Zu(x,Z){let ce=x.Ta+Math.floor(Math.random()*x.cb);return x.isActive()||(ce*=2),ce*Z}function ps(x,Z){if(x.j.info("Error code "+Z),Z==2){var ce=h(x.fb,x),xe=x.Xa;const rt=!xe;xe=new VA(xe||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Bl(xe,"https"),ja(xe),rt?ia(xe.toString(),ce):jc(xe.toString(),ce)}else $t(2);x.G=0,x.l&&x.l.sa(Z),ec(x),Ui(x)}r.fb=function(x){x?(this.j.info("Successfully pinged google.com"),$t(2)):(this.j.info("Failed to ping google.com"),$t(1))};function ec(x){if(x.G=0,x.ka=[],x.l){const Z=Hc(x.h);(Z.length!=0||x.i.length!=0)&&(y(x.ka,Z),y(x.ka,x.i),x.h.i.length=0,g(x.i),x.i.length=0),x.l.ra()}}function K(x,Z,ce){var xe=ce instanceof VA?Vi(ce):new VA(ce);if(xe.g!="")Z&&(xe.g=Z+"."+xe.g),Cl(xe,xe.s);else{var rt=o.location;xe=rt.protocol,Z=Z?Z+"."+rt.hostname:rt.hostname,rt=+rt.port;var dt=new VA(null);xe&&Bl(dt,xe),Z&&(dt.g=Z),rt&&Cl(dt,rt),ce&&(dt.l=ce),xe=dt}return ce=x.D,Z=x.ya,ce&&Z&&Wn(xe,ce,Z),Wn(xe,"VER",x.la),aa(x,xe),xe}function ye(x,Z,ce){if(Z&&!x.J)throw Error("Can't create secondary domain capable XhrIo object.");return Z=x.Ca&&!x.pa?new Nn(new sa({eb:ce})):new Nn(x.pa),Z.Ha(x.J),Z}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function De(){}r=De.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ge(){}Ge.prototype.g=function(x,Z){return new at(x,Z)};function at(x,Z){yt.call(this),this.g=new oa(Z),this.l=x,this.h=Z&&Z.messageUrlParams||null,x=Z&&Z.messageHeaders||null,Z&&Z.clientProtocolHeaderRequired&&(x?x["X-Client-Protocol"]="webchannel":x={"X-Client-Protocol":"webchannel"}),this.g.o=x,x=Z&&Z.initMessageHeaders||null,Z&&Z.messageContentType&&(x?x["X-WebChannel-Content-Type"]=Z.messageContentType:x={"X-WebChannel-Content-Type":Z.messageContentType}),Z&&Z.va&&(x?x["X-WebChannel-Client-Profile"]=Z.va:x={"X-WebChannel-Client-Profile":Z.va}),this.g.S=x,(x=Z&&Z.Sb)&&!w(x)&&(this.g.m=x),this.v=Z&&Z.supportsCrossDomainXhr||!1,this.u=Z&&Z.sendRawJson||!1,(Z=Z&&Z.httpSessionIdParam)&&!w(Z)&&(this.g.D=Z,x=this.h,x!==null&&Z in x&&(x=this.h,Z in x&&delete x[Z])),this.j=new Xt(this)}m(at,yt),at.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},at.prototype.close=function(){_A(this.g)},at.prototype.o=function(x){var Z=this.g;if(typeof x=="string"){var ce={};ce.__data__=x,x=ce}else this.u&&(ce={},ce.__data__=Tt(x),x=ce);Z.i.push(new Ts(Z.Ya++,x)),Z.G==3&&Ps(Z)},at.prototype.N=function(){this.g.l=null,delete this.j,_A(this.g),delete this.g,at.aa.N.call(this)};function Ct(x){vr.call(this),x.__headers__&&(this.headers=x.__headers__,this.statusCode=x.__status__,delete x.__headers__,delete x.__status__);var Z=x.__sm__;if(Z){e:{for(const ce in Z){x=ce;break e}x=void 0}(this.i=x)&&(x=this.i,Z=Z!==null&&x in Z?Z[x]:void 0),this.data=Z}else this.data=x}m(Ct,vr);function Rt(){jt.call(this),this.status=1}m(Rt,jt);function Xt(x){this.g=x}m(Xt,De),Xt.prototype.ua=function(){ge(this.g,"a")},Xt.prototype.ta=function(x){ge(this.g,new Ct(x))},Xt.prototype.sa=function(x){ge(this.g,new Rt)},Xt.prototype.ra=function(){ge(this.g,"b")},Ge.prototype.createWebChannel=Ge.prototype.g,at.prototype.send=at.prototype.o,at.prototype.open=at.prototype.m,at.prototype.close=at.prototype.close,Q7=function(){return new Ge},T7=function(){return xr()},U7=Pt,e5={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},qn.NO_ERROR=0,qn.TIMEOUT=8,qn.HTTP_ERROR=6,RS=qn,ZA.COMPLETE="complete",x7=ZA,Lr.EventType=vn,vn.OPEN="a",vn.CLOSE="b",vn.ERROR="c",vn.MESSAGE="d",yt.prototype.listen=yt.prototype.K,FC=Lr,Nn.prototype.listenOnce=Nn.prototype.L,Nn.prototype.getLastError=Nn.prototype.Ka,Nn.prototype.getLastErrorCode=Nn.prototype.Ba,Nn.prototype.getStatus=Nn.prototype.Z,Nn.prototype.getResponseJson=Nn.prototype.Oa,Nn.prototype.getResponseText=Nn.prototype.oa,Nn.prototype.send=Nn.prototype.ea,Nn.prototype.setWithCredentials=Nn.prototype.Ha,I7=Nn}).apply(typeof T2<"u"?T2:typeof self<"u"?self:typeof window<"u"?window:{});const iD="@firebase/firestore",sD="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Na.UNAUTHENTICATED=new Na(null),Na.GOOGLE_CREDENTIALS=new Na("google-credentials-uid"),Na.FIRST_PARTY=new Na("first-party-uid"),Na.MOCK_USER=new Na("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let l1="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw=new XR("@firebase/firestore");function A0(){return rw.logLevel}function hr(r,...e){if(rw.logLevel<=Tn.DEBUG){const t=e.map(uP);rw.debug(`Firestore (${l1}): ${r}`,...t)}}function Tp(r,...e){if(rw.logLevel<=Tn.ERROR){const t=e.map(uP);rw.error(`Firestore (${l1}): ${r}`,...t)}}function Im(r,...e){if(rw.logLevel<=Tn.WARN){const t=e.map(uP);rw.warn(`Firestore (${l1}): ${r}`,...t)}}function uP(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(r,e,t){let n="Unexpected state";typeof e=="string"?n=e:t=e,L7(r,n,t)}function L7(r,e,t){let n=`FIRESTORE (${l1}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{n+=" CONTEXT: "+JSON.stringify(t)}catch{n+=" CONTEXT: "+t}throw Tp(n),new Error(n)}function fA(r,e,t,n){let A="Unexpected state";typeof t=="string"?A=t:n=t,r||L7(e,A,n)}function en(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ar extends id{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N7{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lee{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Na.UNAUTHENTICATED))}shutdown(){}}class uee{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class cee{constructor(e){this.t=e,this.currentUser=Na.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){fA(this.o===void 0,42304);let n=this.i;const A=a=>this.i!==n?(n=this.i,t(a)):Promise.resolve();let i=new Ep;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ep,e.enqueueRetryable(()=>A(this.currentUser))};const s=()=>{const a=i;e.enqueueRetryable(async()=>{await a.promise,await A(this.currentUser)})},o=a=>{hr("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=a,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(a=>o(a)),setTimeout(()=>{if(!this.auth){const a=this.t.getImmediate({optional:!0});a?o(a):(hr("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ep)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(n=>this.i!==e?(hr("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(fA(typeof n.accessToken=="string",31837,{l:n}),new N7(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return fA(e===null||typeof e=="string",2055,{h:e}),new Na(e)}}class hee{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=Na.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class fee{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new hee(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Na.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class oD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dee{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Fc(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){fA(this.o===void 0,3512);const n=i=>{i.error!=null&&hr("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const s=i.token!==this.m;return this.m=i.token,hr("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>n(i))};const A=i=>{hr("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>A(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?A(i):hr("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new oD(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(fA(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new oD(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pee(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<r;n++)t[n]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R7(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const A=pee(40);for(let i=0;i<A.length;++i)n.length<20&&A[i]<t&&(n+=e.charAt(A[i]%62))}return n}}function hn(r,e){return r<e?-1:r>e?1:0}function t5(r,e){let t=0;for(;t<r.length&&t<e.length;){const n=r.codePointAt(t),A=e.codePointAt(t);if(n!==A){if(n<128&&A<128)return hn(n,A);{const i=R7(),s=gee(i.encode(aD(r,t)),i.encode(aD(e,t)));return s!==0?s:hn(n,A)}}t+=n>65535?2:1}return hn(r.length,e.length)}function aD(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function gee(r,e){for(let t=0;t<r.length&&t<e.length;++t)if(r[t]!==e[t])return hn(r[t],e[t]);return hn(r.length,e.length)}function GB(r,e,t){return r.length===e.length&&r.every((n,A)=>t(n,e[A]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD="__name__";class _f{constructor(e,t,n){t===void 0?t=0:t>e.length&&Vr(637,{offset:t,range:e.length}),n===void 0?n=e.length-t:n>e.length-t&&Vr(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return _f.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof _f?e.forEach(n=>{t.push(n)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let A=0;A<n;A++){const i=_f.compareSegments(e.get(A),t.get(A));if(i!==0)return i}return hn(e.length,t.length)}static compareSegments(e,t){const n=_f.isNumericId(e),A=_f.isNumericId(t);return n&&!A?-1:!n&&A?1:n&&A?_f.extractNumericId(e).compare(_f.extractNumericId(t)):t5(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return vm.fromString(e.substring(4,e.length-2))}}class $A extends _f{construct(e,t,n){return new $A(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new ar(Qt.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(A=>A.length>0))}return new $A(t)}static emptyPath(){return new $A([])}}const mee=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xo extends _f{construct(e,t,n){return new Xo(e,t,n)}static isValidIdentifier(e){return mee.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xo.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===lD}static keyField(){return new Xo([lD])}static fromServerFormat(e){const t=[];let n="",A=0;const i=()=>{if(n.length===0)throw new ar(Qt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;A<e.length;){const o=e[A];if(o==="\\"){if(A+1===e.length)throw new ar(Qt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const a=e[A+1];if(a!=="\\"&&a!=="."&&a!=="`")throw new ar(Qt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=a,A+=2}else o==="`"?(s=!s,A++):o!=="."||s?(n+=o,A++):(i(),A++)}if(i(),s)throw new ar(Qt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xo(t)}static emptyPath(){return new Xo([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this.path=e}static fromPath(e){return new Tr($A.fromString(e))}static fromName(e){return new Tr($A.fromString(e).popFirst(5))}static empty(){return new Tr($A.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$A.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return $A.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Tr(new $A(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P7(r,e,t){if(!t)throw new ar(Qt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function vee(r,e,t,n){if(e===!0&&n===!0)throw new ar(Qt.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function uD(r){if(!Tr.isDocumentKey(r))throw new ar(Qt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function cD(r){if(Tr.isDocumentKey(r))throw new ar(Qt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function O7(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function ix(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Vr(12329,{type:typeof r})}function Yl(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ar(Qt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ix(r);throw new ar(Qt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xs(r,e){const t={typeString:r};return e&&(t.value=e),t}function O_(r,e){if(!O7(r))throw new ar(Qt.INVALID_ARGUMENT,"JSON must be an object");let t;for(const n in e)if(e[n]){const A=e[n].typeString,i="value"in e[n]?{value:e[n].value}:void 0;if(!(n in r)){t=`JSON missing required field: '${n}'`;break}const s=r[n];if(A&&typeof s!==A){t=`JSON field '${n}' must be a ${A}.`;break}if(i!==void 0&&s!==i.value){t=`Expected '${n}' field to equal '${i.value}'`;break}}if(t)throw new ar(Qt.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD=-62135596800,fD=1e6;class si{static now(){return si.fromMillis(Date.now())}static fromDate(e){return si.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*fD);return new si(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ar(Qt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ar(Qt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<hD)throw new ar(Qt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ar(Qt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/fD}_compareTo(e){return this.seconds===e.seconds?hn(this.nanoseconds,e.nanoseconds):hn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:si._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(O_(e,si._jsonSchema))return new si(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-hD;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}si._jsonSchemaVersion="firestore/timestamp/1.0",si._jsonSchema={type:xs("string",si._jsonSchemaVersion),seconds:xs("number"),nanoseconds:xs("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{static fromTimestamp(e){return new Xr(e)}static min(){return new Xr(new si(0,0))}static max(){return new Xr(new si(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib=-1;function yee(r,e){const t=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,A=Xr.fromTimestamp(n===1e9?new si(t+1,0):new si(t,n));return new xm(A,Tr.empty(),e)}function wee(r){return new xm(r.readTime,r.key,Ib)}class xm{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new xm(Xr.min(),Tr.empty(),Ib)}static max(){return new xm(Xr.max(),Tr.empty(),Ib)}}function Bee(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Tr.comparator(r.documentKey,e.documentKey),t!==0?t:hn(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cee="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bee{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u1(r){if(r.code!==Qt.FAILED_PRECONDITION||r.message!==Cee)throw r;hr("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Vr(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Nt((n,A)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(n,A)},this.catchCallback=i=>{this.wrapFailure(t,i).next(n,A)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Nt?t:Nt.resolve(t)}catch(t){return Nt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Nt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Nt.reject(t)}static resolve(e){return new Nt((t,n)=>{t(e)})}static reject(e){return new Nt((t,n)=>{n(e)})}static waitFor(e){return new Nt((t,n)=>{let A=0,i=0,s=!1;e.forEach(o=>{++A,o.next(()=>{++i,s&&i===A&&t()},a=>n(a))}),s=!0,i===A&&t()})}static or(e){let t=Nt.resolve(!1);for(const n of e)t=t.next(A=>A?Nt.resolve(A):n());return t}static forEach(e,t){const n=[];return e.forEach((A,i)=>{n.push(t.call(this,A,i))}),this.waitFor(n)}static mapArray(e,t){return new Nt((n,A)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const u=a;t(e[u]).next(l=>{s[u]=l,++o,o===i&&n(s)},l=>A(l))}})}static doWhile(e,t){return new Nt((n,A)=>{const i=()=>{e()===!0?t().next(()=>{i()},A):n()};i()})}}function Eee(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function c1(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this._e(n),this.ae=n=>t.writeSequenceNumber(n))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}sx.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hP=-1;function ox(r){return r==null}function MF(r){return r===0&&1/r==-1/0}function _ee(r){return typeof r=="number"&&Number.isInteger(r)&&!MF(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k7="";function See(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=dD(e)),e=Fee(r.get(t),e);return dD(e)}function Fee(r,e){let t=e;const n=r.length;for(let A=0;A<n;A++){const i=r.charAt(A);switch(i){case"\0":t+="";break;case k7:t+="";break;default:t+=i}}return t}function dD(r){return r+k7+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pD(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Km(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function D7(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e,t){this.comparator=e,this.root=t||qo.EMPTY}insert(e,t){return new Ii(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,qo.BLACK,null,null))}remove(e){return new Ii(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qo.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const A=this.comparator(e,n.key);if(A===0)return t+n.left.size;A<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Q2(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Q2(this.root,e,this.comparator,!1)}getReverseIterator(){return new Q2(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Q2(this.root,e,this.comparator,!0)}}class Q2{constructor(e,t,n,A){this.isReverse=A,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&A&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qo{constructor(e,t,n,A,i){this.key=e,this.value=t,this.color=n??qo.RED,this.left=A??qo.EMPTY,this.right=i??qo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,A,i){return new qo(e??this.key,t??this.value,n??this.color,A??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let A=this;const i=n(e,A.key);return A=i<0?A.copy(null,null,null,A.left.insert(e,t,n),null):i===0?A.copy(null,t,null,null,null):A.copy(null,null,null,null,A.right.insert(e,t,n)),A.fixUp()}removeMin(){if(this.left.isEmpty())return qo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,A=this;if(t(e,A.key)<0)A.left.isEmpty()||A.left.isRed()||A.left.left.isRed()||(A=A.moveRedLeft()),A=A.copy(null,null,null,A.left.remove(e,t),null);else{if(A.left.isRed()&&(A=A.rotateRight()),A.right.isEmpty()||A.right.isRed()||A.right.left.isRed()||(A=A.moveRedRight()),t(e,A.key)===0){if(A.right.isEmpty())return qo.EMPTY;n=A.right.min(),A=A.copy(n.key,n.value,null,null,A.right.removeMin())}A=A.copy(null,null,null,null,A.right.remove(e,t))}return A.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Vr(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Vr(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Vr(27949);return e+(this.isRed()?0:1)}}qo.EMPTY=null,qo.RED=!0,qo.BLACK=!1;qo.EMPTY=new class{constructor(){this.size=0}get key(){throw Vr(57766)}get value(){throw Vr(16141)}get color(){throw Vr(16727)}get left(){throw Vr(29726)}get right(){throw Vr(36894)}copy(e,t,n,A,i){return this}insert(e,t,n){return new qo(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e){this.comparator=e,this.data=new Ii(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const A=n.getNext();if(this.comparator(A.key,e[1])>=0)return;t(A.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new gD(this.data.getIterator())}getIteratorFrom(e){return new gD(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(n=>{t=t.add(n)}),t}isEqual(e){if(!(e instanceof to)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const A=t.getNext().key,i=n.getNext().key;if(this.comparator(A,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new to(this.comparator);return t.data=e,t}}class gD{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e){this.fields=e,e.sort(Xo.comparator)}static empty(){return new Ku([])}unionWith(e){let t=new to(Xo.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Ku(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return GB(this.fields,e.fields,(t,n)=>t.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M7 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(A){try{return atob(A)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new M7("Invalid base64 string: "+i):i}}(e);return new Zo(t)}static fromUint8Array(e){const t=function(A){let i="";for(let s=0;s<A.length;++s)i+=String.fromCharCode(A[s]);return i}(e);return new Zo(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let A=0;A<t.length;A++)n[A]=t.charCodeAt(A);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return hn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zo.EMPTY_BYTE_STRING=new Zo("");const Iee=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Um(r){if(fA(!!r,39018),typeof r=="string"){let e=0;const t=Iee.exec(r);if(fA(!!t,46558,{timestamp:r}),t[1]){let A=t[1];A=(A+"000000000").substr(0,9),e=Number(A)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:ss(r.seconds),nanos:ss(r.nanos)}}function ss(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Tm(r){return typeof r=="string"?Zo.fromBase64String(r):Zo.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H7="server_timestamp",j7="__type__",V7="__previous_value__",K7="__local_write_time__";function fP(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[j7])===null||t===void 0?void 0:t.stringValue)===H7}function ax(r){const e=r.mapValue.fields[V7];return fP(e)?ax(e):e}function xb(r){const e=Um(r.mapValue.fields[K7].timestampValue);return new si(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xee{constructor(e,t,n,A,i,s,o,a,u,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=A,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=u,this.isUsingEmulator=l}}const HF="(default)";class Ub{constructor(e,t){this.projectId=e,this.database=t||HF}static empty(){return new Ub("","")}get isDefaultDatabase(){return this.database===HF}isEqual(e){return e instanceof Ub&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G7="__type__",Uee="__max__",L2={mapValue:{}},z7="__vector__",jF="value";function Qm(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?fP(r)?4:Qee(r)?9007199254740991:Tee(r)?10:11:Vr(28295,{value:r})}function rd(r,e){if(r===e)return!0;const t=Qm(r);if(t!==Qm(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return xb(r).isEqual(xb(e));case 3:return function(A,i){if(typeof A.timestampValue=="string"&&typeof i.timestampValue=="string"&&A.timestampValue.length===i.timestampValue.length)return A.timestampValue===i.timestampValue;const s=Um(A.timestampValue),o=Um(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(A,i){return Tm(A.bytesValue).isEqual(Tm(i.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(A,i){return ss(A.geoPointValue.latitude)===ss(i.geoPointValue.latitude)&&ss(A.geoPointValue.longitude)===ss(i.geoPointValue.longitude)}(r,e);case 2:return function(A,i){if("integerValue"in A&&"integerValue"in i)return ss(A.integerValue)===ss(i.integerValue);if("doubleValue"in A&&"doubleValue"in i){const s=ss(A.doubleValue),o=ss(i.doubleValue);return s===o?MF(s)===MF(o):isNaN(s)&&isNaN(o)}return!1}(r,e);case 9:return GB(r.arrayValue.values||[],e.arrayValue.values||[],rd);case 10:case 11:return function(A,i){const s=A.mapValue.fields||{},o=i.mapValue.fields||{};if(pD(s)!==pD(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!rd(s[a],o[a])))return!1;return!0}(r,e);default:return Vr(52216,{left:r})}}function Tb(r,e){return(r.values||[]).find(t=>rd(t,e))!==void 0}function zB(r,e){if(r===e)return 0;const t=Qm(r),n=Qm(e);if(t!==n)return hn(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return hn(r.booleanValue,e.booleanValue);case 2:return function(i,s){const o=ss(i.integerValue||i.doubleValue),a=ss(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(r,e);case 3:return mD(r.timestampValue,e.timestampValue);case 4:return mD(xb(r),xb(e));case 5:return t5(r.stringValue,e.stringValue);case 6:return function(i,s){const o=Tm(i),a=Tm(s);return o.compareTo(a)}(r.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const l=hn(o[u],a[u]);if(l!==0)return l}return hn(o.length,a.length)}(r.referenceValue,e.referenceValue);case 8:return function(i,s){const o=hn(ss(i.latitude),ss(s.latitude));return o!==0?o:hn(ss(i.longitude),ss(s.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return vD(r.arrayValue,e.arrayValue);case 10:return function(i,s){var o,a,u,l;const c=i.fields||{},h=s.fields||{},d=(o=c[jF])===null||o===void 0?void 0:o.arrayValue,m=(a=h[jF])===null||a===void 0?void 0:a.arrayValue,g=hn(((u=d==null?void 0:d.values)===null||u===void 0?void 0:u.length)||0,((l=m==null?void 0:m.values)===null||l===void 0?void 0:l.length)||0);return g!==0?g:vD(d,m)}(r.mapValue,e.mapValue);case 11:return function(i,s){if(i===L2.mapValue&&s===L2.mapValue)return 0;if(i===L2.mapValue)return 1;if(s===L2.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},l=Object.keys(u);a.sort(),l.sort();for(let c=0;c<a.length&&c<l.length;++c){const h=t5(a[c],l[c]);if(h!==0)return h;const d=zB(o[a[c]],u[l[c]]);if(d!==0)return d}return hn(a.length,l.length)}(r.mapValue,e.mapValue);default:throw Vr(23264,{le:t})}}function mD(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return hn(r,e);const t=Um(r),n=Um(e),A=hn(t.seconds,n.seconds);return A!==0?A:hn(t.nanos,n.nanos)}function vD(r,e){const t=r.values||[],n=e.values||[];for(let A=0;A<t.length&&A<n.length;++A){const i=zB(t[A],n[A]);if(i)return i}return hn(t.length,n.length)}function qB(r){return r5(r)}function r5(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const n=Um(t);return`time(${n.seconds},${n.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return Tm(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return Tr.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let n="[",A=!0;for(const i of t.values||[])A?A=!1:n+=",",n+=r5(i);return n+"]"}(r.arrayValue):"mapValue"in r?function(t){const n=Object.keys(t.fields||{}).sort();let A="{",i=!0;for(const s of n)i?i=!1:A+=",",A+=`${s}:${r5(t.fields[s])}`;return A+"}"}(r.mapValue):Vr(61005,{value:r})}function PS(r){switch(Qm(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ax(r);return e?16+PS(e):16;case 5:return 2*r.stringValue.length;case 6:return Tm(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((A,i)=>A+PS(i),0)}(r.arrayValue);case 10:case 11:return function(n){let A=0;return Km(n.fields,(i,s)=>{A+=i.length+PS(s)}),A}(r.mapValue);default:throw Vr(13486,{value:r})}}function yD(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function n5(r){return!!r&&"integerValue"in r}function dP(r){return!!r&&"arrayValue"in r}function wD(r){return!!r&&"nullValue"in r}function BD(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function OS(r){return!!r&&"mapValue"in r}function Tee(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[G7])===null||t===void 0?void 0:t.stringValue)===z7}function lb(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Km(r.mapValue.fields,(t,n)=>e.mapValue.fields[t]=lb(n)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=lb(r.arrayValue.values[t]);return e}return Object.assign({},r)}function Qee(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Uee}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e){this.value=e}static empty(){return new $l({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!OS(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=lb(t)}setAll(e){let t=Xo.emptyPath(),n={},A=[];e.forEach((s,o)=>{if(!t.isImmediateParentOf(o)){const a=this.getFieldsMap(t);this.applyChanges(a,n,A),n={},A=[],t=o.popLast()}s?n[o.lastSegment()]=lb(s):A.push(o.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,A)}delete(e){const t=this.field(e.popLast());OS(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return rd(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let A=t.mapValue.fields[e.get(n)];OS(A)&&A.mapValue.fields||(A={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=A),t=A}return t.mapValue.fields}applyChanges(e,t,n){Km(t,(A,i)=>e[A]=i);for(const A of n)delete e[A]}clone(){return new $l(lb(this.value))}}function q7(r){const e=[];return Km(r.fields,(t,n)=>{const A=new Xo([t]);if(OS(n)){const i=q7(n.mapValue).fields;if(i.length===0)e.push(A);else for(const s of i)e.push(A.child(s))}else e.push(A)}),new Ku(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e,t,n,A,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=A,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Pa(e,0,Xr.min(),Xr.min(),Xr.min(),$l.empty(),0)}static newFoundDocument(e,t,n,A){return new Pa(e,1,t,Xr.min(),n,A,0)}static newNoDocument(e,t){return new Pa(e,2,t,Xr.min(),Xr.min(),$l.empty(),0)}static newUnknownDocument(e,t){return new Pa(e,3,t,Xr.min(),Xr.min(),$l.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Xr.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$l.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$l.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Xr.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Pa&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pa(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{constructor(e,t){this.position=e,this.inclusive=t}}function CD(r,e,t){let n=0;for(let A=0;A<r.position.length;A++){const i=e[A],s=r.position[A];if(i.field.isKeyField()?n=Tr.comparator(Tr.fromName(s.referenceValue),t.key):n=zB(s,t.data.field(i.field)),i.dir==="desc"&&(n*=-1),n!==0)break}return n}function bD(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!rd(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e,t="asc"){this.field=e,this.dir=t}}function Lee(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W7{}class Fs extends W7{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new Ree(e,t,n):t==="array-contains"?new kee(e,n):t==="in"?new Dee(e,n):t==="not-in"?new Mee(e,n):t==="array-contains-any"?new Hee(e,n):new Fs(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new Pee(e,n):new Oee(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(zB(t,this.value)):t!==null&&Qm(this.value)===Qm(t)&&this.matchesComparison(zB(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Vr(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Dh extends W7{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new Dh(e,t)}matches(e){return $7(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function $7(r){return r.op==="and"}function X7(r){return Nee(r)&&$7(r)}function Nee(r){for(const e of r.filters)if(e instanceof Dh)return!1;return!0}function A5(r){if(r instanceof Fs)return r.field.canonicalString()+r.op.toString()+qB(r.value);if(X7(r))return r.filters.map(e=>A5(e)).join(",");{const e=r.filters.map(t=>A5(t)).join(",");return`${r.op}(${e})`}}function Y7(r,e){return r instanceof Fs?function(n,A){return A instanceof Fs&&n.op===A.op&&n.field.isEqual(A.field)&&rd(n.value,A.value)}(r,e):r instanceof Dh?function(n,A){return A instanceof Dh&&n.op===A.op&&n.filters.length===A.filters.length?n.filters.reduce((i,s,o)=>i&&Y7(s,A.filters[o]),!0):!1}(r,e):void Vr(19439)}function J7(r){return r instanceof Fs?function(t){return`${t.field.canonicalString()} ${t.op} ${qB(t.value)}`}(r):r instanceof Dh?function(t){return t.op.toString()+" {"+t.getFilters().map(J7).join(" ,")+"}"}(r):"Filter"}class Ree extends Fs{constructor(e,t,n){super(e,t,n),this.key=Tr.fromName(n.referenceValue)}matches(e){const t=Tr.comparator(e.key,this.key);return this.matchesComparison(t)}}class Pee extends Fs{constructor(e,t){super(e,"in",t),this.keys=Z7("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Oee extends Fs{constructor(e,t){super(e,"not-in",t),this.keys=Z7("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Z7(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(n=>Tr.fromName(n.referenceValue))}class kee extends Fs{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return dP(t)&&Tb(t.arrayValue,this.value)}}class Dee extends Fs{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Tb(this.value.arrayValue,t)}}class Mee extends Fs{constructor(e,t){super(e,"not-in",t)}matches(e){if(Tb(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Tb(this.value.arrayValue,t)}}class Hee extends Fs{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!dP(t)||!t.arrayValue.values)&&t.arrayValue.values.some(n=>Tb(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jee{constructor(e,t=null,n=[],A=[],i=null,s=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=A,this.limit=i,this.startAt=s,this.endAt=o,this.Pe=null}}function ED(r,e=null,t=[],n=[],A=null,i=null,s=null){return new jee(r,e,t,n,A,i,s)}function pP(r){const e=en(r);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(n=>A5(n)).join(","),t+="|ob:",t+=e.orderBy.map(n=>function(i){return i.field.canonicalString()+i.dir}(n)).join(","),ox(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(n=>qB(n)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(n=>qB(n)).join(",")),e.Pe=t}return e.Pe}function gP(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!Lee(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Y7(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!bD(r.startAt,e.startAt)&&bD(r.endAt,e.endAt)}function i5(r){return Tr.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e,t=null,n=[],A=[],i=null,s="F",o=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=A,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function Vee(r,e,t,n,A,i,s,o){return new h1(r,e,t,n,A,i,s,o)}function lx(r){return new h1(r)}function _D(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function eV(r){return r.collectionGroup!==null}function ub(r){const e=en(r);if(e.Te===null){e.Te=[];const t=new Set;for(const i of e.explicitOrderBy)e.Te.push(i),t.add(i.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new to(Xo.comparator);return s.filters.forEach(a=>{a.getFlattenedFilters().forEach(u=>{u.isInequality()&&(o=o.add(u.field))})}),o})(e).forEach(i=>{t.has(i.canonicalString())||i.isKeyField()||e.Te.push(new Qb(i,n))}),t.has(Xo.keyField().canonicalString())||e.Te.push(new Qb(Xo.keyField(),n))}return e.Te}function $f(r){const e=en(r);return e.Ie||(e.Ie=Kee(e,ub(r))),e.Ie}function Kee(r,e){if(r.limitType==="F")return ED(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(A=>{const i=A.dir==="desc"?"asc":"desc";return new Qb(A.field,i)});const t=r.endAt?new VF(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new VF(r.startAt.position,r.startAt.inclusive):null;return ED(r.path,r.collectionGroup,e,r.filters,r.limit,t,n)}}function s5(r,e){const t=r.filters.concat([e]);return new h1(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function o5(r,e,t){return new h1(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function ux(r,e){return gP($f(r),$f(e))&&r.limitType===e.limitType}function tV(r){return`${pP($f(r))}|lt:${r.limitType}`}function i0(r){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(A=>J7(A)).join(", ")}]`),ox(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(A=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(A)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(A=>qB(A)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(A=>qB(A)).join(",")),`Target(${n})`}($f(r))}; limitType=${r.limitType})`}function cx(r,e){return e.isFoundDocument()&&function(n,A){const i=A.key.path;return n.collectionGroup!==null?A.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):Tr.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(r,e)&&function(n,A){for(const i of ub(n))if(!i.field.isKeyField()&&A.data.field(i.field)===null)return!1;return!0}(r,e)&&function(n,A){for(const i of n.filters)if(!i.matches(A))return!1;return!0}(r,e)&&function(n,A){return!(n.startAt&&!function(s,o,a){const u=CD(s,o,a);return s.inclusive?u<=0:u<0}(n.startAt,ub(n),A)||n.endAt&&!function(s,o,a){const u=CD(s,o,a);return s.inclusive?u>=0:u>0}(n.endAt,ub(n),A))}(r,e)}function Gee(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function rV(r){return(e,t)=>{let n=!1;for(const A of ub(r)){const i=zee(A,e,t);if(i!==0)return i;n=n||A.field.isKeyField()}return 0}}function zee(r,e,t){const n=r.field.isKeyField()?Tr.comparator(e.key,t.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return a!==null&&u!==null?zB(a,u):Vr(42886)}(r.field,e,t);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return Vr(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[A,i]of n)if(this.equalsFn(A,e))return i}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),A=this.inner[n];if(A===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<A.length;i++)if(this.equalsFn(A[i][0],e))return void(A[i]=[e,t]);A.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let A=0;A<n.length;A++)if(this.equalsFn(n[A][0],e))return n.length===1?delete this.inner[t]:n.splice(A,1),this.innerSize--,!0;return!1}forEach(e){Km(this.inner,(t,n)=>{for(const[A,i]of n)e(A,i)})}isEmpty(){return D7(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qee=new Ii(Tr.comparator);function Qp(){return qee}const nV=new Ii(Tr.comparator);function IC(...r){let e=nV;for(const t of r)e=e.insert(t.key,t);return e}function AV(r){let e=nV;return r.forEach((t,n)=>e=e.insert(t,n.overlayedDocument)),e}function Iv(){return cb()}function iV(){return cb()}function cb(){return new fw(r=>r.toString(),(r,e)=>r.isEqual(e))}const Wee=new Ii(Tr.comparator),$ee=new to(Tr.comparator);function Ln(...r){let e=$ee;for(const t of r)e=e.add(t);return e}const Xee=new to(hn);function Yee(){return Xee}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:MF(e)?"-0":e}}function sV(r){return{integerValue:""+r}}function Jee(r,e){return _ee(e)?sV(e):mP(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(){this._=void 0}}function Zee(r,e,t){return r instanceof Lb?function(A,i){const s={fields:{[j7]:{stringValue:H7},[K7]:{timestampValue:{seconds:A.seconds,nanos:A.nanoseconds}}}};return i&&fP(i)&&(i=ax(i)),i&&(s.fields[V7]=i),{mapValue:s}}(t,e):r instanceof Nb?aV(r,e):r instanceof Rb?lV(r,e):function(A,i){const s=oV(A,i),o=SD(s)+SD(A.Ee);return n5(s)&&n5(A.Ee)?sV(o):mP(A.serializer,o)}(r,e)}function ete(r,e,t){return r instanceof Nb?aV(r,e):r instanceof Rb?lV(r,e):t}function oV(r,e){return r instanceof KF?function(n){return n5(n)||function(i){return!!i&&"doubleValue"in i}(n)}(e)?e:{integerValue:0}:null}class Lb extends hx{}class Nb extends hx{constructor(e){super(),this.elements=e}}function aV(r,e){const t=uV(e);for(const n of r.elements)t.some(A=>rd(A,n))||t.push(n);return{arrayValue:{values:t}}}class Rb extends hx{constructor(e){super(),this.elements=e}}function lV(r,e){let t=uV(e);for(const n of r.elements)t=t.filter(A=>!rd(A,n));return{arrayValue:{values:t}}}class KF extends hx{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function SD(r){return ss(r.integerValue||r.doubleValue)}function uV(r){return dP(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tte{constructor(e,t){this.field=e,this.transform=t}}function rte(r,e){return r.field.isEqual(e.field)&&function(n,A){return n instanceof Nb&&A instanceof Nb||n instanceof Rb&&A instanceof Rb?GB(n.elements,A.elements,rd):n instanceof KF&&A instanceof KF?rd(n.Ee,A.Ee):n instanceof Lb&&A instanceof Lb}(r.transform,e.transform)}class nte{constructor(e,t){this.version=e,this.transformResults=t}}class Lc{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Lc}static exists(e){return new Lc(void 0,e)}static updateTime(e){return new Lc(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kS(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class fx{}function cV(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new vP(r.key,Lc.none()):new k_(r.key,r.data,Lc.none());{const t=r.data,n=$l.empty();let A=new to(Xo.comparator);for(let i of e.fields)if(!A.has(i)){let s=t.field(i);s===null&&i.length>1&&(i=i.popLast(),s=t.field(i)),s===null?n.delete(i):n.set(i,s),A=A.add(i)}return new Gm(r.key,n,new Ku(A.toArray()),Lc.none())}}function Ate(r,e,t){r instanceof k_?function(A,i,s){const o=A.value.clone(),a=ID(A.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(r,e,t):r instanceof Gm?function(A,i,s){if(!kS(A.precondition,i))return void i.convertToUnknownDocument(s.version);const o=ID(A.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(hV(A)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(r,e,t):function(A,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function hb(r,e,t,n){return r instanceof k_?function(i,s,o,a){if(!kS(i.precondition,s))return o;const u=i.value.clone(),l=xD(i.fieldTransforms,a,s);return u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(r,e,t,n):r instanceof Gm?function(i,s,o,a){if(!kS(i.precondition,s))return o;const u=xD(i.fieldTransforms,a,s),l=s.data;return l.setAll(hV(i)),l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(r,e,t,n):function(i,s,o){return kS(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(r,e,t)}function ite(r,e){let t=null;for(const n of r.fieldTransforms){const A=e.data.field(n.field),i=oV(n.transform,A||null);i!=null&&(t===null&&(t=$l.empty()),t.set(n.field,i))}return t||null}function FD(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(n,A){return n===void 0&&A===void 0||!(!n||!A)&&GB(n,A,(i,s)=>rte(i,s))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class k_ extends fx{constructor(e,t,n,A=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=A,this.type=0}getFieldMask(){return null}}class Gm extends fx{constructor(e,t,n,A,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=A,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function hV(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const n=r.data.field(t);e.set(t,n)}}),e}function ID(r,e,t){const n=new Map;fA(r.length===t.length,32656,{Ae:t.length,Re:r.length});for(let A=0;A<t.length;A++){const i=r[A],s=i.transform,o=e.data.field(i.field);n.set(i.field,ete(s,o,t[A]))}return n}function xD(r,e,t){const n=new Map;for(const A of r){const i=A.transform,s=t.data.field(A.field);n.set(A.field,Zee(i,s,e))}return n}class vP extends fx{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ste extends fx{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ote{constructor(e,t,n,A){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=A}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let A=0;A<this.mutations.length;A++){const i=this.mutations[A];i.key.isEqual(e.key)&&Ate(i,e,n[A])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=hb(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=hb(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=iV();return this.mutations.forEach(A=>{const i=e.get(A.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(A.key)?null:o;const a=cV(s,o);a!==null&&n.set(A.key,a),s.isValidDocument()||s.convertToNoDocument(Xr.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ln())}isEqual(e){return this.batchId===e.batchId&&GB(this.mutations,e.mutations,(t,n)=>FD(t,n))&&GB(this.baseMutations,e.baseMutations,(t,n)=>FD(t,n))}}class yP{constructor(e,t,n,A){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=A}static from(e,t,n){fA(e.mutations.length===n.length,58842,{Ve:e.mutations.length,me:n.length});let A=function(){return Wee}();const i=e.mutations;for(let s=0;s<i.length;s++)A=A.insert(i[s].key,n[s].version);return new yP(e,t,n,A)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ate{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lte{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _s,zn;function ute(r){switch(r){case Qt.OK:return Vr(64938);case Qt.CANCELLED:case Qt.UNKNOWN:case Qt.DEADLINE_EXCEEDED:case Qt.RESOURCE_EXHAUSTED:case Qt.INTERNAL:case Qt.UNAVAILABLE:case Qt.UNAUTHENTICATED:return!1;case Qt.INVALID_ARGUMENT:case Qt.NOT_FOUND:case Qt.ALREADY_EXISTS:case Qt.PERMISSION_DENIED:case Qt.FAILED_PRECONDITION:case Qt.ABORTED:case Qt.OUT_OF_RANGE:case Qt.UNIMPLEMENTED:case Qt.DATA_LOSS:return!0;default:return Vr(15467,{code:r})}}function fV(r){if(r===void 0)return Tp("GRPC error has no .code"),Qt.UNKNOWN;switch(r){case _s.OK:return Qt.OK;case _s.CANCELLED:return Qt.CANCELLED;case _s.UNKNOWN:return Qt.UNKNOWN;case _s.DEADLINE_EXCEEDED:return Qt.DEADLINE_EXCEEDED;case _s.RESOURCE_EXHAUSTED:return Qt.RESOURCE_EXHAUSTED;case _s.INTERNAL:return Qt.INTERNAL;case _s.UNAVAILABLE:return Qt.UNAVAILABLE;case _s.UNAUTHENTICATED:return Qt.UNAUTHENTICATED;case _s.INVALID_ARGUMENT:return Qt.INVALID_ARGUMENT;case _s.NOT_FOUND:return Qt.NOT_FOUND;case _s.ALREADY_EXISTS:return Qt.ALREADY_EXISTS;case _s.PERMISSION_DENIED:return Qt.PERMISSION_DENIED;case _s.FAILED_PRECONDITION:return Qt.FAILED_PRECONDITION;case _s.ABORTED:return Qt.ABORTED;case _s.OUT_OF_RANGE:return Qt.OUT_OF_RANGE;case _s.UNIMPLEMENTED:return Qt.UNIMPLEMENTED;case _s.DATA_LOSS:return Qt.DATA_LOSS;default:return Vr(39323,{code:r})}}(zn=_s||(_s={}))[zn.OK=0]="OK",zn[zn.CANCELLED=1]="CANCELLED",zn[zn.UNKNOWN=2]="UNKNOWN",zn[zn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zn[zn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zn[zn.NOT_FOUND=5]="NOT_FOUND",zn[zn.ALREADY_EXISTS=6]="ALREADY_EXISTS",zn[zn.PERMISSION_DENIED=7]="PERMISSION_DENIED",zn[zn.UNAUTHENTICATED=16]="UNAUTHENTICATED",zn[zn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zn[zn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zn[zn.ABORTED=10]="ABORTED",zn[zn.OUT_OF_RANGE=11]="OUT_OF_RANGE",zn[zn.UNIMPLEMENTED=12]="UNIMPLEMENTED",zn[zn.INTERNAL=13]="INTERNAL",zn[zn.UNAVAILABLE=14]="UNAVAILABLE",zn[zn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cte=new vm([4294967295,4294967295],0);function UD(r){const e=R7().encode(r),t=new F7;return t.update(e),new Uint8Array(t.digest())}function TD(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),A=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new vm([t,n],0),new vm([A,i],0)]}class wP{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new xC(`Invalid padding: ${t}`);if(n<0)throw new xC(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new xC(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new xC(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=vm.fromNumber(this.fe)}pe(e,t,n){let A=e.add(t.multiply(vm.fromNumber(n)));return A.compare(cte)===1&&(A=new vm([A.getBits(0),A.getBits(1)],0)),A.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=UD(e),[n,A]=TD(t);for(let i=0;i<this.hashCount;i++){const s=this.pe(n,A,i);if(!this.ye(s))return!1}return!0}static create(e,t,n){const A=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new wP(i,A,t);return n.forEach(o=>s.insert(o)),s}insert(e){if(this.fe===0)return;const t=UD(e),[n,A]=TD(t);for(let i=0;i<this.hashCount;i++){const s=this.pe(n,A,i);this.we(s)}}we(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class xC extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e,t,n,A,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=A,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const A=new Map;return A.set(e,D_.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new dx(Xr.min(),A,new Ii(hn),Qp(),Ln())}}class D_{constructor(e,t,n,A,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=A,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new D_(n,t,Ln(),Ln(),Ln())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e,t,n,A){this.Se=e,this.removedTargetIds=t,this.key=n,this.be=A}}class dV{constructor(e,t){this.targetId=e,this.De=t}}class pV{constructor(e,t,n=Zo.EMPTY_BYTE_STRING,A=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=A}}class QD{constructor(){this.ve=0,this.Ce=LD(),this.Fe=Zo.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Ln(),t=Ln(),n=Ln();return this.Ce.forEach((A,i)=>{switch(i){case 0:e=e.add(A);break;case 2:t=t.add(A);break;case 1:n=n.add(A);break;default:Vr(38017,{changeType:i})}}),new D_(this.Fe,this.Me,e,t,n)}ke(){this.xe=!1,this.Ce=LD()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,fA(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class hte{constructor(e){this.We=e,this.Ge=new Map,this.ze=Qp(),this.je=N2(),this.Je=N2(),this.He=new Ii(hn)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const n=this.tt(t);switch(e.state){case 0:this.nt(t)&&n.Be(e.resumeToken);break;case 1:n.Ue(),n.Oe||n.ke(),n.Be(e.resumeToken);break;case 2:n.Ue(),n.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(n.Ke(),n.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),n.Be(e.resumeToken));break;default:Vr(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((n,A)=>{this.nt(A)&&t(A)})}it(e){const t=e.targetId,n=e.De.count,A=this.st(t);if(A){const i=A.target;if(i5(i))if(n===0){const s=new Tr(i.path);this.Xe(t,s,Pa.newNoDocument(s,Xr.min()))}else fA(n===1,20013,{expectedCount:n});else{const s=this.ot(t);if(s!==n){const o=this._t(e),a=o?this.ut(o,e,s):1;if(a!==0){this.rt(t);const u=a===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,u)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:A=0},hashCount:i=0}=t;let s,o;try{s=Tm(n).toUint8Array()}catch(a){if(a instanceof M7)return Im("Decoding the base64 bloom filter in existence filter failed ("+a.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw a}try{o=new wP(s,A,i)}catch(a){return Im(a instanceof xC?"BloomFilter error: ":"Applying bloom filter failed: ",a),null}return o.fe===0?null:o}ut(e,t,n){return t.De.count===n-this.ht(e,t.targetId)?0:2}ht(e,t){const n=this.We.getRemoteKeysForTarget(t);let A=0;return n.forEach(i=>{const s=this.We.lt(),o=`projects/${s.projectId}/databases/${s.database}/documents/${i.path.canonicalString()}`;e.mightContain(o)||(this.Xe(t,i,null),A++)}),A}Pt(e){const t=new Map;this.Ge.forEach((i,s)=>{const o=this.st(s);if(o){if(i.current&&i5(o.target)){const a=new Tr(o.target.path);this.Tt(a).has(s)||this.It(s,a)||this.Xe(s,a,Pa.newNoDocument(a,e))}i.Ne&&(t.set(s,i.Le()),i.ke())}});let n=Ln();this.Je.forEach((i,s)=>{let o=!0;s.forEachWhile(a=>{const u=this.st(a);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(i))}),this.ze.forEach((i,s)=>s.setReadTime(e));const A=new dx(e,t,this.He,this.ze,n);return this.ze=Qp(),this.je=N2(),this.Je=N2(),this.He=new Ii(hn),A}Ze(e,t){if(!this.nt(e))return;const n=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,n),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,n){if(!this.nt(e))return;const A=this.tt(e);this.It(e,t)?A.qe(t,1):A.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),n&&(this.ze=this.ze.insert(t,n))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new QD,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new to(hn),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new to(hn),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||hr("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new QD),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function N2(){return new Ii(Tr.comparator)}function LD(){return new Ii(Tr.comparator)}const fte={asc:"ASCENDING",desc:"DESCENDING"},dte={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pte={and:"AND",or:"OR"};class gte{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function a5(r,e){return r.useProto3Json||ox(e)?e:{value:e}}function GF(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gV(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function mte(r,e){return GF(r,e.toTimestamp())}function Xf(r){return fA(!!r,49232),Xr.fromTimestamp(function(t){const n=Um(t);return new si(n.seconds,n.nanos)}(r))}function BP(r,e){return l5(r,e).canonicalString()}function l5(r,e){const t=function(A){return new $A(["projects",A.projectId,"databases",A.database])}(r).child("documents");return e===void 0?t:t.child(e)}function mV(r){const e=$A.fromString(r);return fA(CV(e),10190,{key:e.toString()}),e}function u5(r,e){return BP(r.databaseId,e.path)}function qU(r,e){const t=mV(e);if(t.get(1)!==r.databaseId.projectId)throw new ar(Qt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new ar(Qt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Tr(yV(t))}function vV(r,e){return BP(r.databaseId,e)}function vte(r){const e=mV(r);return e.length===4?$A.emptyPath():yV(e)}function c5(r){return new $A(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function yV(r){return fA(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function ND(r,e,t){return{name:u5(r,e),fields:t.value.mapValue.fields}}function yte(r,e){let t;if("targetChange"in e){e.targetChange;const n=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Vr(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),A=e.targetChange.targetIds||[],i=function(u,l){return u.useProto3Json?(fA(l===void 0||typeof l=="string",58123),Zo.fromBase64String(l||"")):(fA(l===void 0||l instanceof bg.Buffer||l instanceof Uint8Array,16193),Zo.fromUint8Array(l||new Uint8Array))}(r,e.targetChange.resumeToken),s=e.targetChange.cause,o=s&&function(u){const l=u.code===void 0?Qt.UNKNOWN:fV(u.code);return new ar(l,u.message||"")}(s);t=new pV(n,A,i,o||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const A=qU(r,n.document.name),i=Xf(n.document.updateTime),s=n.document.createTime?Xf(n.document.createTime):Xr.min(),o=new $l({mapValue:{fields:n.document.fields}}),a=Pa.newFoundDocument(A,i,s,o),u=n.targetIds||[],l=n.removedTargetIds||[];t=new DS(u,l,a.key,a)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const A=qU(r,n.document),i=n.readTime?Xf(n.readTime):Xr.min(),s=Pa.newNoDocument(A,i),o=n.removedTargetIds||[];t=new DS([],o,s.key,s)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const A=qU(r,n.document),i=n.removedTargetIds||[];t=new DS([],i,A,null)}else{if(!("filter"in e))return Vr(11601,{At:e});{e.filter;const n=e.filter;n.targetId;const{count:A=0,unchangedNames:i}=n,s=new lte(A,i),o=n.targetId;t=new dV(o,s)}}return t}function wte(r,e){let t;if(e instanceof k_)t={update:ND(r,e.key,e.value)};else if(e instanceof vP)t={delete:u5(r,e.key)};else if(e instanceof Gm)t={update:ND(r,e.key,e.data),updateMask:xte(e.fieldMask)};else{if(!(e instanceof ste))return Vr(16599,{Rt:e.type});t={verify:u5(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(n=>function(i,s){const o=s.transform;if(o instanceof Lb)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Nb)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Rb)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof KF)return{fieldPath:s.field.canonicalString(),increment:o.Ee};throw Vr(20930,{transform:s.transform})}(0,n))),e.precondition.isNone||(t.currentDocument=function(A,i){return i.updateTime!==void 0?{updateTime:mte(A,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Vr(27497)}(r,e.precondition)),t}function Bte(r,e){return r&&r.length>0?(fA(e!==void 0,14353),r.map(t=>function(A,i){let s=A.updateTime?Xf(A.updateTime):Xf(i);return s.isEqual(Xr.min())&&(s=Xf(i)),new nte(s,A.transformResults||[])}(t,e))):[]}function Cte(r,e){return{documents:[vV(r,e.path)]}}function bte(r,e){const t={structuredQuery:{}},n=e.path;let A;e.collectionGroup!==null?(A=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(A=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=vV(r,A);const i=function(u){if(u.length!==0)return BV(Dh.create(u,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const s=function(u){if(u.length!==0)return u.map(l=>function(h){return{field:s0(h.field),direction:Ste(h.dir)}}(l))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=a5(r,e.limit);return o!==null&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{Vt:t,parent:A}}function Ete(r){let e=vte(r.parent);const t=r.structuredQuery,n=t.from?t.from.length:0;let A=null;if(n>0){fA(n===1,65062);const l=t.from[0];l.allDescendants?A=l.collectionId:e=e.child(l.collectionId)}let i=[];t.where&&(i=function(c){const h=wV(c);return h instanceof Dh&&X7(h)?h.getFilters():[h]}(t.where));let s=[];t.orderBy&&(s=function(c){return c.map(h=>function(m){return new Qb(o0(m.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(t.orderBy));let o=null;t.limit&&(o=function(c){let h;return h=typeof c=="object"?c.value:c,ox(h)?null:h}(t.limit));let a=null;t.startAt&&(a=function(c){const h=!!c.before,d=c.values||[];return new VF(d,h)}(t.startAt));let u=null;return t.endAt&&(u=function(c){const h=!c.before,d=c.values||[];return new VF(d,h)}(t.endAt)),Vee(e,A,s,i,o,"F",a,u)}function _te(r,e){const t=function(A){switch(A){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Vr(28987,{purpose:A})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function wV(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=o0(t.unaryFilter.field);return Fs.create(n,"==",{doubleValue:NaN});case"IS_NULL":const A=o0(t.unaryFilter.field);return Fs.create(A,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=o0(t.unaryFilter.field);return Fs.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=o0(t.unaryFilter.field);return Fs.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Vr(61313);default:return Vr(60726)}}(r):r.fieldFilter!==void 0?function(t){return Fs.create(o0(t.fieldFilter.field),function(A){switch(A){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Vr(58110);default:return Vr(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return Dh.create(t.compositeFilter.filters.map(n=>wV(n)),function(A){switch(A){case"AND":return"and";case"OR":return"or";default:return Vr(1026)}}(t.compositeFilter.op))}(r):Vr(30097,{filter:r})}function Ste(r){return fte[r]}function Fte(r){return dte[r]}function Ite(r){return pte[r]}function s0(r){return{fieldPath:r.canonicalString()}}function o0(r){return Xo.fromServerFormat(r.fieldPath)}function BV(r){return r instanceof Fs?function(t){if(t.op==="=="){if(BD(t.value))return{unaryFilter:{field:s0(t.field),op:"IS_NAN"}};if(wD(t.value))return{unaryFilter:{field:s0(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(BD(t.value))return{unaryFilter:{field:s0(t.field),op:"IS_NOT_NAN"}};if(wD(t.value))return{unaryFilter:{field:s0(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:s0(t.field),op:Fte(t.op),value:t.value}}}(r):r instanceof Dh?function(t){const n=t.getFilters().map(A=>BV(A));return n.length===1?n[0]:{compositeFilter:{op:Ite(t.op),filters:n}}}(r):Vr(54877,{filter:r})}function xte(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function CV(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,t,n,A,i=Xr.min(),s=Xr.min(),o=Zo.EMPTY_BYTE_STRING,a=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=A,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new um(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new um(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new um(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new um(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ute{constructor(e){this.gt=e}}function Tte(r){const e=Ete({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?o5(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qte{constructor(){this.Dn=new Lte}addToCollectionParentIndex(e,t){return this.Dn.add(t),Nt.resolve()}getCollectionParents(e,t){return Nt.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return Nt.resolve()}deleteFieldIndex(e,t){return Nt.resolve()}deleteAllFieldIndexes(e){return Nt.resolve()}createTargetIndexes(e,t){return Nt.resolve()}getDocumentsMatchingTarget(e,t){return Nt.resolve(null)}getIndexType(e,t){return Nt.resolve(0)}getFieldIndexes(e,t){return Nt.resolve([])}getNextCollectionGroupToUpdate(e){return Nt.resolve(null)}getMinOffset(e,t){return Nt.resolve(xm.min())}getMinOffsetFromCollectionGroup(e,t){return Nt.resolve(xm.min())}updateCollectionGroup(e,t,n){return Nt.resolve()}updateIndexEntries(e,t){return Nt.resolve()}}class Lte{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),A=this.index[t]||new to($A.comparator),i=!A.has(n);return this.index[t]=A.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),A=this.index[t];return A&&A.has(n)}getEntries(e){return(this.index[e]||new to($A.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bV=41943040;class ql{static withCacheSize(e){return new ql(e,ql.DEFAULT_COLLECTION_PERCENTILE,ql.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ql.DEFAULT_COLLECTION_PERCENTILE=10,ql.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ql.DEFAULT=new ql(bV,ql.DEFAULT_COLLECTION_PERCENTILE,ql.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ql.DISABLED=new ql(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WB{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new WB(0)}static ur(){return new WB(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD="LruGarbageCollector",Nte=1048576;function OD([r,e],[t,n]){const A=hn(r,t);return A===0?hn(e,n):A}class Rte{constructor(e){this.Tr=e,this.buffer=new to(OD),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();OD(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Pte{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){hr(PD,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){c1(t)?hr(PD,"Ignoring IndexedDB error during garbage collection: ",t):await u1(t)}await this.Rr(3e5)})}}class Ote{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(n=>Math.floor(t/100*n))}nthSequenceNumber(e,t){if(t===0)return Nt.resolve(sx.ue);const n=new Rte(t);return this.Vr.forEachTarget(e,A=>n.Er(A.sequenceNumber)).next(()=>this.Vr.gr(e,A=>n.Er(A))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.Vr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(hr("LruGarbageCollector","Garbage collection skipped; disabled"),Nt.resolve(RD)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(hr("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),RD):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let n,A,i,s,o,a,u;const l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(c=>(c>this.params.maximumSequenceNumbersToCollect?(hr("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${c}`),A=this.params.maximumSequenceNumbersToCollect):A=c,s=Date.now(),this.nthSequenceNumber(e,A))).next(c=>(n=c,o=Date.now(),this.removeTargets(e,n,t))).next(c=>(i=c,a=Date.now(),this.removeOrphanedDocuments(e,n))).next(c=>(u=Date.now(),A0()<=Tn.DEBUG&&hr("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-l}ms
	Determined least recently used ${A} in `+(o-s)+`ms
	Removed ${i} targets in `+(a-o)+`ms
	Removed ${c} documents in `+(u-a)+`ms
Total Duration: ${u-l}ms`),Nt.resolve({didRun:!0,sequenceNumbersCollected:A,targetsRemoved:i,documentsRemoved:c})))}}function kte(r,e){return new Ote(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dte{constructor(){this.changes=new fw(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Pa.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?Nt.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mte{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hte{constructor(e,t,n,A){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=A}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(A=>(n=A,this.remoteDocumentCache.getEntry(e,t))).next(A=>(n!==null&&hb(n.mutation,A,Ku.empty(),si.now()),A))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.getLocalViewOfDocuments(e,n,Ln()).next(()=>n))}getLocalViewOfDocuments(e,t,n=Ln()){const A=Iv();return this.populateOverlays(e,A,t).next(()=>this.computeViews(e,t,A,n).next(i=>{let s=IC();return i.forEach((o,a)=>{s=s.insert(o,a.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){const n=Iv();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,Ln()))}populateOverlays(e,t,n){const A=[];return n.forEach(i=>{t.has(i)||A.push(i)}),this.documentOverlayCache.getOverlays(e,A).next(i=>{i.forEach((s,o)=>{t.set(s,o)})})}computeViews(e,t,n,A){let i=Qp();const s=cb(),o=function(){return cb()}();return t.forEach((a,u)=>{const l=n.get(u.key);A.has(u.key)&&(l===void 0||l.mutation instanceof Gm)?i=i.insert(u.key,u):l!==void 0?(s.set(u.key,l.mutation.getFieldMask()),hb(l.mutation,u,l.mutation.getFieldMask(),si.now())):s.set(u.key,Ku.empty())}),this.recalculateAndSaveOverlays(e,i).next(a=>(a.forEach((u,l)=>s.set(u,l)),t.forEach((u,l)=>{var c;return o.set(u,new Mte(l,(c=s.get(u))!==null&&c!==void 0?c:null))}),o))}recalculateAndSaveOverlays(e,t){const n=cb();let A=new Ii((s,o)=>s-o),i=Ln();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(const o of s)o.keys().forEach(a=>{const u=t.get(a);if(u===null)return;let l=n.get(a)||Ku.empty();l=o.applyToLocalView(u,l),n.set(a,l);const c=(A.get(o.batchId)||Ln()).add(a);A=A.insert(o.batchId,c)})}).next(()=>{const s=[],o=A.getReverseIterator();for(;o.hasNext();){const a=o.getNext(),u=a.key,l=a.value,c=iV();l.forEach(h=>{if(!i.has(h)){const d=cV(t.get(h),n.get(h));d!==null&&c.set(h,d),i=i.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,c))}return Nt.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,t,n,A){return function(s){return Tr.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):eV(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,A):this.getDocumentsMatchingCollectionQuery(e,t,n,A)}getNextDocuments(e,t,n,A){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,A).next(i=>{const s=A-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,A-i.size):Nt.resolve(Iv());let o=Ib,a=i;return s.next(u=>Nt.forEach(u,(l,c)=>(o<c.largestBatchId&&(o=c.largestBatchId),i.get(l)?Nt.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{a=a.insert(l,h)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,a,u,Ln())).next(l=>({batchId:o,changes:AV(l)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Tr(t)).next(n=>{let A=IC();return n.isFoundDocument()&&(A=A.insert(n.key,n)),A})}getDocumentsMatchingCollectionGroupQuery(e,t,n,A){const i=t.collectionGroup;let s=IC();return this.indexManager.getCollectionParents(e,i).next(o=>Nt.forEach(o,a=>{const u=function(c,h){return new h1(h,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,n,A).next(l=>{l.forEach((c,h)=>{s=s.insert(c,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,n,A){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,A))).next(s=>{i.forEach((a,u)=>{const l=u.getKey();s.get(l)===null&&(s=s.insert(l,Pa.newInvalidDocument(l)))});let o=IC();return s.forEach((a,u)=>{const l=i.get(a);l!==void 0&&hb(l.mutation,u,Ku.empty(),si.now()),cx(t,u)&&(o=o.insert(a,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jte{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return Nt.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(A){return{id:A.id,version:A.version,createTime:Xf(A.createTime)}}(t)),Nt.resolve()}getNamedQuery(e,t){return Nt.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(A){return{name:A.name,query:Tte(A.bundledQuery),readTime:Xf(A.readTime)}}(t)),Nt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vte{constructor(){this.overlays=new Ii(Tr.comparator),this.kr=new Map}getOverlay(e,t){return Nt.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Iv();return Nt.forEach(t,A=>this.getOverlay(e,A).next(i=>{i!==null&&n.set(A,i)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((A,i)=>{this.wt(e,t,i)}),Nt.resolve()}removeOverlaysForBatchId(e,t,n){const A=this.kr.get(n);return A!==void 0&&(A.forEach(i=>this.overlays=this.overlays.remove(i)),this.kr.delete(n)),Nt.resolve()}getOverlaysForCollection(e,t,n){const A=Iv(),i=t.length+1,s=new Tr(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const a=o.getNext().value,u=a.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&a.largestBatchId>n&&A.set(a.getKey(),a)}return Nt.resolve(A)}getOverlaysForCollectionGroup(e,t,n,A){let i=new Ii((u,l)=>u-l);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>n){let l=i.get(u.largestBatchId);l===null&&(l=Iv(),i=i.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}const o=Iv(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((u,l)=>o.set(u,l)),!(o.size()>=A)););return Nt.resolve(o)}wt(e,t,n){const A=this.overlays.get(n.key);if(A!==null){const s=this.kr.get(A.largestBatchId).delete(n.key);this.kr.set(A.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new ate(t,n));let i=this.kr.get(t);i===void 0&&(i=Ln(),this.kr.set(t,i)),this.kr.set(t,i.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kte{constructor(){this.sessionToken=Zo.EMPTY_BYTE_STRING}getSessionToken(e){return Nt.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Nt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(){this.qr=new to(Eo.Qr),this.$r=new to(Eo.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const n=new Eo(e,t);this.qr=this.qr.add(n),this.$r=this.$r.add(n)}Kr(e,t){e.forEach(n=>this.addReference(n,t))}removeReference(e,t){this.Wr(new Eo(e,t))}Gr(e,t){e.forEach(n=>this.removeReference(n,t))}zr(e){const t=new Tr(new $A([])),n=new Eo(t,e),A=new Eo(t,e+1),i=[];return this.$r.forEachInRange([n,A],s=>{this.Wr(s),i.push(s.key)}),i}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new Tr(new $A([])),n=new Eo(t,e),A=new Eo(t,e+1);let i=Ln();return this.$r.forEachInRange([n,A],s=>{i=i.add(s.key)}),i}containsKey(e){const t=new Eo(e,0),n=this.qr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class Eo{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return Tr.comparator(e.key,t.key)||hn(e.Hr,t.Hr)}static Ur(e,t){return hn(e.Hr,t.Hr)||Tr.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gte{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new to(Eo.Qr)}checkEmpty(e){return Nt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,A){const i=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new ote(i,t,n,A);this.mutationQueue.push(s);for(const o of A)this.Yr=this.Yr.add(new Eo(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Nt.resolve(s)}lookupMutationBatch(e,t){return Nt.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,A=this.Xr(n),i=A<0?0:A;return Nt.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Nt.resolve(this.mutationQueue.length===0?hP:this.er-1)}getAllMutationBatches(e){return Nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Eo(t,0),A=new Eo(t,Number.POSITIVE_INFINITY),i=[];return this.Yr.forEachInRange([n,A],s=>{const o=this.Zr(s.Hr);i.push(o)}),Nt.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new to(hn);return t.forEach(A=>{const i=new Eo(A,0),s=new Eo(A,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([i,s],o=>{n=n.add(o.Hr)})}),Nt.resolve(this.ei(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,A=n.length+1;let i=n;Tr.isDocumentKey(i)||(i=i.child(""));const s=new Eo(new Tr(i),0);let o=new to(hn);return this.Yr.forEachWhile(a=>{const u=a.key.path;return!!n.isPrefixOf(u)&&(u.length===A&&(o=o.add(a.Hr)),!0)},s),Nt.resolve(this.ei(o))}ei(e){const t=[];return e.forEach(n=>{const A=this.Zr(n);A!==null&&t.push(A)}),t}removeMutationBatch(e,t){fA(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Yr;return Nt.forEach(t.mutations,A=>{const i=new Eo(A.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,A.key)}).next(()=>{this.Yr=n})}rr(e){}containsKey(e,t){const n=new Eo(t,0),A=this.Yr.firstAfterOrEqual(n);return Nt.resolve(t.isEqual(A&&A.key))}performConsistencyCheck(e){return this.mutationQueue.length,Nt.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zte{constructor(e){this.ni=e,this.docs=function(){return new Ii(Tr.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,A=this.docs.get(n),i=A?A.size:0,s=this.ni(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Nt.resolve(n?n.document.mutableCopy():Pa.newInvalidDocument(t))}getEntries(e,t){let n=Qp();return t.forEach(A=>{const i=this.docs.get(A);n=n.insert(A,i?i.document.mutableCopy():Pa.newInvalidDocument(A))}),Nt.resolve(n)}getDocumentsMatchingQuery(e,t,n,A){let i=Qp();const s=t.path,o=new Tr(s.child("__id-9223372036854775808__")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:u,value:{document:l}}=a.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||Bee(wee(l),n)<=0||(A.has(l.key)||cx(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return Nt.resolve(i)}getAllFromCollectionGroup(e,t,n,A){Vr(9500)}ri(e,t){return Nt.forEach(this.docs,n=>t(n))}newChangeBuffer(e){return new qte(this)}getSize(e){return Nt.resolve(this.size)}}class qte extends Dte{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((n,A)=>{A.isValidDocument()?t.push(this.Or.addEntry(e,A)):this.Or.removeEntry(n)}),Nt.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wte{constructor(e){this.persistence=e,this.ii=new fw(t=>pP(t),gP),this.lastRemoteSnapshotVersion=Xr.min(),this.highestTargetId=0,this.si=0,this.oi=new CP,this.targetCount=0,this._i=WB.ar()}forEachTarget(e,t){return this.ii.forEach((n,A)=>t(A)),Nt.resolve()}getLastRemoteSnapshotVersion(e){return Nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Nt.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),Nt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.si&&(this.si=t),Nt.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new WB(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,Nt.resolve()}updateTargetData(e,t){return this.hr(t),Nt.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,Nt.resolve()}removeTargets(e,t,n){let A=0;const i=[];return this.ii.forEach((s,o)=>{o.sequenceNumber<=t&&n.get(o.targetId)===null&&(this.ii.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),A++)}),Nt.waitFor(i).next(()=>A)}getTargetCount(e){return Nt.resolve(this.targetCount)}getTargetData(e,t){const n=this.ii.get(t)||null;return Nt.resolve(n)}addMatchingKeys(e,t,n){return this.oi.Kr(t,n),Nt.resolve()}removeMatchingKeys(e,t,n){this.oi.Gr(t,n);const A=this.persistence.referenceDelegate,i=[];return A&&t.forEach(s=>{i.push(A.markPotentiallyOrphaned(e,s))}),Nt.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),Nt.resolve()}getMatchingKeysForTargetId(e,t){const n=this.oi.Jr(t);return Nt.resolve(n)}containsKey(e,t){return Nt.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(e,t){this.ai={},this.overlays={},this.ui=new sx(0),this.ci=!1,this.ci=!0,this.li=new Kte,this.referenceDelegate=e(this),this.hi=new Wte(this),this.indexManager=new Qte,this.remoteDocumentCache=function(A){return new zte(A)}(n=>this.referenceDelegate.Pi(n)),this.serializer=new Ute(t),this.Ti=new jte(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Vte,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ai[e.toKey()];return n||(n=new Gte(t,this.referenceDelegate),this.ai[e.toKey()]=n),n}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,n){hr("MemoryPersistence","Starting transaction:",e);const A=new $te(this.ui.next());return this.referenceDelegate.Ii(),n(A).next(i=>this.referenceDelegate.di(A).next(()=>i)).toPromise().then(i=>(A.raiseOnCommittedEvent(),i))}Ei(e,t){return Nt.or(Object.values(this.ai).map(n=>()=>n.containsKey(e,t)))}}class $te extends bee{constructor(e){super(),this.currentSequenceNumber=e}}class bP{constructor(e){this.persistence=e,this.Ai=new CP,this.Ri=null}static Vi(e){return new bP(e)}get mi(){if(this.Ri)return this.Ri;throw Vr(60996)}addReference(e,t,n){return this.Ai.addReference(n,t),this.mi.delete(n.toString()),Nt.resolve()}removeReference(e,t,n){return this.Ai.removeReference(n,t),this.mi.add(n.toString()),Nt.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),Nt.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(A=>this.mi.add(A.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(A=>{A.forEach(i=>this.mi.add(i.toString()))}).next(()=>n.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Nt.forEach(this.mi,n=>{const A=Tr.fromPath(n);return this.fi(e,A).next(i=>{i||t.removeEntry(A,Xr.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(n=>{n?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return Nt.or([()=>Nt.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class zF{constructor(e,t){this.persistence=e,this.gi=new fw(n=>See(n.path),(n,A)=>n.isEqual(A)),this.garbageCollector=kte(this,t)}static Vi(e,t){return new zF(e,t)}Ii(){}di(e){return Nt.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>t.next(A=>n+A))}yr(e){let t=0;return this.gr(e,n=>{t++}).next(()=>t)}gr(e,t){return Nt.forEach(this.gi,(n,A)=>this.Sr(e,n,A).next(i=>i?Nt.resolve():t(A)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const A=this.persistence.getRemoteDocumentCache(),i=A.newChangeBuffer();return A.ri(e,s=>this.Sr(e,s,t).next(o=>{o||(n++,i.removeEntry(s,Xr.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),Nt.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.gi.set(n,e.currentSequenceNumber),Nt.resolve()}removeReference(e,t,n){return this.gi.set(n,e.currentSequenceNumber),Nt.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),Nt.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=PS(e.data.value)),t}Sr(e,t,n){return Nt.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const A=this.gi.get(t);return Nt.resolve(A!==void 0&&A>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(e,t,n,A){this.targetId=e,this.fromCache=t,this.Is=n,this.ds=A}static Es(e,t){let n=Ln(),A=Ln();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:A=A.add(i.doc.key)}return new EP(e,t.fromCache,n,A)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xte{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yte{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return jX()?8:Eee(Ma())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,n,A){const i={result:null};return this.ps(e,t).next(s=>{i.result=s}).next(()=>{if(!i.result)return this.ys(e,t,A,n).next(s=>{i.result=s})}).next(()=>{if(i.result)return;const s=new Xte;return this.ws(e,t,s).next(o=>{if(i.result=o,this.Rs)return this.Ss(e,t,s,o.size)})}).next(()=>i.result)}Ss(e,t,n,A){return n.documentReadCount<this.Vs?(A0()<=Tn.DEBUG&&hr("QueryEngine","SDK will not create cache indexes for query:",i0(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Nt.resolve()):(A0()<=Tn.DEBUG&&hr("QueryEngine","Query:",i0(t),"scans",n.documentReadCount,"local documents and returns",A,"documents as results."),n.documentReadCount>this.fs*A?(A0()<=Tn.DEBUG&&hr("QueryEngine","The SDK decides to create cache indexes for query:",i0(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$f(t))):Nt.resolve())}ps(e,t){if(_D(t))return Nt.resolve(null);let n=$f(t);return this.indexManager.getIndexType(e,n).next(A=>A===0?null:(t.limit!==null&&A===1&&(t=o5(t,null,"F"),n=$f(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(i=>{const s=Ln(...i);return this.gs.getDocuments(e,s).next(o=>this.indexManager.getMinOffset(e,n).next(a=>{const u=this.bs(t,o);return this.Ds(t,u,s,a.readTime)?this.ps(e,o5(t,null,"F")):this.vs(e,u,t,a)}))})))}ys(e,t,n,A){return _D(t)||A.isEqual(Xr.min())?Nt.resolve(null):this.gs.getDocuments(e,n).next(i=>{const s=this.bs(t,i);return this.Ds(t,s,n,A)?Nt.resolve(null):(A0()<=Tn.DEBUG&&hr("QueryEngine","Re-using previous result from %s to execute query: %s",A.toString(),i0(t)),this.vs(e,s,t,yee(A,Ib)).next(o=>o))})}bs(e,t){let n=new to(rV(e));return t.forEach((A,i)=>{cx(e,i)&&(n=n.add(i))}),n}Ds(e,t,n,A){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const i=e.limitType==="F"?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(A)>0)}ws(e,t,n){return A0()<=Tn.DEBUG&&hr("QueryEngine","Using full collection scan to execute query:",i0(t)),this.gs.getDocumentsMatchingQuery(e,t,xm.min(),n)}vs(e,t,n,A){return this.gs.getDocumentsMatchingQuery(e,n,A).next(i=>(t.forEach(s=>{i=i.insert(s.key,s)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P="LocalStore",Jte=3e8;class Zte{constructor(e,t,n,A){this.persistence=e,this.Cs=t,this.serializer=A,this.Fs=new Ii(hn),this.Ms=new fw(i=>pP(i),gP),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(n)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Hte(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function ere(r,e,t,n){return new Zte(r,e,t,n)}async function _V(r,e){const t=en(r);return await t.persistence.runTransaction("Handle user change","readonly",n=>{let A;return t.mutationQueue.getAllMutationBatches(n).next(i=>(A=i,t.Ns(e),t.mutationQueue.getAllMutationBatches(n))).next(i=>{const s=[],o=[];let a=Ln();for(const u of A){s.push(u.batchId);for(const l of u.mutations)a=a.add(l.key)}for(const u of i){o.push(u.batchId);for(const l of u.mutations)a=a.add(l.key)}return t.localDocuments.getDocuments(n,a).next(u=>({Bs:u,removedBatchIds:s,addedBatchIds:o}))})})}function tre(r,e){const t=en(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const A=e.batch.keys(),i=t.Os.newChangeBuffer({trackRemovals:!0});return function(o,a,u,l){const c=u.batch,h=c.keys();let d=Nt.resolve();return h.forEach(m=>{d=d.next(()=>l.getEntry(a,m)).next(g=>{const y=u.docVersions.get(m);fA(y!==null,48541),g.version.compareTo(y)<0&&(c.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),l.addEntry(g)))})}),d.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(t,n,e,i).next(()=>i.apply(n)).next(()=>t.mutationQueue.performConsistencyCheck(n)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(n,A,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let a=Ln();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>t.localDocuments.getDocuments(n,A))})}function SV(r){const e=en(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function rre(r,e){const t=en(r),n=e.snapshotVersion;let A=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const s=t.Os.newChangeBuffer({trackRemovals:!0});A=t.Fs;const o=[];e.targetChanges.forEach((l,c)=>{const h=A.get(c);if(!h)return;o.push(t.hi.removeMatchingKeys(i,l.removedDocuments,c).next(()=>t.hi.addMatchingKeys(i,l.addedDocuments,c)));let d=h.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(c)!==null?d=d.withResumeToken(Zo.EMPTY_BYTE_STRING,Xr.min()).withLastLimboFreeSnapshotVersion(Xr.min()):l.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(l.resumeToken,n)),A=A.insert(c,d),function(g,y,v){return g.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=Jte?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(h,d,l)&&o.push(t.hi.updateTargetData(i,d))});let a=Qp(),u=Ln();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&o.push(t.persistence.referenceDelegate.updateLimboDocument(i,l))}),o.push(nre(i,s,e.documentUpdates).next(l=>{a=l.Ls,u=l.ks})),!n.isEqual(Xr.min())){const l=t.hi.getLastRemoteSnapshotVersion(i).next(c=>t.hi.setTargetsMetadata(i,i.currentSequenceNumber,n));o.push(l)}return Nt.waitFor(o).next(()=>s.apply(i)).next(()=>t.localDocuments.getLocalViewOfDocuments(i,a,u)).next(()=>a)}).then(i=>(t.Fs=A,i))}function nre(r,e,t){let n=Ln(),A=Ln();return t.forEach(i=>n=n.add(i)),e.getEntries(r,n).next(i=>{let s=Qp();return t.forEach((o,a)=>{const u=i.get(o);a.isFoundDocument()!==u.isFoundDocument()&&(A=A.add(o)),a.isNoDocument()&&a.version.isEqual(Xr.min())?(e.removeEntry(o,a.readTime),s=s.insert(o,a)):!u.isValidDocument()||a.version.compareTo(u.version)>0||a.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(a),s=s.insert(o,a)):hr(_P,"Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",a.version)}),{Ls:s,ks:A}})}function Are(r,e){const t=en(r);return t.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=hP),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function ire(r,e){const t=en(r);return t.persistence.runTransaction("Allocate target","readwrite",n=>{let A;return t.hi.getTargetData(n,e).next(i=>i?(A=i,Nt.resolve(A)):t.hi.allocateTargetId(n).next(s=>(A=new um(e,s,"TargetPurposeListen",n.currentSequenceNumber),t.hi.addTargetData(n,A).next(()=>A))))}).then(n=>{const A=t.Fs.get(n.targetId);return(A===null||n.snapshotVersion.compareTo(A.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(n.targetId,n),t.Ms.set(e,n.targetId)),n})}async function h5(r,e,t){const n=en(r),A=n.Fs.get(e),i=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",i,s=>n.persistence.referenceDelegate.removeTarget(s,A))}catch(s){if(!c1(s))throw s;hr(_P,`Failed to update sequence numbers for target ${e}: ${s}`)}n.Fs=n.Fs.remove(e),n.Ms.delete(A.target)}function kD(r,e,t){const n=en(r);let A=Xr.min(),i=Ln();return n.persistence.runTransaction("Execute query","readwrite",s=>function(a,u,l){const c=en(a),h=c.Ms.get(l);return h!==void 0?Nt.resolve(c.Fs.get(h)):c.hi.getTargetData(u,l)}(n,s,$f(e)).next(o=>{if(o)return A=o.lastLimboFreeSnapshotVersion,n.hi.getMatchingKeysForTargetId(s,o.targetId).next(a=>{i=a})}).next(()=>n.Cs.getDocumentsMatchingQuery(s,e,t?A:Xr.min(),t?i:Ln())).next(o=>(sre(n,Gee(e),o),{documents:o,qs:i})))}function sre(r,e,t){let n=r.xs.get(e)||Xr.min();t.forEach((A,i)=>{i.readTime.compareTo(n)>0&&(n=i.readTime)}),r.xs.set(e,n)}class DD{constructor(){this.activeTargetIds=Yee()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ore{constructor(){this.Fo=new DD,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,n){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new DD,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class are{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD="ConnectivityMonitor";class HD{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){hr(MD,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){hr(MD,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let R2=null;function f5(){return R2===null?R2=function(){return 268435456+Math.round(2147483648*Math.random())}():R2++,"0x"+R2.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WU="RestConnection",lre={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ure{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),A=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${n}/databases/${A}`,this.Ko=this.databaseId.database===HF?`project_id=${n}`:`project_id=${n}&database_id=${A}`}Wo(e,t,n,A,i){const s=f5(),o=this.Go(e,t.toUriEncodedString());hr(WU,`Sending RPC '${e}' ${s}:`,o,n);const a={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(a,A,i);const{host:u}=new URL(o),l=Vm(u);return this.jo(e,o,a,n,l).then(c=>(hr(WU,`Received RPC '${e}' ${s}: `,c),c),c=>{throw Im(WU,`RPC '${e}' ${s} failed with error: `,c,"url: ",o,"request:",n),c})}Jo(e,t,n,A,i,s){return this.Wo(e,t,n,A,i)}zo(e,t,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+l1}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((A,i)=>e[i]=A),n&&n.headers.forEach((A,i)=>e[i]=A)}Go(e,t){const n=lre[e];return`${this.$o}/v1/${t}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cre{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba="WebChannelConnection";class hre extends ure{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,n,A,i){const s=f5();return new Promise((o,a)=>{const u=new I7;u.setWithCredentials(!0),u.listenOnce(x7.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case RS.NO_ERROR:const c=u.getResponseJson();hr(Ba,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case RS.TIMEOUT:hr(Ba,`RPC '${e}' ${s} timed out`),a(new ar(Qt.DEADLINE_EXCEEDED,"Request time out"));break;case RS.HTTP_ERROR:const h=u.getStatus();if(hr(Ba,`RPC '${e}' ${s} failed with status:`,h,"response text:",u.getResponseText()),h>0){let d=u.getResponseJson();Array.isArray(d)&&(d=d[0]);const m=d==null?void 0:d.error;if(m&&m.status&&m.message){const g=function(v){const w=v.toLowerCase().replace(/_/g,"-");return Object.values(Qt).indexOf(w)>=0?w:Qt.UNKNOWN}(m.status);a(new ar(g,m.message))}else a(new ar(Qt.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new ar(Qt.UNAVAILABLE,"Connection failed."));break;default:Vr(9055,{c_:e,streamId:s,l_:u.getLastErrorCode(),h_:u.getLastError()})}}finally{hr(Ba,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(A);hr(Ba,`RPC '${e}' ${s} sending request:`,A),u.send(t,"POST",l,n,15)})}P_(e,t,n){const A=f5(),i=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Q7(),o=T7(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(a.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(a.useFetchStreams=!0),this.zo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const l=i.join("");hr(Ba,`Creating RPC '${e}' stream ${A}: ${l}`,a);const c=s.createWebChannel(l,a);this.T_(c);let h=!1,d=!1;const m=new cre({Ho:y=>{d?hr(Ba,`Not sending because RPC '${e}' stream ${A} is closed:`,y):(h||(hr(Ba,`Opening RPC '${e}' stream ${A} transport.`),c.open(),h=!0),hr(Ba,`RPC '${e}' stream ${A} sending:`,y),c.send(y))},Yo:()=>c.close()}),g=(y,v,w)=>{y.listen(v,b=>{try{w(b)}catch(B){setTimeout(()=>{throw B},0)}})};return g(c,FC.EventType.OPEN,()=>{d||(hr(Ba,`RPC '${e}' stream ${A} transport opened.`),m.s_())}),g(c,FC.EventType.CLOSE,()=>{d||(d=!0,hr(Ba,`RPC '${e}' stream ${A} transport closed`),m.__(),this.I_(c))}),g(c,FC.EventType.ERROR,y=>{d||(d=!0,Im(Ba,`RPC '${e}' stream ${A} transport errored. Name:`,y.name,"Message:",y.message),m.__(new ar(Qt.UNAVAILABLE,"The operation could not be completed")))}),g(c,FC.EventType.MESSAGE,y=>{var v;if(!d){const w=y.data[0];fA(!!w,16349);const b=w,B=(b==null?void 0:b.error)||((v=b[0])===null||v===void 0?void 0:v.error);if(B){hr(Ba,`RPC '${e}' stream ${A} received error:`,B);const F=B.status;let N=function(k){const D=_s[k];if(D!==void 0)return fV(D)}(F),T=B.message;N===void 0&&(N=Qt.INTERNAL,T="Unknown error status: "+F+" with message "+B.message),d=!0,m.__(new ar(N,T)),c.close()}else hr(Ba,`RPC '${e}' stream ${A} received:`,w),m.a_(w)}}),g(o,U7.STAT_EVENT,y=>{y.stat===e5.PROXY?hr(Ba,`RPC '${e}' stream ${A} detected buffering proxy`):y.stat===e5.NOPROXY&&hr(Ba,`RPC '${e}' stream ${A} detected no buffering proxy`)}),setTimeout(()=>{m.o_()},0),m}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function $U(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function px(r){return new gte(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(e,t,n=1e3,A=1.5,i=6e4){this.Fi=e,this.timerId=t,this.d_=n,this.E_=A,this.A_=i,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),n=Math.max(0,Date.now()-this.m_),A=Math.max(0,t-n);A>0&&hr("ExponentialBackoff",`Backing off for ${A} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,A,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD="PersistentStream";class IV{constructor(e,t,n,A,i,s,o,a){this.Fi=e,this.w_=n,this.S_=A,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new FV(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===Qt.RESOURCE_EXHAUSTED?(Tp(t.toString()),Tp("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===Qt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,A])=>{this.b_===t&&this.W_(n,A)},n=>{e(()=>{const A=new ar(Qt.UNKNOWN,"Fetching auth token failed: "+n.message);return this.G_(A)})})}W_(e,t){const n=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{n(()=>this.listener.Zo())}),this.stream.e_(()=>{n(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(A=>{n(()=>this.G_(A))}),this.stream.onMessage(A=>{n(()=>++this.C_==1?this.j_(A):this.onNext(A))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return hr(jD,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(hr(jD,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fre extends IV{constructor(e,t,n,A,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,A,s),this.serializer=i}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=yte(this.serializer,e),n=function(i){if(!("targetChange"in i))return Xr.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?Xr.min():s.readTime?Xf(s.readTime):Xr.min()}(e);return this.listener.J_(t,n)}H_(e){const t={};t.database=c5(this.serializer),t.addTarget=function(i,s){let o;const a=s.target;if(o=i5(a)?{documents:Cte(i,a)}:{query:bte(i,a).Vt},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=gV(i,s.resumeToken);const u=a5(i,s.expectedCount);u!==null&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(Xr.min())>0){o.readTime=GF(i,s.snapshotVersion.toTimestamp());const u=a5(i,s.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,e);const n=_te(this.serializer,e);n&&(t.labels=n),this.k_(t)}Y_(e){const t={};t.database=c5(this.serializer),t.removeTarget=e,this.k_(t)}}class dre extends IV{constructor(e,t,n,A,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,A,s),this.serializer=i}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return fA(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,fA(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){fA(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=Bte(e.writeResults,e.commitTime),n=Xf(e.commitTime);return this.listener.ta(n,t)}na(){const e={};e.database=c5(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(n=>wte(this.serializer,n))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pre{}class gre extends pre{constructor(e,t,n,A){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=A,this.ra=!1}ia(){if(this.ra)throw new ar(Qt.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,n,A){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Wo(e,l5(t,n),A,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===Qt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ar(Qt.UNKNOWN,i.toString())})}Jo(e,t,n,A,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Jo(e,l5(t,n),A,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Qt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ar(Qt.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class mre{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Tp(t),this._a=!1):hr("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw="RemoteStore";class vre{constructor(e,t,n,A,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=i,this.Ea.xo(s=>{n.enqueueAndForget(async()=>{dw(this)&&(hr(nw,"Restarting streams for network reachability change."),await async function(a){const u=en(a);u.Ia.add(4),await M_(u),u.Aa.set("Unknown"),u.Ia.delete(4),await gx(u)}(this))})}),this.Aa=new mre(n,A)}}async function gx(r){if(dw(r))for(const e of r.da)await e(!0)}async function M_(r){for(const e of r.da)await e(!1)}function xV(r,e){const t=en(r);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),xP(t)?IP(t):f1(t).x_()&&FP(t,e))}function SP(r,e){const t=en(r),n=f1(t);t.Ta.delete(e),n.x_()&&UV(t,e),t.Ta.size===0&&(n.x_()?n.B_():dw(t)&&t.Aa.set("Unknown"))}function FP(r,e){if(r.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Xr.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}f1(r).H_(e)}function UV(r,e){r.Ra.$e(e),f1(r).Y_(e)}function IP(r){r.Ra=new hte({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>r.Ta.get(e)||null,lt:()=>r.datastore.serializer.databaseId}),f1(r).start(),r.Aa.aa()}function xP(r){return dw(r)&&!f1(r).M_()&&r.Ta.size>0}function dw(r){return en(r).Ia.size===0}function TV(r){r.Ra=void 0}async function yre(r){r.Aa.set("Online")}async function wre(r){r.Ta.forEach((e,t)=>{FP(r,e)})}async function Bre(r,e){TV(r),xP(r)?(r.Aa.la(e),IP(r)):r.Aa.set("Unknown")}async function Cre(r,e,t){if(r.Aa.set("Online"),e instanceof pV&&e.state===2&&e.cause)try{await async function(A,i){const s=i.cause;for(const o of i.targetIds)A.Ta.has(o)&&(await A.remoteSyncer.rejectListen(o,s),A.Ta.delete(o),A.Ra.removeTarget(o))}(r,e)}catch(n){hr(nw,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await qF(r,n)}else if(e instanceof DS?r.Ra.Ye(e):e instanceof dV?r.Ra.it(e):r.Ra.et(e),!t.isEqual(Xr.min()))try{const n=await SV(r.localStore);t.compareTo(n)>=0&&await function(i,s){const o=i.Ra.Pt(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const l=i.Ta.get(u);l&&i.Ta.set(u,l.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,u)=>{const l=i.Ta.get(a);if(!l)return;i.Ta.set(a,l.withResumeToken(Zo.EMPTY_BYTE_STRING,l.snapshotVersion)),UV(i,a);const c=new um(l.target,a,u,l.sequenceNumber);FP(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(r,t)}catch(n){hr(nw,"Failed to raise snapshot:",n),await qF(r,n)}}async function qF(r,e,t){if(!c1(e))throw e;r.Ia.add(1),await M_(r),r.Aa.set("Offline"),t||(t=()=>SV(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{hr(nw,"Retrying IndexedDB access"),await t(),r.Ia.delete(1),await gx(r)})}function QV(r,e){return e().catch(t=>qF(r,t,e))}async function mx(r){const e=en(r),t=Lm(e);let n=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:hP;for(;bre(e);)try{const A=await Are(e.localStore,n);if(A===null){e.Pa.length===0&&t.B_();break}n=A.batchId,Ere(e,A)}catch(A){await qF(e,A)}LV(e)&&NV(e)}function bre(r){return dw(r)&&r.Pa.length<10}function Ere(r,e){r.Pa.push(e);const t=Lm(r);t.x_()&&t.Z_&&t.X_(e.mutations)}function LV(r){return dw(r)&&!Lm(r).M_()&&r.Pa.length>0}function NV(r){Lm(r).start()}async function _re(r){Lm(r).na()}async function Sre(r){const e=Lm(r);for(const t of r.Pa)e.X_(t.mutations)}async function Fre(r,e,t){const n=r.Pa.shift(),A=yP.from(n,e,t);await QV(r,()=>r.remoteSyncer.applySuccessfulWrite(A)),await mx(r)}async function Ire(r,e){e&&Lm(r).Z_&&await async function(n,A){if(function(s){return ute(s)&&s!==Qt.ABORTED}(A.code)){const i=n.Pa.shift();Lm(n).N_(),await QV(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,A)),await mx(n)}}(r,e),LV(r)&&NV(r)}async function VD(r,e){const t=en(r);t.asyncQueue.verifyOperationInProgress(),hr(nw,"RemoteStore received new credentials");const n=dw(t);t.Ia.add(3),await M_(t),n&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await gx(t)}async function xre(r,e){const t=en(r);e?(t.Ia.delete(2),await gx(t)):e||(t.Ia.add(2),await M_(t),t.Aa.set("Unknown"))}function f1(r){return r.Va||(r.Va=function(t,n,A){const i=en(t);return i.ia(),new fre(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,A)}(r.datastore,r.asyncQueue,{Zo:yre.bind(null,r),e_:wre.bind(null,r),n_:Bre.bind(null,r),J_:Cre.bind(null,r)}),r.da.push(async e=>{e?(r.Va.N_(),xP(r)?IP(r):r.Aa.set("Unknown")):(await r.Va.stop(),TV(r))})),r.Va}function Lm(r){return r.ma||(r.ma=function(t,n,A){const i=en(t);return i.ia(),new dre(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,A)}(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:_re.bind(null,r),n_:Ire.bind(null,r),ea:Sre.bind(null,r),ta:Fre.bind(null,r)}),r.da.push(async e=>{e?(r.ma.N_(),await mx(r)):(await r.ma.stop(),r.Pa.length>0&&(hr(nw,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))})),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(e,t,n,A,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=A,this.removalCallback=i,this.deferred=new Ep,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,A,i){const s=Date.now()+n,o=new UP(e,t,s,A,i);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ar(Qt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function TP(r,e){if(Tp("AsyncQueue",`${e}: ${r}`),c1(r))return new ar(Qt.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{static emptySet(e){return new I0(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Tr.comparator(t.key,n.key):(t,n)=>Tr.comparator(t.key,n.key),this.keyedMap=IC(),this.sortedSet=new Ii(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof I0)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const A=t.getNext().key,i=n.getNext().key;if(!A.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new I0;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(){this.fa=new Ii(Tr.comparator)}track(e){const t=e.doc.key,n=this.fa.get(t);n?e.type!==0&&n.type===3?this.fa=this.fa.insert(t,e):e.type===3&&n.type!==1?this.fa=this.fa.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.fa=this.fa.remove(t):e.type===1&&n.type===2?this.fa=this.fa.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Vr(63341,{At:e,ga:n}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,n)=>{e.push(n)}),e}}class $B{constructor(e,t,n,A,i,s,o,a,u){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=A,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=u}static fromInitialDocuments(e,t,n,A,i){const s=[];return t.forEach(o=>{s.push({type:0,doc:o})}),new $B(e,t,I0.emptySet(t),s,n,A,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ux(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let A=0;A<t.length;A++)if(t[A].type!==n[A].type||!t[A].doc.isEqual(n[A].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ure{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class Tre{constructor(){this.queries=GD(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,n){const A=en(t),i=A.queries;A.queries=GD(),i.forEach((s,o)=>{for(const a of o.wa)a.onError(n)})})(this,new ar(Qt.ABORTED,"Firestore shutting down"))}}function GD(){return new fw(r=>tV(r),ux)}async function QP(r,e){const t=en(r);let n=3;const A=e.query;let i=t.queries.get(A);i?!i.Sa()&&e.ba()&&(n=2):(i=new Ure,n=e.ba()?0:1);try{switch(n){case 0:i.ya=await t.onListen(A,!0);break;case 1:i.ya=await t.onListen(A,!1);break;case 2:await t.onFirstRemoteStoreListen(A)}}catch(s){const o=TP(s,`Initialization of query '${i0(e.query)}' failed`);return void e.onError(o)}t.queries.set(A,i),i.wa.push(e),e.va(t.onlineState),i.ya&&e.Ca(i.ya)&&NP(t)}async function LP(r,e){const t=en(r),n=e.query;let A=3;const i=t.queries.get(n);if(i){const s=i.wa.indexOf(e);s>=0&&(i.wa.splice(s,1),i.wa.length===0?A=e.ba()?0:1:!i.Sa()&&e.ba()&&(A=2))}switch(A){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function Qre(r,e){const t=en(r);let n=!1;for(const A of e){const i=A.query,s=t.queries.get(i);if(s){for(const o of s.wa)o.Ca(A)&&(n=!0);s.ya=A}}n&&NP(t)}function Lre(r,e,t){const n=en(r),A=n.queries.get(e);if(A)for(const i of A.wa)i.onError(t);n.queries.delete(e)}function NP(r){r.Da.forEach(e=>{e.next()})}var d5,zD;(zD=d5||(d5={})).Fa="default",zD.Cache="cache";class RP{constructor(e,t,n){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=n||{}}Ca(e){if(!this.options.includeMetadataChanges){const n=[];for(const A of e.docChanges)A.type!==3&&n.push(A);e=new $B(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const n=t!=="Offline";return(!this.options.ka||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=$B.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==d5.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(e){this.key=e}}class PV{constructor(e){this.key=e}}class Nre{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Ln(),this.mutatedKeys=Ln(),this.Xa=rV(e),this.eu=new I0(this.Xa)}get tu(){return this.Ha}nu(e,t){const n=t?t.ru:new KD,A=t?t.eu:this.eu;let i=t?t.mutatedKeys:this.mutatedKeys,s=A,o=!1;const a=this.query.limitType==="F"&&A.size===this.query.limit?A.last():null,u=this.query.limitType==="L"&&A.size===this.query.limit?A.first():null;if(e.inorderTraversal((l,c)=>{const h=A.get(l),d=cx(this.query,c)?c:null,m=!!h&&this.mutatedKeys.has(h.key),g=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let y=!1;h&&d?h.data.isEqual(d.data)?m!==g&&(n.track({type:3,doc:d}),y=!0):this.iu(h,d)||(n.track({type:2,doc:d}),y=!0,(a&&this.Xa(d,a)>0||u&&this.Xa(d,u)<0)&&(o=!0)):!h&&d?(n.track({type:0,doc:d}),y=!0):h&&!d&&(n.track({type:1,doc:h}),y=!0,(a||u)&&(o=!0)),y&&(d?(s=s.add(d),i=g?i.add(l):i.delete(l)):(s=s.delete(l),i=i.delete(l)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const l=this.query.limitType==="F"?s.last():s.first();s=s.delete(l.key),i=i.delete(l.key),n.track({type:1,doc:l})}return{eu:s,ru:n,Ds:o,mutatedKeys:i}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,A){const i=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const s=e.ru.pa();s.sort((l,c)=>function(d,m){const g=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Vr(20277,{At:y})}};return g(d)-g(m)}(l.type,c.type)||this.Xa(l.doc,c.doc)),this.su(n),A=A!=null&&A;const o=t&&!A?this.ou():[],a=this.Za.size===0&&this.current&&!A?1:0,u=a!==this.Ya;return this.Ya=a,s.length!==0||u?{snapshot:new $B(this.query,e.eu,i,s,e.mutatedKeys,a===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),_u:o}:{_u:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new KD,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Ln(),this.eu.forEach(n=>{this.au(n.key)&&(this.Za=this.Za.add(n.key))});const t=[];return e.forEach(n=>{this.Za.has(n)||t.push(new PV(n))}),this.Za.forEach(n=>{e.has(n)||t.push(new RV(n))}),t}uu(e){this.Ha=e.qs,this.Za=Ln();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return $B.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const PP="SyncEngine";class Rre{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Pre{constructor(e){this.key=e,this.lu=!1}}class Ore{constructor(e,t,n,A,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=A,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new fw(o=>tV(o),ux),this.Tu=new Map,this.Iu=new Set,this.du=new Ii(Tr.comparator),this.Eu=new Map,this.Au=new CP,this.Ru={},this.Vu=new Map,this.mu=WB.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function kre(r,e,t=!0){const n=jV(r);let A;const i=n.Pu.get(e);return i?(n.sharedClientState.addLocalQueryTarget(i.targetId),A=i.view.cu()):A=await OV(n,e,t,!0),A}async function Dre(r,e){const t=jV(r);await OV(t,e,!0,!1)}async function OV(r,e,t,n){const A=await ire(r.localStore,$f(e)),i=A.targetId,s=r.sharedClientState.addLocalQueryTarget(i,t);let o;return n&&(o=await Mre(r,e,i,s==="current",A.resumeToken)),r.isPrimaryClient&&t&&xV(r.remoteStore,A),o}async function Mre(r,e,t,n,A){r.gu=(c,h,d)=>async function(g,y,v,w){let b=y.view.nu(v);b.Ds&&(b=await kD(g.localStore,y.query,!1).then(({documents:T})=>y.view.nu(T,b)));const B=w&&w.targetChanges.get(y.targetId),F=w&&w.targetMismatches.get(y.targetId)!=null,N=y.view.applyChanges(b,g.isPrimaryClient,B,F);return WD(g,y.targetId,N._u),N.snapshot}(r,c,h,d);const i=await kD(r.localStore,e,!0),s=new Nre(e,i.qs),o=s.nu(i.documents),a=D_.createSynthesizedTargetChangeForCurrentChange(t,n&&r.onlineState!=="Offline",A),u=s.applyChanges(o,r.isPrimaryClient,a);WD(r,t,u._u);const l=new Rre(e,t,s);return r.Pu.set(e,l),r.Tu.has(t)?r.Tu.get(t).push(e):r.Tu.set(t,[e]),u.snapshot}async function Hre(r,e,t){const n=en(r),A=n.Pu.get(e),i=n.Tu.get(A.targetId);if(i.length>1)return n.Tu.set(A.targetId,i.filter(s=>!ux(s,e))),void n.Pu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(A.targetId),n.sharedClientState.isActiveQueryTarget(A.targetId)||await h5(n.localStore,A.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(A.targetId),t&&SP(n.remoteStore,A.targetId),p5(n,A.targetId)}).catch(u1)):(p5(n,A.targetId),await h5(n.localStore,A.targetId,!0))}async function jre(r,e){const t=en(r),n=t.Pu.get(e),A=t.Tu.get(n.targetId);t.isPrimaryClient&&A.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),SP(t.remoteStore,n.targetId))}async function Vre(r,e,t){const n=Xre(r);try{const A=await function(s,o){const a=en(s),u=si.now(),l=o.reduce((d,m)=>d.add(m.key),Ln());let c,h;return a.persistence.runTransaction("Locally write mutations","readwrite",d=>{let m=Qp(),g=Ln();return a.Os.getEntries(d,l).next(y=>{m=y,m.forEach((v,w)=>{w.isValidDocument()||(g=g.add(v))})}).next(()=>a.localDocuments.getOverlayedDocuments(d,m)).next(y=>{c=y;const v=[];for(const w of o){const b=ite(w,c.get(w.key).overlayedDocument);b!=null&&v.push(new Gm(w.key,b,q7(b.value.mapValue),Lc.exists(!0)))}return a.mutationQueue.addMutationBatch(d,u,v,o)}).next(y=>{h=y;const v=y.applyToLocalDocumentSet(c,g);return a.documentOverlayCache.saveOverlays(d,y.batchId,v)})}).then(()=>({batchId:h.batchId,changes:AV(c)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(A.batchId),function(s,o,a){let u=s.Ru[s.currentUser.toKey()];u||(u=new Ii(hn)),u=u.insert(o,a),s.Ru[s.currentUser.toKey()]=u}(n,A.batchId,t),await H_(n,A.changes),await mx(n.remoteStore)}catch(A){const i=TP(A,"Failed to persist write");t.reject(i)}}async function kV(r,e){const t=en(r);try{const n=await rre(t.localStore,e);e.targetChanges.forEach((A,i)=>{const s=t.Eu.get(i);s&&(fA(A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size<=1,22616),A.addedDocuments.size>0?s.lu=!0:A.modifiedDocuments.size>0?fA(s.lu,14607):A.removedDocuments.size>0&&(fA(s.lu,42227),s.lu=!1))}),await H_(t,n,e)}catch(n){await u1(n)}}function qD(r,e,t){const n=en(r);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const A=[];n.Pu.forEach((i,s)=>{const o=s.view.va(e);o.snapshot&&A.push(o.snapshot)}),function(s,o){const a=en(s);a.onlineState=o;let u=!1;a.queries.forEach((l,c)=>{for(const h of c.wa)h.va(o)&&(u=!0)}),u&&NP(a)}(n.eventManager,e),A.length&&n.hu.J_(A),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function Kre(r,e,t){const n=en(r);n.sharedClientState.updateQueryState(e,"rejected",t);const A=n.Eu.get(e),i=A&&A.key;if(i){let s=new Ii(Tr.comparator);s=s.insert(i,Pa.newNoDocument(i,Xr.min()));const o=Ln().add(i),a=new dx(Xr.min(),new Map,new Ii(hn),s,o);await kV(n,a),n.du=n.du.remove(i),n.Eu.delete(e),OP(n)}else await h5(n.localStore,e,!1).then(()=>p5(n,e,t)).catch(u1)}async function Gre(r,e){const t=en(r),n=e.batch.batchId;try{const A=await tre(t.localStore,e);MV(t,n,null),DV(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await H_(t,A)}catch(A){await u1(A)}}async function zre(r,e,t){const n=en(r);try{const A=await function(s,o){const a=en(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return a.mutationQueue.lookupMutationBatch(u,o).next(c=>(fA(c!==null,37113),l=c.keys(),a.mutationQueue.removeMutationBatch(u,c))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,l,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,l)).next(()=>a.localDocuments.getDocuments(u,l))})}(n.localStore,e);MV(n,e,t),DV(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await H_(n,A)}catch(A){await u1(A)}}function DV(r,e){(r.Vu.get(e)||[]).forEach(t=>{t.resolve()}),r.Vu.delete(e)}function MV(r,e,t){const n=en(r);let A=n.Ru[n.currentUser.toKey()];if(A){const i=A.get(e);i&&(t?i.reject(t):i.resolve(),A=A.remove(e)),n.Ru[n.currentUser.toKey()]=A}}function p5(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const n of r.Tu.get(e))r.Pu.delete(n),t&&r.hu.pu(n,t);r.Tu.delete(e),r.isPrimaryClient&&r.Au.zr(e).forEach(n=>{r.Au.containsKey(n)||HV(r,n)})}function HV(r,e){r.Iu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(SP(r.remoteStore,t),r.du=r.du.remove(e),r.Eu.delete(t),OP(r))}function WD(r,e,t){for(const n of t)n instanceof RV?(r.Au.addReference(n.key,e),qre(r,n)):n instanceof PV?(hr(PP,"Document no longer in limbo: "+n.key),r.Au.removeReference(n.key,e),r.Au.containsKey(n.key)||HV(r,n.key)):Vr(19791,{yu:n})}function qre(r,e){const t=e.key,n=t.path.canonicalString();r.du.get(t)||r.Iu.has(n)||(hr(PP,"New document in limbo: "+t),r.Iu.add(n),OP(r))}function OP(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Iu.values().next().value;r.Iu.delete(e);const t=new Tr($A.fromString(e)),n=r.mu.next();r.Eu.set(n,new Pre(t)),r.du=r.du.insert(t,n),xV(r.remoteStore,new um($f(lx(t.path)),n,"TargetPurposeLimboResolution",sx.ue))}}async function H_(r,e,t){const n=en(r),A=[],i=[],s=[];n.Pu.isEmpty()||(n.Pu.forEach((o,a)=>{s.push(n.gu(a,e,t).then(u=>{var l;if((u||t)&&n.isPrimaryClient){const c=u?!u.fromCache:(l=t==null?void 0:t.targetChanges.get(a.targetId))===null||l===void 0?void 0:l.current;n.sharedClientState.updateQueryState(a.targetId,c?"current":"not-current")}if(u){A.push(u);const c=EP.Es(a.targetId,u);i.push(c)}}))}),await Promise.all(s),n.hu.J_(A),await async function(a,u){const l=en(a);try{await l.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>Nt.forEach(u,h=>Nt.forEach(h.Is,d=>l.persistence.referenceDelegate.addReference(c,h.targetId,d)).next(()=>Nt.forEach(h.ds,d=>l.persistence.referenceDelegate.removeReference(c,h.targetId,d)))))}catch(c){if(!c1(c))throw c;hr(_P,"Failed to update sequence numbers: "+c)}for(const c of u){const h=c.targetId;if(!c.fromCache){const d=l.Fs.get(h),m=d.snapshotVersion,g=d.withLastLimboFreeSnapshotVersion(m);l.Fs=l.Fs.insert(h,g)}}}(n.localStore,i))}async function Wre(r,e){const t=en(r);if(!t.currentUser.isEqual(e)){hr(PP,"User change. New user:",e.toKey());const n=await _V(t.localStore,e);t.currentUser=e,function(i,s){i.Vu.forEach(o=>{o.forEach(a=>{a.reject(new ar(Qt.CANCELLED,s))})}),i.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await H_(t,n.Bs)}}function $re(r,e){const t=en(r),n=t.Eu.get(e);if(n&&n.lu)return Ln().add(n.key);{let A=Ln();const i=t.Tu.get(e);if(!i)return A;for(const s of i){const o=t.Pu.get(s);A=A.unionWith(o.view.tu)}return A}}function jV(r){const e=en(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=kV.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$re.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Kre.bind(null,e),e.hu.J_=Qre.bind(null,e.eventManager),e.hu.pu=Lre.bind(null,e.eventManager),e}function Xre(r){const e=en(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Gre.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zre.bind(null,e),e}class WF{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=px(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return ere(this.persistence,new Yte,e.initialUser,this.serializer)}Du(e){return new EV(bP.Vi,this.serializer)}bu(e){return new ore}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}WF.provider={build:()=>new WF};class Yre extends WF{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){fA(this.persistence.referenceDelegate instanceof zF,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Pte(n,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?ql.withCacheSize(this.cacheSizeBytes):ql.DEFAULT;return new EV(n=>zF.Vi(n,t),this.serializer)}}class g5{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>qD(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=Wre.bind(null,this.syncEngine),await xre(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Tre}()}createDatastore(e){const t=px(e.databaseInfo.databaseId),n=function(i){return new hre(i)}(e.databaseInfo);return function(i,s,o,a){return new gre(i,s,o,a)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(n,A,i,s,o){return new vre(n,A,i,s,o)}(this.localStore,this.datastore,e.asyncQueue,t=>qD(this.syncEngine,t,0),function(){return HD.C()?new HD:new are}())}createSyncEngine(e,t){return function(A,i,s,o,a,u,l){const c=new Ore(A,i,s,o,a,u);return l&&(c.fu=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(A){const i=en(A);hr(nw,"RemoteStore shutting down."),i.Ia.add(5),await M_(i),i.Ea.shutdown(),i.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}g5.provider={build:()=>new g5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Tp("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm="FirestoreClient";class Jre{constructor(e,t,n,A,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=A,this.user=Na.UNAUTHENTICATED,this.clientId=cP.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async s=>{hr(Nm,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(n,s=>(hr(Nm,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ep;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=TP(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function XU(r,e){r.asyncQueue.verifyOperationInProgress(),hr(Nm,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let n=t.initialUser;r.setCredentialChangeListener(async A=>{n.isEqual(A)||(await _V(e.localStore,A),n=A)}),e.persistence.setDatabaseDeletedListener(()=>{Im("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then(()=>{hr("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(A=>{Im("Terminating Firestore due to IndexedDb database deletion failed",A)})}),r._offlineComponents=e}async function $D(r,e){r.asyncQueue.verifyOperationInProgress();const t=await Zre(r);hr(Nm,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(n=>VD(e.remoteStore,n)),r.setAppCheckTokenChangeListener((n,A)=>VD(e.remoteStore,A)),r._onlineComponents=e}async function Zre(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){hr(Nm,"Using user provided OfflineComponentProvider");try{await XU(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(A){return A.name==="FirebaseError"?A.code===Qt.FAILED_PRECONDITION||A.code===Qt.UNIMPLEMENTED:!(typeof DOMException<"u"&&A instanceof DOMException)||A.code===22||A.code===20||A.code===11}(t))throw t;Im("Error using user provided cache. Falling back to memory cache: "+t),await XU(r,new WF)}}else hr(Nm,"Using default OfflineComponentProvider"),await XU(r,new Yre(void 0));return r._offlineComponents}async function VV(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(hr(Nm,"Using user provided OnlineComponentProvider"),await $D(r,r._uninitializedComponentsProvider._online)):(hr(Nm,"Using default OnlineComponentProvider"),await $D(r,new g5))),r._onlineComponents}function ene(r){return VV(r).then(e=>e.syncEngine)}async function $F(r){const e=await VV(r),t=e.eventManager;return t.onListen=kre.bind(null,e.syncEngine),t.onUnlisten=Hre.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Dre.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=jre.bind(null,e.syncEngine),t}function tne(r,e,t={}){const n=new Ep;return r.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,u){const l=new kP({next:h=>{l.Ou(),s.enqueueAndForget(()=>LP(i,c));const d=h.docs.has(o);!d&&h.fromCache?u.reject(new ar(Qt.UNAVAILABLE,"Failed to get document because the client is offline.")):d&&h.fromCache&&a&&a.source==="server"?u.reject(new ar(Qt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),c=new RP(lx(o.path),l,{includeMetadataChanges:!0,ka:!0});return QP(i,c)}(await $F(r),r.asyncQueue,e,t,n)),n.promise}function rne(r,e,t={}){const n=new Ep;return r.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,u){const l=new kP({next:h=>{l.Ou(),s.enqueueAndForget(()=>LP(i,c)),h.fromCache&&a.source==="server"?u.reject(new ar(Qt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),c=new RP(o,l,{includeMetadataChanges:!0,ka:!0});return QP(i,c)}(await $F(r),r.asyncQueue,e,t,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KV(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GV="firestore.googleapis.com",YD=!0;class JD{constructor(e){var t,n;if(e.host===void 0){if(e.ssl!==void 0)throw new ar(Qt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=GV,this.ssl=YD}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:YD;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=bV;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Nte)throw new ar(Qt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vee("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KV((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ar(Qt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ar(Qt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ar(Qt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,A){return n.timeoutSeconds===A.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vx{constructor(e,t,n,A){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=A,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new JD({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ar(Qt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ar(Qt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new JD(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new lee;switch(n.type){case"firstParty":return new fee(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ar(Qt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=XD.get(t);n&&(hr("ComponentProvider","Removing Datastore"),XD.delete(t),n.terminate())}(this),Promise.resolve()}}function nne(r,e,t,n={}){var A;r=Yl(r,vx);const i=Vm(e),s=r._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:r._getEmulatorOptions()}),a=`${e}:${t}`;i&&(WR(`https://${a}`),$R("Firestore",!0)),s.host!==GV&&s.host!==a&&Im("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},s),{host:a,ssl:i,emulatorOptions:n});if(!Zy(u,o)&&(r._setSettings(u),n.mockUserToken)){let l,c;if(typeof n.mockUserToken=="string")l=n.mockUserToken,c=Na.MOCK_USER;else{l=V8(n.mockUserToken,(A=r._app)===null||A===void 0?void 0:A.options.projectId);const h=n.mockUserToken.sub||n.mockUserToken.user_id;if(!h)throw new ar(Qt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Na(h)}r._authCredentials=new uee(new N7(l,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new zm(this.firestore,e,this._query)}}class Pi{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ym(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pi(this.firestore,e,this._key)}toJSON(){return{type:Pi._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(O_(t,Pi._jsonSchema))return new Pi(e,n||null,new Tr($A.fromString(t.referencePath)))}}Pi._jsonSchemaVersion="firestore/documentReference/1.0",Pi._jsonSchema={type:xs("string",Pi._jsonSchemaVersion),referencePath:xs("string")};class ym extends zm{constructor(e,t,n){super(e,t,lx(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pi(this.firestore,null,new Tr(e))}withConverter(e){return new ym(this.firestore,e,this._path)}}function wm(r,e,...t){if(r=Fi(r),P7("collection","path",e),r instanceof vx){const n=$A.fromString(e,...t);return cD(n),new ym(r,null,n)}{if(!(r instanceof Pi||r instanceof ym))throw new ar(Qt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child($A.fromString(e,...t));return cD(n),new ym(r.firestore,null,n)}}function mi(r,e,...t){if(r=Fi(r),arguments.length===1&&(e=cP.newId()),P7("doc","path",e),r instanceof vx){const n=$A.fromString(e,...t);return uD(n),new Pi(r,null,new Tr(n))}{if(!(r instanceof Pi||r instanceof ym))throw new ar(Qt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child($A.fromString(e,...t));return uD(n),new Pi(r.firestore,r instanceof ym?r.converter:null,new Tr(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD="AsyncQueue";class e4{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new FV(this,"async_queue_retry"),this.oc=()=>{const n=$U();n&&hr(ZD,"Visibility state changed to "+n.visibilityState),this.F_.y_()},this._c=e;const t=$U();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=$U();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new Ep;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!c1(e))throw e;hr(ZD,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(n=>{throw this.tc=n,this.nc=!1,Tp("INTERNAL UNHANDLED ERROR: ",t4(n)),n}).then(n=>(this.nc=!1,n))));return this._c=t,t}enqueueAfterDelay(e,t,n){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const A=UP.createAndSchedule(this,e,t,n,i=>this.lc(i));return this.ec.push(A),A}ac(){this.tc&&Vr(47125,{hc:t4(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,n)=>t.targetTimeMs-n.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function t4(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r4(r){return function(t,n){if(typeof t!="object"||t===null)return!1;const A=t;for(const i of n)if(i in A&&typeof A[i]=="function")return!0;return!1}(r,["next","error","complete"])}class Lp extends vx{constructor(e,t,n,A){super(e,t,n,A),this.type="firestore",this._queue=new e4,this._persistenceKey=(A==null?void 0:A.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new e4(e),this._firestoreClient=void 0,await e}}}function Ane(r,e){const t=typeof r=="object"?r:JR(),n=typeof r=="string"?r:HF,A=tx(t,"firestore").getImmediate({identifier:n});if(!A._initialized){const i=M8("firestore");i&&nne(A,...i)}return A}function yx(r){if(r._terminated)throw new ar(Qt.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||ine(r),r._firestoreClient}function ine(r){var e,t,n;const A=r._freezeSettings(),i=function(o,a,u,l){return new xee(o,a,u,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,KV(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,A);r._componentsProvider||!((t=A.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((n=A.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(r._componentsProvider={_offline:A.localCache._offlineComponentProvider,_online:A.localCache._onlineComponentProvider}),r._firestoreClient=new Jre(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&function(o){const a=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(a),_online:a}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ic(Zo.fromBase64String(e))}catch(t){throw new ar(Qt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ic(Zo.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ic._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(O_(e,Ic._jsonSchema))return Ic.fromBase64String(e.bytes)}}Ic._jsonSchemaVersion="firestore/bytes/1.0",Ic._jsonSchema={type:xs("string",Ic._jsonSchemaVersion),bytes:xs("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ar(Qt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xo(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ar(Qt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ar(Qt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return hn(this._lat,e._lat)||hn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Yf._jsonSchemaVersion}}static fromJSON(e){if(O_(e,Yf._jsonSchema))return new Yf(e.latitude,e.longitude)}}Yf._jsonSchemaVersion="firestore/geoPoint/1.0",Yf._jsonSchema={type:xs("string",Yf._jsonSchemaVersion),latitude:xs("number"),longitude:xs("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,A){if(n.length!==A.length)return!1;for(let i=0;i<n.length;++i)if(n[i]!==A[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Jf._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(O_(e,Jf._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new Jf(e.vectorValues);throw new ar(Qt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Jf._jsonSchemaVersion="firestore/vectorValue/1.0",Jf._jsonSchema={type:xs("string",Jf._jsonSchemaVersion),vectorValues:xs("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sne=/^__.*__$/;class one{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new Gm(e,this.data,this.fieldMask,t,this.fieldTransforms):new k_(e,this.data,t,this.fieldTransforms)}}class zV{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Gm(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function qV(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Vr(40011,{Ec:r})}}class DP{constructor(e,t,n,A,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=A,i===void 0&&this.Ac(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new DP(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),A=this.Rc({path:n,mc:!1});return A.fc(e),A}gc(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),A=this.Rc({path:n,mc:!1});return A.Ac(),A}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return XF(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(qV(this.Ec)&&sne.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class ane{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||px(e)}Dc(e,t,n,A=!1){return new DP({Ec:e,methodName:t,bc:n,path:Xo.emptyPath(),mc:!1,Sc:A},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cx(r){const e=r._freezeSettings(),t=px(r._databaseId);return new ane(r._databaseId,!!e.ignoreUndefinedProperties,t)}function WV(r,e,t,n,A,i={}){const s=r.Dc(i.merge||i.mergeFields?2:0,e,t,A);HP("Data must be an object, but it was:",s,n);const o=$V(n,s);let a,u;if(i.merge)a=new Ku(s.fieldMask),u=s.fieldTransforms;else if(i.mergeFields){const l=[];for(const c of i.mergeFields){const h=m5(e,c,t);if(!s.contains(h))throw new ar(Qt.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);YV(l,h)||l.push(h)}a=new Ku(l),u=s.fieldTransforms.filter(c=>a.covers(c.field))}else a=null,u=s.fieldTransforms;return new one(new $l(o),a,u)}class bx extends Bx{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof bx}}class MP extends Bx{_toFieldTransform(e){return new tte(e.path,new Lb)}isEqual(e){return e instanceof MP}}function lne(r,e,t,n){const A=r.Dc(1,e,t);HP("Data must be an object, but it was:",A,n);const i=[],s=$l.empty();Km(n,(a,u)=>{const l=jP(e,a,t);u=Fi(u);const c=A.gc(l);if(u instanceof bx)i.push(l);else{const h=j_(u,c);h!=null&&(i.push(l),s.set(l,h))}});const o=new Ku(i);return new zV(s,o,A.fieldTransforms)}function une(r,e,t,n,A,i){const s=r.Dc(1,e,t),o=[m5(e,n,t)],a=[A];if(i.length%2!=0)throw new ar(Qt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<i.length;h+=2)o.push(m5(e,i[h])),a.push(i[h+1]);const u=[],l=$l.empty();for(let h=o.length-1;h>=0;--h)if(!YV(u,o[h])){const d=o[h];let m=a[h];m=Fi(m);const g=s.gc(d);if(m instanceof bx)u.push(d);else{const y=j_(m,g);y!=null&&(u.push(d),l.set(d,y))}}const c=new Ku(u);return new zV(l,c,s.fieldTransforms)}function cne(r,e,t,n=!1){return j_(t,r.Dc(n?4:3,e))}function j_(r,e){if(XV(r=Fi(r)))return HP("Unsupported field value:",e,r),$V(r,e);if(r instanceof Bx)return function(n,A){if(!qV(A.Ec))throw A.wc(`${n._methodName}() can only be used with update() and set()`);if(!A.path)throw A.wc(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(A);i&&A.fieldTransforms.push(i)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(n,A){const i=[];let s=0;for(const o of n){let a=j_(o,A.yc(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(r,e)}return function(n,A){if((n=Fi(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Jee(A.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=si.fromDate(n);return{timestampValue:GF(A.serializer,i)}}if(n instanceof si){const i=new si(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:GF(A.serializer,i)}}if(n instanceof Yf)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ic)return{bytesValue:gV(A.serializer,n._byteString)};if(n instanceof Pi){const i=A.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw A.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:BP(n.firestore._databaseId||A.databaseId,n._key.path)}}if(n instanceof Jf)return function(s,o){return{mapValue:{fields:{[G7]:{stringValue:z7},[jF]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw o.wc("VectorValues must only contain numeric values.");return mP(o.serializer,u)})}}}}}}(n,A);throw A.wc(`Unsupported field value: ${ix(n)}`)}(r,e)}function $V(r,e){const t={};return D7(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Km(r,(n,A)=>{const i=j_(A,e.Vc(n));i!=null&&(t[n]=i)}),{mapValue:{fields:t}}}function XV(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof si||r instanceof Yf||r instanceof Ic||r instanceof Pi||r instanceof Bx||r instanceof Jf)}function HP(r,e,t){if(!XV(t)||!O7(t)){const n=ix(t);throw n==="an object"?e.wc(r+" a custom object"):e.wc(r+" "+n)}}function m5(r,e,t){if((e=Fi(e))instanceof wx)return e._internalPath;if(typeof e=="string")return jP(r,e);throw XF("Field path arguments must be of type string or ",r,!1,void 0,t)}const hne=new RegExp("[~\\*/\\[\\]]");function jP(r,e,t){if(e.search(hne)>=0)throw XF(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new wx(...e.split("."))._internalPath}catch{throw XF(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function XF(r,e,t,n,A){const i=n&&!n.isEmpty(),s=A!==void 0;let o=`Function ${e}() called with invalid data`;t&&(o+=" (via `toFirestore()`)"),o+=". ";let a="";return(i||s)&&(a+=" (found",i&&(a+=` in field ${n}`),s&&(a+=` in document ${A}`),a+=")"),new ar(Qt.INVALID_ARGUMENT,o+r+a)}function YV(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(e,t,n,A,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=A,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Pi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new fne(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(VP("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class fne extends JV{data(){return super.data()}}function VP(r,e){return typeof e=="string"?jP(r,e):e instanceof wx?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZV(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ar(Qt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class KP{}class eK extends KP{}function YU(r,e,...t){let n=[];e instanceof KP&&n.push(e),n=n.concat(t),function(i){const s=i.filter(a=>a instanceof zP).length,o=i.filter(a=>a instanceof GP).length;if(s>1||s>0&&o>0)throw new ar(Qt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const A of n)r=A._apply(r);return r}class GP extends eK{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new GP(e,t,n)}_apply(e){const t=this._parse(e);return tK(e._query,t),new zm(e.firestore,e.converter,s5(e._query,t))}_parse(e){const t=Cx(e.firestore);return function(i,s,o,a,u,l,c){let h;if(u.isKeyField()){if(l==="array-contains"||l==="array-contains-any")throw new ar(Qt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if(l==="in"||l==="not-in"){A4(c,l);const m=[];for(const g of c)m.push(n4(a,i,g));h={arrayValue:{values:m}}}else h=n4(a,i,c)}else l!=="in"&&l!=="not-in"&&l!=="array-contains-any"||A4(c,l),h=cne(o,s,c,l==="in"||l==="not-in");return Fs.create(u,l,h)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class zP extends KP{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new zP(e,t)}_parse(e){const t=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return t.length===1?t[0]:Dh.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(A,i){let s=A;const o=i.getFlattenedFilters();for(const a of o)tK(s,a),s=s5(s,a)}(e._query,t),new zm(e.firestore,e.converter,s5(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class qP extends eK{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new qP(e,t)}_apply(e){const t=function(A,i,s){if(A.startAt!==null)throw new ar(Qt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(A.endAt!==null)throw new ar(Qt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Qb(i,s)}(e._query,this._field,this._direction);return new zm(e.firestore,e.converter,function(A,i){const s=A.explicitOrderBy.concat([i]);return new h1(A.path,A.collectionGroup,s,A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(e._query,t))}}function JU(r,e="asc"){const t=e,n=VP("orderBy",r);return qP._create(n,t)}function n4(r,e,t){if(typeof(t=Fi(t))=="string"){if(t==="")throw new ar(Qt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eV(e)&&t.indexOf("/")!==-1)throw new ar(Qt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=e.path.child($A.fromString(t));if(!Tr.isDocumentKey(n))throw new ar(Qt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return yD(r,new Tr(n))}if(t instanceof Pi)return yD(r,t._key);throw new ar(Qt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ix(t)}.`)}function A4(r,e){if(!Array.isArray(r)||r.length===0)throw new ar(Qt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function tK(r,e){const t=function(A,i){for(const s of A)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(r.filters,function(A){switch(A){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ar(Qt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ar(Qt.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class dne{convertValue(e,t="none"){switch(Qm(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ss(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Tm(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Vr(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return Km(e,(A,i)=>{n[A]=this.convertValue(i,t)}),n}convertVectorValue(e){var t,n,A;const i=(A=(n=(t=e.fields)===null||t===void 0?void 0:t[jF].arrayValue)===null||n===void 0?void 0:n.values)===null||A===void 0?void 0:A.map(s=>ss(s.doubleValue));return new Jf(i)}convertGeoPoint(e){return new Yf(ss(e.latitude),ss(e.longitude))}convertArray(e,t){return(e.values||[]).map(n=>this.convertValue(n,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=ax(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(xb(e));default:return null}}convertTimestamp(e){const t=Um(e);return new si(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=$A.fromString(e);fA(CV(n),9688,{name:e});const A=new Ub(n.get(1),n.get(3)),i=new Tr(n.popFirst(5));return A.isEqual(t)||Tp(`Document ${i} contains a document reference within a different database (${A.projectId}/${A.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rK(r,e,t){let n;return n=r?r.toFirestore(e):e,n}class UC{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Hy extends JV{constructor(e,t,n,A,i,s){super(e,t,n,A,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new MS(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(VP("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ar(Qt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Hy._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Hy._jsonSchemaVersion="firestore/documentSnapshot/1.0",Hy._jsonSchema={type:xs("string",Hy._jsonSchemaVersion),bundleSource:xs("string","DocumentSnapshot"),bundleName:xs("string"),bundle:xs("string")};class MS extends Hy{data(e={}){return super.data(e)}}class jy{constructor(e,t,n,A){this._firestore=e,this._userDataWriter=t,this._snapshot=A,this.metadata=new UC(A.hasPendingWrites,A.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new MS(this._firestore,this._userDataWriter,n.key,n,new UC(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ar(Qt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(A,i){if(A._snapshot.oldDocs.isEmpty()){let s=0;return A._snapshot.docChanges.map(o=>{const a=new MS(A._firestore,A._userDataWriter,o.doc.key,o.doc,new UC(A._snapshot.mutatedKeys.has(o.doc.key),A._snapshot.fromCache),A.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=A._snapshot.oldDocs;return A._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new MS(A._firestore,A._userDataWriter,o.doc.key,o.doc,new UC(A._snapshot.mutatedKeys.has(o.doc.key),A._snapshot.fromCache),A.query.converter);let u=-1,l=-1;return o.type!==0&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),l=s.indexOf(o.doc.key)),{type:pne(o.type),doc:a,oldIndex:u,newIndex:l}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ar(Qt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=jy._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=cP.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],A=[];return this.docs.forEach(i=>{i._document!==null&&(t.push(i._document),n.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),A.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function pne(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Vr(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rc(r){r=Yl(r,Pi);const e=Yl(r.firestore,Lp);return tne(yx(e),r._key).then(t=>iK(e,r,t))}jy._jsonSchemaVersion="firestore/querySnapshot/1.0",jy._jsonSchema={type:xs("string",jy._jsonSchemaVersion),bundleSource:xs("string","QuerySnapshot"),bundleName:xs("string"),bundle:xs("string")};class WP extends dne{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ic(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Pi(this.firestore,null,t)}}function gne(r){r=Yl(r,zm);const e=Yl(r.firestore,Lp),t=yx(e),n=new WP(e);return ZV(r._query),rne(t,r._query).then(A=>new jy(e,n,r,A))}function $P(r,e,t){r=Yl(r,Pi);const n=Yl(r.firestore,Lp),A=rK(r.converter,e);return Ex(n,[WV(Cx(n),"setDoc",r._key,A,r.converter!==null,t).toMutation(r._key,Lc.none())])}function Vy(r,e,t,...n){r=Yl(r,Pi);const A=Yl(r.firestore,Lp),i=Cx(A);let s;return s=typeof(e=Fi(e))=="string"||e instanceof wx?une(i,"updateDoc",r._key,e,t,n):lne(i,"updateDoc",r._key,e),Ex(A,[s.toMutation(r._key,Lc.exists(!0))])}function nK(r){return Ex(Yl(r.firestore,Lp),[new vP(r._key,Lc.none())])}function AK(r,e){const t=Yl(r.firestore,Lp),n=mi(r),A=rK(r.converter,e);return Ex(t,[WV(Cx(r.firestore),"addDoc",n._key,A,r.converter!==null,{}).toMutation(n._key,Lc.exists(!1))]).then(()=>n)}function ZU(r,...e){var t,n,A;r=Fi(r);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||r4(e[s])||(i=e[s++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(r4(e[s])){const c=e[s];e[s]=(t=c.next)===null||t===void 0?void 0:t.bind(c),e[s+1]=(n=c.error)===null||n===void 0?void 0:n.bind(c),e[s+2]=(A=c.complete)===null||A===void 0?void 0:A.bind(c)}let a,u,l;if(r instanceof Pi)u=Yl(r.firestore,Lp),l=lx(r._key.path),a={next:c=>{e[s]&&e[s](iK(u,r,c))},error:e[s+1],complete:e[s+2]};else{const c=Yl(r,zm);u=Yl(c.firestore,Lp),l=c._query;const h=new WP(u);a={next:d=>{e[s]&&e[s](new jy(u,h,c,d))},error:e[s+1],complete:e[s+2]},ZV(r._query)}return function(h,d,m,g){const y=new kP(g),v=new RP(d,y,m);return h.asyncQueue.enqueueAndForget(async()=>QP(await $F(h),v)),()=>{y.Ou(),h.asyncQueue.enqueueAndForget(async()=>LP(await $F(h),v))}}(yx(u),l,o,a)}function Ex(r,e){return function(n,A){const i=new Ep;return n.asyncQueue.enqueueAndForget(async()=>Vre(await ene(n),A,i)),i.promise}(yx(r),e)}function iK(r,e,t){const n=t.docs.get(e._key),A=new WP(r);return new Hy(r,A,e._key,n,new UC(t.hasPendingWrites,t.fromCache),e.converter)}function XP(){return new MP("serverTimestamp")}(function(e,t=!0){(function(A){l1=A})(hw),ew(new Fm("firestore",(n,{instanceIdentifier:A,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Lp(new cee(n.getProvider("auth-internal")),new dee(s,n.getProvider("app-check-internal")),function(u,l){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ar(Qt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ub(u.options.projectId,l)}(s,A),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),qf(iD,sD,e),qf(iD,sD,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sK="firebasestorage.googleapis.com",oK="storageBucket",mne=2*60*1e3,vne=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends id{constructor(e,t,n=0){super(eT(e),`Firebase Storage: ${t} (${eT(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Di.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return eT(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ki;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ki||(ki={}));function eT(r){return"storage/"+r}function YP(){const r="An unknown error occurred, please check the error payload for server response.";return new Di(ki.UNKNOWN,r)}function yne(r){return new Di(ki.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function wne(r){return new Di(ki.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Bne(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Di(ki.UNAUTHENTICATED,r)}function Cne(){return new Di(ki.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function bne(r){return new Di(ki.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function Ene(){return new Di(ki.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function _ne(){return new Di(ki.CANCELED,"User canceled the upload/download.")}function Sne(r){return new Di(ki.INVALID_URL,"Invalid URL '"+r+"'.")}function Fne(r){return new Di(ki.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function Ine(){return new Di(ki.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+oK+"' property when initializing the app?")}function xne(){return new Di(ki.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Une(){return new Di(ki.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Tne(r){return new Di(ki.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function v5(r){return new Di(ki.INVALID_ARGUMENT,r)}function aK(){return new Di(ki.APP_DELETED,"The Firebase app was deleted.")}function Qne(r){return new Di(ki.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function fb(r,e){return new Di(ki.INVALID_FORMAT,"String does not match format '"+r+"': "+e)}function iC(r){throw new Di(ki.INTERNAL_ERROR,"Internal error: "+r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Gu.makeFromUrl(e,t)}catch{return new Gu(e,"")}if(n.path==="")return n;throw Fne(e)}static makeFromUrl(e,t){let n=null;const A="([A-Za-z0-9.\\-_]+)";function i(B){B.path.charAt(B.path.length-1)==="/"&&(B.path_=B.path_.slice(0,-1))}const s="(/(.*))?$",o=new RegExp("^gs://"+A+s,"i"),a={bucket:1,path:3};function u(B){B.path_=decodeURIComponent(B.path)}const l="v[A-Za-z0-9_]+",c=t.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",d=new RegExp(`^https?://${c}/${l}/b/${A}/o${h}`,"i"),m={bucket:1,path:3},g=t===sK?"(?:storage.googleapis.com|storage.cloud.google.com)":t,y="([^?#]*)",v=new RegExp(`^https?://${g}/${A}/${y}`,"i"),b=[{regex:o,indices:a,postModify:i},{regex:d,indices:m,postModify:u},{regex:v,indices:{bucket:1,path:2},postModify:u}];for(let B=0;B<b.length;B++){const F=b[B],N=F.regex.exec(e);if(N){const T=N[F.indices.bucket];let U=N[F.indices.path];U||(U=""),n=new Gu(T,U),F.postModify(n);break}}if(n==null)throw Sne(e);return n}}class Lne{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nne(r,e,t){let n=1,A=null,i=null,s=!1,o=0;function a(){return o===2}let u=!1;function l(...y){u||(u=!0,e.apply(null,y))}function c(y){A=setTimeout(()=>{A=null,r(d,a())},y)}function h(){i&&clearTimeout(i)}function d(y,...v){if(u){h();return}if(y){h(),l.call(null,y,...v);return}if(a()||s){h(),l.call(null,y,...v);return}n<64&&(n*=2);let b;o===1?(o=2,b=0):b=(n+Math.random())*1e3,c(b)}let m=!1;function g(y){m||(m=!0,h(),!u&&(A!==null?(y||(o=2),clearTimeout(A),c(0)):y||(o=1)))}return c(0),i=setTimeout(()=>{s=!0,g(!0)},t),g}function Rne(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pne(r){return r!==void 0}function One(r){return typeof r=="object"&&!Array.isArray(r)}function JP(r){return typeof r=="string"||r instanceof String}function i4(r){return ZP()&&r instanceof Blob}function ZP(){return typeof Blob<"u"}function s4(r,e,t,n){if(n<e)throw v5(`Invalid value for '${r}'. Expected ${e} or greater.`);if(n>t)throw v5(`Invalid value for '${r}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _x(r,e,t){let n=e;return t==null&&(n=`https://${e}`),`${t}://${n}/v0${r}`}function lK(r){const e=encodeURIComponent;let t="?";for(const n in r)if(r.hasOwnProperty(n)){const A=e(n)+"="+e(r[n]);t=t+A+"&"}return t=t.slice(0,-1),t}var Ky;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(Ky||(Ky={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kne(r,e){const t=r>=500&&r<600,A=[408,429].indexOf(r)!==-1,i=e.indexOf(r)!==-1;return t||A||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dne{constructor(e,t,n,A,i,s,o,a,u,l,c,h=!0,d=!1){this.url_=e,this.method_=t,this.headers_=n,this.body_=A,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=a,this.timeout_=u,this.progressCallback_=l,this.connectionFactory_=c,this.retry=h,this.isUsingEmulator=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,g)=>{this.resolve_=m,this.reject_=g,this.start_()})}start_(){const e=(n,A)=>{if(A){n(!1,new P2(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const s=o=>{const a=o.loaded,u=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(a,u)};this.progressCallback_!==null&&i.addUploadProgressListener(s),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(s),this.pendingConnection_=null;const o=i.getErrorCode()===Ky.NO_ERROR,a=i.getStatus();if(!o||kne(a,this.additionalRetryCodes_)&&this.retry){const l=i.getErrorCode()===Ky.ABORT;n(!1,new P2(!1,null,l));return}const u=this.successCodes_.indexOf(a)!==-1;n(!0,new P2(u,i))})},t=(n,A)=>{const i=this.resolve_,s=this.reject_,o=A.connection;if(A.wasSuccessCode)try{const a=this.callback_(o,o.getResponse());Pne(a)?i(a):i()}catch(a){s(a)}else if(o!==null){const a=YP();a.serverResponse=o.getErrorText(),this.errorCallback_?s(this.errorCallback_(o,a)):s(a)}else if(A.canceled){const a=this.appDelete_?aK():_ne();s(a)}else{const a=Ene();s(a)}};this.canceled_?t(!1,new P2(!1,null,!0)):this.backoffId_=Nne(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Rne(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class P2{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function Mne(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function Hne(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function jne(r,e){e&&(r["X-Firebase-GMPID"]=e)}function Vne(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function Kne(r,e,t,n,A,i,s=!0,o=!1){const a=lK(r.urlParams),u=r.url+a,l=Object.assign({},r.headers);return jne(l,e),Mne(l,t),Hne(l,i),Vne(l,n),new Dne(u,r.method,l,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,A,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gne(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function zne(...r){const e=Gne();if(e!==void 0){const t=new e;for(let n=0;n<r.length;n++)t.append(r[n]);return t.getBlob()}else{if(ZP())return new Blob(r);throw new Di(ki.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function qne(r,e,t){return r.webkitSlice?r.webkitSlice(e,t):r.mozSlice?r.mozSlice(e,t):r.slice?r.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wne(r){if(typeof atob>"u")throw Tne("base-64");return atob(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gf={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class tT{constructor(e,t){this.data=e,this.contentType=t||null}}function $ne(r,e){switch(r){case Gf.RAW:return new tT(uK(e));case Gf.BASE64:case Gf.BASE64URL:return new tT(cK(r,e));case Gf.DATA_URL:return new tT(Yne(e),Jne(e))}throw YP()}function uK(r){const e=[];for(let t=0;t<r.length;t++){let n=r.charCodeAt(t);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(t<r.length-1&&(r.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const i=n,s=r.charCodeAt(++t);n=65536|(i&1023)<<10|s&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function Xne(r){let e;try{e=decodeURIComponent(r)}catch{throw fb(Gf.DATA_URL,"Malformed data URL.")}return uK(e)}function cK(r,e){switch(r){case Gf.BASE64:{const A=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(A||i)throw fb(r,"Invalid character '"+(A?"-":"_")+"' found: is it base64url encoded?");break}case Gf.BASE64URL:{const A=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(A||i)throw fb(r,"Invalid character '"+(A?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=Wne(e)}catch(A){throw A.message.includes("polyfill")?A:fb(r,"Invalid character found")}const n=new Uint8Array(t.length);for(let A=0;A<t.length;A++)n[A]=t.charCodeAt(A);return n}class hK{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw fb(Gf.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;n!=null&&(this.base64=Zne(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}function Yne(r){const e=new hK(r);return e.base64?cK(Gf.BASE64,e.rest):Xne(e.rest)}function Jne(r){return new hK(r).contentType}function Zne(r,e){return r.length>=e.length?r.substring(r.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,t){let n=0,A="";i4(e)?(this.data_=e,n=e.size,A=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=A}size(){return this.size_}type(){return this.type_}slice(e,t){if(i4(this.data_)){const n=this.data_,A=qne(n,e,t);return A===null?null:new Eg(A)}else{const n=new Uint8Array(this.data_.buffer,e,t-e);return new Eg(n,!0)}}static getBlob(...e){if(ZP()){const t=e.map(n=>n instanceof Eg?n.data_:n);return new Eg(zne.apply(null,t))}else{const t=e.map(s=>JP(s)?$ne(Gf.RAW,s).data:s.data_);let n=0;t.forEach(s=>{n+=s.byteLength});const A=new Uint8Array(n);let i=0;return t.forEach(s=>{for(let o=0;o<s.length;o++)A[i++]=s[o]}),new Eg(A,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fK(r){let e;try{e=JSON.parse(r)}catch{return null}return One(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eAe(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function tAe(r,e){const t=e.split("/").filter(n=>n.length>0).join("/");return r.length===0?t:r+"/"+t}function dK(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rAe(r,e){return e}class il{constructor(e,t,n,A){this.server=e,this.local=t||e,this.writable=!!n,this.xform=A||rAe}}let O2=null;function nAe(r){return!JP(r)||r.length<2?r:dK(r)}function pK(){if(O2)return O2;const r=[];r.push(new il("bucket")),r.push(new il("generation")),r.push(new il("metageneration")),r.push(new il("name","fullPath",!0));function e(i,s){return nAe(s)}const t=new il("name");t.xform=e,r.push(t);function n(i,s){return s!==void 0?Number(s):s}const A=new il("size");return A.xform=n,r.push(A),r.push(new il("timeCreated")),r.push(new il("updated")),r.push(new il("md5Hash",null,!0)),r.push(new il("cacheControl",null,!0)),r.push(new il("contentDisposition",null,!0)),r.push(new il("contentEncoding",null,!0)),r.push(new il("contentLanguage",null,!0)),r.push(new il("contentType",null,!0)),r.push(new il("metadata","customMetadata",!0)),O2=r,O2}function AAe(r,e){function t(){const n=r.bucket,A=r.fullPath,i=new Gu(n,A);return e._makeStorageReference(i)}Object.defineProperty(r,"ref",{get:t})}function iAe(r,e,t){const n={};n.type="file";const A=t.length;for(let i=0;i<A;i++){const s=t[i];n[s.local]=s.xform(n,e[s.server])}return AAe(n,r),n}function gK(r,e,t){const n=fK(e);return n===null?null:iAe(r,n,t)}function sAe(r,e,t,n){const A=fK(e);if(A===null||!JP(A.downloadTokens))return null;const i=A.downloadTokens;if(i.length===0)return null;const s=encodeURIComponent;return i.split(",").map(u=>{const l=r.bucket,c=r.fullPath,h="/b/"+s(l)+"/o/"+s(c),d=_x(h,t,n),m=lK({alt:"media",token:u});return d+m})[0]}function oAe(r,e){const t={},n=e.length;for(let A=0;A<n;A++){const i=e[A];i.writable&&(t[i.server]=r[i.local])}return JSON.stringify(t)}class eO{constructor(e,t,n,A){this.url=e,this.method=t,this.handler=n,this.timeout=A,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mK(r){if(!r)throw YP()}function aAe(r,e){function t(n,A){const i=gK(r,A,e);return mK(i!==null),i}return t}function lAe(r,e){function t(n,A){const i=gK(r,A,e);return mK(i!==null),sAe(i,A,r.host,r._protocol)}return t}function vK(r){function e(t,n){let A;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?A=Cne():A=Bne():t.getStatus()===402?A=wne(r.bucket):t.getStatus()===403?A=bne(r.path):A=n,A.status=t.getStatus(),A.serverResponse=n.serverResponse,A}return e}function yK(r){const e=vK(r);function t(n,A){let i=e(n,A);return n.getStatus()===404&&(i=yne(r.path)),i.serverResponse=A.serverResponse,i}return t}function uAe(r,e,t){const n=e.fullServerUrl(),A=_x(n,r.host,r._protocol),i="GET",s=r.maxOperationRetryTime,o=new eO(A,i,lAe(r,t),s);return o.errorHandler=yK(e),o}function cAe(r,e){const t=e.fullServerUrl(),n=_x(t,r.host,r._protocol),A="DELETE",i=r.maxOperationRetryTime;function s(a,u){}const o=new eO(n,A,s,i);return o.successCodes=[200,204],o.errorHandler=yK(e),o}function hAe(r,e){return r&&r.contentType||e&&e.type()||"application/octet-stream"}function fAe(r,e,t){const n=Object.assign({},t);return n.fullPath=r.path,n.size=e.size(),n.contentType||(n.contentType=hAe(null,e)),n}function dAe(r,e,t,n,A){const i=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function o(){let b="";for(let B=0;B<2;B++)b=b+Math.random().toString().slice(2);return b}const a=o();s["Content-Type"]="multipart/related; boundary="+a;const u=fAe(e,n,A),l=oAe(u,t),c="--"+a+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+l+`\r
--`+a+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+a+"--",d=Eg.getBlob(c,n,h);if(d===null)throw xne();const m={name:u.fullPath},g=_x(i,r.host,r._protocol),y="POST",v=r.maxUploadRetryTime,w=new eO(g,y,aAe(r,t),v);return w.urlParams=m,w.headers=s,w.body=d.uploadData(),w.errorHandler=vK(e),w}class pAe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ky.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ky.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ky.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,n,A,i){if(this.sent_)throw iC("cannot .send() more than once");if(Vm(e)&&n&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return A!==void 0?this.xhr_.send(A):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw iC("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw iC("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw iC("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw iC("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class gAe extends pAe{initXhr(){this.xhr_.responseType="text"}}function tO(){return new gAe}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e,t){this._service=e,t instanceof Gu?this._location=t:this._location=Gu.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Aw(e,t)}get root(){const e=new Gu(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return dK(this._location.path)}get storage(){return this._service}get parent(){const e=eAe(this._location.path);if(e===null)return null;const t=new Gu(this._location.bucket,e);return new Aw(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw Qne(e)}}function mAe(r,e,t){r._throwIfRoot("uploadBytes");const n=dAe(r.storage,r._location,pK(),new Eg(e,!0),t);return r.storage.makeRequestWithTokens(n,tO).then(A=>({metadata:A,ref:r}))}function vAe(r){r._throwIfRoot("getDownloadURL");const e=uAe(r.storage,r._location,pK());return r.storage.makeRequestWithTokens(e,tO).then(t=>{if(t===null)throw Une();return t})}function yAe(r){r._throwIfRoot("deleteObject");const e=cAe(r.storage,r._location);return r.storage.makeRequestWithTokens(e,tO)}function wAe(r,e){const t=tAe(r._location.path,e),n=new Gu(r._location.bucket,t);return new Aw(r.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BAe(r){return/^[A-Za-z]+:\/\//.test(r)}function CAe(r,e){return new Aw(r,e)}function wK(r,e){if(r instanceof rO){const t=r;if(t._bucket==null)throw Ine();const n=new Aw(t,t._bucket);return e!=null?wK(n,e):n}else return e!==void 0?wAe(r,e):r}function bAe(r,e){if(e&&BAe(e)){if(r instanceof rO)return CAe(r,e);throw v5("To use ref(service, url), the first argument must be a Storage instance.")}else return wK(r,e)}function o4(r,e){const t=e==null?void 0:e[oK];return t==null?null:Gu.makeFromBucketSpec(t,r)}function EAe(r,e,t,n={}){r.host=`${e}:${t}`;const A=Vm(e);A&&(WR(`https://${r.host}/b`),$R("Storage",!0)),r._isUsingEmulator=!0,r._protocol=A?"https":"http";const{mockUserToken:i}=n;i&&(r._overrideAuthToken=typeof i=="string"?i:V8(i,r.app.options.projectId))}class rO{constructor(e,t,n,A,i,s=!1){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=A,this._firebaseVersion=i,this._isUsingEmulator=s,this._bucket=null,this._host=sK,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=mne,this._maxUploadRetryTime=vne,this._requests=new Set,A!=null?this._bucket=Gu.makeFromBucketSpec(A,this._host):this._bucket=o4(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Gu.makeFromBucketSpec(this._url,e):this._bucket=o4(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){s4("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){s4("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Fc(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Aw(this,e)}_makeRequest(e,t,n,A,i=!0){if(this._deleted)return new Lne(aK());{const s=Kne(e,this._appId,n,A,t,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,t){const[n,A]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,A).getPromise()}}const a4="@firebase/storage",l4="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BK="storage";function YF(r,e,t){return r=Fi(r),mAe(r,e,t)}function JF(r){return r=Fi(r),vAe(r)}function u4(r){return r=Fi(r),yAe(r)}function XB(r,e){return r=Fi(r),bAe(r,e)}function Sx(r=JR(),e){r=Fi(r);const n=tx(r,BK).getImmediate({identifier:e}),A=M8("storage");return A&&_Ae(n,...A),n}function _Ae(r,e,t,n={}){EAe(r,e,t,n)}function SAe(r,{instanceIdentifier:e}){const t=r.getProvider("app").getImmediate(),n=r.getProvider("auth-internal"),A=r.getProvider("app-check-internal");return new rO(t,n,A,e,hw)}function FAe(){ew(new Fm(BK,SAe,"PUBLIC").setMultipleInstances(!0)),qf(a4,l4,""),qf(a4,l4,"esm2017")}FAe();const IAe={apiKey:"AIzaSyANY0rLtbMBGT9xgOgU0kl9n5dsXtwRXSA",authDomain:"summaraize-c3fb6.firebaseapp.com",projectId:"summaraize-c3fb6",storageBucket:"summaraize-c3fb6.firebasestorage.app",messagingSenderId:"742870183372",appId:"1:742870183372:web:b204ff0afceb0d21f00169",measurementId:"G-8Q5DTETBWH"},nO=z8(IAe),Mh=S7(nO),CK=new yp,yA=Ane(nO),xAe=Sx(nO),bK="/assets/GoogleLogo-DawM6DZh.png";var EK={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},c4=Dt.createContext&&Dt.createContext(EK),UAe=["attr","size","title"];function TAe(r,e){if(r==null)return{};var t=QAe(r,e),n,A;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(A=0;A<i.length;A++)n=i[A],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function QAe(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function ZF(){return ZF=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},ZF.apply(this,arguments)}function h4(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(A){return Object.getOwnPropertyDescriptor(r,A).enumerable})),t.push.apply(t,n)}return t}function eI(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?h4(Object(t),!0).forEach(function(n){LAe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):h4(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function LAe(r,e,t){return e=NAe(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function NAe(r){var e=RAe(r,"string");return typeof e=="symbol"?e:e+""}function RAe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function _K(r){return r&&r.map((e,t)=>Dt.createElement(e.tag,eI({key:t},e.attr),_K(e.child)))}function Fx(r){return e=>Dt.createElement(PAe,ZF({attr:eI({},r.attr)},e),_K(r.child))}function PAe(r){var e=t=>{var{attr:n,size:A,title:i}=r,s=TAe(r,UAe),o=A||t.size||"1em",a;return t.className&&(a=t.className),r.className&&(a=(a?a+" ":"")+r.className),Dt.createElement("svg",ZF({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,s,{className:a,style:eI(eI({color:r.color||t.color},t.style),r.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),i&&Dt.createElement("title",null,i),r.children)};return c4!==void 0?Dt.createElement(c4.Consumer,null,t=>e(t)):e(EK)}function AO(r){return Fx({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M248,124a56.11,56.11,0,0,0-32-50.61V72a48,48,0,0,0-88-26.49A48,48,0,0,0,40,72v1.39a56,56,0,0,0,0,101.2V176a48,48,0,0,0,88,26.49A48,48,0,0,0,216,176v-1.41A56.09,56.09,0,0,0,248,124ZM88,208a32,32,0,0,1-31.81-28.56A55.87,55.87,0,0,0,64,180h8a8,8,0,0,0,0-16H64A40,40,0,0,1,50.67,86.27,8,8,0,0,0,56,78.73V72a32,32,0,0,1,64,0v68.26A47.8,47.8,0,0,0,88,128a8,8,0,0,0,0,16,32,32,0,0,1,0,64Zm104-44h-8a8,8,0,0,0,0,16h8a55.87,55.87,0,0,0,7.81-.56A32,32,0,1,1,168,144a8,8,0,0,0,0-16,47.8,47.8,0,0,0-32,12.26V72a32,32,0,0,1,64,0v6.73a8,8,0,0,0,5.33,7.54A40,40,0,0,1,192,164Zm16-52a8,8,0,0,1-8,8h-4a36,36,0,0,1-36-36V80a8,8,0,0,1,16,0v4a20,20,0,0,0,20,20h4A8,8,0,0,1,208,112ZM60,120H56a8,8,0,0,1,0-16h4A20,20,0,0,0,80,84V80a8,8,0,0,1,16,0v4A36,36,0,0,1,60,120Z"},child:[]}]})(r)}function iO(r){return Fx({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M428 224H288a48 48 0 0 1-48-48V36a4 4 0 0 0-4-4h-92a64 64 0 0 0-64 64v320a64 64 0 0 0 64 64h224a64 64 0 0 0 64-64V228a4 4 0 0 0-4-4zm-92 160H176a16 16 0 0 1 0-32h160a16 16 0 0 1 0 32zm0-80H176a16 16 0 0 1 0-32h160a16 16 0 0 1 0 32z"},child:[]},{tag:"path",attr:{d:"M419.22 188.59 275.41 44.78a2 2 0 0 0-3.41 1.41V176a16 16 0 0 0 16 16h129.81a2 2 0 0 0 1.41-3.41z"},child:[]}]})(r)}function sO(r){return Fx({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 8.04l-12.122 12.124a2.857 2.857 0 1 1 -4.041 -4.04l12.122 -12.124"},child:[]},{tag:"path",attr:{d:"M7 13h8"},child:[]},{tag:"path",attr:{d:"M19 15l1.5 1.6a2 2 0 1 1 -3 0l1.5 -1.6z"},child:[]},{tag:"path",attr:{d:"M15 3l6 6"},child:[]}]})(r)}function oO(r){return Fx({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(r)}const aO=()=>{const r=wl();return J.jsxs("nav",{className:"navbar",children:[J.jsx("div",{className:"navbar-title",onClick:()=>r("/"),children:"SummarAIze"}),J.jsx("button",{className:"navbar-home",onClick:()=>r("/"),children:"Home"})]})},OAe=()=>{const r=wl(),e=async()=>{try{const n=(await E7(Mh,CK)).user;(await Rc(mi(yA,"users",n.uid))).exists()?r("/dashboard"):(alert("Account does not exist. Please register first."),await Mh.signOut())}catch(t){console.error("Login error",t),alert("Authentication failed. Please try again.")}};return J.jsxs("div",{className:"home-container",children:[J.jsx(aO,{}),J.jsxs("div",{className:"login-container",children:[J.jsxs("h1",{className:"slogan",children:["Summarize",J.jsx("br",{}),"Smarter.",J.jsx("br",{}),"Learn Faster."]}),J.jsxs("div",{className:"login-card",children:[J.jsx("h1",{className:"login-title",children:"Welcome Back!"}),J.jsx("p",{className:"login-subtitle",children:"Sign in to continue."}),J.jsx("button",{className:"google-signin-btn",onClick:e,children:J.jsx("img",{src:bK,alt:"Sign in with Google"})}),J.jsxs("p",{className:"register-prompt",children:["Dont have an account?"," ",J.jsx("button",{className:"register-button",onClick:()=>r("/register"),children:"Register Here!"})]})]}),J.jsxs("div",{className:"feature-grid",children:[J.jsxs("div",{className:"feature-item",children:[J.jsx(iO,{size:80}),J.jsxs("p",{children:["Smart",J.jsx("br",{}),"Summaries"]})]}),J.jsxs("div",{className:"feature-item",children:[J.jsx(AO,{size:80}),J.jsxs("p",{children:["Visual",J.jsx("br",{}),"Mind Maps"]})]}),J.jsxs("div",{className:"feature-item",children:[J.jsx(sO,{size:80}),J.jsxs("p",{children:["Mock Test",J.jsx("br",{}),"Mode"]})]}),J.jsxs("div",{className:"feature-item",children:[J.jsx(oO,{size:80}),J.jsxs("p",{children:["Save &",J.jsx("br",{}),"Export"]})]})]})]})]})},kAe=()=>{const r=wl(),e=async()=>{try{const n=(await E7(Mh,CK)).user;(await Rc(mi(yA,"users",n.uid))).exists()?(alert("Account already exists. Redirecting to dashboard..."),r("/dashboard")):(await $P(mi(yA,"users",n.uid),{name:n.displayName,email:n.email,createdAt:new Date}),r("/dashboard"))}catch(t){console.error("Registration error",t),alert("Registration failed. Please try again.")}};return J.jsxs("div",{className:"home-container",children:[J.jsx(aO,{}),J.jsxs("div",{className:"register-container",children:[J.jsxs("h1",{className:"slogan",children:["Summarize",J.jsx("br",{}),"Smarter.",J.jsx("br",{}),"Learn Faster."]}),J.jsxs("div",{className:"register-card",children:[J.jsx("h1",{className:"register-title",children:"Create Your Account"}),J.jsx("p",{className:"register-subtitle",children:"Start simplifying your studies."}),J.jsx("button",{className:"google-signin-btn",onClick:e,children:J.jsx("img",{src:bK,alt:"Sign in with Google"})}),J.jsxs("p",{className:"login-prompt",children:["Already have an account?"," ",J.jsx("button",{className:"login-button",onClick:()=>r("/login"),children:"Log In"})]})]}),J.jsxs("div",{className:"feature-grid",children:[J.jsxs("div",{className:"feature-item",children:[J.jsx(iO,{size:80}),J.jsxs("p",{children:["Smart",J.jsx("br",{}),"Summaries"]})]}),J.jsxs("div",{className:"feature-item",children:[J.jsx(AO,{size:80}),J.jsxs("p",{children:["Visual",J.jsx("br",{}),"Mind Maps"]})]}),J.jsxs("div",{className:"feature-item",children:[J.jsx(sO,{size:80}),J.jsxs("p",{children:["Mock Test",J.jsx("br",{}),"Mode"]})]}),J.jsxs("div",{className:"feature-item",children:[J.jsx(oO,{size:80}),J.jsxs("p",{children:["Save &",J.jsx("br",{}),"Export"]})]})]})]})]})},DAe="/assets/HomeComputer-I_e0DaL-.svg",MAe=()=>{const r=wl();return J.jsxs("div",{className:"home-container",children:[J.jsx(aO,{}),J.jsxs("div",{className:"home-split-section",children:[J.jsxs("div",{className:"home-left",children:[J.jsxs("section",{className:"home-about",children:[J.jsx("p",{children:"Your Personal Smart Study Companion"}),J.jsxs("h1",{children:["Our Intelligent Technology",J.jsx("br",{}),"Provides Solutions and Services",J.jsx("br",{}),"Like No Other"]})]}),J.jsx("section",{className:"home-features",children:J.jsxs("ul",{children:[J.jsxs("li",{children:[J.jsx(iO,{})," Summarize PDFs, Word docs & images using AI"]}),J.jsxs("li",{children:[J.jsx(AO,{})," Generate interactive mind maps to visualize concepts"]}),J.jsxs("li",{children:[J.jsx(sO,{})," Simulate past-year exams and track performance"]}),J.jsxs("li",{children:[J.jsx(oO,{})," Customize outputs & export to PDF/DOCX/TXT"]})]})})]}),J.jsxs("div",{className:"home-right",children:[J.jsx("div",{className:"home-image-wrapper",children:J.jsx("img",{src:DAe,alt:"Computer Illustration",className:"home-side-image"})}),J.jsxs("div",{className:"home-buttons",children:[J.jsx("button",{onClick:()=>r("/login"),className:"home-button",children:"Login"}),J.jsx("button",{onClick:()=>r("/register"),className:"home-button",children:"Register"})]})]})]}),J.jsxs("section",{className:"home-techstack",children:[J.jsx("h2",{children:"Tech Stack"}),J.jsxs("p",{children:["SummarAIze is built using ",J.jsx("strong",{children:"React"}),", ",J.jsx("strong",{children:"FastAPI"}),", ",J.jsx("strong",{children:"Firebase"}),",",J.jsx("strong",{children:" OpenAI"}),", and ",J.jsx("strong",{children:"Tesseract OCR"})," for full AI-powered performance and scalability."]})]})]})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function HAe(r,e,t,n){function A(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function o(l){try{u(n.next(l))}catch(c){s(c)}}function a(l){try{u(n.throw(l))}catch(c){s(c)}}function u(l){l.done?i(l.value):A(l.value).then(o,a)}u((n=n.apply(r,[])).next())})}function jAe(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,A,i,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(l){return a([u,l])}}function a(u){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,A&&(i=u[0]&2?A.return:u[0]?A.throw||((i=A.return)&&i.call(A),0):A.next)&&!(i=i.call(A,u[1])).done)return i;switch(A=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,A=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){t.label=u[1];break}if(u[0]===6&&t.label<i[1]){t.label=i[1],i=u;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(u);break}i[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(r,t)}catch(l){u=[6,l],A=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var y0=function(){return y0=Object.assign||function(e){for(var t,n=1,A=arguments.length;n<A;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},y0.apply(this,arguments)},SK=function(r){return{loading:r==null,value:r}},VAe=function(){return function(r,e){switch(e.type){case"error":return y0(y0({},r),{error:e.error,loading:!1,value:void 0});case"reset":return SK(e.defaultValue);case"value":return y0(y0({},r),{error:void 0,loading:!1,value:e.value});default:return r}}},KAe=function(r){var e=r?r():void 0,t=me.useReducer(VAe(),SK(e)),n=t[0],A=t[1],i=me.useCallback(function(){var a=r?r():void 0;A({type:"reset",defaultValue:a})},[r]),s=me.useCallback(function(a){A({type:"error",error:a})},[]),o=me.useCallback(function(a){A({type:"value",value:a})},[]);return me.useMemo(function(){return{error:n.error,loading:n.loading,reset:i,setError:s,setValue:o,value:n.value}},[n.error,n.loading,i,s,o,n.value])},FK=function(r,e){var t=KAe(function(){return r.currentUser}),n=t.error,A=t.loading,i=t.setError,s=t.setValue,o=t.value;return me.useEffect(function(){var a=a1(r,function(u){return HAe(void 0,void 0,void 0,function(){var l;return jAe(this,function(c){switch(c.label){case 0:return[3,4];case 1:return c.trys.push([1,3,,4]),[4,e.onUserChanged(u)];case 2:return c.sent(),[3,4];case 3:return l=c.sent(),i(l),[3,4];case 4:return s(u),[2]}})})},i);return function(){a()}},[r]),[o,A,n]};const Pc=()=>{const r=wl(),[e]=FK(Mh),t=()=>{$J(Mh).then(()=>r("/login"))};return J.jsxs("nav",{className:"navbar",children:[J.jsx("div",{className:"navbar-title",onClick:()=>r("/dashboard"),children:"SummarAIze"}),J.jsxs("div",{className:"navbar-right",children:[J.jsxs("div",{className:"navbar-links",children:[J.jsx("button",{className:"navbar-home",onClick:()=>r("/testmodeupload"),children:"Test Mode"}),J.jsx("button",{className:"navbar-home",onClick:()=>r("/mindmapgenerator"),children:"Mindmap"}),J.jsx("button",{className:"navbar-home",onClick:()=>r("/summarizer"),children:"Summarizer"}),J.jsx("button",{className:"navbar-home",onClick:t,children:"Logout"})]}),e&&J.jsxs("div",{className:"navbar-user",children:[e.photoURL&&J.jsx("img",{src:e.photoURL,alt:"Profile",className:"navbar-avatar"}),J.jsxs("div",{className:"navbar-user-info",children:[J.jsx("p",{children:e.displayName||"User"}),J.jsx("span",{children:e.email})]})]})]})]})};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var y5=function(r,e){return y5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var A in n)Object.prototype.hasOwnProperty.call(n,A)&&(t[A]=n[A])},y5(r,e)};function Gh(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");y5(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var w5=function(){return w5=Object.assign||function(e){for(var t,n=1,A=arguments.length;n<A;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},w5.apply(this,arguments)};function fl(r,e,t,n){function A(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function o(l){try{u(n.next(l))}catch(c){s(c)}}function a(l){try{u(n.throw(l))}catch(c){s(c)}}function u(l){l.done?i(l.value):A(l.value).then(o,a)}u((n=n.apply(r,[])).next())})}function Qa(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,A,i,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(l){return a([u,l])}}function a(u){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,A&&(i=u[0]&2?A.return:u[0]?A.throw||((i=A.return)&&i.call(A),0):A.next)&&!(i=i.call(A,u[1])).done)return i;switch(A=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,A=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){t.label=u[1];break}if(u[0]===6&&t.label<i[1]){t.label=i[1],i=u;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(u);break}i[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(r,t)}catch(l){u=[6,l],A=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function k2(r,e,t){if(arguments.length===2)for(var n=0,A=e.length,i;n<A;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return r.concat(i||e)}var Np=function(){function r(e,t,n,A){this.left=e,this.top=t,this.width=n,this.height=A}return r.prototype.add=function(e,t,n,A){return new r(this.left+e,this.top+t,this.width+n,this.height+A)},r.fromClientRect=function(e,t){return new r(t.left+e.windowBounds.left,t.top+e.windowBounds.top,t.width,t.height)},r.fromDOMRectList=function(e,t){var n=Array.from(t).find(function(A){return A.width!==0});return n?new r(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):r.EMPTY},r.EMPTY=new r(0,0,0,0),r}(),Ix=function(r,e){return Np.fromClientRect(r,e.getBoundingClientRect())},GAe=function(r){var e=r.body,t=r.documentElement;if(!e||!t)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,t.scrollWidth),Math.max(e.offsetWidth,t.offsetWidth),Math.max(e.clientWidth,t.clientWidth)),A=Math.max(Math.max(e.scrollHeight,t.scrollHeight),Math.max(e.offsetHeight,t.offsetHeight),Math.max(e.clientHeight,t.clientHeight));return new Np(0,0,n,A)},xx=function(r){for(var e=[],t=0,n=r.length;t<n;){var A=r.charCodeAt(t++);if(A>=55296&&A<=56319&&t<n){var i=r.charCodeAt(t++);(i&64512)===56320?e.push(((A&1023)<<10)+(i&1023)+65536):(e.push(A),t--)}else e.push(A)}return e},is=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,r);var t=r.length;if(!t)return"";for(var n=[],A=-1,i="";++A<t;){var s=r[A];s<=65535?n.push(s):(s-=65536,n.push((s>>10)+55296,s%1024+56320)),(A+1===t||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},f4="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",zAe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var D2=0;D2<f4.length;D2++)zAe[f4.charCodeAt(D2)]=D2;var d4="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",TC=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var M2=0;M2<d4.length;M2++)TC[d4.charCodeAt(M2)]=M2;var qAe=function(r){var e=r.length*.75,t=r.length,n,A=0,i,s,o,a;r[r.length-1]==="="&&(e--,r[r.length-2]==="="&&e--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),l=Array.isArray(u)?u:new Uint8Array(u);for(n=0;n<t;n+=4)i=TC[r.charCodeAt(n)],s=TC[r.charCodeAt(n+1)],o=TC[r.charCodeAt(n+2)],a=TC[r.charCodeAt(n+3)],l[A++]=i<<2|s>>4,l[A++]=(s&15)<<4|o>>2,l[A++]=(o&3)<<6|a&63;return u},WAe=function(r){for(var e=r.length,t=[],n=0;n<e;n+=2)t.push(r[n+1]<<8|r[n]);return t},$Ae=function(r){for(var e=r.length,t=[],n=0;n<e;n+=4)t.push(r[n+3]<<24|r[n+2]<<16|r[n+1]<<8|r[n]);return t},Gy=5,lO=11,rT=2,XAe=lO-Gy,IK=65536>>Gy,YAe=1<<Gy,nT=YAe-1,JAe=1024>>Gy,ZAe=IK+JAe,eie=ZAe,tie=32,rie=eie+tie,nie=65536>>lO,Aie=1<<XAe,iie=Aie-1,p4=function(r,e,t){return r.slice?r.slice(e,t):new Uint16Array(Array.prototype.slice.call(r,e,t))},sie=function(r,e,t){return r.slice?r.slice(e,t):new Uint32Array(Array.prototype.slice.call(r,e,t))},oie=function(r,e){var t=qAe(r),n=Array.isArray(t)?$Ae(t):new Uint32Array(t),A=Array.isArray(t)?WAe(t):new Uint16Array(t),i=24,s=p4(A,i/2,n[4]/2),o=n[5]===2?p4(A,(i+n[4])/2):sie(n,Math.ceil((i+n[4])/4));return new aie(n[0],n[1],n[2],n[3],s,o)},aie=function(){function r(e,t,n,A,i,s){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=A,this.index=i,this.data=s}return r.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>Gy],t=(t<<rT)+(e&nT),this.data[t];if(e<=65535)return t=this.index[IK+(e-55296>>Gy)],t=(t<<rT)+(e&nT),this.data[t];if(e<this.highStart)return t=rie-nie+(e>>lO),t=this.index[t],t+=e>>Gy&iie,t=this.index[t],t=(t<<rT)+(e&nT),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},r}(),g4="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lie=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var H2=0;H2<g4.length;H2++)lie[g4.charCodeAt(H2)]=H2;var uie="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",m4=50,cie=1,xK=2,UK=3,hie=4,fie=5,v4=7,TK=8,y4=9,cm=10,B5=11,w4=12,C5=13,die=14,QC=15,b5=16,j2=17,sC=18,pie=19,B4=20,E5=21,oC=22,AT=23,Kw=24,Su=25,LC=26,NC=27,Gw=28,gie=29,Ev=30,mie=31,V2=32,K2=33,_5=34,S5=35,F5=36,Pb=37,I5=38,HS=39,jS=40,iT=41,QK=42,vie=43,yie=[9001,65288],LK="!",Un="",G2="",x5=oie(uie),Nd=[Ev,F5],U5=[cie,xK,UK,fie],NK=[cm,TK],C4=[NC,LC],wie=U5.concat(NK),b4=[I5,HS,jS,_5,S5],Bie=[QC,C5],Cie=function(r,e){e===void 0&&(e="strict");var t=[],n=[],A=[];return r.forEach(function(i,s){var o=x5.get(i);if(o>m4?(A.push(!0),o-=m4):A.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return n.push(s),t.push(b5);if(o===hie||o===B5){if(s===0)return n.push(s),t.push(Ev);var a=t[s-1];return wie.indexOf(a)===-1?(n.push(n[s-1]),t.push(a)):(n.push(s),t.push(Ev))}if(n.push(s),o===mie)return t.push(e==="strict"?E5:Pb);if(o===QK||o===gie)return t.push(Ev);if(o===vie)return i>=131072&&i<=196605||i>=196608&&i<=262141?t.push(Pb):t.push(Ev);t.push(o)}),[n,t,A]},sT=function(r,e,t,n){var A=n[t];if(Array.isArray(r)?r.indexOf(A)!==-1:r===A)for(var i=t;i<=n.length;){i++;var s=n[i];if(s===e)return!0;if(s!==cm)break}if(A===cm)for(var i=t;i>0;){i--;var o=n[i];if(Array.isArray(r)?r.indexOf(o)!==-1:r===o)for(var a=t;a<=n.length;){a++;var s=n[a];if(s===e)return!0;if(s!==cm)break}if(o!==cm)break}return!1},E4=function(r,e){for(var t=r;t>=0;){var n=e[t];if(n===cm)t--;else return n}return 0},bie=function(r,e,t,n,A){if(t[n]===0)return Un;var i=n-1;if(Array.isArray(A)&&A[i]===!0)return Un;var s=i-1,o=i+1,a=e[i],u=s>=0?e[s]:0,l=e[o];if(a===xK&&l===UK)return Un;if(U5.indexOf(a)!==-1)return LK;if(U5.indexOf(l)!==-1||NK.indexOf(l)!==-1)return Un;if(E4(i,e)===TK)return G2;if(x5.get(r[i])===B5||(a===V2||a===K2)&&x5.get(r[o])===B5||a===v4||l===v4||a===y4||[cm,C5,QC].indexOf(a)===-1&&l===y4||[j2,sC,pie,Kw,Gw].indexOf(l)!==-1||E4(i,e)===oC||sT(AT,oC,i,e)||sT([j2,sC],E5,i,e)||sT(w4,w4,i,e))return Un;if(a===cm)return G2;if(a===AT||l===AT)return Un;if(l===b5||a===b5)return G2;if([C5,QC,E5].indexOf(l)!==-1||a===die||u===F5&&Bie.indexOf(a)!==-1||a===Gw&&l===F5||l===B4||Nd.indexOf(l)!==-1&&a===Su||Nd.indexOf(a)!==-1&&l===Su||a===NC&&[Pb,V2,K2].indexOf(l)!==-1||[Pb,V2,K2].indexOf(a)!==-1&&l===LC||Nd.indexOf(a)!==-1&&C4.indexOf(l)!==-1||C4.indexOf(a)!==-1&&Nd.indexOf(l)!==-1||[NC,LC].indexOf(a)!==-1&&(l===Su||[oC,QC].indexOf(l)!==-1&&e[o+1]===Su)||[oC,QC].indexOf(a)!==-1&&l===Su||a===Su&&[Su,Gw,Kw].indexOf(l)!==-1)return Un;if([Su,Gw,Kw,j2,sC].indexOf(l)!==-1)for(var c=i;c>=0;){var h=e[c];if(h===Su)return Un;if([Gw,Kw].indexOf(h)!==-1)c--;else break}if([NC,LC].indexOf(l)!==-1)for(var c=[j2,sC].indexOf(a)!==-1?s:i;c>=0;){var h=e[c];if(h===Su)return Un;if([Gw,Kw].indexOf(h)!==-1)c--;else break}if(I5===a&&[I5,HS,_5,S5].indexOf(l)!==-1||[HS,_5].indexOf(a)!==-1&&[HS,jS].indexOf(l)!==-1||[jS,S5].indexOf(a)!==-1&&l===jS||b4.indexOf(a)!==-1&&[B4,LC].indexOf(l)!==-1||b4.indexOf(l)!==-1&&a===NC||Nd.indexOf(a)!==-1&&Nd.indexOf(l)!==-1||a===Kw&&Nd.indexOf(l)!==-1||Nd.concat(Su).indexOf(a)!==-1&&l===oC&&yie.indexOf(r[o])===-1||Nd.concat(Su).indexOf(l)!==-1&&a===sC)return Un;if(a===iT&&l===iT){for(var d=t[i],m=1;d>0&&(d--,e[d]===iT);)m++;if(m%2!==0)return Un}return a===V2&&l===K2?Un:G2},Eie=function(r,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var t=Cie(r,e.lineBreak),n=t[0],A=t[1],i=t[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(A=A.map(function(o){return[Su,Ev,QK].indexOf(o)!==-1?Pb:o}));var s=e.wordBreak==="keep-all"?i.map(function(o,a){return o&&r[a]>=19968&&r[a]<=40959}):void 0;return[n,A,s]},_ie=function(){function r(e,t,n,A){this.codePoints=e,this.required=t===LK,this.start=n,this.end=A}return r.prototype.slice=function(){return is.apply(void 0,this.codePoints.slice(this.start,this.end))},r}(),Sie=function(r,e){var t=xx(r),n=Eie(t,e),A=n[0],i=n[1],s=n[2],o=t.length,a=0,u=0;return{next:function(){if(u>=o)return{done:!0,value:null};for(var l=Un;u<o&&(l=bie(t,i,A,++u,s))===Un;);if(l!==Un||u===o){var c=new _ie(t,l,a,u);return a=u,{value:c,done:!1}}return{done:!0,value:null}}}},Fie=1,Iie=2,V_=4,_4=8,tI=10,S4=47,db=92,xie=9,Uie=32,z2=34,aC=61,Tie=35,Qie=36,Lie=37,q2=39,W2=40,lC=41,Nie=95,Wl=45,Rie=33,Pie=60,Oie=62,kie=64,Die=91,Mie=93,Hie=61,jie=123,$2=63,Vie=125,F4=124,Kie=126,Gie=128,I4=65533,oT=42,xv=43,zie=44,qie=58,Wie=59,Ob=46,$ie=0,Xie=8,Yie=11,Jie=14,Zie=31,ese=127,yf=-1,RK=48,PK=97,OK=101,tse=102,rse=117,nse=122,kK=65,DK=69,MK=70,Ase=85,ise=90,Ra=function(r){return r>=RK&&r<=57},sse=function(r){return r>=55296&&r<=57343},zw=function(r){return Ra(r)||r>=kK&&r<=MK||r>=PK&&r<=tse},ose=function(r){return r>=PK&&r<=nse},ase=function(r){return r>=kK&&r<=ise},lse=function(r){return ose(r)||ase(r)},use=function(r){return r>=Gie},X2=function(r){return r===tI||r===xie||r===Uie},rI=function(r){return lse(r)||use(r)||r===Nie},x4=function(r){return rI(r)||Ra(r)||r===Wl},cse=function(r){return r>=$ie&&r<=Xie||r===Yie||r>=Jie&&r<=Zie||r===ese},mg=function(r,e){return r!==db?!1:e!==tI},Y2=function(r,e,t){return r===Wl?rI(e)||mg(e,t):rI(r)?!0:!!(r===db&&mg(r,e))},aT=function(r,e,t){return r===xv||r===Wl?Ra(e)?!0:e===Ob&&Ra(t):Ra(r===Ob?e:r)},hse=function(r){var e=0,t=1;(r[e]===xv||r[e]===Wl)&&(r[e]===Wl&&(t=-1),e++);for(var n=[];Ra(r[e]);)n.push(r[e++]);var A=n.length?parseInt(is.apply(void 0,n),10):0;r[e]===Ob&&e++;for(var i=[];Ra(r[e]);)i.push(r[e++]);var s=i.length,o=s?parseInt(is.apply(void 0,i),10):0;(r[e]===DK||r[e]===OK)&&e++;var a=1;(r[e]===xv||r[e]===Wl)&&(r[e]===Wl&&(a=-1),e++);for(var u=[];Ra(r[e]);)u.push(r[e++]);var l=u.length?parseInt(is.apply(void 0,u),10):0;return t*(A+o*Math.pow(10,-s))*Math.pow(10,a*l)},fse={type:2},dse={type:3},pse={type:4},gse={type:13},mse={type:8},vse={type:21},yse={type:9},wse={type:10},Bse={type:11},Cse={type:12},bse={type:14},J2={type:23},Ese={type:1},_se={type:25},Sse={type:24},Fse={type:26},Ise={type:27},xse={type:28},Use={type:29},Tse={type:31},T5={type:32},HK=function(){function r(){this._value=[]}return r.prototype.write=function(e){this._value=this._value.concat(xx(e))},r.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==T5;)e.push(t),t=this.consumeToken();return e},r.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case z2:return this.consumeStringToken(z2);case Tie:var t=this.peekCodePoint(0),n=this.peekCodePoint(1),A=this.peekCodePoint(2);if(x4(t)||mg(n,A)){var i=Y2(t,n,A)?Iie:Fie,s=this.consumeName();return{type:5,value:s,flags:i}}break;case Qie:if(this.peekCodePoint(0)===aC)return this.consumeCodePoint(),gse;break;case q2:return this.consumeStringToken(q2);case W2:return fse;case lC:return dse;case oT:if(this.peekCodePoint(0)===aC)return this.consumeCodePoint(),bse;break;case xv:if(aT(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case zie:return pse;case Wl:var o=e,a=this.peekCodePoint(0),u=this.peekCodePoint(1);if(aT(o,a,u))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(Y2(o,a,u))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(a===Wl&&u===Oie)return this.consumeCodePoint(),this.consumeCodePoint(),Sse;break;case Ob:if(aT(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case S4:if(this.peekCodePoint(0)===oT)for(this.consumeCodePoint();;){var l=this.consumeCodePoint();if(l===oT&&(l=this.consumeCodePoint(),l===S4))return this.consumeToken();if(l===yf)return this.consumeToken()}break;case qie:return Fse;case Wie:return Ise;case Pie:if(this.peekCodePoint(0)===Rie&&this.peekCodePoint(1)===Wl&&this.peekCodePoint(2)===Wl)return this.consumeCodePoint(),this.consumeCodePoint(),_se;break;case kie:var c=this.peekCodePoint(0),h=this.peekCodePoint(1),d=this.peekCodePoint(2);if(Y2(c,h,d)){var s=this.consumeName();return{type:7,value:s}}break;case Die:return xse;case db:if(mg(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case Mie:return Use;case Hie:if(this.peekCodePoint(0)===aC)return this.consumeCodePoint(),mse;break;case jie:return Bse;case Vie:return Cse;case rse:case Ase:var m=this.peekCodePoint(0),g=this.peekCodePoint(1);return m===xv&&(zw(g)||g===$2)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case F4:if(this.peekCodePoint(0)===aC)return this.consumeCodePoint(),yse;if(this.peekCodePoint(0)===F4)return this.consumeCodePoint(),vse;break;case Kie:if(this.peekCodePoint(0)===aC)return this.consumeCodePoint(),wse;break;case yf:return T5}return X2(e)?(this.consumeWhiteSpace(),Tse):Ra(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):rI(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:is(e)}},r.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},r.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},r.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},r.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();zw(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var n=!1;t===$2&&e.length<6;)e.push(t),t=this.consumeCodePoint(),n=!0;if(n){var A=parseInt(is.apply(void 0,e.map(function(a){return a===$2?RK:a})),16),i=parseInt(is.apply(void 0,e.map(function(a){return a===$2?MK:a})),16);return{type:30,start:A,end:i}}var s=parseInt(is.apply(void 0,e),16);if(this.peekCodePoint(0)===Wl&&zw(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var o=[];zw(t)&&o.length<6;)o.push(t),t=this.consumeCodePoint();var i=parseInt(is.apply(void 0,o),16);return{type:30,start:s,end:i}}else return{type:30,start:s,end:s}},r.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===W2?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===W2?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},r.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===yf)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===q2||t===z2){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===yf||this.peekCodePoint(0)===lC)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),J2)}for(;;){var A=this.consumeCodePoint();if(A===yf||A===lC)return{type:22,value:is.apply(void 0,e)};if(X2(A))return this.consumeWhiteSpace(),this.peekCodePoint(0)===yf||this.peekCodePoint(0)===lC?(this.consumeCodePoint(),{type:22,value:is.apply(void 0,e)}):(this.consumeBadUrlRemnants(),J2);if(A===z2||A===q2||A===W2||cse(A))return this.consumeBadUrlRemnants(),J2;if(A===db)if(mg(A,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),J2;else e.push(A)}},r.prototype.consumeWhiteSpace=function(){for(;X2(this.peekCodePoint(0));)this.consumeCodePoint()},r.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===lC||e===yf)return;mg(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},r.prototype.consumeStringSlice=function(e){for(var t=5e4,n="";e>0;){var A=Math.min(t,e);n+=is.apply(void 0,this._value.splice(0,A)),e-=A}return this._value.shift(),n},r.prototype.consumeStringToken=function(e){var t="",n=0;do{var A=this._value[n];if(A===yf||A===void 0||A===e)return t+=this.consumeStringSlice(n),{type:0,value:t};if(A===tI)return this._value.splice(0,n),Ese;if(A===db){var i=this._value[n+1];i!==yf&&i!==void 0&&(i===tI?(t+=this.consumeStringSlice(n),n=-1,this._value.shift()):mg(A,i)&&(t+=this.consumeStringSlice(n),t+=is(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},r.prototype.consumeNumber=function(){var e=[],t=V_,n=this.peekCodePoint(0);for((n===xv||n===Wl)&&e.push(this.consumeCodePoint());Ra(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var A=this.peekCodePoint(1);if(n===Ob&&Ra(A))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=_4;Ra(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),A=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((n===DK||n===OK)&&((A===xv||A===Wl)&&Ra(i)||Ra(A)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=_4;Ra(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[hse(e),t]},r.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],n=e[1],A=this.peekCodePoint(0),i=this.peekCodePoint(1),s=this.peekCodePoint(2);if(Y2(A,i,s)){var o=this.consumeName();return{type:15,number:t,flags:n,unit:o}}return A===Lie?(this.consumeCodePoint(),{type:16,number:t,flags:n}):{type:17,number:t,flags:n}},r.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(zw(e)){for(var t=is(e);zw(this.peekCodePoint(0))&&t.length<6;)t+=is(this.consumeCodePoint());X2(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(t,16);return n===0||sse(n)||n>1114111?I4:n}return e===yf?I4:e},r.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(x4(t))e+=is(t);else if(mg(t,this.peekCodePoint(0)))e+=is(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(t),e}},r}(),jK=function(){function r(e){this._tokens=e}return r.create=function(e){var t=new HK;return t.write(e),new r(t.read())},r.parseValue=function(e){return r.create(e).parseComponentValue()},r.parseValues=function(e){return r.create(e).parseComponentValues()},r.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},r.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(t.type===32)return e;e.push(t),e.push()}},r.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},r.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||Lse(n,e))return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue()),n=this.consumeToken()}},r.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue())}},r.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?T5:e},r.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},r}(),K_=function(r){return r.type===15},d1=function(r){return r.type===17},UA=function(r){return r.type===20},Qse=function(r){return r.type===0},Q5=function(r,e){return UA(r)&&r.value===e},VK=function(r){return r.type!==31},YB=function(r){return r.type!==31&&r.type!==4},sd=function(r){var e=[],t=[];return r.forEach(function(n){if(n.type===4){if(t.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(t),t=[];return}n.type!==31&&t.push(n)}),t.length&&e.push(t),e},Lse=function(r,e){return e===11&&r.type===12||e===28&&r.type===29?!0:e===2&&r.type===3},Rm=function(r){return r.type===17||r.type===15},Ss=function(r){return r.type===16||Rm(r)},KK=function(r){return r.length>1?[r[0],r[1]]:[r[0]]},Yo={type:17,number:0,flags:V_},uO={type:16,number:50,flags:V_},hm={type:16,number:100,flags:V_},RC=function(r,e,t){var n=r[0],A=r[1];return[XA(n,e),XA(typeof A<"u"?A:n,t)]},XA=function(r,e){if(r.type===16)return r.number/100*e;if(K_(r))switch(r.unit){case"rem":case"em":return 16*r.number;case"px":default:return r.number}return r.number},GK="deg",zK="grad",qK="rad",WK="turn",Ux={name:"angle",parse:function(r,e){if(e.type===15)switch(e.unit){case GK:return Math.PI*e.number/180;case zK:return Math.PI/200*e.number;case qK:return e.number;case WK:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},$K=function(r){return r.type===15&&(r.unit===GK||r.unit===zK||r.unit===qK||r.unit===WK)},XK=function(r){var e=r.filter(UA).map(function(t){return t.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Yo,Yo];case"to top":case"bottom":return Uc(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Yo,hm];case"to right":case"left":return Uc(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[hm,hm];case"to bottom":case"top":return Uc(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[hm,Yo];case"to left":case"right":return Uc(270)}return 0},Uc=function(r){return Math.PI*r/180},Bm={name:"color",parse:function(r,e){if(e.type===18){var t=Nse[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return t(r,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),A=e.value.substring(1,2),i=e.value.substring(2,3);return fm(parseInt(n+n,16),parseInt(A+A,16),parseInt(i+i,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),A=e.value.substring(1,2),i=e.value.substring(2,3),s=e.value.substring(3,4);return fm(parseInt(n+n,16),parseInt(A+A,16),parseInt(i+i,16),parseInt(s+s,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),A=e.value.substring(2,4),i=e.value.substring(4,6);return fm(parseInt(n,16),parseInt(A,16),parseInt(i,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),A=e.value.substring(2,4),i=e.value.substring(4,6),s=e.value.substring(6,8);return fm(parseInt(n,16),parseInt(A,16),parseInt(i,16),parseInt(s,16)/255)}}if(e.type===20){var o=_p[e.value.toUpperCase()];if(typeof o<"u")return o}return _p.TRANSPARENT}},Cm=function(r){return(255&r)===0},mo=function(r){var e=255&r,t=255&r>>8,n=255&r>>16,A=255&r>>24;return e<255?"rgba("+A+","+n+","+t+","+e/255+")":"rgb("+A+","+n+","+t+")"},fm=function(r,e,t,n){return(r<<24|e<<16|t<<8|Math.round(n*255)<<0)>>>0},U4=function(r,e){if(r.type===17)return r.number;if(r.type===16){var t=e===3?1:255;return e===3?r.number/100*t:Math.round(r.number/100*t)}return 0},T4=function(r,e){var t=e.filter(YB);if(t.length===3){var n=t.map(U4),A=n[0],i=n[1],s=n[2];return fm(A,i,s,1)}if(t.length===4){var o=t.map(U4),A=o[0],i=o[1],s=o[2],a=o[3];return fm(A,i,s,a)}return 0};function lT(r,e,t){return t<0&&(t+=1),t>=1&&(t-=1),t<1/6?(e-r)*t*6+r:t<1/2?e:t<2/3?(e-r)*6*(2/3-t)+r:r}var Q4=function(r,e){var t=e.filter(YB),n=t[0],A=t[1],i=t[2],s=t[3],o=(n.type===17?Uc(n.number):Ux.parse(r,n))/(Math.PI*2),a=Ss(A)?A.number/100:0,u=Ss(i)?i.number/100:0,l=typeof s<"u"&&Ss(s)?XA(s,1):1;if(a===0)return fm(u*255,u*255,u*255,1);var c=u<=.5?u*(a+1):u+a-u*a,h=u*2-c,d=lT(h,c,o+1/3),m=lT(h,c,o),g=lT(h,c,o-1/3);return fm(d*255,m*255,g*255,l)},Nse={hsl:Q4,hsla:Q4,rgb:T4,rgba:T4},pb=function(r,e){return Bm.parse(r,jK.create(e).parseComponentValue())},_p={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Rse={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(r,e){return e.map(function(t){if(UA(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Pse={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Tx=function(r,e){var t=Bm.parse(r,e[0]),n=e[1];return n&&Ss(n)?{color:t,stop:n}:{color:t,stop:null}},L4=function(r,e){var t=r[0],n=r[r.length-1];t.stop===null&&(t.stop=Yo),n.stop===null&&(n.stop=hm);for(var A=[],i=0,s=0;s<r.length;s++){var o=r[s].stop;if(o!==null){var a=XA(o,e);a>i?A.push(a):A.push(i),i=a}else A.push(null)}for(var u=null,s=0;s<A.length;s++){var l=A[s];if(l===null)u===null&&(u=s);else if(u!==null){for(var c=s-u,h=A[u-1],d=(l-h)/(c+1),m=1;m<=c;m++)A[u+m-1]=d*m;u=null}}return r.map(function(g,y){var v=g.color;return{color:v,stop:Math.max(Math.min(1,A[y]/e),0)}})},Ose=function(r,e,t){var n=e/2,A=t/2,i=XA(r[0],e)-n,s=A-XA(r[1],t);return(Math.atan2(s,i)+Math.PI*2)%(Math.PI*2)},kse=function(r,e,t){var n=typeof r=="number"?r:Ose(r,e,t),A=Math.abs(e*Math.sin(n))+Math.abs(t*Math.cos(n)),i=e/2,s=t/2,o=A/2,a=Math.sin(n-Math.PI/2)*o,u=Math.cos(n-Math.PI/2)*o;return[A,i-u,i+u,s-a,s+a]},gh=function(r,e){return Math.sqrt(r*r+e*e)},N4=function(r,e,t,n,A){var i=[[0,0],[0,e],[r,0],[r,e]];return i.reduce(function(s,o){var a=o[0],u=o[1],l=gh(t-a,n-u);return(A?l<s.optimumDistance:l>s.optimumDistance)?{optimumCorner:o,optimumDistance:l}:s},{optimumDistance:A?1/0:-1/0,optimumCorner:null}).optimumCorner},Dse=function(r,e,t,n,A){var i=0,s=0;switch(r.size){case 0:r.shape===0?i=s=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(t),Math.abs(t-A)):r.shape===1&&(i=Math.min(Math.abs(e),Math.abs(e-n)),s=Math.min(Math.abs(t),Math.abs(t-A)));break;case 2:if(r.shape===0)i=s=Math.min(gh(e,t),gh(e,t-A),gh(e-n,t),gh(e-n,t-A));else if(r.shape===1){var o=Math.min(Math.abs(t),Math.abs(t-A))/Math.min(Math.abs(e),Math.abs(e-n)),a=N4(n,A,e,t,!0),u=a[0],l=a[1];i=gh(u-e,(l-t)/o),s=o*i}break;case 1:r.shape===0?i=s=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(t),Math.abs(t-A)):r.shape===1&&(i=Math.max(Math.abs(e),Math.abs(e-n)),s=Math.max(Math.abs(t),Math.abs(t-A)));break;case 3:if(r.shape===0)i=s=Math.max(gh(e,t),gh(e,t-A),gh(e-n,t),gh(e-n,t-A));else if(r.shape===1){var o=Math.max(Math.abs(t),Math.abs(t-A))/Math.max(Math.abs(e),Math.abs(e-n)),c=N4(n,A,e,t,!1),u=c[0],l=c[1];i=gh(u-e,(l-t)/o),s=o*i}break}return Array.isArray(r.size)&&(i=XA(r.size[0],n),s=r.size.length===2?XA(r.size[1],A):i),[i,s]},Mse=function(r,e){var t=Uc(180),n=[];return sd(e).forEach(function(A,i){if(i===0){var s=A[0];if(s.type===20&&s.value==="to"){t=XK(A);return}else if($K(s)){t=Ux.parse(r,s);return}}var o=Tx(r,A);n.push(o)}),{angle:t,stops:n,type:1}},Z2=function(r,e){var t=Uc(180),n=[];return sd(e).forEach(function(A,i){if(i===0){var s=A[0];if(s.type===20&&["top","left","right","bottom"].indexOf(s.value)!==-1){t=XK(A);return}else if($K(s)){t=(Ux.parse(r,s)+Uc(270))%Uc(360);return}}var o=Tx(r,A);n.push(o)}),{angle:t,stops:n,type:1}},Hse=function(r,e){var t=Uc(180),n=[],A=1,i=0,s=3,o=[];return sd(e).forEach(function(a,u){var l=a[0];if(u===0){if(UA(l)&&l.value==="linear"){A=1;return}else if(UA(l)&&l.value==="radial"){A=2;return}}if(l.type===18){if(l.name==="from"){var c=Bm.parse(r,l.values[0]);n.push({stop:Yo,color:c})}else if(l.name==="to"){var c=Bm.parse(r,l.values[0]);n.push({stop:hm,color:c})}else if(l.name==="color-stop"){var h=l.values.filter(YB);if(h.length===2){var c=Bm.parse(r,h[1]),d=h[0];d1(d)&&n.push({stop:{type:16,number:d.number*100,flags:d.flags},color:c})}}}}),A===1?{angle:(t+Uc(180))%Uc(360),stops:n,type:A}:{size:s,shape:i,stops:n,position:o,type:A}},YK="closest-side",JK="farthest-side",ZK="closest-corner",e9="farthest-corner",t9="circle",r9="ellipse",n9="cover",A9="contain",jse=function(r,e){var t=0,n=3,A=[],i=[];return sd(e).forEach(function(s,o){var a=!0;if(o===0){var u=!1;a=s.reduce(function(c,h){if(u)if(UA(h))switch(h.value){case"center":return i.push(uO),c;case"top":case"left":return i.push(Yo),c;case"right":case"bottom":return i.push(hm),c}else(Ss(h)||Rm(h))&&i.push(h);else if(UA(h))switch(h.value){case t9:return t=0,!1;case r9:return t=1,!1;case"at":return u=!0,!1;case YK:return n=0,!1;case n9:case JK:return n=1,!1;case A9:case ZK:return n=2,!1;case e9:return n=3,!1}else if(Rm(h)||Ss(h))return Array.isArray(n)||(n=[]),n.push(h),!1;return c},a)}if(a){var l=Tx(r,s);A.push(l)}}),{size:n,shape:t,stops:A,position:i,type:2}},eS=function(r,e){var t=0,n=3,A=[],i=[];return sd(e).forEach(function(s,o){var a=!0;if(o===0?a=s.reduce(function(l,c){if(UA(c))switch(c.value){case"center":return i.push(uO),!1;case"top":case"left":return i.push(Yo),!1;case"right":case"bottom":return i.push(hm),!1}else if(Ss(c)||Rm(c))return i.push(c),!1;return l},a):o===1&&(a=s.reduce(function(l,c){if(UA(c))switch(c.value){case t9:return t=0,!1;case r9:return t=1,!1;case A9:case YK:return n=0,!1;case JK:return n=1,!1;case ZK:return n=2,!1;case n9:case e9:return n=3,!1}else if(Rm(c)||Ss(c))return Array.isArray(n)||(n=[]),n.push(c),!1;return l},a)),a){var u=Tx(r,s);A.push(u)}}),{size:n,shape:t,stops:A,position:i,type:2}},Vse=function(r){return r.type===1},Kse=function(r){return r.type===2},cO={name:"image",parse:function(r,e){if(e.type===22){var t={url:e.value,type:0};return r.cache.addImage(e.value),t}if(e.type===18){var n=i9[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(r,e.values)}throw new Error("Unsupported image type "+e.type)}};function Gse(r){return!(r.type===20&&r.value==="none")&&(r.type!==18||!!i9[r.name])}var i9={"linear-gradient":Mse,"-moz-linear-gradient":Z2,"-ms-linear-gradient":Z2,"-o-linear-gradient":Z2,"-webkit-linear-gradient":Z2,"radial-gradient":jse,"-moz-radial-gradient":eS,"-ms-radial-gradient":eS,"-o-radial-gradient":eS,"-webkit-radial-gradient":eS,"-webkit-gradient":Hse},zse={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(r,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e.filter(function(n){return YB(n)&&Gse(n)}).map(function(n){return cO.parse(r,n)})}},qse={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(r,e){return e.map(function(t){if(UA(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Wse={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(r,e){return sd(e).map(function(t){return t.filter(Ss)}).map(KK)}},$se={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(r,e){return sd(e).map(function(t){return t.filter(UA).map(function(n){return n.value}).join(" ")}).map(Xse)}},Xse=function(r){switch(r){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},x0;(function(r){r.AUTO="auto",r.CONTAIN="contain",r.COVER="cover"})(x0||(x0={}));var Yse={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(r,e){return sd(e).map(function(t){return t.filter(Jse)})}},Jse=function(r){return UA(r)||Ss(r)},Qx=function(r){return{name:"border-"+r+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Zse=Qx("top"),eoe=Qx("right"),toe=Qx("bottom"),roe=Qx("left"),Lx=function(r){return{name:"border-radius-"+r,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return KK(t.filter(Ss))}}},noe=Lx("top-left"),Aoe=Lx("top-right"),ioe=Lx("bottom-right"),soe=Lx("bottom-left"),Nx=function(r){return{name:"border-"+r+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},ooe=Nx("top"),aoe=Nx("right"),loe=Nx("bottom"),uoe=Nx("left"),Rx=function(r){return{name:"border-"+r+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return K_(t)?t.number:0}}},coe=Rx("top"),hoe=Rx("right"),foe=Rx("bottom"),doe=Rx("left"),poe={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},goe={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(r,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},moe={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(r,e){return e.filter(UA).reduce(function(t,n){return t|voe(n.value)},0)}},voe=function(r){switch(r){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},yoe={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},woe={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(r,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},nI;(function(r){r.NORMAL="normal",r.STRICT="strict"})(nI||(nI={}));var Boe={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){switch(e){case"strict":return nI.STRICT;case"normal":default:return nI.NORMAL}}},Coe={name:"line-height",initialValue:"normal",prefix:!1,type:4},R4=function(r,e){return UA(r)&&r.value==="normal"?1.2*e:r.type===17?e*r.number:Ss(r)?XA(r,e):e},boe={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(r,e){return e.type===20&&e.value==="none"?null:cO.parse(r,e)}},Eoe={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(r,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},L5={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Px=function(r){return{name:"margin-"+r,initialValue:"0",prefix:!1,type:4}},_oe=Px("top"),Soe=Px("right"),Foe=Px("bottom"),Ioe=Px("left"),xoe={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(r,e){return e.filter(UA).map(function(t){switch(t.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},Uoe={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},Ox=function(r){return{name:"padding-"+r,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Toe=Ox("top"),Qoe=Ox("right"),Loe=Ox("bottom"),Noe=Ox("left"),Roe={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(r,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},Poe={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(r,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Ooe={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(r,e){return e.length===1&&Q5(e[0],"none")?[]:sd(e).map(function(t){for(var n={color:_p.TRANSPARENT,offsetX:Yo,offsetY:Yo,blur:Yo},A=0,i=0;i<t.length;i++){var s=t[i];Rm(s)?(A===0?n.offsetX=s:A===1?n.offsetY=s:n.blur=s,A++):n.color=Bm.parse(r,s)}return n})}},koe={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Doe={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(r,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var t=joe[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return t(e.values)}return null}},Moe=function(r){var e=r.filter(function(t){return t.type===17}).map(function(t){return t.number});return e.length===6?e:null},Hoe=function(r){var e=r.filter(function(a){return a.type===17}).map(function(a){return a.number}),t=e[0],n=e[1];e[2],e[3];var A=e[4],i=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var s=e[12],o=e[13];return e[14],e[15],e.length===16?[t,n,A,i,s,o]:null},joe={matrix:Moe,matrix3d:Hoe},P4={type:16,number:50,flags:V_},Voe=[P4,P4],Koe={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(r,e){var t=e.filter(Ss);return t.length!==2?Voe:[t[0],t[1]]}},Goe={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},gb;(function(r){r.NORMAL="normal",r.BREAK_ALL="break-all",r.KEEP_ALL="keep-all"})(gb||(gb={}));var zoe={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){switch(e){case"break-all":return gb.BREAK_ALL;case"keep-all":return gb.KEEP_ALL;case"normal":default:return gb.NORMAL}}},qoe={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(r,e){if(e.type===20)return{auto:!0,order:0};if(d1(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},s9={name:"time",parse:function(r,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},Woe={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(r,e){return d1(e)?e.number:1}},$oe={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Xoe={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(r,e){return e.filter(UA).map(function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(t){return t!==0})}},Yoe={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(r,e){var t=[],n=[];return e.forEach(function(A){switch(A.type){case 20:case 0:t.push(A.value);break;case 17:t.push(A.number.toString());break;case 4:n.push(t.join(" ")),t.length=0;break}}),t.length&&n.push(t.join(" ")),n.map(function(A){return A.indexOf(" ")===-1?A:"'"+A+"'"})}},Joe={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Zoe={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(r,e){if(d1(e))return e.number;if(UA(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},eae={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(r,e){return e.filter(UA).map(function(t){return t.value})}},tae={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Zs=function(r,e){return(r&e)!==0},rae={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(r,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e}},nae={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(r,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;for(var n=[],A=e.filter(VK),i=0;i<A.length;i++){var s=A[i],o=A[i+1];if(s.type===20){var a=o&&d1(o)?o.number:1;n.push({counter:s.value,increment:a})}}return n}},Aae={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(r,e){if(e.length===0)return[];for(var t=[],n=e.filter(VK),A=0;A<n.length;A++){var i=n[A],s=n[A+1];if(UA(i)&&i.value!=="none"){var o=s&&d1(s)?s.number:0;t.push({counter:i.value,reset:o})}}return t}},iae={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(r,e){return e.filter(K_).map(function(t){return s9.parse(r,t)})}},sae={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(r,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;var n=[],A=e.filter(Qse);if(A.length%2!==0)return null;for(var i=0;i<A.length;i+=2){var s=A[i].value,o=A[i+1].value;n.push({open:s,close:o})}return n}},O4=function(r,e,t){if(!r)return"";var n=r[Math.min(e,r.length-1)];return n?t?n.open:n.close:""},oae={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(r,e){return e.length===1&&Q5(e[0],"none")?[]:sd(e).map(function(t){for(var n={color:255,offsetX:Yo,offsetY:Yo,blur:Yo,spread:Yo,inset:!1},A=0,i=0;i<t.length;i++){var s=t[i];Q5(s,"inset")?n.inset=!0:Rm(s)?(A===0?n.offsetX=s:A===1?n.offsetY=s:A===2?n.blur=s:n.spread=s,A++):n.color=Bm.parse(r,s)}return n})}},aae={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(r,e){var t=[0,1,2],n=[];return e.filter(UA).forEach(function(A){switch(A.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),t.forEach(function(A){n.indexOf(A)===-1&&n.push(A)}),n}},lae={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},uae={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(r,e){return K_(e)?e.number:0}},cae=function(){function r(e,t){var n,A;this.animationDuration=cr(e,iae,t.animationDuration),this.backgroundClip=cr(e,Rse,t.backgroundClip),this.backgroundColor=cr(e,Pse,t.backgroundColor),this.backgroundImage=cr(e,zse,t.backgroundImage),this.backgroundOrigin=cr(e,qse,t.backgroundOrigin),this.backgroundPosition=cr(e,Wse,t.backgroundPosition),this.backgroundRepeat=cr(e,$se,t.backgroundRepeat),this.backgroundSize=cr(e,Yse,t.backgroundSize),this.borderTopColor=cr(e,Zse,t.borderTopColor),this.borderRightColor=cr(e,eoe,t.borderRightColor),this.borderBottomColor=cr(e,toe,t.borderBottomColor),this.borderLeftColor=cr(e,roe,t.borderLeftColor),this.borderTopLeftRadius=cr(e,noe,t.borderTopLeftRadius),this.borderTopRightRadius=cr(e,Aoe,t.borderTopRightRadius),this.borderBottomRightRadius=cr(e,ioe,t.borderBottomRightRadius),this.borderBottomLeftRadius=cr(e,soe,t.borderBottomLeftRadius),this.borderTopStyle=cr(e,ooe,t.borderTopStyle),this.borderRightStyle=cr(e,aoe,t.borderRightStyle),this.borderBottomStyle=cr(e,loe,t.borderBottomStyle),this.borderLeftStyle=cr(e,uoe,t.borderLeftStyle),this.borderTopWidth=cr(e,coe,t.borderTopWidth),this.borderRightWidth=cr(e,hoe,t.borderRightWidth),this.borderBottomWidth=cr(e,foe,t.borderBottomWidth),this.borderLeftWidth=cr(e,doe,t.borderLeftWidth),this.boxShadow=cr(e,oae,t.boxShadow),this.color=cr(e,poe,t.color),this.direction=cr(e,goe,t.direction),this.display=cr(e,moe,t.display),this.float=cr(e,yoe,t.cssFloat),this.fontFamily=cr(e,Yoe,t.fontFamily),this.fontSize=cr(e,Joe,t.fontSize),this.fontStyle=cr(e,tae,t.fontStyle),this.fontVariant=cr(e,eae,t.fontVariant),this.fontWeight=cr(e,Zoe,t.fontWeight),this.letterSpacing=cr(e,woe,t.letterSpacing),this.lineBreak=cr(e,Boe,t.lineBreak),this.lineHeight=cr(e,Coe,t.lineHeight),this.listStyleImage=cr(e,boe,t.listStyleImage),this.listStylePosition=cr(e,Eoe,t.listStylePosition),this.listStyleType=cr(e,L5,t.listStyleType),this.marginTop=cr(e,_oe,t.marginTop),this.marginRight=cr(e,Soe,t.marginRight),this.marginBottom=cr(e,Foe,t.marginBottom),this.marginLeft=cr(e,Ioe,t.marginLeft),this.opacity=cr(e,Woe,t.opacity);var i=cr(e,xoe,t.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=cr(e,Uoe,t.overflowWrap),this.paddingTop=cr(e,Toe,t.paddingTop),this.paddingRight=cr(e,Qoe,t.paddingRight),this.paddingBottom=cr(e,Loe,t.paddingBottom),this.paddingLeft=cr(e,Noe,t.paddingLeft),this.paintOrder=cr(e,aae,t.paintOrder),this.position=cr(e,Poe,t.position),this.textAlign=cr(e,Roe,t.textAlign),this.textDecorationColor=cr(e,$oe,(n=t.textDecorationColor)!==null&&n!==void 0?n:t.color),this.textDecorationLine=cr(e,Xoe,(A=t.textDecorationLine)!==null&&A!==void 0?A:t.textDecoration),this.textShadow=cr(e,Ooe,t.textShadow),this.textTransform=cr(e,koe,t.textTransform),this.transform=cr(e,Doe,t.transform),this.transformOrigin=cr(e,Koe,t.transformOrigin),this.visibility=cr(e,Goe,t.visibility),this.webkitTextStrokeColor=cr(e,lae,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=cr(e,uae,t.webkitTextStrokeWidth),this.wordBreak=cr(e,zoe,t.wordBreak),this.zIndex=cr(e,qoe,t.zIndex)}return r.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},r.prototype.isTransparent=function(){return Cm(this.backgroundColor)},r.prototype.isTransformed=function(){return this.transform!==null},r.prototype.isPositioned=function(){return this.position!==0},r.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},r.prototype.isFloating=function(){return this.float!==0},r.prototype.isInlineLevel=function(){return Zs(this.display,4)||Zs(this.display,33554432)||Zs(this.display,268435456)||Zs(this.display,536870912)||Zs(this.display,67108864)||Zs(this.display,134217728)},r}(),hae=function(){function r(e,t){this.content=cr(e,rae,t.content),this.quotes=cr(e,sae,t.quotes)}return r}(),k4=function(){function r(e,t){this.counterIncrement=cr(e,nae,t.counterIncrement),this.counterReset=cr(e,Aae,t.counterReset)}return r}(),cr=function(r,e,t){var n=new HK,A=t!==null&&typeof t<"u"?t.toString():e.initialValue;n.write(A);var i=new jK(n.read());switch(e.type){case 2:var s=i.parseComponentValue();return e.parse(r,UA(s)?s.value:e.initialValue);case 0:return e.parse(r,i.parseComponentValue());case 1:return e.parse(r,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(e.format){case"angle":return Ux.parse(r,i.parseComponentValue());case"color":return Bm.parse(r,i.parseComponentValue());case"image":return cO.parse(r,i.parseComponentValue());case"length":var o=i.parseComponentValue();return Rm(o)?o:Yo;case"length-percentage":var a=i.parseComponentValue();return Ss(a)?a:Yo;case"time":return s9.parse(r,i.parseComponentValue())}break}},fae="data-html2canvas-debug",dae=function(r){var e=r.getAttribute(fae);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},N5=function(r,e){var t=dae(r);return t===1||e===t},od=function(){function r(e,t){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,N5(t,3))debugger;this.styles=new cae(e,window.getComputedStyle(t,null)),O5(t)&&(this.styles.animationDuration.some(function(n){return n>0})&&(t.style.animationDuration="0s"),this.styles.transform!==null&&(t.style.transform="none")),this.bounds=Ix(this.context,t),N5(t,4)&&(this.flags|=16)}return r}(),pae="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",D4="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",PC=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var tS=0;tS<D4.length;tS++)PC[D4.charCodeAt(tS)]=tS;var gae=function(r){var e=r.length*.75,t=r.length,n,A=0,i,s,o,a;r[r.length-1]==="="&&(e--,r[r.length-2]==="="&&e--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),l=Array.isArray(u)?u:new Uint8Array(u);for(n=0;n<t;n+=4)i=PC[r.charCodeAt(n)],s=PC[r.charCodeAt(n+1)],o=PC[r.charCodeAt(n+2)],a=PC[r.charCodeAt(n+3)],l[A++]=i<<2|s>>4,l[A++]=(s&15)<<4|o>>2,l[A++]=(o&3)<<6|a&63;return u},mae=function(r){for(var e=r.length,t=[],n=0;n<e;n+=2)t.push(r[n+1]<<8|r[n]);return t},vae=function(r){for(var e=r.length,t=[],n=0;n<e;n+=4)t.push(r[n+3]<<24|r[n+2]<<16|r[n+1]<<8|r[n]);return t},zy=5,hO=11,uT=2,yae=hO-zy,o9=65536>>zy,wae=1<<zy,cT=wae-1,Bae=1024>>zy,Cae=o9+Bae,bae=Cae,Eae=32,_ae=bae+Eae,Sae=65536>>hO,Fae=1<<yae,Iae=Fae-1,M4=function(r,e,t){return r.slice?r.slice(e,t):new Uint16Array(Array.prototype.slice.call(r,e,t))},xae=function(r,e,t){return r.slice?r.slice(e,t):new Uint32Array(Array.prototype.slice.call(r,e,t))},Uae=function(r,e){var t=gae(r),n=Array.isArray(t)?vae(t):new Uint32Array(t),A=Array.isArray(t)?mae(t):new Uint16Array(t),i=24,s=M4(A,i/2,n[4]/2),o=n[5]===2?M4(A,(i+n[4])/2):xae(n,Math.ceil((i+n[4])/4));return new Tae(n[0],n[1],n[2],n[3],s,o)},Tae=function(){function r(e,t,n,A,i,s){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=A,this.index=i,this.data=s}return r.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>zy],t=(t<<uT)+(e&cT),this.data[t];if(e<=65535)return t=this.index[o9+(e-55296>>zy)],t=(t<<uT)+(e&cT),this.data[t];if(e<this.highStart)return t=_ae-Sae+(e>>hO),t=this.index[t],t+=e>>zy&Iae,t=this.index[t],t=(t<<uT)+(e&cT),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},r}(),H4="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Qae=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var rS=0;rS<H4.length;rS++)Qae[H4.charCodeAt(rS)]=rS;var Lae=1,hT=2,fT=3,j4=4,V4=5,Nae=7,K4=8,dT=9,pT=10,G4=11,z4=12,q4=13,W4=14,gT=15,Rae=function(r){for(var e=[],t=0,n=r.length;t<n;){var A=r.charCodeAt(t++);if(A>=55296&&A<=56319&&t<n){var i=r.charCodeAt(t++);(i&64512)===56320?e.push(((A&1023)<<10)+(i&1023)+65536):(e.push(A),t--)}else e.push(A)}return e},Pae=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,r);var t=r.length;if(!t)return"";for(var n=[],A=-1,i="";++A<t;){var s=r[A];s<=65535?n.push(s):(s-=65536,n.push((s>>10)+55296,s%1024+56320)),(A+1===t||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},Oae=Uae(pae),gc="",mT="",kae=function(r){return Oae.get(r)},Dae=function(r,e,t){var n=t-2,A=e[n],i=e[t-1],s=e[t];if(i===hT&&s===fT)return gc;if(i===hT||i===fT||i===j4||s===hT||s===fT||s===j4)return mT;if(i===K4&&[K4,dT,G4,z4].indexOf(s)!==-1||(i===G4||i===dT)&&(s===dT||s===pT)||(i===z4||i===pT)&&s===pT||s===q4||s===V4||s===Nae||i===Lae)return gc;if(i===q4&&s===W4){for(;A===V4;)A=e[--n];if(A===W4)return gc}if(i===gT&&s===gT){for(var o=0;A===gT;)o++,A=e[--n];if(o%2===0)return gc}return mT},Mae=function(r){var e=Rae(r),t=e.length,n=0,A=0,i=e.map(kae);return{next:function(){if(n>=t)return{done:!0,value:null};for(var s=gc;n<t&&(s=Dae(e,i,++n))===gc;);if(s!==gc||n===t){var o=Pae.apply(null,e.slice(A,n));return A=n,{value:o,done:!1}}return{done:!0,value:null}}}},Hae=function(r){for(var e=Mae(r),t=[],n;!(n=e.next()).done;)n.value&&t.push(n.value.slice());return t},jae=function(r){var e=123;if(r.createRange){var t=r.createRange();if(t.getBoundingClientRect){var n=r.createElement("boundtest");n.style.height=e+"px",n.style.display="block",r.body.appendChild(n),t.selectNode(n);var A=t.getBoundingClientRect(),i=Math.round(A.height);if(r.body.removeChild(n),i===e)return!0}}return!1},Vae=function(r){var e=r.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",r.body.appendChild(e);var t=r.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,A=xx(n.data).map(function(a){return is(a)}),i=0,s={},o=A.every(function(a,u){t.setStart(n,i),t.setEnd(n,i+a.length);var l=t.getBoundingClientRect();i+=a.length;var c=l.x>s.x||l.y>s.y;return s=l,u===0?!0:c});return r.body.removeChild(e),o},Kae=function(){return typeof new Image().crossOrigin<"u"},Gae=function(){return typeof new XMLHttpRequest().responseType=="string"},zae=function(r){var e=new Image,t=r.createElement("canvas"),n=t.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),t.toDataURL()}catch{return!1}return!0},$4=function(r){return r[0]===0&&r[1]===255&&r[2]===0&&r[3]===255},qae=function(r){var e=r.createElement("canvas"),t=100;e.width=t,e.height=t;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,t,t);var A=new Image,i=e.toDataURL();A.src=i;var s=R5(t,t,0,0,A);return n.fillStyle="red",n.fillRect(0,0,t,t),X4(s).then(function(o){n.drawImage(o,0,0);var a=n.getImageData(0,0,t,t).data;n.fillStyle="red",n.fillRect(0,0,t,t);var u=r.createElement("div");return u.style.backgroundImage="url("+i+")",u.style.height=t+"px",$4(a)?X4(R5(t,t,0,0,u)):Promise.reject(!1)}).then(function(o){return n.drawImage(o,0,0),$4(n.getImageData(0,0,t,t).data)}).catch(function(){return!1})},R5=function(r,e,t,n,A){var i="http://www.w3.org/2000/svg",s=document.createElementNS(i,"svg"),o=document.createElementNS(i,"foreignObject");return s.setAttributeNS(null,"width",r.toString()),s.setAttributeNS(null,"height",e.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",t.toString()),o.setAttributeNS(null,"y",n.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),s.appendChild(o),o.appendChild(A),s},X4=function(r){return new Promise(function(e,t){var n=new Image;n.onload=function(){return e(n)},n.onerror=t,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(r))})},zo={get SUPPORT_RANGE_BOUNDS(){var r=jae(document);return Object.defineProperty(zo,"SUPPORT_RANGE_BOUNDS",{value:r}),r},get SUPPORT_WORD_BREAKING(){var r=zo.SUPPORT_RANGE_BOUNDS&&Vae(document);return Object.defineProperty(zo,"SUPPORT_WORD_BREAKING",{value:r}),r},get SUPPORT_SVG_DRAWING(){var r=zae(document);return Object.defineProperty(zo,"SUPPORT_SVG_DRAWING",{value:r}),r},get SUPPORT_FOREIGNOBJECT_DRAWING(){var r=typeof Array.from=="function"&&typeof window.fetch=="function"?qae(document):Promise.resolve(!1);return Object.defineProperty(zo,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:r}),r},get SUPPORT_CORS_IMAGES(){var r=Kae();return Object.defineProperty(zo,"SUPPORT_CORS_IMAGES",{value:r}),r},get SUPPORT_RESPONSE_TYPE(){var r=Gae();return Object.defineProperty(zo,"SUPPORT_RESPONSE_TYPE",{value:r}),r},get SUPPORT_CORS_XHR(){var r="withCredentials"in new XMLHttpRequest;return Object.defineProperty(zo,"SUPPORT_CORS_XHR",{value:r}),r},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var r=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(zo,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:r}),r}},mb=function(){function r(e,t){this.text=e,this.bounds=t}return r}(),Wae=function(r,e,t,n){var A=Yae(e,t),i=[],s=0;return A.forEach(function(o){if(t.textDecorationLine.length||o.trim().length>0)if(zo.SUPPORT_RANGE_BOUNDS){var a=Y4(n,s,o.length).getClientRects();if(a.length>1){var u=fO(o),l=0;u.forEach(function(h){i.push(new mb(h,Np.fromDOMRectList(r,Y4(n,l+s,h.length).getClientRects()))),l+=h.length})}else i.push(new mb(o,Np.fromDOMRectList(r,a)))}else{var c=n.splitText(o.length);i.push(new mb(o,$ae(r,n))),n=c}else zo.SUPPORT_RANGE_BOUNDS||(n=n.splitText(o.length));s+=o.length}),i},$ae=function(r,e){var t=e.ownerDocument;if(t){var n=t.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var A=e.parentNode;if(A){A.replaceChild(n,e);var i=Ix(r,n);return n.firstChild&&A.replaceChild(n.firstChild,n),i}}return Np.EMPTY},Y4=function(r,e,t){var n=r.ownerDocument;if(!n)throw new Error("Node has no owner document");var A=n.createRange();return A.setStart(r,e),A.setEnd(r,e+t),A},fO=function(r){if(zo.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(r)).map(function(t){return t.segment})}return Hae(r)},Xae=function(r,e){if(zo.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(t.segment(r)).map(function(n){return n.segment})}return Zae(r,e)},Yae=function(r,e){return e.letterSpacing!==0?fO(r):Xae(r,e)},Jae=[32,160,4961,65792,65793,4153,4241],Zae=function(r,e){for(var t=Sie(r,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],A,i=function(){if(A.value){var s=A.value.slice(),o=xx(s),a="";o.forEach(function(u){Jae.indexOf(u)===-1?a+=is(u):(a.length&&n.push(a),n.push(is(u)),a="")}),a.length&&n.push(a)}};!(A=t.next()).done;)i();return n},ele=function(){function r(e,t,n){this.text=tle(t.data,n.textTransform),this.textBounds=Wae(e,this.text,n,t)}return r}(),tle=function(r,e){switch(e){case 1:return r.toLowerCase();case 3:return r.replace(rle,nle);case 2:return r.toUpperCase();default:return r}},rle=/(^|\s|:|-|\(|\))([a-z])/g,nle=function(r,e,t){return r.length>0?e+t.toUpperCase():r},a9=function(r){Gh(e,r);function e(t,n){var A=r.call(this,t,n)||this;return A.src=n.currentSrc||n.src,A.intrinsicWidth=n.naturalWidth,A.intrinsicHeight=n.naturalHeight,A.context.cache.addImage(A.src),A}return e}(od),l9=function(r){Gh(e,r);function e(t,n){var A=r.call(this,t,n)||this;return A.canvas=n,A.intrinsicWidth=n.width,A.intrinsicHeight=n.height,A}return e}(od),u9=function(r){Gh(e,r);function e(t,n){var A=r.call(this,t,n)||this,i=new XMLSerializer,s=Ix(t,n);return n.setAttribute("width",s.width+"px"),n.setAttribute("height",s.height+"px"),A.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(n)),A.intrinsicWidth=n.width.baseVal.value,A.intrinsicHeight=n.height.baseVal.value,A.context.cache.addImage(A.svg),A}return e}(od),c9=function(r){Gh(e,r);function e(t,n){var A=r.call(this,t,n)||this;return A.value=n.value,A}return e}(od),P5=function(r){Gh(e,r);function e(t,n){var A=r.call(this,t,n)||this;return A.start=n.start,A.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,A}return e}(od),Ale=[{type:15,flags:0,unit:"px",number:3}],ile=[{type:16,flags:0,number:50}],sle=function(r){return r.width>r.height?new Np(r.left+(r.width-r.height)/2,r.top,r.height,r.height):r.width<r.height?new Np(r.left,r.top+(r.height-r.width)/2,r.width,r.width):r},ole=function(r){var e=r.type===ale?new Array(r.value.length+1).join(""):r.value;return e.length===0?r.placeholder||"":e},AI="checkbox",iI="radio",ale="password",J4=707406591,dO=function(r){Gh(e,r);function e(t,n){var A=r.call(this,t,n)||this;switch(A.type=n.type.toLowerCase(),A.checked=n.checked,A.value=ole(n),(A.type===AI||A.type===iI)&&(A.styles.backgroundColor=3739148031,A.styles.borderTopColor=A.styles.borderRightColor=A.styles.borderBottomColor=A.styles.borderLeftColor=2779096575,A.styles.borderTopWidth=A.styles.borderRightWidth=A.styles.borderBottomWidth=A.styles.borderLeftWidth=1,A.styles.borderTopStyle=A.styles.borderRightStyle=A.styles.borderBottomStyle=A.styles.borderLeftStyle=1,A.styles.backgroundClip=[0],A.styles.backgroundOrigin=[0],A.bounds=sle(A.bounds)),A.type){case AI:A.styles.borderTopRightRadius=A.styles.borderTopLeftRadius=A.styles.borderBottomRightRadius=A.styles.borderBottomLeftRadius=Ale;break;case iI:A.styles.borderTopRightRadius=A.styles.borderTopLeftRadius=A.styles.borderBottomRightRadius=A.styles.borderBottomLeftRadius=ile;break}return A}return e}(od),h9=function(r){Gh(e,r);function e(t,n){var A=r.call(this,t,n)||this,i=n.options[n.selectedIndex||0];return A.value=i&&i.text||"",A}return e}(od),f9=function(r){Gh(e,r);function e(t,n){var A=r.call(this,t,n)||this;return A.value=n.value,A}return e}(od),d9=function(r){Gh(e,r);function e(t,n){var A=r.call(this,t,n)||this;A.src=n.src,A.width=parseInt(n.width,10)||0,A.height=parseInt(n.height,10)||0,A.backgroundColor=A.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){A.tree=g9(t,n.contentWindow.document.documentElement);var i=n.contentWindow.document.documentElement?pb(t,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):_p.TRANSPARENT,s=n.contentWindow.document.body?pb(t,getComputedStyle(n.contentWindow.document.body).backgroundColor):_p.TRANSPARENT;A.backgroundColor=Cm(i)?Cm(s)?A.styles.backgroundColor:s:i}}catch{}return A}return e}(od),lle=["OL","UL","MENU"],VS=function(r,e,t,n){for(var A=e.firstChild,i=void 0;A;A=i)if(i=A.nextSibling,m9(A)&&A.data.trim().length>0)t.textNodes.push(new ele(r,A,t.styles));else if(w0(A))if(B9(A)&&A.assignedNodes)A.assignedNodes().forEach(function(o){return VS(r,o,t,n)});else{var s=p9(r,A);s.styles.isVisible()&&(ule(A,s,n)?s.flags|=4:cle(s.styles)&&(s.flags|=2),lle.indexOf(A.tagName)!==-1&&(s.flags|=8),t.elements.push(s),A.slot,A.shadowRoot?VS(r,A.shadowRoot,s,n):!sI(A)&&!v9(A)&&!oI(A)&&VS(r,A,s,n))}},p9=function(r,e){return k5(e)?new a9(r,e):y9(e)?new l9(r,e):v9(e)?new u9(r,e):hle(e)?new c9(r,e):fle(e)?new P5(r,e):dle(e)?new dO(r,e):oI(e)?new h9(r,e):sI(e)?new f9(r,e):w9(e)?new d9(r,e):new od(r,e)},g9=function(r,e){var t=p9(r,e);return t.flags|=4,VS(r,e,t,t),t},ule=function(r,e,t){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||pO(r)&&t.styles.isTransparent()},cle=function(r){return r.isPositioned()||r.isFloating()},m9=function(r){return r.nodeType===Node.TEXT_NODE},w0=function(r){return r.nodeType===Node.ELEMENT_NODE},O5=function(r){return w0(r)&&typeof r.style<"u"&&!KS(r)},KS=function(r){return typeof r.className=="object"},hle=function(r){return r.tagName==="LI"},fle=function(r){return r.tagName==="OL"},dle=function(r){return r.tagName==="INPUT"},ple=function(r){return r.tagName==="HTML"},v9=function(r){return r.tagName==="svg"},pO=function(r){return r.tagName==="BODY"},y9=function(r){return r.tagName==="CANVAS"},Z4=function(r){return r.tagName==="VIDEO"},k5=function(r){return r.tagName==="IMG"},w9=function(r){return r.tagName==="IFRAME"},eM=function(r){return r.tagName==="STYLE"},gle=function(r){return r.tagName==="SCRIPT"},sI=function(r){return r.tagName==="TEXTAREA"},oI=function(r){return r.tagName==="SELECT"},B9=function(r){return r.tagName==="SLOT"},tM=function(r){return r.tagName.indexOf("-")>0},mle=function(){function r(){this.counters={}}return r.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},r.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},r.prototype.pop=function(e){var t=this;e.forEach(function(n){return t.counters[n].pop()})},r.prototype.parse=function(e){var t=this,n=e.counterIncrement,A=e.counterReset,i=!0;n!==null&&n.forEach(function(o){var a=t.counters[o.counter];a&&o.increment!==0&&(i=!1,a.length||a.push(1),a[Math.max(0,a.length-1)]+=o.increment)});var s=[];return i&&A.forEach(function(o){var a=t.counters[o.counter];s.push(o.counter),a||(a=t.counters[o.counter]=[]),a.push(o.reset)}),s},r}(),rM={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},nM={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},vle={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},yle={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},qw=function(r,e,t,n,A,i){return r<e||r>t?kb(r,A,i.length>0):n.integers.reduce(function(s,o,a){for(;r>=o;)r-=o,s+=n.values[a];return s},"")+i},C9=function(r,e,t,n){var A="";do t||r--,A=n(r)+A,r/=e;while(r*e>=e);return A},ts=function(r,e,t,n,A){var i=t-e+1;return(r<0?"-":"")+(C9(Math.abs(r),i,n,function(s){return is(Math.floor(s%i)+e)})+A)},gv=function(r,e,t){t===void 0&&(t=". ");var n=e.length;return C9(Math.abs(r),n,!1,function(A){return e[Math.floor(A%n)]})+t},a0=1,dg=2,pg=4,OC=8,Rd=function(r,e,t,n,A,i){if(r<-9999||r>9999)return kb(r,4,A.length>0);var s=Math.abs(r),o=A;if(s===0)return e[0]+o;for(var a=0;s>0&&a<=4;a++){var u=s%10;u===0&&Zs(i,a0)&&o!==""?o=e[u]+o:u>1||u===1&&a===0||u===1&&a===1&&Zs(i,dg)||u===1&&a===1&&Zs(i,pg)&&r>100||u===1&&a>1&&Zs(i,OC)?o=e[u]+(a>0?t[a-1]:"")+o:u===1&&a>0&&(o=t[a-1]+o),s=Math.floor(s/10)}return(r<0?n:"")+o},AM="",iM="",sM="",vT="",kb=function(r,e,t){var n=t?". ":"",A=t?"":"",i=t?", ":"",s=t?" ":"";switch(e){case 0:return""+s;case 1:return""+s;case 2:return""+s;case 5:var o=ts(r,48,57,!0,n);return o.length<4?"0"+o:o;case 4:return gv(r,"",A);case 6:return qw(r,1,3999,rM,3,n).toLowerCase();case 7:return qw(r,1,3999,rM,3,n);case 8:return ts(r,945,969,!1,n);case 9:return ts(r,97,122,!1,n);case 10:return ts(r,65,90,!1,n);case 11:return ts(r,1632,1641,!0,n);case 12:case 49:return qw(r,1,9999,nM,3,n);case 35:return qw(r,1,9999,nM,3,n).toLowerCase();case 13:return ts(r,2534,2543,!0,n);case 14:case 30:return ts(r,6112,6121,!0,n);case 15:return gv(r,"",A);case 16:return gv(r,"",A);case 17:case 48:return Rd(r,"",AM,"",A,dg|pg|OC);case 47:return Rd(r,"",iM,"",A,a0|dg|pg|OC);case 42:return Rd(r,"",AM,"",A,dg|pg|OC);case 41:return Rd(r,"",iM,"",A,a0|dg|pg|OC);case 26:return Rd(r,"","",sM,A,0);case 25:return Rd(r,"","",sM,A,a0|dg|pg);case 31:return Rd(r,"","",vT,i,a0|dg|pg);case 33:return Rd(r,"","",vT,i,0);case 32:return Rd(r,"","",vT,i,a0|dg|pg);case 18:return ts(r,2406,2415,!0,n);case 20:return qw(r,1,19999,yle,3,n);case 21:return ts(r,2790,2799,!0,n);case 22:return ts(r,2662,2671,!0,n);case 22:return qw(r,1,10999,vle,3,n);case 23:return gv(r,"");case 24:return gv(r,"");case 27:return ts(r,3302,3311,!0,n);case 28:return gv(r,"",A);case 29:return gv(r,"",A);case 34:return ts(r,3792,3801,!0,n);case 37:return ts(r,6160,6169,!0,n);case 38:return ts(r,4160,4169,!0,n);case 39:return ts(r,2918,2927,!0,n);case 40:return ts(r,1776,1785,!0,n);case 43:return ts(r,3046,3055,!0,n);case 44:return ts(r,3174,3183,!0,n);case 45:return ts(r,3664,3673,!0,n);case 46:return ts(r,3872,3881,!0,n);case 3:default:return ts(r,48,57,!0,n)}},b9="data-html2canvas-ignore",oM=function(){function r(e,t,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=t,this.counters=new mle,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return r.prototype.toIFrame=function(e,t){var n=this,A=wle(e,t);if(!A.contentWindow)return Promise.reject("Unable to find iframe window");var i=e.defaultView.pageXOffset,s=e.defaultView.pageYOffset,o=A.contentWindow,a=o.document,u=ble(A).then(function(){return fl(n,void 0,void 0,function(){var l,c;return Qa(this,function(h){switch(h.label){case 0:return this.scrolledElements.forEach(Fle),o&&(o.scrollTo(t.left,t.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==t.top||o.scrollX!==t.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-t.left,o.scrollY-t.top,0,0))),l=this.options.onclone,c=this.clonedReferenceElement,typeof c>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:a.fonts&&a.fonts.ready?[4,a.fonts.ready]:[3,2];case 1:h.sent(),h.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Cle(a)]:[3,4];case 3:h.sent(),h.label=4;case 4:return typeof l=="function"?[2,Promise.resolve().then(function(){return l(a,c)}).then(function(){return A})]:[2,A]}})})});return a.open(),a.write(_le(document.doctype)+"<html></html>"),Sle(this.referenceElement.ownerDocument,i,s),a.replaceChild(a.adoptNode(this.documentElement),a.documentElement),a.close(),u},r.prototype.createElementClone=function(e){if(N5(e,2))debugger;if(y9(e))return this.createCanvasClone(e);if(Z4(e))return this.createVideoClone(e);if(eM(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return k5(t)&&(k5(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),t.loading==="lazy"&&(t.loading="eager")),tM(t)?this.createCustomElementClone(t):t},r.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return yT(e.style,t),t},r.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var n=[].slice.call(t.cssRules,0).reduce(function(i,s){return s&&typeof s.cssText=="string"?i+s.cssText:i},""),A=e.cloneNode(!1);return A.textContent=n,A}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return e.cloneNode(!1)},r.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var A=e.cloneNode(!1);try{A.width=e.width,A.height=e.height;var i=e.getContext("2d"),s=A.getContext("2d");if(s)if(!this.options.allowTaint&&i)s.putImageData(i.getImageData(0,0,e.width,e.height),0,0);else{var o=(t=e.getContext("webgl2"))!==null&&t!==void 0?t:e.getContext("webgl");if(o){var a=o.getContextAttributes();(a==null?void 0:a.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}s.drawImage(e,0,0)}return A}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return A},r.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var n=t.getContext("2d");try{return n&&(n.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||n.getImageData(0,0,t.width,t.height)),t}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var A=e.ownerDocument.createElement("canvas");return A.width=e.offsetWidth,A.height=e.offsetHeight,A},r.prototype.appendChildNode=function(e,t,n){(!w0(t)||!gle(t)&&!t.hasAttribute(b9)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(t)))&&(!this.options.copyStyles||!w0(t)||!eM(t))&&e.appendChild(this.cloneNode(t,n))},r.prototype.cloneChildNodes=function(e,t,n){for(var A=this,i=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;i;i=i.nextSibling)if(w0(i)&&B9(i)&&typeof i.assignedNodes=="function"){var s=i.assignedNodes();s.length&&s.forEach(function(o){return A.appendChildNode(t,o,n)})}else this.appendChildNode(t,i,n)},r.prototype.cloneNode=function(e,t){if(m9(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&w0(e)&&(O5(e)||KS(e))){var A=this.createElementClone(e);A.style.transitionProperty="none";var i=n.getComputedStyle(e),s=n.getComputedStyle(e,":before"),o=n.getComputedStyle(e,":after");this.referenceElement===e&&O5(A)&&(this.clonedReferenceElement=A),pO(A)&&Ule(A);var a=this.counters.parse(new k4(this.context,i)),u=this.resolvePseudoContent(e,A,s,vb.BEFORE);tM(e)&&(t=!0),Z4(e)||this.cloneChildNodes(e,A,t),u&&A.insertBefore(u,A.firstChild);var l=this.resolvePseudoContent(e,A,o,vb.AFTER);return l&&A.appendChild(l),this.counters.pop(a),(i&&(this.options.copyStyles||KS(e))&&!w9(e)||t)&&yT(i,A),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([A,e.scrollLeft,e.scrollTop]),(sI(e)||oI(e))&&(sI(A)||oI(A))&&(A.value=e.value),A}return e.cloneNode(!1)},r.prototype.resolvePseudoContent=function(e,t,n,A){var i=this;if(n){var s=n.content,o=t.ownerDocument;if(!(!o||!s||s==="none"||s==="-moz-alt-content"||n.display==="none")){this.counters.parse(new k4(this.context,n));var a=new hae(this.context,n),u=o.createElement("html2canvaspseudoelement");yT(n,u),a.content.forEach(function(c){if(c.type===0)u.appendChild(o.createTextNode(c.value));else if(c.type===22){var h=o.createElement("img");h.src=c.value,h.style.opacity="1",u.appendChild(h)}else if(c.type===18){if(c.name==="attr"){var d=c.values.filter(UA);d.length&&u.appendChild(o.createTextNode(e.getAttribute(d[0].value)||""))}else if(c.name==="counter"){var m=c.values.filter(YB),g=m[0],y=m[1];if(g&&UA(g)){var v=i.counters.getCounterValue(g.value),w=y&&UA(y)?L5.parse(i.context,y.value):3;u.appendChild(o.createTextNode(kb(v,w,!1)))}}else if(c.name==="counters"){var b=c.values.filter(YB),g=b[0],B=b[1],y=b[2];if(g&&UA(g)){var F=i.counters.getCounterValues(g.value),N=y&&UA(y)?L5.parse(i.context,y.value):3,T=B&&B.type===0?B.value:"",U=F.map(function(_){return kb(_,N,!1)}).join(T);u.appendChild(o.createTextNode(U))}}}else if(c.type===20)switch(c.value){case"open-quote":u.appendChild(o.createTextNode(O4(a.quotes,i.quoteDepth++,!0)));break;case"close-quote":u.appendChild(o.createTextNode(O4(a.quotes,--i.quoteDepth,!1)));break;default:u.appendChild(o.createTextNode(c.value))}}),u.className=D5+" "+M5;var l=A===vb.BEFORE?" "+D5:" "+M5;return KS(t)?t.className.baseValue+=l:t.className+=l,u}}},r.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},r}(),vb;(function(r){r[r.BEFORE=0]="BEFORE",r[r.AFTER=1]="AFTER"})(vb||(vb={}));var wle=function(r,e){var t=r.createElement("iframe");return t.className="html2canvas-container",t.style.visibility="hidden",t.style.position="fixed",t.style.left="-10000px",t.style.top="0px",t.style.border="0",t.width=e.width.toString(),t.height=e.height.toString(),t.scrolling="no",t.setAttribute(b9,"true"),r.body.appendChild(t),t},Ble=function(r){return new Promise(function(e){if(r.complete){e();return}if(!r.src){e();return}r.onload=e,r.onerror=e})},Cle=function(r){return Promise.all([].slice.call(r.images,0).map(Ble))},ble=function(r){return new Promise(function(e,t){var n=r.contentWindow;if(!n)return t("No window assigned for iframe");var A=n.document;n.onload=r.onload=function(){n.onload=r.onload=null;var i=setInterval(function(){A.body.childNodes.length>0&&A.readyState==="complete"&&(clearInterval(i),e(r))},50)}})},Ele=["all","d","content"],yT=function(r,e){for(var t=r.length-1;t>=0;t--){var n=r.item(t);Ele.indexOf(n)===-1&&e.style.setProperty(n,r.getPropertyValue(n))}return e},_le=function(r){var e="";return r&&(e+="<!DOCTYPE ",r.name&&(e+=r.name),r.internalSubset&&(e+=r.internalSubset),r.publicId&&(e+='"'+r.publicId+'"'),r.systemId&&(e+='"'+r.systemId+'"'),e+=">"),e},Sle=function(r,e,t){r&&r.defaultView&&(e!==r.defaultView.pageXOffset||t!==r.defaultView.pageYOffset)&&r.defaultView.scrollTo(e,t)},Fle=function(r){var e=r[0],t=r[1],n=r[2];e.scrollLeft=t,e.scrollTop=n},Ile=":before",xle=":after",D5="___html2canvas___pseudoelement_before",M5="___html2canvas___pseudoelement_after",aM=`{
    content: "" !important;
    display: none !important;
}`,Ule=function(r){Tle(r,"."+D5+Ile+aM+`
         .`+M5+xle+aM)},Tle=function(r,e){var t=r.ownerDocument;if(t){var n=t.createElement("style");n.textContent=e,r.appendChild(n)}},E9=function(){function r(){}return r.getOrigin=function(e){var t=r._link;return t?(t.href=e,t.href=t.href,t.protocol+t.hostname+t.port):"about:blank"},r.isSameOrigin=function(e){return r.getOrigin(e)===r._origin},r.setContext=function(e){r._link=e.document.createElement("a"),r._origin=r.getOrigin(e.location.href)},r._origin="about:blank",r}(),Qle=function(){function r(e,t){this.context=e,this._options=t,this._cache={}}return r.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)||(BT(e)||Ple(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),t},r.prototype.match=function(e){return this._cache[e]},r.prototype.loadImage=function(e){return fl(this,void 0,void 0,function(){var t,n,A,i,s=this;return Qa(this,function(o){switch(o.label){case 0:return t=E9.isSameOrigin(e),n=!wT(e)&&this._options.useCORS===!0&&zo.SUPPORT_CORS_IMAGES&&!t,A=!wT(e)&&!t&&!BT(e)&&typeof this._options.proxy=="string"&&zo.SUPPORT_CORS_XHR&&!n,!t&&this._options.allowTaint===!1&&!wT(e)&&!BT(e)&&!A&&!n?[2]:(i=e,A?[4,this.proxy(i)]:[3,2]);case 1:i=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(a,u){var l=new Image;l.onload=function(){return a(l)},l.onerror=u,(Ole(i)||n)&&(l.crossOrigin="anonymous"),l.src=i,l.complete===!0&&setTimeout(function(){return a(l)},500),s._options.imageTimeout>0&&setTimeout(function(){return u("Timed out ("+s._options.imageTimeout+"ms) loading image")},s._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},r.prototype.has=function(e){return typeof this._cache[e]<"u"},r.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},r.prototype.proxy=function(e){var t=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var A=e.substring(0,256);return new Promise(function(i,s){var o=zo.SUPPORT_RESPONSE_TYPE?"blob":"text",a=new XMLHttpRequest;a.onload=function(){if(a.status===200)if(o==="text")i(a.response);else{var c=new FileReader;c.addEventListener("load",function(){return i(c.result)},!1),c.addEventListener("error",function(h){return s(h)},!1),c.readAsDataURL(a.response)}else s("Failed to proxy resource "+A+" with status code "+a.status)},a.onerror=s;var u=n.indexOf("?")>-1?"&":"?";if(a.open("GET",""+n+u+"url="+encodeURIComponent(e)+"&responseType="+o),o!=="text"&&a instanceof XMLHttpRequest&&(a.responseType=o),t._options.imageTimeout){var l=t._options.imageTimeout;a.timeout=l,a.ontimeout=function(){return s("Timed out ("+l+"ms) proxying "+A)}}a.send()})},r}(),Lle=/^data:image\/svg\+xml/i,Nle=/^data:image\/.*;base64,/i,Rle=/^data:image\/.*/i,Ple=function(r){return zo.SUPPORT_SVG_DRAWING||!kle(r)},wT=function(r){return Rle.test(r)},Ole=function(r){return Nle.test(r)},BT=function(r){return r.substr(0,4)==="blob"},kle=function(r){return r.substr(-3).toLowerCase()==="svg"||Lle.test(r)},lr=function(){function r(e,t){this.type=0,this.x=e,this.y=t}return r.prototype.add=function(e,t){return new r(this.x+e,this.y+t)},r}(),Ww=function(r,e,t){return new lr(r.x+(e.x-r.x)*t,r.y+(e.y-r.y)*t)},nS=function(){function r(e,t,n,A){this.type=1,this.start=e,this.startControl=t,this.endControl=n,this.end=A}return r.prototype.subdivide=function(e,t){var n=Ww(this.start,this.startControl,e),A=Ww(this.startControl,this.endControl,e),i=Ww(this.endControl,this.end,e),s=Ww(n,A,e),o=Ww(A,i,e),a=Ww(s,o,e);return t?new r(this.start,n,s,a):new r(a,o,i,this.end)},r.prototype.add=function(e,t){return new r(this.start.add(e,t),this.startControl.add(e,t),this.endControl.add(e,t),this.end.add(e,t))},r.prototype.reverse=function(){return new r(this.end,this.endControl,this.startControl,this.start)},r}(),Sc=function(r){return r.type===1},Dle=function(){function r(e){var t=e.styles,n=e.bounds,A=RC(t.borderTopLeftRadius,n.width,n.height),i=A[0],s=A[1],o=RC(t.borderTopRightRadius,n.width,n.height),a=o[0],u=o[1],l=RC(t.borderBottomRightRadius,n.width,n.height),c=l[0],h=l[1],d=RC(t.borderBottomLeftRadius,n.width,n.height),m=d[0],g=d[1],y=[];y.push((i+a)/n.width),y.push((m+c)/n.width),y.push((s+g)/n.height),y.push((u+h)/n.height);var v=Math.max.apply(Math,y);v>1&&(i/=v,s/=v,a/=v,u/=v,c/=v,h/=v,m/=v,g/=v);var w=n.width-a,b=n.height-h,B=n.width-c,F=n.height-g,N=t.borderTopWidth,T=t.borderRightWidth,U=t.borderBottomWidth,k=t.borderLeftWidth,D=XA(t.paddingTop,e.bounds.width),_=XA(t.paddingRight,e.bounds.width),L=XA(t.paddingBottom,e.bounds.width),O=XA(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||s>0?fi(n.left+k/3,n.top+N/3,i-k/3,s-N/3,hA.TOP_LEFT):new lr(n.left+k/3,n.top+N/3),this.topRightBorderDoubleOuterBox=i>0||s>0?fi(n.left+w,n.top+N/3,a-T/3,u-N/3,hA.TOP_RIGHT):new lr(n.left+n.width-T/3,n.top+N/3),this.bottomRightBorderDoubleOuterBox=c>0||h>0?fi(n.left+B,n.top+b,c-T/3,h-U/3,hA.BOTTOM_RIGHT):new lr(n.left+n.width-T/3,n.top+n.height-U/3),this.bottomLeftBorderDoubleOuterBox=m>0||g>0?fi(n.left+k/3,n.top+F,m-k/3,g-U/3,hA.BOTTOM_LEFT):new lr(n.left+k/3,n.top+n.height-U/3),this.topLeftBorderDoubleInnerBox=i>0||s>0?fi(n.left+k*2/3,n.top+N*2/3,i-k*2/3,s-N*2/3,hA.TOP_LEFT):new lr(n.left+k*2/3,n.top+N*2/3),this.topRightBorderDoubleInnerBox=i>0||s>0?fi(n.left+w,n.top+N*2/3,a-T*2/3,u-N*2/3,hA.TOP_RIGHT):new lr(n.left+n.width-T*2/3,n.top+N*2/3),this.bottomRightBorderDoubleInnerBox=c>0||h>0?fi(n.left+B,n.top+b,c-T*2/3,h-U*2/3,hA.BOTTOM_RIGHT):new lr(n.left+n.width-T*2/3,n.top+n.height-U*2/3),this.bottomLeftBorderDoubleInnerBox=m>0||g>0?fi(n.left+k*2/3,n.top+F,m-k*2/3,g-U*2/3,hA.BOTTOM_LEFT):new lr(n.left+k*2/3,n.top+n.height-U*2/3),this.topLeftBorderStroke=i>0||s>0?fi(n.left+k/2,n.top+N/2,i-k/2,s-N/2,hA.TOP_LEFT):new lr(n.left+k/2,n.top+N/2),this.topRightBorderStroke=i>0||s>0?fi(n.left+w,n.top+N/2,a-T/2,u-N/2,hA.TOP_RIGHT):new lr(n.left+n.width-T/2,n.top+N/2),this.bottomRightBorderStroke=c>0||h>0?fi(n.left+B,n.top+b,c-T/2,h-U/2,hA.BOTTOM_RIGHT):new lr(n.left+n.width-T/2,n.top+n.height-U/2),this.bottomLeftBorderStroke=m>0||g>0?fi(n.left+k/2,n.top+F,m-k/2,g-U/2,hA.BOTTOM_LEFT):new lr(n.left+k/2,n.top+n.height-U/2),this.topLeftBorderBox=i>0||s>0?fi(n.left,n.top,i,s,hA.TOP_LEFT):new lr(n.left,n.top),this.topRightBorderBox=a>0||u>0?fi(n.left+w,n.top,a,u,hA.TOP_RIGHT):new lr(n.left+n.width,n.top),this.bottomRightBorderBox=c>0||h>0?fi(n.left+B,n.top+b,c,h,hA.BOTTOM_RIGHT):new lr(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=m>0||g>0?fi(n.left,n.top+F,m,g,hA.BOTTOM_LEFT):new lr(n.left,n.top+n.height),this.topLeftPaddingBox=i>0||s>0?fi(n.left+k,n.top+N,Math.max(0,i-k),Math.max(0,s-N),hA.TOP_LEFT):new lr(n.left+k,n.top+N),this.topRightPaddingBox=a>0||u>0?fi(n.left+Math.min(w,n.width-T),n.top+N,w>n.width+T?0:Math.max(0,a-T),Math.max(0,u-N),hA.TOP_RIGHT):new lr(n.left+n.width-T,n.top+N),this.bottomRightPaddingBox=c>0||h>0?fi(n.left+Math.min(B,n.width-k),n.top+Math.min(b,n.height-U),Math.max(0,c-T),Math.max(0,h-U),hA.BOTTOM_RIGHT):new lr(n.left+n.width-T,n.top+n.height-U),this.bottomLeftPaddingBox=m>0||g>0?fi(n.left+k,n.top+Math.min(F,n.height-U),Math.max(0,m-k),Math.max(0,g-U),hA.BOTTOM_LEFT):new lr(n.left+k,n.top+n.height-U),this.topLeftContentBox=i>0||s>0?fi(n.left+k+O,n.top+N+D,Math.max(0,i-(k+O)),Math.max(0,s-(N+D)),hA.TOP_LEFT):new lr(n.left+k+O,n.top+N+D),this.topRightContentBox=a>0||u>0?fi(n.left+Math.min(w,n.width+k+O),n.top+N+D,w>n.width+k+O?0:a-k+O,u-(N+D),hA.TOP_RIGHT):new lr(n.left+n.width-(T+_),n.top+N+D),this.bottomRightContentBox=c>0||h>0?fi(n.left+Math.min(B,n.width-(k+O)),n.top+Math.min(b,n.height+N+D),Math.max(0,c-(T+_)),h-(U+L),hA.BOTTOM_RIGHT):new lr(n.left+n.width-(T+_),n.top+n.height-(U+L)),this.bottomLeftContentBox=m>0||g>0?fi(n.left+k+O,n.top+F,Math.max(0,m-(k+O)),g-(U+L),hA.BOTTOM_LEFT):new lr(n.left+k+O,n.top+n.height-(U+L))}return r}(),hA;(function(r){r[r.TOP_LEFT=0]="TOP_LEFT",r[r.TOP_RIGHT=1]="TOP_RIGHT",r[r.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",r[r.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(hA||(hA={}));var fi=function(r,e,t,n,A){var i=4*((Math.sqrt(2)-1)/3),s=t*i,o=n*i,a=r+t,u=e+n;switch(A){case hA.TOP_LEFT:return new nS(new lr(r,u),new lr(r,u-o),new lr(a-s,e),new lr(a,e));case hA.TOP_RIGHT:return new nS(new lr(r,e),new lr(r+s,e),new lr(a,u-o),new lr(a,u));case hA.BOTTOM_RIGHT:return new nS(new lr(a,e),new lr(a,e+o),new lr(r+s,u),new lr(r,u));case hA.BOTTOM_LEFT:default:return new nS(new lr(a,u),new lr(a-s,u),new lr(r,e+o),new lr(r,e))}},aI=function(r){return[r.topLeftBorderBox,r.topRightBorderBox,r.bottomRightBorderBox,r.bottomLeftBorderBox]},Mle=function(r){return[r.topLeftContentBox,r.topRightContentBox,r.bottomRightContentBox,r.bottomLeftContentBox]},lI=function(r){return[r.topLeftPaddingBox,r.topRightPaddingBox,r.bottomRightPaddingBox,r.bottomLeftPaddingBox]},Hle=function(){function r(e,t,n){this.offsetX=e,this.offsetY=t,this.matrix=n,this.type=0,this.target=6}return r}(),AS=function(){function r(e,t){this.path=e,this.target=t,this.type=1}return r}(),jle=function(){function r(e){this.opacity=e,this.type=2,this.target=6}return r}(),Vle=function(r){return r.type===0},_9=function(r){return r.type===1},Kle=function(r){return r.type===2},lM=function(r,e){return r.length===e.length?r.some(function(t,n){return t===e[n]}):!1},Gle=function(r,e,t,n,A){return r.map(function(i,s){switch(s){case 0:return i.add(e,t);case 1:return i.add(e+n,t);case 2:return i.add(e+n,t+A);case 3:return i.add(e,t+A)}return i})},S9=function(){function r(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return r}(),F9=function(){function r(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new Dle(this.container),this.container.styles.opacity<1&&this.effects.push(new jle(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,A=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new Hle(n,A,i))}if(this.container.styles.overflowX!==0){var s=aI(this.curves),o=lI(this.curves);lM(s,o)?this.effects.push(new AS(s,6)):(this.effects.push(new AS(s,2)),this.effects.push(new AS(o,4)))}}return r.prototype.getEffects=function(e){for(var t=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,A=this.effects.slice(0);n;){var i=n.effects.filter(function(a){return!_9(a)});if(t||n.container.styles.position!==0||!n.parent){if(A.unshift.apply(A,i),t=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var s=aI(n.curves),o=lI(n.curves);lM(s,o)||A.unshift(new AS(o,6))}}else A.unshift.apply(A,i);n=n.parent}return A.filter(function(a){return Zs(a.target,e)})},r}(),H5=function(r,e,t,n){r.container.elements.forEach(function(A){var i=Zs(A.flags,4),s=Zs(A.flags,2),o=new F9(A,r);Zs(A.styles.display,2048)&&n.push(o);var a=Zs(A.flags,8)?[]:n;if(i||s){var u=i||A.styles.isPositioned()?t:e,l=new S9(o);if(A.styles.isPositioned()||A.styles.opacity<1||A.styles.isTransformed()){var c=A.styles.zIndex.order;if(c<0){var h=0;u.negativeZIndex.some(function(m,g){return c>m.element.container.styles.zIndex.order?(h=g,!1):h>0}),u.negativeZIndex.splice(h,0,l)}else if(c>0){var d=0;u.positiveZIndex.some(function(m,g){return c>=m.element.container.styles.zIndex.order?(d=g+1,!1):d>0}),u.positiveZIndex.splice(d,0,l)}else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(l)}else A.styles.isFloating()?u.nonPositionedFloats.push(l):u.nonPositionedInlineLevel.push(l);H5(o,l,i?l:t,a)}else A.styles.isInlineLevel()?e.inlineLevel.push(o):e.nonInlineLevel.push(o),H5(o,e,t,a);Zs(A.flags,8)&&I9(A,a)})},I9=function(r,e){for(var t=r instanceof P5?r.start:1,n=r instanceof P5?r.reversed:!1,A=0;A<e.length;A++){var i=e[A];i.container instanceof c9&&typeof i.container.value=="number"&&i.container.value!==0&&(t=i.container.value),i.listValue=kb(t,i.container.styles.listStyleType,!0),t+=n?-1:1}},zle=function(r){var e=new F9(r,null),t=new S9(e),n=[];return H5(e,t,t,n),I9(e.container,n),t},uM=function(r,e){switch(e){case 0:return Tc(r.topLeftBorderBox,r.topLeftPaddingBox,r.topRightBorderBox,r.topRightPaddingBox);case 1:return Tc(r.topRightBorderBox,r.topRightPaddingBox,r.bottomRightBorderBox,r.bottomRightPaddingBox);case 2:return Tc(r.bottomRightBorderBox,r.bottomRightPaddingBox,r.bottomLeftBorderBox,r.bottomLeftPaddingBox);case 3:default:return Tc(r.bottomLeftBorderBox,r.bottomLeftPaddingBox,r.topLeftBorderBox,r.topLeftPaddingBox)}},qle=function(r,e){switch(e){case 0:return Tc(r.topLeftBorderBox,r.topLeftBorderDoubleOuterBox,r.topRightBorderBox,r.topRightBorderDoubleOuterBox);case 1:return Tc(r.topRightBorderBox,r.topRightBorderDoubleOuterBox,r.bottomRightBorderBox,r.bottomRightBorderDoubleOuterBox);case 2:return Tc(r.bottomRightBorderBox,r.bottomRightBorderDoubleOuterBox,r.bottomLeftBorderBox,r.bottomLeftBorderDoubleOuterBox);case 3:default:return Tc(r.bottomLeftBorderBox,r.bottomLeftBorderDoubleOuterBox,r.topLeftBorderBox,r.topLeftBorderDoubleOuterBox)}},Wle=function(r,e){switch(e){case 0:return Tc(r.topLeftBorderDoubleInnerBox,r.topLeftPaddingBox,r.topRightBorderDoubleInnerBox,r.topRightPaddingBox);case 1:return Tc(r.topRightBorderDoubleInnerBox,r.topRightPaddingBox,r.bottomRightBorderDoubleInnerBox,r.bottomRightPaddingBox);case 2:return Tc(r.bottomRightBorderDoubleInnerBox,r.bottomRightPaddingBox,r.bottomLeftBorderDoubleInnerBox,r.bottomLeftPaddingBox);case 3:default:return Tc(r.bottomLeftBorderDoubleInnerBox,r.bottomLeftPaddingBox,r.topLeftBorderDoubleInnerBox,r.topLeftPaddingBox)}},$le=function(r,e){switch(e){case 0:return iS(r.topLeftBorderStroke,r.topRightBorderStroke);case 1:return iS(r.topRightBorderStroke,r.bottomRightBorderStroke);case 2:return iS(r.bottomRightBorderStroke,r.bottomLeftBorderStroke);case 3:default:return iS(r.bottomLeftBorderStroke,r.topLeftBorderStroke)}},iS=function(r,e){var t=[];return Sc(r)?t.push(r.subdivide(.5,!1)):t.push(r),Sc(e)?t.push(e.subdivide(.5,!0)):t.push(e),t},Tc=function(r,e,t,n){var A=[];return Sc(r)?A.push(r.subdivide(.5,!1)):A.push(r),Sc(t)?A.push(t.subdivide(.5,!0)):A.push(t),Sc(n)?A.push(n.subdivide(.5,!0).reverse()):A.push(n),Sc(e)?A.push(e.subdivide(.5,!1).reverse()):A.push(e),A},x9=function(r){var e=r.bounds,t=r.styles;return e.add(t.borderLeftWidth,t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth),-(t.borderTopWidth+t.borderBottomWidth))},uI=function(r){var e=r.styles,t=r.bounds,n=XA(e.paddingLeft,t.width),A=XA(e.paddingRight,t.width),i=XA(e.paddingTop,t.width),s=XA(e.paddingBottom,t.width);return t.add(n+e.borderLeftWidth,i+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+A),-(e.borderTopWidth+e.borderBottomWidth+i+s))},Xle=function(r,e){return r===0?e.bounds:r===2?uI(e):x9(e)},Yle=function(r,e){return r===0?e.bounds:r===2?uI(e):x9(e)},CT=function(r,e,t){var n=Xle(l0(r.styles.backgroundOrigin,e),r),A=Yle(l0(r.styles.backgroundClip,e),r),i=Jle(l0(r.styles.backgroundSize,e),t,n),s=i[0],o=i[1],a=RC(l0(r.styles.backgroundPosition,e),n.width-s,n.height-o),u=Zle(l0(r.styles.backgroundRepeat,e),a,i,n,A),l=Math.round(n.left+a[0]),c=Math.round(n.top+a[1]);return[u,l,c,s,o]},$w=function(r){return UA(r)&&r.value===x0.AUTO},sS=function(r){return typeof r=="number"},Jle=function(r,e,t){var n=e[0],A=e[1],i=e[2],s=r[0],o=r[1];if(!s)return[0,0];if(Ss(s)&&o&&Ss(o))return[XA(s,t.width),XA(o,t.height)];var a=sS(i);if(UA(s)&&(s.value===x0.CONTAIN||s.value===x0.COVER)){if(sS(i)){var u=t.width/t.height;return u<i!=(s.value===x0.COVER)?[t.width,t.width/i]:[t.height*i,t.height]}return[t.width,t.height]}var l=sS(n),c=sS(A),h=l||c;if($w(s)&&(!o||$w(o))){if(l&&c)return[n,A];if(!a&&!h)return[t.width,t.height];if(h&&a){var d=l?n:A*i,m=c?A:n/i;return[d,m]}var g=l?n:t.width,y=c?A:t.height;return[g,y]}if(a){var v=0,w=0;return Ss(s)?v=XA(s,t.width):Ss(o)&&(w=XA(o,t.height)),$w(s)?v=w*i:(!o||$w(o))&&(w=v/i),[v,w]}var b=null,B=null;if(Ss(s)?b=XA(s,t.width):o&&Ss(o)&&(B=XA(o,t.height)),b!==null&&(!o||$w(o))&&(B=l&&c?b/n*A:t.height),B!==null&&$w(s)&&(b=l&&c?B/A*n:t.width),b!==null&&B!==null)return[b,B];throw new Error("Unable to calculate background-size for element")},l0=function(r,e){var t=r[e];return typeof t>"u"?r[0]:t},Zle=function(r,e,t,n,A){var i=e[0],s=e[1],o=t[0],a=t[1];switch(r){case 2:return[new lr(Math.round(n.left),Math.round(n.top+s)),new lr(Math.round(n.left+n.width),Math.round(n.top+s)),new lr(Math.round(n.left+n.width),Math.round(a+n.top+s)),new lr(Math.round(n.left),Math.round(a+n.top+s))];case 3:return[new lr(Math.round(n.left+i),Math.round(n.top)),new lr(Math.round(n.left+i+o),Math.round(n.top)),new lr(Math.round(n.left+i+o),Math.round(n.height+n.top)),new lr(Math.round(n.left+i),Math.round(n.height+n.top))];case 1:return[new lr(Math.round(n.left+i),Math.round(n.top+s)),new lr(Math.round(n.left+i+o),Math.round(n.top+s)),new lr(Math.round(n.left+i+o),Math.round(n.top+s+a)),new lr(Math.round(n.left+i),Math.round(n.top+s+a))];default:return[new lr(Math.round(A.left),Math.round(A.top)),new lr(Math.round(A.left+A.width),Math.round(A.top)),new lr(Math.round(A.left+A.width),Math.round(A.height+A.top)),new lr(Math.round(A.left),Math.round(A.height+A.top))]}},eue="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",cM="Hidden Text",tue=function(){function r(e){this._data={},this._document=e}return r.prototype.parseMetrics=function(e,t){var n=this._document.createElement("div"),A=this._document.createElement("img"),i=this._document.createElement("span"),s=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=t,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",s.appendChild(n),A.src=eue,A.width=1,A.height=1,A.style.margin="0",A.style.padding="0",A.style.verticalAlign="baseline",i.style.fontFamily=e,i.style.fontSize=t,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(cM)),n.appendChild(i),n.appendChild(A);var o=A.offsetTop-i.offsetTop+2;n.removeChild(i),n.appendChild(this._document.createTextNode(cM)),n.style.lineHeight="normal",A.style.verticalAlign="super";var a=A.offsetTop-n.offsetTop+2;return s.removeChild(n),{baseline:o,middle:a}},r.prototype.getMetrics=function(e,t){var n=e+" "+t;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,t)),this._data[n]},r}(),U9=function(){function r(e,t){this.context=e,this.options=t}return r}(),rue=1e4,nue=function(r){Gh(e,r);function e(t,n){var A=r.call(this,t,n)||this;return A._activeEffects=[],A.canvas=n.canvas?n.canvas:document.createElement("canvas"),A.ctx=A.canvas.getContext("2d"),n.canvas||(A.canvas.width=Math.floor(n.width*n.scale),A.canvas.height=Math.floor(n.height*n.scale),A.canvas.style.width=n.width+"px",A.canvas.style.height=n.height+"px"),A.fontMetrics=new tue(document),A.ctx.scale(A.options.scale,A.options.scale),A.ctx.translate(-n.x,-n.y),A.ctx.textBaseline="bottom",A._activeEffects=[],A.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),A}return e.prototype.applyEffects=function(t){for(var n=this;this._activeEffects.length;)this.popEffect();t.forEach(function(A){return n.applyEffect(A)})},e.prototype.applyEffect=function(t){this.ctx.save(),Kle(t)&&(this.ctx.globalAlpha=t.opacity),Vle(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),_9(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(t){return fl(this,void 0,void 0,function(){var n;return Qa(this,function(A){switch(A.label){case 0:return n=t.element.container.styles,n.isVisible()?[4,this.renderStackContent(t)]:[3,2];case 1:A.sent(),A.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(t){return fl(this,void 0,void 0,function(){return Qa(this,function(n){switch(n.label){case 0:if(Zs(t.container.flags,16))debugger;return t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(t)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(t,n,A){var i=this;if(n===0)this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+A);else{var s=fO(t.text);s.reduce(function(o,a){return i.ctx.fillText(a,o,t.bounds.top+A),o+i.ctx.measureText(a).width},t.bounds.left)}},e.prototype.createFontStyle=function(t){var n=t.fontVariant.filter(function(s){return s==="normal"||s==="small-caps"}).join(""),A=aue(t.fontFamily).join(", "),i=K_(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,n,t.fontWeight,i,A].join(" "),A,i]},e.prototype.renderTextNode=function(t,n){return fl(this,void 0,void 0,function(){var A,i,s,o,a,u,l,c,h=this;return Qa(this,function(d){return A=this.createFontStyle(n),i=A[0],s=A[1],o=A[2],this.ctx.font=i,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",a=this.fontMetrics.getMetrics(s,o),u=a.baseline,l=a.middle,c=n.paintOrder,t.textBounds.forEach(function(m){c.forEach(function(g){switch(g){case 0:h.ctx.fillStyle=mo(n.color),h.renderTextWithLetterSpacing(m,n.letterSpacing,u);var y=n.textShadow;y.length&&m.text.trim().length&&(y.slice(0).reverse().forEach(function(v){h.ctx.shadowColor=mo(v.color),h.ctx.shadowOffsetX=v.offsetX.number*h.options.scale,h.ctx.shadowOffsetY=v.offsetY.number*h.options.scale,h.ctx.shadowBlur=v.blur.number,h.renderTextWithLetterSpacing(m,n.letterSpacing,u)}),h.ctx.shadowColor="",h.ctx.shadowOffsetX=0,h.ctx.shadowOffsetY=0,h.ctx.shadowBlur=0),n.textDecorationLine.length&&(h.ctx.fillStyle=mo(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(v){switch(v){case 1:h.ctx.fillRect(m.bounds.left,Math.round(m.bounds.top+u),m.bounds.width,1);break;case 2:h.ctx.fillRect(m.bounds.left,Math.round(m.bounds.top),m.bounds.width,1);break;case 3:h.ctx.fillRect(m.bounds.left,Math.ceil(m.bounds.top+l),m.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&m.text.trim().length&&(h.ctx.strokeStyle=mo(n.webkitTextStrokeColor),h.ctx.lineWidth=n.webkitTextStrokeWidth,h.ctx.lineJoin=window.chrome?"miter":"round",h.ctx.strokeText(m.text,m.bounds.left,m.bounds.top+u)),h.ctx.strokeStyle="",h.ctx.lineWidth=0,h.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(t,n,A){if(A&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var i=uI(t),s=lI(n);this.path(s),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(A,0,0,t.intrinsicWidth,t.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(t){return fl(this,void 0,void 0,function(){var n,A,i,s,o,a,w,w,u,l,c,h,B,d,m,F,g,y,v,w,b,B,F;return Qa(this,function(N){switch(N.label){case 0:this.applyEffects(t.getEffects(4)),n=t.container,A=t.curves,i=n.styles,s=0,o=n.textNodes,N.label=1;case 1:return s<o.length?(a=o[s],[4,this.renderTextNode(a,i)]):[3,4];case 2:N.sent(),N.label=3;case 3:return s++,[3,1];case 4:if(!(n instanceof a9))return[3,8];N.label=5;case 5:return N.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return w=N.sent(),this.renderReplacedElement(n,A,w),[3,8];case 7:return N.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof l9&&this.renderReplacedElement(n,A,n.canvas),!(n instanceof u9))return[3,12];N.label=9;case 9:return N.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return w=N.sent(),this.renderReplacedElement(n,A,w),[3,12];case 11:return N.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof d9&&n.tree?(u=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,u.render(n.tree)]):[3,14];case 13:l=N.sent(),n.width&&n.height&&this.ctx.drawImage(l,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),N.label=14;case 14:if(n instanceof dO&&(c=Math.min(n.bounds.width,n.bounds.height),n.type===AI?n.checked&&(this.ctx.save(),this.path([new lr(n.bounds.left+c*.39363,n.bounds.top+c*.79),new lr(n.bounds.left+c*.16,n.bounds.top+c*.5549),new lr(n.bounds.left+c*.27347,n.bounds.top+c*.44071),new lr(n.bounds.left+c*.39694,n.bounds.top+c*.5649),new lr(n.bounds.left+c*.72983,n.bounds.top+c*.23),new lr(n.bounds.left+c*.84,n.bounds.top+c*.34085),new lr(n.bounds.left+c*.39363,n.bounds.top+c*.79)]),this.ctx.fillStyle=mo(J4),this.ctx.fill(),this.ctx.restore()):n.type===iI&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+c/2,n.bounds.top+c/2,c/4,0,Math.PI*2,!0),this.ctx.fillStyle=mo(J4),this.ctx.fill(),this.ctx.restore())),Aue(n)&&n.value.length){switch(h=this.createFontStyle(i),B=h[0],d=h[1],m=this.fontMetrics.getMetrics(B,d).baseline,this.ctx.font=B,this.ctx.fillStyle=mo(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=sue(n.styles.textAlign),F=uI(n),g=0,n.styles.textAlign){case 1:g+=F.width/2;break;case 2:g+=F.width;break}y=F.add(g,0,0,-F.height/2+1),this.ctx.save(),this.path([new lr(F.left,F.top),new lr(F.left+F.width,F.top),new lr(F.left+F.width,F.top+F.height),new lr(F.left,F.top+F.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new mb(n.value,y),i.letterSpacing,m),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Zs(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(v=n.styles.listStyleImage,v.type!==0)return[3,18];w=void 0,b=v.url,N.label=15;case 15:return N.trys.push([15,17,,18]),[4,this.context.cache.match(b)];case 16:return w=N.sent(),this.ctx.drawImage(w,n.bounds.left-(w.width+10),n.bounds.top),[3,18];case 17:return N.sent(),this.context.logger.error("Error loading list-style-image "+b),[3,18];case 18:return[3,20];case 19:t.listValue&&n.styles.listStyleType!==-1&&(B=this.createFontStyle(i)[0],this.ctx.font=B,this.ctx.fillStyle=mo(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",F=new Np(n.bounds.left,n.bounds.top+XA(n.styles.paddingTop,n.bounds.width),n.bounds.width,R4(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new mb(t.listValue,F),i.letterSpacing,R4(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),N.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(t){return fl(this,void 0,void 0,function(){var n,A,v,i,s,v,o,a,v,u,l,v,c,h,v,d,m,v,g,y,v;return Qa(this,function(w){switch(w.label){case 0:if(Zs(t.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:w.sent(),n=0,A=t.negativeZIndex,w.label=2;case 2:return n<A.length?(v=A[n],[4,this.renderStack(v)]):[3,5];case 3:w.sent(),w.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:w.sent(),i=0,s=t.nonInlineLevel,w.label=7;case 7:return i<s.length?(v=s[i],[4,this.renderNode(v)]):[3,10];case 8:w.sent(),w.label=9;case 9:return i++,[3,7];case 10:o=0,a=t.nonPositionedFloats,w.label=11;case 11:return o<a.length?(v=a[o],[4,this.renderStack(v)]):[3,14];case 12:w.sent(),w.label=13;case 13:return o++,[3,11];case 14:u=0,l=t.nonPositionedInlineLevel,w.label=15;case 15:return u<l.length?(v=l[u],[4,this.renderStack(v)]):[3,18];case 16:w.sent(),w.label=17;case 17:return u++,[3,15];case 18:c=0,h=t.inlineLevel,w.label=19;case 19:return c<h.length?(v=h[c],[4,this.renderNode(v)]):[3,22];case 20:w.sent(),w.label=21;case 21:return c++,[3,19];case 22:d=0,m=t.zeroOrAutoZIndexOrTransformedOrOpacity,w.label=23;case 23:return d<m.length?(v=m[d],[4,this.renderStack(v)]):[3,26];case 24:w.sent(),w.label=25;case 25:return d++,[3,23];case 26:g=0,y=t.positiveZIndex,w.label=27;case 27:return g<y.length?(v=y[g],[4,this.renderStack(v)]):[3,30];case 28:w.sent(),w.label=29;case 29:return g++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},e.prototype.formatPath=function(t){var n=this;t.forEach(function(A,i){var s=Sc(A)?A.start:A;i===0?n.ctx.moveTo(s.x,s.y):n.ctx.lineTo(s.x,s.y),Sc(A)&&n.ctx.bezierCurveTo(A.startControl.x,A.startControl.y,A.endControl.x,A.endControl.y,A.end.x,A.end.y)})},e.prototype.renderRepeat=function(t,n,A,i){this.path(t),this.ctx.fillStyle=n,this.ctx.translate(A,i),this.ctx.fill(),this.ctx.translate(-A,-i)},e.prototype.resizeImage=function(t,n,A){var i;if(t.width===n&&t.height===A)return t;var s=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,o=s.createElement("canvas");o.width=Math.max(1,n),o.height=Math.max(1,A);var a=o.getContext("2d");return a.drawImage(t,0,0,t.width,t.height,0,0,n,A),o},e.prototype.renderBackgroundImage=function(t){return fl(this,void 0,void 0,function(){var n,A,i,s,o,a;return Qa(this,function(u){switch(u.label){case 0:n=t.styles.backgroundImage.length-1,A=function(l){var c,h,d,D,Y,re,O,V,U,m,D,Y,re,O,V,g,y,v,w,b,B,F,N,T,U,k,D,_,L,O,V,$,Y,re,le,ne,te,G,H,z,oe,ae;return Qa(this,function(ie){switch(ie.label){case 0:if(l.type!==0)return[3,5];c=void 0,h=l.url,ie.label=1;case 1:return ie.trys.push([1,3,,4]),[4,i.context.cache.match(h)];case 2:return c=ie.sent(),[3,4];case 3:return ie.sent(),i.context.logger.error("Error loading background-image "+h),[3,4];case 4:return c&&(d=CT(t,n,[c.width,c.height,c.width/c.height]),D=d[0],Y=d[1],re=d[2],O=d[3],V=d[4],U=i.ctx.createPattern(i.resizeImage(c,O,V),"repeat"),i.renderRepeat(D,U,Y,re)),[3,6];case 5:Vse(l)?(m=CT(t,n,[null,null,null]),D=m[0],Y=m[1],re=m[2],O=m[3],V=m[4],g=kse(l.angle,O,V),y=g[0],v=g[1],w=g[2],b=g[3],B=g[4],F=document.createElement("canvas"),F.width=O,F.height=V,N=F.getContext("2d"),T=N.createLinearGradient(v,b,w,B),L4(l.stops,y).forEach(function(pe){return T.addColorStop(pe.stop,mo(pe.color))}),N.fillStyle=T,N.fillRect(0,0,O,V),O>0&&V>0&&(U=i.ctx.createPattern(F,"repeat"),i.renderRepeat(D,U,Y,re))):Kse(l)&&(k=CT(t,n,[null,null,null]),D=k[0],_=k[1],L=k[2],O=k[3],V=k[4],$=l.position.length===0?[uO]:l.position,Y=XA($[0],O),re=XA($[$.length-1],V),le=Dse(l,Y,re,O,V),ne=le[0],te=le[1],ne>0&&te>0&&(G=i.ctx.createRadialGradient(_+Y,L+re,0,_+Y,L+re,ne),L4(l.stops,ne*2).forEach(function(pe){return G.addColorStop(pe.stop,mo(pe.color))}),i.path(D),i.ctx.fillStyle=G,ne!==te?(H=t.bounds.left+.5*t.bounds.width,z=t.bounds.top+.5*t.bounds.height,oe=te/ne,ae=1/oe,i.ctx.save(),i.ctx.translate(H,z),i.ctx.transform(1,0,0,oe,0,0),i.ctx.translate(-H,-z),i.ctx.fillRect(_,ae*(L-z)+z,O,V*ae),i.ctx.restore()):i.ctx.fill())),ie.label=6;case 6:return n--,[2]}})},i=this,s=0,o=t.styles.backgroundImage.slice(0).reverse(),u.label=1;case 1:return s<o.length?(a=o[s],[5,A(a)]):[3,4];case 2:u.sent(),u.label=3;case 3:return s++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(t,n,A){return fl(this,void 0,void 0,function(){return Qa(this,function(i){return this.path(uM(A,n)),this.ctx.fillStyle=mo(t),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(t,n,A,i){return fl(this,void 0,void 0,function(){var s,o;return Qa(this,function(a){switch(a.label){case 0:return n<3?[4,this.renderSolidBorder(t,A,i)]:[3,2];case 1:return a.sent(),[2];case 2:return s=qle(i,A),this.path(s),this.ctx.fillStyle=mo(t),this.ctx.fill(),o=Wle(i,A),this.path(o),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(t){return fl(this,void 0,void 0,function(){var n,A,i,s,o,a,u,l,c=this;return Qa(this,function(h){switch(h.label){case 0:return this.applyEffects(t.getEffects(2)),n=t.container.styles,A=!Cm(n.backgroundColor)||n.backgroundImage.length,i=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],s=iue(l0(n.backgroundClip,0),t.curves),A||n.boxShadow.length?(this.ctx.save(),this.path(s),this.ctx.clip(),Cm(n.backgroundColor)||(this.ctx.fillStyle=mo(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:h.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(d){c.ctx.save();var m=aI(t.curves),g=d.inset?0:rue,y=Gle(m,-g+(d.inset?1:-1)*d.spread.number,(d.inset?1:-1)*d.spread.number,d.spread.number*(d.inset?-2:2),d.spread.number*(d.inset?-2:2));d.inset?(c.path(m),c.ctx.clip(),c.mask(y)):(c.mask(m),c.ctx.clip(),c.path(y)),c.ctx.shadowOffsetX=d.offsetX.number+g,c.ctx.shadowOffsetY=d.offsetY.number,c.ctx.shadowColor=mo(d.color),c.ctx.shadowBlur=d.blur.number,c.ctx.fillStyle=d.inset?mo(d.color):"rgba(0,0,0,1)",c.ctx.fill(),c.ctx.restore()}),h.label=2;case 2:o=0,a=0,u=i,h.label=3;case 3:return a<u.length?(l=u[a],l.style!==0&&!Cm(l.color)&&l.width>0?l.style!==2?[3,5]:[4,this.renderDashedDottedBorder(l.color,l.width,o,t.curves,2)]:[3,11]):[3,13];case 4:return h.sent(),[3,11];case 5:return l.style!==3?[3,7]:[4,this.renderDashedDottedBorder(l.color,l.width,o,t.curves,3)];case 6:return h.sent(),[3,11];case 7:return l.style!==4?[3,9]:[4,this.renderDoubleBorder(l.color,l.width,o,t.curves)];case 8:return h.sent(),[3,11];case 9:return[4,this.renderSolidBorder(l.color,o,t.curves)];case 10:h.sent(),h.label=11;case 11:o++,h.label=12;case 12:return a++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(t,n,A,i,s){return fl(this,void 0,void 0,function(){var o,a,u,l,c,h,d,m,g,y,v,w,b,B,F,N,F,N;return Qa(this,function(T){return this.ctx.save(),o=$le(i,A),a=uM(i,A),s===2&&(this.path(a),this.ctx.clip()),Sc(a[0])?(u=a[0].start.x,l=a[0].start.y):(u=a[0].x,l=a[0].y),Sc(a[1])?(c=a[1].end.x,h=a[1].end.y):(c=a[1].x,h=a[1].y),A===0||A===2?d=Math.abs(u-c):d=Math.abs(l-h),this.ctx.beginPath(),s===3?this.formatPath(o):this.formatPath(a.slice(0,2)),m=n<3?n*3:n*2,g=n<3?n*2:n,s===3&&(m=n,g=n),y=!0,d<=m*2?y=!1:d<=m*2+g?(v=d/(2*m+g),m*=v,g*=v):(w=Math.floor((d+g)/(m+g)),b=(d-w*m)/(w-1),B=(d-(w+1)*m)/w,g=B<=0||Math.abs(g-b)<Math.abs(g-B)?b:B),y&&(s===3?this.ctx.setLineDash([0,m+g]):this.ctx.setLineDash([m,g])),s===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=mo(t),this.ctx.stroke(),this.ctx.setLineDash([]),s===2&&(Sc(a[0])&&(F=a[3],N=a[0],this.ctx.beginPath(),this.formatPath([new lr(F.end.x,F.end.y),new lr(N.start.x,N.start.y)]),this.ctx.stroke()),Sc(a[1])&&(F=a[1],N=a[2],this.ctx.beginPath(),this.formatPath([new lr(F.end.x,F.end.y),new lr(N.start.x,N.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(t){return fl(this,void 0,void 0,function(){var n;return Qa(this,function(A){switch(A.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=mo(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=zle(t),[4,this.renderStack(n)];case 1:return A.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(U9),Aue=function(r){return r instanceof f9||r instanceof h9?!0:r instanceof dO&&r.type!==iI&&r.type!==AI},iue=function(r,e){switch(r){case 0:return aI(e);case 2:return Mle(e);case 1:default:return lI(e)}},sue=function(r){switch(r){case 1:return"center";case 2:return"right";case 0:default:return"left"}},oue=["-apple-system","system-ui"],aue=function(r){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?r.filter(function(e){return oue.indexOf(e)===-1}):r},lue=function(r){Gh(e,r);function e(t,n){var A=r.call(this,t,n)||this;return A.canvas=n.canvas?n.canvas:document.createElement("canvas"),A.ctx=A.canvas.getContext("2d"),A.options=n,A.canvas.width=Math.floor(n.width*n.scale),A.canvas.height=Math.floor(n.height*n.scale),A.canvas.style.width=n.width+"px",A.canvas.style.height=n.height+"px",A.ctx.scale(A.options.scale,A.options.scale),A.ctx.translate(-n.x,-n.y),A.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),A}return e.prototype.render=function(t){return fl(this,void 0,void 0,function(){var n,A;return Qa(this,function(i){switch(i.label){case 0:return n=R5(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,t),[4,uue(n)];case 1:return A=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=mo(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(A,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(U9),uue=function(r){return new Promise(function(e,t){var n=new Image;n.onload=function(){e(n)},n.onerror=t,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(r))})},cue=function(){function r(e){var t=e.id,n=e.enabled;this.id=t,this.enabled=n,this.start=Date.now()}return r.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,k2([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},r.prototype.getTime=function(){return Date.now()-this.start},r.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,k2([this.id,this.getTime()+"ms"],e))},r.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,k2([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},r.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,k2([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},r.instances={},r}(),hue=function(){function r(e,t){var n;this.windowBounds=t,this.instanceName="#"+r.instanceCount++,this.logger=new cue({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new Qle(this,e)}return r.instanceCount=1,r}(),fue=function(r,e){return e===void 0&&(e={}),due(r,e)};typeof window<"u"&&E9.setContext(window);var due=function(r,e){return fl(void 0,void 0,void 0,function(){var t,n,A,i,s,o,a,u,l,c,h,d,m,g,y,v,w,b,B,F,T,N,T,U,k,D,_,L,O,V,$,Y,re,le,ne,te,G,H,z,oe;return Qa(this,function(ae){switch(ae.label){case 0:if(!r||typeof r!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(t=r.ownerDocument,!t)throw new Error("Element is not attached to a Document");if(n=t.defaultView,!n)throw new Error("Document is not attached to a Window");return A={allowTaint:(U=e.allowTaint)!==null&&U!==void 0?U:!1,imageTimeout:(k=e.imageTimeout)!==null&&k!==void 0?k:15e3,proxy:e.proxy,useCORS:(D=e.useCORS)!==null&&D!==void 0?D:!1},i=w5({logging:(_=e.logging)!==null&&_!==void 0?_:!0,cache:e.cache},A),s={windowWidth:(L=e.windowWidth)!==null&&L!==void 0?L:n.innerWidth,windowHeight:(O=e.windowHeight)!==null&&O!==void 0?O:n.innerHeight,scrollX:(V=e.scrollX)!==null&&V!==void 0?V:n.pageXOffset,scrollY:($=e.scrollY)!==null&&$!==void 0?$:n.pageYOffset},o=new Np(s.scrollX,s.scrollY,s.windowWidth,s.windowHeight),a=new hue(i,o),u=(Y=e.foreignObjectRendering)!==null&&Y!==void 0?Y:!1,l={allowTaint:(re=e.allowTaint)!==null&&re!==void 0?re:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:u,copyStyles:u},a.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),c=new oM(a,r,l),h=c.clonedReferenceElement,h?[4,c.toIFrame(t,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return d=ae.sent(),m=pO(h)||ple(h)?GAe(h.ownerDocument):Ix(a,h),g=m.width,y=m.height,v=m.left,w=m.top,b=pue(a,h,e.backgroundColor),B={canvas:e.canvas,backgroundColor:b,scale:(ne=(le=e.scale)!==null&&le!==void 0?le:n.devicePixelRatio)!==null&&ne!==void 0?ne:1,x:((te=e.x)!==null&&te!==void 0?te:0)+v,y:((G=e.y)!==null&&G!==void 0?G:0)+w,width:(H=e.width)!==null&&H!==void 0?H:Math.ceil(g),height:(z=e.height)!==null&&z!==void 0?z:Math.ceil(y)},u?(a.logger.debug("Document cloned, using foreign object rendering"),T=new lue(a,B),[4,T.render(h)]):[3,3];case 2:return F=ae.sent(),[3,5];case 3:return a.logger.debug("Document cloned, element located at "+v+","+w+" with size "+g+"x"+y+" using computed rendering"),a.logger.debug("Starting DOM parsing"),N=g9(a,h),b===N.styles.backgroundColor&&(N.styles.backgroundColor=_p.TRANSPARENT),a.logger.debug("Starting renderer for element at "+B.x+","+B.y+" with size "+B.width+"x"+B.height),T=new nue(a,B),[4,T.render(N)];case 4:F=ae.sent(),ae.label=5;case 5:return(!((oe=e.removeContainer)!==null&&oe!==void 0)||oe)&&(oM.destroy(d)||a.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),a.logger.debug("Finished rendering"),[2,F]}})})},pue=function(r,e,t){var n=e.ownerDocument,A=n.documentElement?pb(r,getComputedStyle(n.documentElement).backgroundColor):_p.TRANSPARENT,i=n.body?pb(r,getComputedStyle(n.body).backgroundColor):_p.TRANSPARENT,s=typeof t=="string"?pb(r,t):t===null?_p.TRANSPARENT:4294967295;return e===n.documentElement?Cm(A)?Cm(i)?s:i:A:s};const gue=Object.freeze(Object.defineProperty({__proto__:null,default:fue},Symbol.toStringTag,{value:"Module"})),mue="modulepreload",vue=function(r){return"/"+r},hM={},j5=function(e,t,n){let A=Promise.resolve();if(t&&t.length>0){let s=function(u){return Promise.all(u.map(l=>Promise.resolve(l).then(c=>({status:"fulfilled",value:c}),c=>({status:"rejected",reason:c}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));A=s(t.map(u=>{if(u=vue(u),u in hM)return;hM[u]=!0;const l=u.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${c}`))return;const h=document.createElement("link");if(h.rel=l?"stylesheet":mue,l||(h.as="script"),h.crossOrigin="",h.href=u,a&&h.setAttribute("nonce",a),document.head.appendChild(h),l)return new Promise((d,m)=>{h.addEventListener("load",d),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return A.then(s=>{for(const o of s||[])o.status==="rejected"&&i(o.reason);return e().catch(i)})};function wA(r){"@babel/helpers - typeof";return wA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wA(r)}var Oa=Uint8Array,zu=Uint16Array,gO=Int32Array,kx=new Oa([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Dx=new Oa([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),V5=new Oa([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),T9=function(r,e){for(var t=new zu(31),n=0;n<31;++n)t[n]=e+=1<<r[n-1];for(var A=new gO(t[30]),n=1;n<30;++n)for(var i=t[n];i<t[n+1];++i)A[i]=i-t[n]<<5|n;return{b:t,r:A}},Q9=T9(kx,2),L9=Q9.b,K5=Q9.r;L9[28]=258,K5[258]=28;var N9=T9(Dx,0),yue=N9.b,fM=N9.r,G5=new zu(32768);for(var oi=0;oi<32768;++oi){var cg=(oi&43690)>>1|(oi&21845)<<1;cg=(cg&52428)>>2|(cg&13107)<<2,cg=(cg&61680)>>4|(cg&3855)<<4,G5[oi]=((cg&65280)>>8|(cg&255)<<8)>>1}var Zf=function(r,e,t){for(var n=r.length,A=0,i=new zu(e);A<n;++A)r[A]&&++i[r[A]-1];var s=new zu(e);for(A=1;A<e;++A)s[A]=s[A-1]+i[A-1]<<1;var o;if(t){o=new zu(1<<e);var a=15-e;for(A=0;A<n;++A)if(r[A])for(var u=A<<4|r[A],l=e-r[A],c=s[r[A]-1]++<<l,h=c|(1<<l)-1;c<=h;++c)o[G5[c]>>a]=u}else for(o=new zu(n),A=0;A<n;++A)r[A]&&(o[A]=G5[s[r[A]-1]++]>>15-r[A]);return o},Pm=new Oa(288);for(var oi=0;oi<144;++oi)Pm[oi]=8;for(var oi=144;oi<256;++oi)Pm[oi]=9;for(var oi=256;oi<280;++oi)Pm[oi]=7;for(var oi=280;oi<288;++oi)Pm[oi]=8;var Db=new Oa(32);for(var oi=0;oi<32;++oi)Db[oi]=5;var wue=Zf(Pm,9,0),Bue=Zf(Pm,9,1),Cue=Zf(Db,5,0),bue=Zf(Db,5,1),bT=function(r){for(var e=r[0],t=1;t<r.length;++t)r[t]>e&&(e=r[t]);return e},hh=function(r,e,t){var n=e/8|0;return(r[n]|r[n+1]<<8)>>(e&7)&t},ET=function(r,e){var t=e/8|0;return(r[t]|r[t+1]<<8|r[t+2]<<16)>>(e&7)},mO=function(r){return(r+7)/8|0},R9=function(r,e,t){return(t==null||t>r.length)&&(t=r.length),new Oa(r.subarray(e,t))},Eue=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],yh=function(r,e,t){var n=new Error(e||Eue[r]);if(n.code=r,Error.captureStackTrace&&Error.captureStackTrace(n,yh),!t)throw n;return n},_ue=function(r,e,t,n){var A=r.length,i=0;if(!A||e.f&&!e.l)return t||new Oa(0);var s=!t,o=s||e.i!=2,a=e.i;s&&(t=new Oa(A*3));var u=function(qe){var et=t.length;if(qe>et){var nt=new Oa(Math.max(et*2,qe));nt.set(t),t=nt}},l=e.f||0,c=e.p||0,h=e.b||0,d=e.l,m=e.d,g=e.m,y=e.n,v=A*8;do{if(!d){l=hh(r,c,1);var w=hh(r,c+1,3);if(c+=3,w)if(w==1)d=Bue,m=bue,g=9,y=5;else if(w==2){var N=hh(r,c,31)+257,T=hh(r,c+10,15)+4,U=N+hh(r,c+5,31)+1;c+=14;for(var k=new Oa(U),D=new Oa(19),_=0;_<T;++_)D[V5[_]]=hh(r,c+_*3,7);c+=T*3;for(var L=bT(D),O=(1<<L)-1,V=Zf(D,L,1),_=0;_<U;){var $=V[hh(r,c,O)];c+=$&15;var b=$>>4;if(b<16)k[_++]=b;else{var Y=0,re=0;for(b==16?(re=3+hh(r,c,3),c+=2,Y=k[_-1]):b==17?(re=3+hh(r,c,7),c+=3):b==18&&(re=11+hh(r,c,127),c+=7);re--;)k[_++]=Y}}var le=k.subarray(0,N),ne=k.subarray(N);g=bT(le),y=bT(ne),d=Zf(le,g,1),m=Zf(ne,y,1)}else yh(1);else{var b=mO(c)+4,B=r[b-4]|r[b-3]<<8,F=b+B;if(F>A){a&&yh(0);break}o&&u(h+B),t.set(r.subarray(b,F),h),e.b=h+=B,e.p=c=F*8,e.f=l;continue}if(c>v){a&&yh(0);break}}o&&u(h+131072);for(var te=(1<<g)-1,G=(1<<y)-1,H=c;;H=c){var Y=d[ET(r,c)&te],z=Y>>4;if(c+=Y&15,c>v){a&&yh(0);break}if(Y||yh(2),z<256)t[h++]=z;else if(z==256){H=c,d=null;break}else{var oe=z-254;if(z>264){var _=z-257,ae=kx[_];oe=hh(r,c,(1<<ae)-1)+L9[_],c+=ae}var ie=m[ET(r,c)&G],pe=ie>>4;ie||yh(3),c+=ie&15;var ne=yue[pe];if(pe>3){var ae=Dx[pe];ne+=ET(r,c)&(1<<ae)-1,c+=ae}if(c>v){a&&yh(0);break}o&&u(h+131072);var Ce=h+oe;if(h<ne){var Ie=i-ne,Qe=Math.min(ne,Ce);for(Ie+h<0&&yh(3);h<Qe;++h)t[h]=n[Ie+h]}for(;h<Ce;++h)t[h]=t[h-ne]}}e.l=d,e.p=H,e.b=h,e.f=l,d&&(l=1,e.m=g,e.d=m,e.n=y)}while(!l);return h!=t.length&&s?R9(t,0,h):t.subarray(0,h)},Pd=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8},uC=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8,r[n+2]|=t>>16},_T=function(r,e){for(var t=[],n=0;n<r.length;++n)r[n]&&t.push({s:n,f:r[n]});var A=t.length,i=t.slice();if(!A)return{t:O9,l:0};if(A==1){var s=new Oa(t[0].s+1);return s[t[0].s]=1,{t:s,l:1}}t.sort(function(F,N){return F.f-N.f}),t.push({s:-1,f:25001});var o=t[0],a=t[1],u=0,l=1,c=2;for(t[0]={s:-1,f:o.f+a.f,l:o,r:a};l!=A-1;)o=t[t[u].f<t[c].f?u++:c++],a=t[u!=l&&t[u].f<t[c].f?u++:c++],t[l++]={s:-1,f:o.f+a.f,l:o,r:a};for(var h=i[0].s,n=1;n<A;++n)i[n].s>h&&(h=i[n].s);var d=new zu(h+1),m=z5(t[l-1],d,0);if(m>e){var n=0,g=0,y=m-e,v=1<<y;for(i.sort(function(N,T){return d[T.s]-d[N.s]||N.f-T.f});n<A;++n){var w=i[n].s;if(d[w]>e)g+=v-(1<<m-d[w]),d[w]=e;else break}for(g>>=y;g>0;){var b=i[n].s;d[b]<e?g-=1<<e-d[b]++-1:++n}for(;n>=0&&g;--n){var B=i[n].s;d[B]==e&&(--d[B],++g)}m=e}return{t:new Oa(d),l:m}},z5=function(r,e,t){return r.s==-1?Math.max(z5(r.l,e,t+1),z5(r.r,e,t+1)):e[r.s]=t},dM=function(r){for(var e=r.length;e&&!r[--e];);for(var t=new zu(++e),n=0,A=r[0],i=1,s=function(a){t[n++]=a},o=1;o<=e;++o)if(r[o]==A&&o!=e)++i;else{if(!A&&i>2){for(;i>138;i-=138)s(32754);i>2&&(s(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(s(A),--i;i>6;i-=6)s(8304);i>2&&(s(i-3<<5|8208),i=0)}for(;i--;)s(A);i=1,A=r[o]}return{c:t.subarray(0,n),n:e}},cC=function(r,e){for(var t=0,n=0;n<e.length;++n)t+=r[n]*e[n];return t},P9=function(r,e,t){var n=t.length,A=mO(e+2);r[A]=n&255,r[A+1]=n>>8,r[A+2]=r[A]^255,r[A+3]=r[A+1]^255;for(var i=0;i<n;++i)r[A+i+4]=t[i];return(A+4+n)*8},pM=function(r,e,t,n,A,i,s,o,a,u,l){Pd(e,l++,t),++A[256];for(var c=_T(A,15),h=c.t,d=c.l,m=_T(i,15),g=m.t,y=m.l,v=dM(h),w=v.c,b=v.n,B=dM(g),F=B.c,N=B.n,T=new zu(19),U=0;U<w.length;++U)++T[w[U]&31];for(var U=0;U<F.length;++U)++T[F[U]&31];for(var k=_T(T,7),D=k.t,_=k.l,L=19;L>4&&!D[V5[L-1]];--L);var O=u+5<<3,V=cC(A,Pm)+cC(i,Db)+s,$=cC(A,h)+cC(i,g)+s+14+3*L+cC(T,D)+2*T[16]+3*T[17]+7*T[18];if(a>=0&&O<=V&&O<=$)return P9(e,l,r.subarray(a,a+u));var Y,re,le,ne;if(Pd(e,l,1+($<V)),l+=2,$<V){Y=Zf(h,d,0),re=h,le=Zf(g,y,0),ne=g;var te=Zf(D,_,0);Pd(e,l,b-257),Pd(e,l+5,N-1),Pd(e,l+10,L-4),l+=14;for(var U=0;U<L;++U)Pd(e,l+3*U,D[V5[U]]);l+=3*L;for(var G=[w,F],H=0;H<2;++H)for(var z=G[H],U=0;U<z.length;++U){var oe=z[U]&31;Pd(e,l,te[oe]),l+=D[oe],oe>15&&(Pd(e,l,z[U]>>5&127),l+=z[U]>>12)}}else Y=wue,re=Pm,le=Cue,ne=Db;for(var U=0;U<o;++U){var ae=n[U];if(ae>255){var oe=ae>>18&31;uC(e,l,Y[oe+257]),l+=re[oe+257],oe>7&&(Pd(e,l,ae>>23&31),l+=kx[oe]);var ie=ae&31;uC(e,l,le[ie]),l+=ne[ie],ie>3&&(uC(e,l,ae>>5&8191),l+=Dx[ie])}else uC(e,l,Y[ae]),l+=re[ae]}return uC(e,l,Y[256]),l+re[256]},Sue=new gO([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),O9=new Oa(0),Fue=function(r,e,t,n,A,i){var s=i.z||r.length,o=new Oa(n+s+5*(1+Math.ceil(s/7e3))+A),a=o.subarray(n,o.length-A),u=i.l,l=(i.r||0)&7;if(e){l&&(a[0]=i.r>>3);for(var c=Sue[e-1],h=c>>13,d=c&8191,m=(1<<t)-1,g=i.p||new zu(32768),y=i.h||new zu(m+1),v=Math.ceil(t/3),w=2*v,b=function(pt){return(r[pt]^r[pt+1]<<v^r[pt+2]<<w)&m},B=new gO(25e3),F=new zu(288),N=new zu(32),T=0,U=0,k=i.i||0,D=0,_=i.w||0,L=0;k+2<s;++k){var O=b(k),V=k&32767,$=y[O];if(g[V]=$,y[O]=V,_<=k){var Y=s-k;if((T>7e3||D>24576)&&(Y>423||!u)){l=pM(r,a,0,B,F,N,U,D,L,k-L,l),D=T=U=0,L=k;for(var re=0;re<286;++re)F[re]=0;for(var re=0;re<30;++re)N[re]=0}var le=2,ne=0,te=d,G=V-$&32767;if(Y>2&&O==b(k-G))for(var H=Math.min(h,Y)-1,z=Math.min(32767,k),oe=Math.min(258,Y);G<=z&&--te&&V!=$;){if(r[k+le]==r[k+le-G]){for(var ae=0;ae<oe&&r[k+ae]==r[k+ae-G];++ae);if(ae>le){if(le=ae,ne=G,ae>H)break;for(var ie=Math.min(G,ae-2),pe=0,re=0;re<ie;++re){var Ce=k-G+re&32767,Ie=g[Ce],Qe=Ce-Ie&32767;Qe>pe&&(pe=Qe,$=Ce)}}}V=$,$=g[V],G+=V-$&32767}if(ne){B[D++]=268435456|K5[le]<<18|fM[ne];var qe=K5[le]&31,et=fM[ne]&31;U+=kx[qe]+Dx[et],++F[257+qe],++N[et],_=k+le,++T}else B[D++]=r[k],++F[r[k]]}}for(k=Math.max(k,_);k<s;++k)B[D++]=r[k],++F[r[k]];l=pM(r,a,u,B,F,N,U,D,L,k-L,l),u||(i.r=l&7|a[l/8|0]<<3,l-=7,i.h=y,i.p=g,i.i=k,i.w=_)}else{for(var k=i.w||0;k<s+u;k+=65535){var nt=k+65535;nt>=s&&(a[l/8|0]=u,nt=s),l=P9(a,l+1,r.subarray(k,nt))}i.i=s}return R9(o,0,n+mO(l)+A)},k9=function(){var r=1,e=0;return{p:function(t){for(var n=r,A=e,i=t.length|0,s=0;s!=i;){for(var o=Math.min(s+2655,i);s<o;++s)A+=n+=t[s];n=(n&65535)+15*(n>>16),A=(A&65535)+15*(A>>16)}r=n,e=A},d:function(){return r%=65521,e%=65521,(r&255)<<24|(r&65280)<<8|(e&255)<<8|e>>8}}},Iue=function(r,e,t,n,A){if(!A&&(A={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),s=new Oa(i.length+r.length);s.set(i),s.set(r,i.length),r=s,A.w=i.length}return Fue(r,e.level==null?6:e.level,e.mem==null?A.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+e.mem,t,n,A)},D9=function(r,e,t){for(;t;++e)r[e]=t,t>>>=8},xue=function(r,e){var t=e.level,n=t==0?0:t<6?1:t==9?3:2;if(r[0]=120,r[1]=n<<6|(e.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,e.dictionary){var A=k9();A.p(e.dictionary),D9(r,2,A.d())}},Uue=function(r,e){return((r[0]&15)!=8||r[0]>>4>7||(r[0]<<8|r[1])%31)&&yh(6,"invalid zlib data"),(r[1]>>5&1)==1&&yh(6,"invalid zlib data: "+(r[1]&32?"need":"unexpected")+" dictionary"),(r[1]>>3&4)+2};function q5(r,e){e||(e={});var t=k9();t.p(r);var n=Iue(r,e,e.dictionary?6:2,4);return xue(n,e),D9(n,n.length-4,t.d()),n}function Tue(r,e){return _ue(r.subarray(Uue(r),-4),{i:2},e,e)}var Que=typeof TextDecoder<"u"&&new TextDecoder,Lue=0;try{Que.decode(O9,{stream:!0}),Lue=1}catch{}var jr=function(){return typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:this}();function ST(){jr.console&&typeof jr.console.log=="function"&&jr.console.log.apply(jr.console,arguments)}var MA={log:ST,warn:function(r){jr.console&&(typeof jr.console.warn=="function"?jr.console.warn.apply(jr.console,arguments):ST.call(null,arguments))},error:function(r){jr.console&&(typeof jr.console.error=="function"?jr.console.error.apply(jr.console,arguments):ST(r))}};function FT(r,e,t){var n=new XMLHttpRequest;n.open("GET",r),n.responseType="blob",n.onload=function(){yv(n.response,e,t)},n.onerror=function(){MA.error("could not download file")},n.send()}function gM(r){var e=new XMLHttpRequest;e.open("HEAD",r,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function oS(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(e)}}var yb,W5,yv=jr.saveAs||((typeof window>"u"?"undefined":wA(window))!=="object"||window!==jr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(r,e,t){var n=jr.URL||jr.webkitURL,A=document.createElement("a");e=e||r.name||"download",A.download=e,A.rel="noopener",typeof r=="string"?(A.href=r,A.origin!==location.origin?gM(A.href)?FT(r,e,t):oS(A,A.target="_blank"):oS(A)):(A.href=n.createObjectURL(r),setTimeout(function(){n.revokeObjectURL(A.href)},4e4),setTimeout(function(){oS(A)},0))}:"msSaveOrOpenBlob"in navigator?function(r,e,t){if(e=e||r.name||"download",typeof r=="string")if(gM(r))FT(r,e,t);else{var n=document.createElement("a");n.href=r,n.target="_blank",setTimeout(function(){oS(n)})}else navigator.msSaveOrOpenBlob(function(A,i){return i===void 0?i={autoBom:!1}:wA(i)!=="object"&&(MA.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(A.type)?new Blob(["\uFEFF",A],{type:A.type}):A}(r,t),e)}:function(r,e,t,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof r=="string")return FT(r,e,t);var A=r.type==="application/octet-stream",i=/constructor/i.test(jr.HTMLElement)||jr.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||A&&i)&&(typeof FileReader>"u"?"undefined":wA(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var l=o.result;l=s?l:l.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=l:location=l,n=null},o.readAsDataURL(r)}else{var a=jr.URL||jr.webkitURL,u=a.createObjectURL(r);n?n.location=u:location.href=u,n=null,setTimeout(function(){a.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function M9(r){var e;r=r||"",this.ok=!1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<t.length;n++){var A=t[n].re,i=t[n].process,s=A.exec(r);s&&(e=i(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),a=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),a.length==1&&(a="0"+a),u.length==1&&(u="0"+u),"#"+o+a+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function IT(r,e){var t=r[0],n=r[1],A=r[2],i=r[3];t=Ca(t,n,A,i,e[0],7,-680876936),i=Ca(i,t,n,A,e[1],12,-389564586),A=Ca(A,i,t,n,e[2],17,606105819),n=Ca(n,A,i,t,e[3],22,-1044525330),t=Ca(t,n,A,i,e[4],7,-176418897),i=Ca(i,t,n,A,e[5],12,1200080426),A=Ca(A,i,t,n,e[6],17,-1473231341),n=Ca(n,A,i,t,e[7],22,-45705983),t=Ca(t,n,A,i,e[8],7,1770035416),i=Ca(i,t,n,A,e[9],12,-1958414417),A=Ca(A,i,t,n,e[10],17,-42063),n=Ca(n,A,i,t,e[11],22,-1990404162),t=Ca(t,n,A,i,e[12],7,1804603682),i=Ca(i,t,n,A,e[13],12,-40341101),A=Ca(A,i,t,n,e[14],17,-1502002290),t=ba(t,n=Ca(n,A,i,t,e[15],22,1236535329),A,i,e[1],5,-165796510),i=ba(i,t,n,A,e[6],9,-1069501632),A=ba(A,i,t,n,e[11],14,643717713),n=ba(n,A,i,t,e[0],20,-373897302),t=ba(t,n,A,i,e[5],5,-701558691),i=ba(i,t,n,A,e[10],9,38016083),A=ba(A,i,t,n,e[15],14,-660478335),n=ba(n,A,i,t,e[4],20,-405537848),t=ba(t,n,A,i,e[9],5,568446438),i=ba(i,t,n,A,e[14],9,-1019803690),A=ba(A,i,t,n,e[3],14,-187363961),n=ba(n,A,i,t,e[8],20,1163531501),t=ba(t,n,A,i,e[13],5,-1444681467),i=ba(i,t,n,A,e[2],9,-51403784),A=ba(A,i,t,n,e[7],14,1735328473),t=Ea(t,n=ba(n,A,i,t,e[12],20,-1926607734),A,i,e[5],4,-378558),i=Ea(i,t,n,A,e[8],11,-2022574463),A=Ea(A,i,t,n,e[11],16,1839030562),n=Ea(n,A,i,t,e[14],23,-35309556),t=Ea(t,n,A,i,e[1],4,-1530992060),i=Ea(i,t,n,A,e[4],11,1272893353),A=Ea(A,i,t,n,e[7],16,-155497632),n=Ea(n,A,i,t,e[10],23,-1094730640),t=Ea(t,n,A,i,e[13],4,681279174),i=Ea(i,t,n,A,e[0],11,-358537222),A=Ea(A,i,t,n,e[3],16,-722521979),n=Ea(n,A,i,t,e[6],23,76029189),t=Ea(t,n,A,i,e[9],4,-640364487),i=Ea(i,t,n,A,e[12],11,-421815835),A=Ea(A,i,t,n,e[15],16,530742520),t=_a(t,n=Ea(n,A,i,t,e[2],23,-995338651),A,i,e[0],6,-198630844),i=_a(i,t,n,A,e[7],10,1126891415),A=_a(A,i,t,n,e[14],15,-1416354905),n=_a(n,A,i,t,e[5],21,-57434055),t=_a(t,n,A,i,e[12],6,1700485571),i=_a(i,t,n,A,e[3],10,-1894986606),A=_a(A,i,t,n,e[10],15,-1051523),n=_a(n,A,i,t,e[1],21,-2054922799),t=_a(t,n,A,i,e[8],6,1873313359),i=_a(i,t,n,A,e[15],10,-30611744),A=_a(A,i,t,n,e[6],15,-1560198380),n=_a(n,A,i,t,e[13],21,1309151649),t=_a(t,n,A,i,e[4],6,-145523070),i=_a(i,t,n,A,e[11],10,-1120210379),A=_a(A,i,t,n,e[2],15,718787259),n=_a(n,A,i,t,e[9],21,-343485551),r[0]=dm(t,r[0]),r[1]=dm(n,r[1]),r[2]=dm(A,r[2]),r[3]=dm(i,r[3])}function Mx(r,e,t,n,A,i){return e=dm(dm(e,r),dm(n,i)),dm(e<<A|e>>>32-A,t)}function Ca(r,e,t,n,A,i,s){return Mx(e&t|~e&n,r,e,A,i,s)}function ba(r,e,t,n,A,i,s){return Mx(e&n|t&~n,r,e,A,i,s)}function Ea(r,e,t,n,A,i,s){return Mx(e^t^n,r,e,A,i,s)}function _a(r,e,t,n,A,i,s){return Mx(t^(e|~n),r,e,A,i,s)}function H9(r){var e,t=r.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=r.length;e+=64)IT(n,Nue(r.substring(e-64,e)));r=r.substring(e-64);var A=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r.length;e++)A[e>>2]|=r.charCodeAt(e)<<(e%4<<3);if(A[e>>2]|=128<<(e%4<<3),e>55)for(IT(n,A),e=0;e<16;e++)A[e]=0;return A[14]=8*t,IT(n,A),n}function Nue(r){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=r.charCodeAt(e)+(r.charCodeAt(e+1)<<8)+(r.charCodeAt(e+2)<<16)+(r.charCodeAt(e+3)<<24);return t}yb=jr.atob.bind(jr),W5=jr.btoa.bind(jr);var mM="0123456789abcdef".split("");function Rue(r){for(var e="",t=0;t<4;t++)e+=mM[r>>8*t+4&15]+mM[r>>8*t&15];return e}function Pue(r){return String.fromCharCode((255&r)>>0,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function $5(r){return H9(r).map(Pue).join("")}var Oue=function(r){for(var e=0;e<r.length;e++)r[e]=Rue(r[e]);return r.join("")}(H9("hello"))!="5d41402abc4b2a76b9719d911017c592";function dm(r,e){if(Oue){var t=(65535&r)+(65535&e);return(r>>16)+(e>>16)+(t>>16)<<16|65535&t}return r+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function X5(r,e){var t,n,A,i;if(r!==t){for(var s=(A=r,i=1+(256/r.length>>0),new Array(i+1).join(A)),o=[],a=0;a<256;a++)o[a]=a;var u=0;for(a=0;a<256;a++){var l=o[a];u=(u+l+s.charCodeAt(a))%256,o[a]=o[u],o[u]=l}t=r,n=o}else o=n;var c=e.length,h=0,d=0,m="";for(a=0;a<c;a++)d=(d+(l=o[h=(h+1)%256]))%256,o[h]=o[d],o[d]=l,s=o[(o[h]+o[d])%256],m+=String.fromCharCode(e.charCodeAt(a)^s);return m}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var vM={print:4,modify:8,copy:16,"annot-forms":32};function u0(r,e,t,n){this.v=1,this.r=2;var A=192;r.forEach(function(o){if(vM.perm!==void 0)throw new Error("Invalid permission: "+o);A+=vM[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(e+this.padding).substr(0,32),s=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,s),this.P=-(1+(255^A)),this.encryptionKey=$5(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=X5(this.encryptionKey,this.padding)}function c0(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var e="",t=r.length,n=0;n<t;n++){var A=r.charCodeAt(n);A<33||A===35||A===37||A===40||A===41||A===47||A===60||A===62||A===91||A===93||A===123||A===125||A>126?e+="#"+("0"+A.toString(16)).slice(-2):e+=r[n]}return e}function yM(r){if(wA(r)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,n,A){if(A=A||!1,typeof t!="string"||typeof n!="function"||typeof A!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var i=Math.random().toString(35);return e[t][i]=[n,!!A],i},this.unsubscribe=function(t){for(var n in e)if(e[n][t])return delete e[n][t],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var n=Array.prototype.slice.call(arguments,1),A=[];for(var i in e[t]){var s=e[t][i];try{s[0].apply(r,n)}catch(o){jr.console&&MA.error("jsPDF PubSub Error",o.message,o)}s[1]&&A.push(i)}A.length&&A.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Mb(r){if(!(this instanceof Mb))return new Mb(r);var e="opacity,stroke-opacity".split(",");for(var t in r)r.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=r[t]);this.id="",this.objectNumber=-1}function j9(r,e){this.gState=r,this.matrix=e,this.id="",this.objectNumber=-1}function _g(r,e,t,n,A){if(!(this instanceof _g))return new _g(r,e,t,n,A);this.type=r==="axial"?2:3,this.coords=e,this.colors=t,j9.call(this,n,A)}function Uv(r,e,t,n,A){if(!(this instanceof Uv))return new Uv(r,e,t,n,A);this.boundingBox=r,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,j9.call(this,n,A)}function Or(r){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],A=arguments[2],i=arguments[3],s=[],o=1,a=16,u="S",l=null;wA(r=r||{})==="object"&&(t=r.orientation,n=r.unit||n,A=r.format||A,i=r.compress||r.compressPdf||i,(l=r.encryption||null)!==null&&(l.userPassword=l.userPassword||"",l.ownerPassword=l.ownerPassword||"",l.userPermissions=l.userPermissions||[]),o=typeof r.userUnit=="number"?Math.abs(r.userUnit):1,r.precision!==void 0&&(e=r.precision),r.floatPrecision!==void 0&&(a=r.floatPrecision),u=r.defaultPathOperation||"S"),s=r.filters||(i===!0?["FlateEncode"]:s),n=n||"mm",t=(""+(t||"P")).toLowerCase();var c=r.putOnlyUsedFonts||!1,h={},d={internal:{},__private__:{}};d.__private__.PubSub=yM;var m="1.3",g=d.__private__.getPdfVersion=function(){return m};d.__private__.setPdfVersion=function(K){m=K};var y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};d.__private__.getPageFormats=function(){return y};var v=d.__private__.getPageFormat=function(K){return y[K]};A=A||"a4";var w={COMPAT:"compat",ADVANCED:"advanced"},b=w.COMPAT;function B(){this.saveGraphicsState(),Le(new $t(we,0,0,-we,0,ps()*we).toString()+" cm"),this.setFontSize(this.getFontSize()/we),u="n",b=w.ADVANCED}function F(){this.restoreGraphicsState(),u="S",b=w.COMPAT}var N=d.__private__.combineFontStyleAndFontWeight=function(K,ye){if(K=="bold"&&ye=="normal"||K=="bold"&&ye==400||K=="normal"&&ye=="italic"||K=="bold"&&ye=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ye&&(K=ye==400||ye==="normal"?K==="italic"?"italic":"normal":ye!=700&&ye!=="bold"||K!=="normal"?(ye==700?"bold":ye)+""+K:"bold"),K};d.advancedAPI=function(K){var ye=b===w.COMPAT;return ye&&B.call(this),typeof K!="function"||(K(this),ye&&F.call(this)),this},d.compatAPI=function(K){var ye=b===w.ADVANCED;return ye&&F.call(this),typeof K!="function"||(K(this),ye&&B.call(this)),this},d.isAdvancedAPI=function(){return b===w.ADVANCED};var T,U=function(K){if(b!==w.ADVANCED)throw new Error(K+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},k=d.roundToPrecision=d.__private__.roundToPrecision=function(K,ye){var De=e||ye;if(isNaN(K)||isNaN(De))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return K.toFixed(De).replace(/0+$/,"")};T=d.hpf=d.__private__.hpf=typeof a=="number"?function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.hpf");return k(K,a)}:a==="smart"?function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.hpf");return k(K,K>-1&&K<1?16:5)}:function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.hpf");return k(K,16)};var D=d.f2=d.__private__.f2=function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.f2");return k(K,2)},_=d.__private__.f3=function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.f3");return k(K,3)},L=d.scale=d.__private__.scale=function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.scale");return b===w.COMPAT?K*we:b===w.ADVANCED?K:void 0},O=function(K){return b===w.COMPAT?ps()-K:b===w.ADVANCED?K:void 0},V=function(K){return L(O(K))};d.__private__.setPrecision=d.setPrecision=function(K){typeof parseInt(K,10)=="number"&&(e=parseInt(K,10))};var $,Y="00000000000000000000000000000000",re=d.__private__.getFileId=function(){return Y},le=d.__private__.setFileId=function(K){return Y=K!==void 0&&/^[a-fA-F0-9]{32}$/.test(K)?K.toUpperCase():Y.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),l!==null&&(_n=new u0(l.userPermissions,l.userPassword,l.ownerPassword,Y)),Y};d.setFileId=function(K){return le(K),this},d.getFileId=function(){return re()};var ne=d.__private__.convertDateToPDFDate=function(K){var ye=K.getTimezoneOffset(),De=ye<0?"+":"-",Ge=Math.floor(Math.abs(ye/60)),at=Math.abs(ye%60),Ct=[De,oe(Ge),"'",oe(at),"'"].join("");return["D:",K.getFullYear(),oe(K.getMonth()+1),oe(K.getDate()),oe(K.getHours()),oe(K.getMinutes()),oe(K.getSeconds()),Ct].join("")},te=d.__private__.convertPDFDateToDate=function(K){var ye=parseInt(K.substr(2,4),10),De=parseInt(K.substr(6,2),10)-1,Ge=parseInt(K.substr(8,2),10),at=parseInt(K.substr(10,2),10),Ct=parseInt(K.substr(12,2),10),Rt=parseInt(K.substr(14,2),10);return new Date(ye,De,Ge,at,Ct,Rt,0)},G=d.__private__.setCreationDate=function(K){var ye;if(K===void 0&&(K=new Date),K instanceof Date)ye=ne(K);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(K))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ye=K}return $=ye},H=d.__private__.getCreationDate=function(K){var ye=$;return K==="jsDate"&&(ye=te($)),ye};d.setCreationDate=function(K){return G(K),this},d.getCreationDate=function(K){return H(K)};var z,oe=d.__private__.padd2=function(K){return("0"+parseInt(K)).slice(-2)},ae=d.__private__.padd2Hex=function(K){return("00"+(K=K.toString())).substr(K.length)},ie=0,pe=[],Ce=[],Ie=0,Qe=[],qe=[],et=!1,nt=Ce,pt=function(){ie=0,Ie=0,Ce=[],pe=[],Qe=[],xi=yn(),qn=yn()};d.__private__.setCustomOutputDestination=function(K){et=!0,nt=K};var Ke=function(K){et||(nt=K)};d.__private__.resetCustomOutputDestination=function(){et=!1,nt=Ce};var Le=d.__private__.out=function(K){return K=K.toString(),Ie+=K.length+1,nt.push(K),nt},Ut=d.__private__.write=function(K){return Le(arguments.length===1?K.toString():Array.prototype.join.call(arguments," "))},ke=d.__private__.getArrayBuffer=function(K){for(var ye=K.length,De=new ArrayBuffer(ye),Ge=new Uint8Array(De);ye--;)Ge[ye]=K.charCodeAt(ye);return De},Me=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];d.__private__.getStandardFonts=function(){return Me};var it=r.fontSize||16;d.__private__.setFontSize=d.setFontSize=function(K){return it=b===w.ADVANCED?K/we:K,this};var ut,ze=d.__private__.getFontSize=d.getFontSize=function(){return b===w.COMPAT?it:it*we},Ve=r.R2L||!1;d.__private__.setR2L=d.setR2L=function(K){return Ve=K,this},d.__private__.getR2L=d.getR2L=function(){return Ve};var At,lt=d.__private__.setZoomMode=function(K){var ye=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(K))ut=K;else if(isNaN(K)){if(ye.indexOf(K)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+K+'" is not recognized.');ut=K}else ut=parseInt(K,10)};d.__private__.getZoomMode=function(){return ut};var yt,ge=d.__private__.setPageMode=function(K){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(K)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+K+'" is not recognized.');At=K};d.__private__.getPageMode=function(){return At};var X=d.__private__.setLayoutMode=function(K){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(K)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+K+'" is not recognized.');yt=K};d.__private__.getLayoutMode=function(){return yt},d.__private__.setDisplayMode=d.setDisplayMode=function(K,ye,De){return lt(K),X(ye),ge(De),this};var Ae={title:"",subject:"",author:"",keywords:"",creator:""};d.__private__.getDocumentProperty=function(K){if(Object.keys(Ae).indexOf(K)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ae[K]},d.__private__.getDocumentProperties=function(){return Ae},d.__private__.setDocumentProperties=d.setProperties=d.setDocumentProperties=function(K){for(var ye in Ae)Ae.hasOwnProperty(ye)&&K[ye]&&(Ae[ye]=K[ye]);return this},d.__private__.setDocumentProperty=function(K,ye){if(Object.keys(Ae).indexOf(K)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ae[K]=ye};var de,we,Oe,He,Et,Tt={},Ht={},gr=[],zt={},Jn={},Lr={},vn={},vr=null,jt=0,Pt=[],Vt=new yM(d),xr=r.hotfixes||[],Gr={},On={},BA=[],$t=function K(ye,De,Ge,at,Ct,Rt){if(!(this instanceof K))return new K(ye,De,Ge,at,Ct,Rt);isNaN(ye)&&(ye=1),isNaN(De)&&(De=0),isNaN(Ge)&&(Ge=0),isNaN(at)&&(at=1),isNaN(Ct)&&(Ct=0),isNaN(Rt)&&(Rt=0),this._matrix=[ye,De,Ge,at,Ct,Rt]};Object.defineProperty($t.prototype,"sx",{get:function(){return this._matrix[0]},set:function(K){this._matrix[0]=K}}),Object.defineProperty($t.prototype,"shy",{get:function(){return this._matrix[1]},set:function(K){this._matrix[1]=K}}),Object.defineProperty($t.prototype,"shx",{get:function(){return this._matrix[2]},set:function(K){this._matrix[2]=K}}),Object.defineProperty($t.prototype,"sy",{get:function(){return this._matrix[3]},set:function(K){this._matrix[3]=K}}),Object.defineProperty($t.prototype,"tx",{get:function(){return this._matrix[4]},set:function(K){this._matrix[4]=K}}),Object.defineProperty($t.prototype,"ty",{get:function(){return this._matrix[5]},set:function(K){this._matrix[5]=K}}),Object.defineProperty($t.prototype,"a",{get:function(){return this._matrix[0]},set:function(K){this._matrix[0]=K}}),Object.defineProperty($t.prototype,"b",{get:function(){return this._matrix[1]},set:function(K){this._matrix[1]=K}}),Object.defineProperty($t.prototype,"c",{get:function(){return this._matrix[2]},set:function(K){this._matrix[2]=K}}),Object.defineProperty($t.prototype,"d",{get:function(){return this._matrix[3]},set:function(K){this._matrix[3]=K}}),Object.defineProperty($t.prototype,"e",{get:function(){return this._matrix[4]},set:function(K){this._matrix[4]=K}}),Object.defineProperty($t.prototype,"f",{get:function(){return this._matrix[5]},set:function(K){this._matrix[5]=K}}),Object.defineProperty($t.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty($t.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty($t.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty($t.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),$t.prototype.join=function(K){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(T).join(K)},$t.prototype.multiply=function(K){var ye=K.sx*this.sx+K.shy*this.shx,De=K.sx*this.shy+K.shy*this.sy,Ge=K.shx*this.sx+K.sy*this.shx,at=K.shx*this.shy+K.sy*this.sy,Ct=K.tx*this.sx+K.ty*this.shx+this.tx,Rt=K.tx*this.shy+K.ty*this.sy+this.ty;return new $t(ye,De,Ge,at,Ct,Rt)},$t.prototype.decompose=function(){var K=this.sx,ye=this.shy,De=this.shx,Ge=this.sy,at=this.tx,Ct=this.ty,Rt=Math.sqrt(K*K+ye*ye),Xt=(K/=Rt)*De+(ye/=Rt)*Ge;De-=K*Xt,Ge-=ye*Xt;var x=Math.sqrt(De*De+Ge*Ge);return Xt/=x,K*(Ge/=x)<ye*(De/=x)&&(K=-K,ye=-ye,Xt=-Xt,Rt=-Rt),{scale:new $t(Rt,0,0,x,0,0),translate:new $t(1,0,0,1,at,Ct),rotate:new $t(K,ye,-ye,K,0,0),skew:new $t(1,0,Xt,1,0,0)}},$t.prototype.toString=function(K){return this.join(" ")},$t.prototype.inversed=function(){var K=this.sx,ye=this.shy,De=this.shx,Ge=this.sy,at=this.tx,Ct=this.ty,Rt=1/(K*Ge-ye*De),Xt=Ge*Rt,x=-ye*Rt,Z=-De*Rt,ce=K*Rt;return new $t(Xt,x,Z,ce,-Xt*at-Z*Ct,-x*at-ce*Ct)},$t.prototype.applyToPoint=function(K){var ye=K.x*this.sx+K.y*this.shx+this.tx,De=K.x*this.shy+K.y*this.sy+this.ty;return new Uo(ye,De)},$t.prototype.applyToRectangle=function(K){var ye=this.applyToPoint(K),De=this.applyToPoint(new Uo(K.x+K.w,K.y+K.h));return new Ka(ye.x,ye.y,De.x-ye.x,De.y-ye.y)},$t.prototype.clone=function(){var K=this.sx,ye=this.shy,De=this.shx,Ge=this.sy,at=this.tx,Ct=this.ty;return new $t(K,ye,De,Ge,at,Ct)},d.Matrix=$t;var JA=d.matrixMult=function(K,ye){return ye.multiply(K)},CA=new $t(1,0,0,1,0,0);d.unitMatrix=d.identityMatrix=CA;var fn=function(K,ye){if(!Jn[K]){var De=(ye instanceof _g?"Sh":"P")+(Object.keys(zt).length+1).toString(10);ye.id=De,Jn[K]=De,zt[De]=ye,Vt.publish("addPattern",ye)}};d.ShadingPattern=_g,d.TilingPattern=Uv,d.addShadingPattern=function(K,ye){return U("addShadingPattern()"),fn(K,ye),this},d.beginTilingPattern=function(K){U("beginTilingPattern()"),Ju(K.boundingBox[0],K.boundingBox[1],K.boundingBox[2]-K.boundingBox[0],K.boundingBox[3]-K.boundingBox[1],K.matrix)},d.endTilingPattern=function(K,ye){U("endTilingPattern()"),ye.stream=qe[z].join(`
`),fn(K,ye),Vt.publish("endTilingPattern",ye),BA.pop().restore()};var or=d.__private__.newObject=function(){var K=yn();return kn(K,!0),K},yn=d.__private__.newObjectDeferred=function(){return ie++,pe[ie]=function(){return Ie},ie},kn=function(K,ye){return ye=typeof ye=="boolean"&&ye,pe[K]=Ie,ye&&Le(K+" 0 obj"),K},bA=d.__private__.newAdditionalObject=function(){var K={objId:yn(),content:""};return Qe.push(K),K},xi=yn(),qn=yn(),ZA=d.__private__.decodeColorString=function(K){var ye=K.split(" ");if(ye.length!==2||ye[1]!=="g"&&ye[1]!=="G")ye.length===5&&(ye[4]==="k"||ye[4]==="K")&&(ye=[(1-ye[0])*(1-ye[3]),(1-ye[1])*(1-ye[3]),(1-ye[2])*(1-ye[3]),"r"]);else{var De=parseFloat(ye[0]);ye=[De,De,De,"r"]}for(var Ge="#",at=0;at<3;at++)Ge+=("0"+Math.floor(255*parseFloat(ye[at])).toString(16)).slice(-2);return Ge},oA=d.__private__.encodeColorString=function(K){var ye;typeof K=="string"&&(K={ch1:K});var De=K.ch1,Ge=K.ch2,at=K.ch3,Ct=K.ch4,Rt=K.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof De=="string"&&De.charAt(0)!=="#"){var Xt=new M9(De);if(Xt.ok)De=Xt.toHex();else if(!/^\d*\.?\d*$/.test(De))throw new Error('Invalid color "'+De+'" passed to jsPDF.encodeColorString.')}if(typeof De=="string"&&/^#[0-9A-Fa-f]{3}$/.test(De)&&(De="#"+De[1]+De[1]+De[2]+De[2]+De[3]+De[3]),typeof De=="string"&&/^#[0-9A-Fa-f]{6}$/.test(De)){var x=parseInt(De.substr(1),16);De=x>>16&255,Ge=x>>8&255,at=255&x}if(Ge===void 0||Ct===void 0&&De===Ge&&Ge===at)if(typeof De=="string")ye=De+" "+Rt[0];else switch(K.precision){case 2:ye=D(De/255)+" "+Rt[0];break;case 3:default:ye=_(De/255)+" "+Rt[0]}else if(Ct===void 0||wA(Ct)==="object"){if(Ct&&!isNaN(Ct.a)&&Ct.a===0)return ye=["1.","1.","1.",Rt[1]].join(" ");if(typeof De=="string")ye=[De,Ge,at,Rt[1]].join(" ");else switch(K.precision){case 2:ye=[D(De/255),D(Ge/255),D(at/255),Rt[1]].join(" ");break;default:case 3:ye=[_(De/255),_(Ge/255),_(at/255),Rt[1]].join(" ")}}else if(typeof De=="string")ye=[De,Ge,at,Ct,Rt[2]].join(" ");else switch(K.precision){case 2:ye=[D(De),D(Ge),D(at),D(Ct),Rt[2]].join(" ");break;case 3:default:ye=[_(De),_(Ge),_(at),_(Ct),Rt[2]].join(" ")}return ye},jA=d.__private__.getFilters=function(){return s},AA=d.__private__.putStream=function(K){var ye=(K=K||{}).data||"",De=K.filters||jA(),Ge=K.alreadyAppliedFilters||[],at=K.addLength1||!1,Ct=ye.length,Rt=K.objectId,Xt=function(Kr){return Kr};if(l!==null&&Rt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");l!==null&&(Xt=_n.encryptor(Rt,0));var x={};De===!0&&(De=["FlateEncode"]);var Z=K.additionalKeyValues||[],ce=(x=Or.API.processDataByFilters!==void 0?Or.API.processDataByFilters(ye,De):{data:ye,reverseChain:[]}).reverseChain+(Array.isArray(Ge)?Ge.join(" "):Ge.toString());if(x.data.length!==0&&(Z.push({key:"Length",value:x.data.length}),at===!0&&Z.push({key:"Length1",value:Ct})),ce.length!=0)if(ce.split("/").length-1==1)Z.push({key:"Filter",value:ce});else{Z.push({key:"Filter",value:"["+ce+"]"});for(var xe=0;xe<Z.length;xe+=1)if(Z[xe].key==="DecodeParms"){for(var rt=[],dt=0;dt<x.reverseChain.split("/").length-1;dt+=1)rt.push("null");rt.push(Z[xe].value),Z[xe].value="["+rt.join(" ")+"]"}}Le("<<");for(var _t=0;_t<Z.length;_t++)Le("/"+Z[_t].key+" "+Z[_t].value);Le(">>"),x.data.length!==0&&(Le("stream"),Le(Xt(x.data)),Le("endstream"))},Mi=d.__private__.putPage=function(K){var ye=K.number,De=K.data,Ge=K.objId,at=K.contentsObjId;kn(Ge,!0),Le("<</Type /Page"),Le("/Parent "+K.rootDictionaryObjId+" 0 R"),Le("/Resources "+K.resourceDictionaryObjId+" 0 R"),Le("/MediaBox ["+parseFloat(T(K.mediaBox.bottomLeftX))+" "+parseFloat(T(K.mediaBox.bottomLeftY))+" "+T(K.mediaBox.topRightX)+" "+T(K.mediaBox.topRightY)+"]"),K.cropBox!==null&&Le("/CropBox ["+T(K.cropBox.bottomLeftX)+" "+T(K.cropBox.bottomLeftY)+" "+T(K.cropBox.topRightX)+" "+T(K.cropBox.topRightY)+"]"),K.bleedBox!==null&&Le("/BleedBox ["+T(K.bleedBox.bottomLeftX)+" "+T(K.bleedBox.bottomLeftY)+" "+T(K.bleedBox.topRightX)+" "+T(K.bleedBox.topRightY)+"]"),K.trimBox!==null&&Le("/TrimBox ["+T(K.trimBox.bottomLeftX)+" "+T(K.trimBox.bottomLeftY)+" "+T(K.trimBox.topRightX)+" "+T(K.trimBox.topRightY)+"]"),K.artBox!==null&&Le("/ArtBox ["+T(K.artBox.bottomLeftX)+" "+T(K.artBox.bottomLeftY)+" "+T(K.artBox.topRightX)+" "+T(K.artBox.topRightY)+"]"),typeof K.userUnit=="number"&&K.userUnit!==1&&Le("/UserUnit "+K.userUnit),Vt.publish("putPage",{objId:Ge,pageContext:Pt[ye],pageNumber:ye,page:De}),Le("/Contents "+at+" 0 R"),Le(">>"),Le("endobj");var Ct=De.join(`
`);return b===w.ADVANCED&&(Ct+=`
Q`),kn(at,!0),AA({data:Ct,filters:jA(),objectId:at}),Le("endobj"),Ge},nr=d.__private__.putPages=function(){var K,ye,De=[];for(K=1;K<=jt;K++)Pt[K].objId=yn(),Pt[K].contentsObjId=yn();for(K=1;K<=jt;K++)De.push(Mi({number:K,data:qe[K],objId:Pt[K].objId,contentsObjId:Pt[K].contentsObjId,mediaBox:Pt[K].mediaBox,cropBox:Pt[K].cropBox,bleedBox:Pt[K].bleedBox,trimBox:Pt[K].trimBox,artBox:Pt[K].artBox,userUnit:Pt[K].userUnit,rootDictionaryObjId:xi,resourceDictionaryObjId:qn}));kn(xi,!0),Le("<</Type /Pages");var Ge="/Kids [";for(ye=0;ye<jt;ye++)Ge+=De[ye]+" 0 R ";Le(Ge+"]"),Le("/Count "+jt),Le(">>"),Le("endobj"),Vt.publish("postPutPages")},$e=function(K){Vt.publish("putFont",{font:K,out:Le,newObject:or,putStream:AA}),K.isAlreadyPutted!==!0&&(K.objectNumber=or(),Le("<<"),Le("/Type /Font"),Le("/BaseFont /"+c0(K.postScriptName)),Le("/Subtype /Type1"),typeof K.encoding=="string"&&Le("/Encoding /"+K.encoding),Le("/FirstChar 32"),Le("/LastChar 255"),Le(">>"),Le("endobj"))},Ot=function(){for(var K in Tt)Tt.hasOwnProperty(K)&&(c===!1||c===!0&&h.hasOwnProperty(K))&&$e(Tt[K])},tr=function(K){K.objectNumber=or();var ye=[];ye.push({key:"Type",value:"/XObject"}),ye.push({key:"Subtype",value:"/Form"}),ye.push({key:"BBox",value:"["+[T(K.x),T(K.y),T(K.x+K.width),T(K.y+K.height)].join(" ")+"]"}),ye.push({key:"Matrix",value:"["+K.matrix.toString()+"]"});var De=K.pages[1].join(`
`);AA({data:De,additionalKeyValues:ye,objectId:K.objectNumber}),Le("endobj")},sn=function(){for(var K in Gr)Gr.hasOwnProperty(K)&&tr(Gr[K])},pA=function(K,ye){var De,Ge=[],at=1/(ye-1);for(De=0;De<1;De+=at)Ge.push(De);if(Ge.push(1),K[0].offset!=0){var Ct={offset:0,color:K[0].color};K.unshift(Ct)}if(K[K.length-1].offset!=1){var Rt={offset:1,color:K[K.length-1].color};K.push(Rt)}for(var Xt="",x=0,Z=0;Z<Ge.length;Z++){for(De=Ge[Z];De>K[x+1].offset;)x++;var ce=K[x].offset,xe=(De-ce)/(K[x+1].offset-ce),rt=K[x].color,dt=K[x+1].color;Xt+=ae(Math.round((1-xe)*rt[0]+xe*dt[0]).toString(16))+ae(Math.round((1-xe)*rt[1]+xe*dt[1]).toString(16))+ae(Math.round((1-xe)*rt[2]+xe*dt[2]).toString(16))}return Xt.trim()},Qr=function(K,ye){ye||(ye=21);var De=or(),Ge=pA(K.colors,ye),at=[];at.push({key:"FunctionType",value:"0"}),at.push({key:"Domain",value:"[0.0 1.0]"}),at.push({key:"Size",value:"["+ye+"]"}),at.push({key:"BitsPerSample",value:"8"}),at.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),at.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),AA({data:Ge,additionalKeyValues:at,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:De}),Le("endobj"),K.objectNumber=or(),Le("<< /ShadingType "+K.type),Le("/ColorSpace /DeviceRGB");var Ct="/Coords ["+T(parseFloat(K.coords[0]))+" "+T(parseFloat(K.coords[1]))+" ";K.type===2?Ct+=T(parseFloat(K.coords[2]))+" "+T(parseFloat(K.coords[3])):Ct+=T(parseFloat(K.coords[2]))+" "+T(parseFloat(K.coords[3]))+" "+T(parseFloat(K.coords[4]))+" "+T(parseFloat(K.coords[5])),Le(Ct+="]"),K.matrix&&Le("/Matrix ["+K.matrix.toString()+"]"),Le("/Function "+De+" 0 R"),Le("/Extend [true true]"),Le(">>"),Le("endobj")},LA=function(K,ye){var De=yn(),Ge=or();ye.push({resourcesOid:De,objectOid:Ge}),K.objectNumber=Ge;var at=[];at.push({key:"Type",value:"/Pattern"}),at.push({key:"PatternType",value:"1"}),at.push({key:"PaintType",value:"1"}),at.push({key:"TilingType",value:"1"}),at.push({key:"BBox",value:"["+K.boundingBox.map(T).join(" ")+"]"}),at.push({key:"XStep",value:T(K.xStep)}),at.push({key:"YStep",value:T(K.yStep)}),at.push({key:"Resources",value:De+" 0 R"}),K.matrix&&at.push({key:"Matrix",value:"["+K.matrix.toString()+"]"}),AA({data:K.stream,additionalKeyValues:at,objectId:K.objectNumber}),Le("endobj")},Zn=function(K){var ye;for(ye in zt)zt.hasOwnProperty(ye)&&(zt[ye]instanceof _g?Qr(zt[ye]):zt[ye]instanceof Uv&&LA(zt[ye],K))},li=function(K){for(var ye in K.objectNumber=or(),Le("<<"),K)switch(ye){case"opacity":Le("/ca "+D(K[ye]));break;case"stroke-opacity":Le("/CA "+D(K[ye]))}Le(">>"),Le("endobj")},NA=function(){var K;for(K in Lr)Lr.hasOwnProperty(K)&&li(Lr[K])},Dn=function(){for(var K in Le("/XObject <<"),Gr)Gr.hasOwnProperty(K)&&Gr[K].objectNumber>=0&&Le("/"+K+" "+Gr[K].objectNumber+" 0 R");Vt.publish("putXobjectDict"),Le(">>")},Ts=function(){_n.oid=or(),Le("<<"),Le("/Filter /Standard"),Le("/V "+_n.v),Le("/R "+_n.r),Le("/U <"+_n.toHexString(_n.U)+">"),Le("/O <"+_n.toHexString(_n.O)+">"),Le("/P "+_n.P),Le(">>"),Le("endobj")},Qs=function(){for(var K in Le("/Font <<"),Tt)Tt.hasOwnProperty(K)&&(c===!1||c===!0&&h.hasOwnProperty(K))&&Le("/"+K+" "+Tt[K].objectNumber+" 0 R");Le(">>")},Hi=function(){if(Object.keys(zt).length>0){for(var K in Le("/Shading <<"),zt)zt.hasOwnProperty(K)&&zt[K]instanceof _g&&zt[K].objectNumber>=0&&Le("/"+K+" "+zt[K].objectNumber+" 0 R");Vt.publish("putShadingPatternDict"),Le(">>")}},fs=function(K){if(Object.keys(zt).length>0){for(var ye in Le("/Pattern <<"),zt)zt.hasOwnProperty(ye)&&zt[ye]instanceof d.TilingPattern&&zt[ye].objectNumber>=0&&zt[ye].objectNumber<K&&Le("/"+ye+" "+zt[ye].objectNumber+" 0 R");Vt.publish("putTilingPatternDict"),Le(">>")}},ei=function(){if(Object.keys(Lr).length>0){var K;for(K in Le("/ExtGState <<"),Lr)Lr.hasOwnProperty(K)&&Lr[K].objectNumber>=0&&Le("/"+K+" "+Lr[K].objectNumber+" 0 R");Vt.publish("putGStateDict"),Le(">>")}},gA=function(K){kn(K.resourcesOid,!0),Le("<<"),Le("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Qs(),Hi(),fs(K.objectOid),ei(),Dn(),Le(">>"),Le("endobj")},Mc=function(){var K=[];Ot(),NA(),sn(),Zn(K),Vt.publish("putResources"),K.forEach(gA),gA({resourcesOid:qn,objectOid:Number.MAX_SAFE_INTEGER}),Vt.publish("postPutResources")},Hc=function(){Vt.publish("putAdditionalObjects");for(var K=0;K<Qe.length;K++){var ye=Qe[K];kn(ye.objId,!0),Le(ye.content),Le("endobj")}Vt.publish("postPutAdditionalObjects")},ta=function(K){Ht[K.fontName]=Ht[K.fontName]||{},Ht[K.fontName][K.fontStyle]=K.id},So=function(K,ye,De,Ge,at){var Ct={id:"F"+(Object.keys(Tt).length+1).toString(10),postScriptName:K,fontName:ye,fontStyle:De,encoding:Ge,isStandardFont:at||!1,metadata:{}};return Vt.publish("addFont",{font:Ct,instance:this}),Tt[Ct.id]=Ct,ta(Ct),Ct.id},ro=function(K){for(var ye=0,De=Me.length;ye<De;ye++){var Ge=So.call(this,K[ye][0],K[ye][1],K[ye][2],Me[ye][3],!0);c===!1&&(h[Ge]=!0);var at=K[ye][0].split("-");ta({id:Ge,fontName:at[0],fontStyle:at[1]||""})}Vt.publish("addFonts",{fonts:Tt,dictionary:Ht})},ji=function(K){return K.foo=function(){try{return K.apply(this,arguments)}catch(Ge){var ye=Ge.stack||"";~ye.indexOf(" at ")&&(ye=ye.split(" at ")[1]);var De="Error in function "+ye.split(`
`)[0].split("<")[0]+": "+Ge.message;if(!jr.console)throw new Error(De);jr.console.error(De,Ge),jr.alert&&alert(De)}},K.foo.bar=K,K.foo},ti=function(K,ye){var De,Ge,at,Ct,Rt,Xt,x,Z,ce;if(at=(ye=ye||{}).sourceEncoding||"Unicode",Rt=ye.outputEncoding,(ye.autoencode||Rt)&&Tt[de].metadata&&Tt[de].metadata[at]&&Tt[de].metadata[at].encoding&&(Ct=Tt[de].metadata[at].encoding,!Rt&&Tt[de].encoding&&(Rt=Tt[de].encoding),!Rt&&Ct.codePages&&(Rt=Ct.codePages[0]),typeof Rt=="string"&&(Rt=Ct[Rt]),Rt)){for(x=!1,Xt=[],De=0,Ge=K.length;De<Ge;De++)(Z=Rt[K.charCodeAt(De)])?Xt.push(String.fromCharCode(Z)):Xt.push(K[De]),Xt[De].charCodeAt(0)>>8&&(x=!0);K=Xt.join("")}for(De=K.length;x===void 0&&De!==0;)K.charCodeAt(De-1)>>8&&(x=!0),De--;if(!x)return K;for(Xt=ye.noBOM?[]:[254,255],De=0,Ge=K.length;De<Ge;De++){if((ce=(Z=K.charCodeAt(De))>>8)>>8)throw new Error("Character at position "+De+" of string '"+K+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Xt.push(ce),Xt.push(Z-(ce<<8))}return String.fromCharCode.apply(void 0,Xt)},VA=d.__private__.pdfEscape=d.pdfEscape=function(K,ye){return ti(K,ye).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Vi=d.__private__.beginPage=function(K){qe[++jt]=[],Pt[jt]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(K[0]),topRightY:Number(K[1])}},Ha(jt),Ke(qe[z])},Bl=function(K,ye){var De,Ge,at;switch(t=ye||t,typeof K=="string"&&(De=v(K.toLowerCase()),Array.isArray(De)&&(Ge=De[0],at=De[1])),Array.isArray(K)&&(Ge=K[0]*we,at=K[1]*we),isNaN(Ge)&&(Ge=A[0],at=A[1]),(Ge>14400||at>14400)&&(MA.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ge=Math.min(14400,Ge),at=Math.min(14400,at)),A=[Ge,at],t.substr(0,1)){case"l":at>Ge&&(A=[at,Ge]);break;case"p":Ge>at&&(A=[at,Ge])}Vi(A),Sl(Xu),Le(RA),Au!==0&&Le(Au+" J"),Fl!==0&&Le(Fl+" j"),Vt.publish("addPage",{pageNumber:jt})},Cl=function(K){K>0&&K<=jt&&(qe.splice(K,1),Pt.splice(K,1),jt--,z>jt&&(z=jt),this.setPage(z))},Ha=function(K){K>0&&K<=jt&&(z=K)},Wn=d.__private__.getNumberOfPages=d.getNumberOfPages=function(){return qe.length-1},ja=function(K,ye,De){var Ge,at=void 0;return De=De||{},K=K!==void 0?K:Tt[de].fontName,ye=ye!==void 0?ye:Tt[de].fontStyle,Ge=K.toLowerCase(),Ht[Ge]!==void 0&&Ht[Ge][ye]!==void 0?at=Ht[Ge][ye]:Ht[K]!==void 0&&Ht[K][ye]!==void 0?at=Ht[K][ye]:De.disableWarning===!1&&MA.warn("Unable to look up font label for font '"+K+"', '"+ye+"'. Refer to getFontList() for available fonts."),at||De.noFallback||(at=Ht.times[ye])==null&&(at=Ht.times.normal),at},on=d.__private__.putInfo=function(){var K=or(),ye=function(Ge){return Ge};for(var De in l!==null&&(ye=_n.encryptor(K,0)),Le("<<"),Le("/Producer ("+VA(ye("jsPDF "+Or.version))+")"),Ae)Ae.hasOwnProperty(De)&&Ae[De]&&Le("/"+De.substr(0,1).toUpperCase()+De.substr(1)+" ("+VA(ye(Ae[De]))+")");Le("/CreationDate ("+VA(ye($))+")"),Le(">>"),Le("endobj")},Ls=d.__private__.putCatalog=function(K){var ye=(K=K||{}).rootDictionaryObjId||xi;switch(or(),Le("<<"),Le("/Type /Catalog"),Le("/Pages "+ye+" 0 R"),ut||(ut="fullwidth"),ut){case"fullwidth":Le("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Le("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Le("/OpenAction [3 0 R /Fit]");break;case"original":Le("/OpenAction [3 0 R /XYZ null null 1]");break;default:var De=""+ut;De.substr(De.length-1)==="%"&&(ut=parseInt(ut)/100),typeof ut=="number"&&Le("/OpenAction [3 0 R /XYZ null null "+D(ut)+"]")}switch(yt||(yt="continuous"),yt){case"continuous":Le("/PageLayout /OneColumn");break;case"single":Le("/PageLayout /SinglePage");break;case"two":case"twoleft":Le("/PageLayout /TwoColumnLeft");break;case"tworight":Le("/PageLayout /TwoColumnRight")}At&&Le("/PageMode /"+At),Vt.publish("putCatalog"),Le(">>"),Le("endobj")},Xh=d.__private__.putTrailer=function(){Le("trailer"),Le("<<"),Le("/Size "+(ie+1)),Le("/Root "+ie+" 0 R"),Le("/Info "+(ie-1)+" 0 R"),l!==null&&Le("/Encrypt "+_n.oid+" 0 R"),Le("/ID [ <"+Y+"> <"+Y+"> ]"),Le(">>")},nu=d.__private__.putHeader=function(){Le("%PDF-"+m),Le("%")},Yh=d.__private__.putXRef=function(){var K="0000000000";Le("xref"),Le("0 "+(ie+1)),Le("0000000000 65535 f ");for(var ye=1;ye<=ie;ye++)typeof pe[ye]=="function"?Le((K+pe[ye]()).slice(-10)+" 00000 n "):pe[ye]!==void 0?Le((K+pe[ye]).slice(-10)+" 00000 n "):Le("0000000000 00000 n ")},ra=d.__private__.buildDocument=function(){pt(),Ke(Ce),Vt.publish("buildDocument"),nu(),nr(),Hc(),Mc(),l!==null&&Ts(),on(),Ls();var K=Ie;return Yh(),Xh(),Le("startxref"),Le(""+K),Le("%%EOF"),Ke(qe[z]),Ce.join(`
`)},bl=d.__private__.getBlob=function(K){return new Blob([ke(K)],{type:"application/pdf"})},na=d.output=d.__private__.output=ji(function(K,ye){switch(typeof(ye=ye||{})=="string"?ye={filename:ye}:ye.filename=ye.filename||"generated.pdf",K){case void 0:return ra();case"save":d.save(ye.filename);break;case"arraybuffer":return ke(ra());case"blob":return bl(ra());case"bloburi":case"bloburl":if(jr.URL!==void 0&&typeof jr.URL.createObjectURL=="function")return jr.URL&&jr.URL.createObjectURL(bl(ra()))||void 0;MA.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var De="",Ge=ra();try{De=W5(Ge)}catch{De=W5(unescape(encodeURIComponent(Ge)))}return"data:application/pdf;filename="+ye.filename+";base64,"+De;case"pdfobjectnewwindow":if(Object.prototype.toString.call(jr)==="[object Window]"){var at="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ct=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ye.pdfObjectUrl&&(at=ye.pdfObjectUrl,Ct="");var Rt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+at+'"'+Ct+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ye)+");<\/script></body></html>",Xt=jr.open();return Xt!==null&&Xt.document.write(Rt),Xt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(jr)==="[object Window]"){var x='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ye.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ye.filename+'" width="500px" height="400px" /></body></html>',Z=jr.open();if(Z!==null){Z.document.write(x);var ce=this;Z.document.documentElement.querySelector("#pdfViewer").onload=function(){Z.document.title=ye.filename,Z.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ce.output("bloburl"))}}return Z}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(jr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var xe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ye)+'"></iframe></body></html>',rt=jr.open();if(rt!==null&&(rt.document.write(xe),rt.document.title=ye.filename),rt||typeof safari>"u")return rt;break;case"datauri":case"dataurl":return jr.document.location.href=this.output("datauristring",ye);default:return null}}),yi=function(K){return Array.isArray(xr)===!0&&xr.indexOf(K)>-1};switch(n){case"pt":we=1;break;case"mm":we=72/25.4;break;case"cm":we=72/2.54;break;case"in":we=72;break;case"px":we=yi("px_scaling")==1?.75:96/72;break;case"pc":case"em":we=12;break;case"ex":we=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);we=n}var _n=null;G(),le();var Fo=function(K){return l!==null?_n.encryptor(K,0):function(ye){return ye}},no=d.__private__.getPageInfo=d.getPageInfo=function(K){if(isNaN(K)||K%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Pt[K].objId,pageNumber:K,pageContext:Pt[K]}},_r=d.__private__.getPageInfoByObjId=function(K){if(isNaN(K)||K%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ye in Pt)if(Pt[ye].objId===K)break;return no(ye)},Ao=d.__private__.getCurrentPageInfo=d.getCurrentPageInfo=function(){return{objId:Pt[z].objId,pageNumber:z,pageContext:Pt[z]}};d.addPage=function(){return Bl.apply(this,arguments),this},d.setPage=function(){return Ha.apply(this,arguments),Ke.call(this,qe[z]),this},d.insertPage=function(K){return this.addPage(),this.movePage(z,K),this},d.movePage=function(K,ye){var De,Ge;if(K>ye){De=qe[K],Ge=Pt[K];for(var at=K;at>ye;at--)qe[at]=qe[at-1],Pt[at]=Pt[at-1];qe[ye]=De,Pt[ye]=Ge,this.setPage(ye)}else if(K<ye){De=qe[K],Ge=Pt[K];for(var Ct=K;Ct<ye;Ct++)qe[Ct]=qe[Ct+1],Pt[Ct]=Pt[Ct+1];qe[ye]=De,Pt[ye]=Ge,this.setPage(ye)}return this},d.deletePage=function(){return Cl.apply(this,arguments),this},d.__private__.text=d.text=function(K,ye,De,Ge,at){var Ct,Rt,Xt,x,Z,ce,xe,rt,dt,_t=(Ge=Ge||{}).scope||this;if(typeof K=="number"&&typeof ye=="number"&&(typeof De=="string"||Array.isArray(De))){var Kr=De;De=ye,ye=K,K=Kr}if(arguments[3]instanceof $t?(U("The transform parameter of text() with a Matrix value"),dt=at):(Xt=arguments[4],x=arguments[5],wA(xe=arguments[3])==="object"&&xe!==null||(typeof Xt=="string"&&(x=Xt,Xt=null),typeof xe=="string"&&(x=xe,xe=null),typeof xe=="number"&&(Xt=xe,xe=null),Ge={flags:xe,angle:Xt,align:x})),isNaN(ye)||isNaN(De)||K==null)throw new Error("Invalid arguments passed to jsPDF.text");if(K.length===0)return _t;var tn="",Mr=!1,ln=typeof Ge.lineHeightFactor=="number"?Ge.lineHeightFactor:Nn,rn=_t.internal.scaleFactor;function Os(eA){return eA=eA.split("	").join(Array(Ge.TabLen||9).join(" ")),VA(eA,xe)}function SA(eA){for(var Hn,zA=eA.concat(),OA=[],Ll=zA.length;Ll--;)typeof(Hn=zA.shift())=="string"?OA.push(Hn):Array.isArray(eA)&&(Hn.length===1||Hn[1]===void 0&&Hn[2]===void 0)?OA.push(Hn[0]):OA.push([Hn[0],Hn[1],Hn[2]]);return OA}function Mn(eA,Hn){var zA;if(typeof eA=="string")zA=Hn(eA)[0];else if(Array.isArray(eA)){for(var OA,Ll,Zh=eA.concat(),cu=[],cd=Zh.length;cd--;)typeof(OA=Zh.shift())=="string"?cu.push(Hn(OA)[0]):Array.isArray(OA)&&typeof OA[0]=="string"&&(Ll=Hn(OA[0],OA[1],OA[2]),cu.push([Ll[0],Ll[1],Ll[2]]));zA=cu}return zA}var ua=!1,GA=!0;if(typeof K=="string")ua=!0;else if(Array.isArray(K)){var tc=K.concat();Rt=[];for(var io,aA=tc.length;aA--;)(typeof(io=tc.shift())!="string"||Array.isArray(io)&&typeof io[0]!="string")&&(GA=!1);ua=GA}if(ua===!1)throw new Error('Type of text must be string or Array. "'+K+'" is not recognized.');typeof K=="string"&&(K=K.match(/[\r?\n]/)?K.split(/\r\n|\r|\n/g):[K]);var Rn=it/_t.internal.scaleFactor,Gc=Rn*(ln-1);switch(Ge.baseline){case"bottom":De-=Gc;break;case"top":De+=Rn-Gc;break;case"hanging":De+=Rn-2*Gc;break;case"middle":De+=Rn/2-Gc}if((ce=Ge.maxWidth||0)>0&&(typeof K=="string"?K=_t.splitTextToSize(K,ce):Object.prototype.toString.call(K)==="[object Array]"&&(K=K.reduce(function(eA,Hn){return eA.concat(_t.splitTextToSize(Hn,ce))},[]))),Ct={text:K,x:ye,y:De,options:Ge,mutex:{pdfEscape:VA,activeFontKey:de,fonts:Tt,activeFontSize:it}},Vt.publish("preProcessText",Ct),K=Ct.text,Xt=(Ge=Ct.options).angle,!(dt instanceof $t)&&Xt&&typeof Xt=="number"){Xt*=Math.PI/180,Ge.rotationDirection===0&&(Xt=-Xt),b===w.ADVANCED&&(Xt=-Xt);var zc=Math.cos(Xt),qc=Math.sin(Xt);dt=new $t(zc,qc,-qc,zc,0,0)}else Xt&&Xt instanceof $t&&(dt=Xt);b!==w.ADVANCED||dt||(dt=CA),(Z=Ge.charSpace||Ui)!==void 0&&(tn+=T(L(Z))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(rt=Ge.horizontalScale)!==void 0&&(tn+=T(100*rt)+` Tz
`),Ge.lang;var gs=-1,xl=Ge.renderingMode!==void 0?Ge.renderingMode:Ge.stroke,Ul=_t.internal.getCurrentPageInfo().pageContext;switch(xl){case 0:case!1:case"fill":gs=0;break;case 1:case!0:case"stroke":gs=1;break;case 2:case"fillThenStroke":gs=2;break;case 3:case"invisible":gs=3;break;case 4:case"fillAndAddForClipping":gs=4;break;case 5:case"strokeAndAddPathForClipping":gs=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":gs=6;break;case 7:case"addToPathForClipping":gs=7}var ud=Ul.usedRenderingMode!==void 0?Ul.usedRenderingMode:-1;gs!==-1?tn+=gs+` Tr
`:ud!==-1&&(tn+=`0 Tr
`),gs!==-1&&(Ul.usedRenderingMode=gs),x=Ge.align||"left";var lA,To=it*ln,ca=_t.internal.pageSize.getWidth(),PA=Tt[de];Z=Ge.charSpace||Ui,ce=Ge.maxWidth||0,xe=Object.assign({autoencode:!0,noBOM:!0},Ge.flags);var qi=[],iu=function(eA){return _t.getStringUnitWidth(eA,{font:PA,charSpace:Z,fontSize:it,doKerning:!1})*it/rn};if(Object.prototype.toString.call(K)==="[object Array]"){var ms;Rt=SA(K),x!=="left"&&(lA=Rt.map(iu));var Ti,su=0;if(x==="right"){ye-=lA[0],K=[],aA=Rt.length;for(var ou=0;ou<aA;ou++)ou===0?(Ti=Rs(ye),ms=KA(De)):(Ti=L(su-lA[ou]),ms=-To),K.push([Rt[ou],Ti,ms]),su=lA[ou]}else if(x==="center"){ye-=lA[0]/2,K=[],aA=Rt.length;for(var Qo=0;Qo<aA;Qo++)Qo===0?(Ti=Rs(ye),ms=KA(De)):(Ti=L((su-lA[Qo])/2),ms=-To),K.push([Rt[Qo],Ti,ms]),su=lA[Qo]}else if(x==="left"){K=[],aA=Rt.length;for(var so=0;so<aA;so++)K.push(Rt[so])}else if(x==="justify"&&PA.encoding==="Identity-H"){K=[],aA=Rt.length,ce=ce!==0?ce:ca;for(var au=0,Pn=0;Pn<aA;Pn++)if(ms=Pn===0?KA(De):-To,Ti=Pn===0?Rs(ye):au,Pn<aA-1){var ha=L((ce-lA[Pn])/(Rt[Pn].split(" ").length-1)),Wi=Rt[Pn].split(" ");K.push([Wi[0]+" ",Ti,ms]),au=0;for(var Lo=1;Lo<Wi.length;Lo++){var Wc=(iu(Wi[Lo-1]+" "+Wi[Lo])-iu(Wi[Lo]))*rn+ha;Lo==Wi.length-1?K.push([Wi[Lo],Wc,0]):K.push([Wi[Lo]+" ",Wc,0]),au-=Wc}}else K.push([Rt[Pn],Ti,ms]);K.push(["",au,0])}else{if(x!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(K=[],aA=Rt.length,ce=ce!==0?ce:ca,Pn=0;Pn<aA;Pn++)ms=Pn===0?KA(De):-To,Ti=Pn===0?Rs(ye):0,Pn<aA-1?qi.push(T(L((ce-lA[Pn])/(Rt[Pn].split(" ").length-1)))):qi.push(0),K.push([Rt[Pn],Ti,ms])}}var ks=typeof Ge.R2L=="boolean"?Ge.R2L:Ve;ks===!0&&(K=Mn(K,function(eA,Hn,zA){return[eA.split("").reverse().join(""),Hn,zA]})),Ct={text:K,x:ye,y:De,options:Ge,mutex:{pdfEscape:VA,activeFontKey:de,fonts:Tt,activeFontSize:it}},Vt.publish("postProcessText",Ct),K=Ct.text,Mr=Ct.mutex.isHex||!1;var rc=Tt[de].encoding;rc!=="WinAnsiEncoding"&&rc!=="StandardEncoding"||(K=Mn(K,function(eA,Hn,zA){return[Os(eA),Hn,zA]})),Rt=SA(K),K=[];for(var $c,Xc,vs,lu=0,za=1,Tl=Array.isArray(Rt[0])?za:lu,Ql="",uu=function(eA,Hn,zA){var OA="";return zA instanceof $t?(zA=typeof Ge.angle=="number"?JA(zA,new $t(1,0,0,1,eA,Hn)):JA(new $t(1,0,0,1,eA,Hn),zA),b===w.ADVANCED&&(zA=JA(new $t(1,0,0,-1,0,0),zA)),OA=zA.join(" ")+` Tm
`):OA=T(eA)+" "+T(Hn)+` Td
`,OA},Qi=0;Qi<Rt.length;Qi++){switch(Ql="",Tl){case za:vs=(Mr?"<":"(")+Rt[Qi][0]+(Mr?">":")"),$c=parseFloat(Rt[Qi][1]),Xc=parseFloat(Rt[Qi][2]);break;case lu:vs=(Mr?"<":"(")+Rt[Qi]+(Mr?">":")"),$c=Rs(ye),Xc=KA(De)}qi!==void 0&&qi[Qi]!==void 0&&(Ql=qi[Qi]+` Tw
`),Qi===0?K.push(Ql+uu($c,Xc,dt)+vs):Tl===lu?K.push(Ql+vs):Tl===za&&K.push(Ql+uu($c,Xc,dt)+vs)}K=Tl===lu?K.join(` Tj
T* `):K.join(` Tj
`),K+=` Tj
`;var Ds=`BT
/`;return Ds+=de+" "+it+` Tf
`,Ds+=T(it*ln)+` TL
`,Ds+=_A+`
`,Ds+=tn,Ds+=K,Le(Ds+="ET"),h[de]=!0,_t};var Aa=d.__private__.clip=d.clip=function(K){return Le(K==="evenodd"?"W*":"W"),this};d.clipEvenOdd=function(){return Aa("evenodd")},d.__private__.discardPath=d.discardPath=function(){return Le("n"),this};var ia=d.__private__.isValidStyle=function(K){var ye=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(K)!==-1&&(ye=!0),ye};d.__private__.setDefaultPathOperation=d.setDefaultPathOperation=function(K){return ia(K)&&(u=K),this};var jc=d.__private__.getStyle=d.getStyle=function(K){var ye=u;switch(K){case"D":case"S":ye="S";break;case"F":ye="f";break;case"FD":case"DF":ye="B";break;case"f":case"f*":case"B":case"B*":ye=K}return ye},Ki=d.close=function(){return Le("h"),this};d.stroke=function(){return Le("S"),this},d.fill=function(K){return $u("f",K),this},d.fillEvenOdd=function(K){return $u("f*",K),this},d.fillStroke=function(K){return $u("B",K),this},d.fillStrokeEvenOdd=function(K){return $u("B*",K),this};var $u=function(K,ye){wA(ye)==="object"?El(ye,K):Le(K)},Gi=function(K){K===null||b===w.ADVANCED&&K===void 0||(K=jc(K),Le(K))};function sa(K,ye,De,Ge,at){var Ct=new Uv(ye||this.boundingBox,De||this.xStep,Ge||this.yStep,this.gState,at||this.matrix);Ct.stream=this.stream;var Rt=K+"$$"+this.cloneIndex+++"$$";return fn(Rt,Ct),Ct}var El=function(K,ye){var De=Jn[K.key],Ge=zt[De];if(Ge instanceof _g)Le("q"),Le(Vc(ye)),Ge.gState&&d.setGState(Ge.gState),Le(K.matrix.toString()+" cm"),Le("/"+De+" sh"),Le("Q");else if(Ge instanceof Uv){var at=new $t(1,0,0,-1,0,ps());K.matrix&&(at=at.multiply(K.matrix||CA),De=sa.call(Ge,K.key,K.boundingBox,K.xStep,K.yStep,at).id),Le("q"),Le("/Pattern cs"),Le("/"+De+" scn"),Ge.gState&&d.setGState(Ge.gState),Le(ye),Le("Q")}},Vc=function(K){switch(K){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Ns=d.moveTo=function(K,ye){return Le(T(L(K))+" "+T(V(ye))+" m"),this},zi=d.lineTo=function(K,ye){return Le(T(L(K))+" "+T(V(ye))+" l"),this},ds=d.curveTo=function(K,ye,De,Ge,at,Ct){return Le([T(L(K)),T(V(ye)),T(L(De)),T(V(Ge)),T(L(at)),T(V(Ct)),"c"].join(" ")),this};d.__private__.line=d.line=function(K,ye,De,Ge,at){if(isNaN(K)||isNaN(ye)||isNaN(De)||isNaN(Ge)||!ia(at))throw new Error("Invalid arguments passed to jsPDF.line");return b===w.COMPAT?this.lines([[De-K,Ge-ye]],K,ye,[1,1],at||"S"):this.lines([[De-K,Ge-ye]],K,ye,[1,1]).stroke()},d.__private__.lines=d.lines=function(K,ye,De,Ge,at,Ct){var Rt,Xt,x,Z,ce,xe,rt,dt,_t,Kr,tn,Mr;if(typeof K=="number"&&(Mr=De,De=ye,ye=K,K=Mr),Ge=Ge||[1,1],Ct=Ct||!1,isNaN(ye)||isNaN(De)||!Array.isArray(K)||!Array.isArray(Ge)||!ia(at)||typeof Ct!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ns(ye,De),Rt=Ge[0],Xt=Ge[1],Z=K.length,Kr=ye,tn=De,x=0;x<Z;x++)(ce=K[x]).length===2?(Kr=ce[0]*Rt+Kr,tn=ce[1]*Xt+tn,zi(Kr,tn)):(xe=ce[0]*Rt+Kr,rt=ce[1]*Xt+tn,dt=ce[2]*Rt+Kr,_t=ce[3]*Xt+tn,Kr=ce[4]*Rt+Kr,tn=ce[5]*Xt+tn,ds(xe,rt,dt,_t,Kr,tn));return Ct&&Ki(),Gi(at),this},d.path=function(K){for(var ye=0;ye<K.length;ye++){var De=K[ye],Ge=De.c;switch(De.op){case"m":Ns(Ge[0],Ge[1]);break;case"l":zi(Ge[0],Ge[1]);break;case"c":ds.apply(this,Ge);break;case"h":Ki()}}return this},d.__private__.rect=d.rect=function(K,ye,De,Ge,at){if(isNaN(K)||isNaN(ye)||isNaN(De)||isNaN(Ge)||!ia(at))throw new Error("Invalid arguments passed to jsPDF.rect");return b===w.COMPAT&&(Ge=-Ge),Le([T(L(K)),T(V(ye)),T(L(De)),T(L(Ge)),"re"].join(" ")),Gi(at),this},d.__private__.triangle=d.triangle=function(K,ye,De,Ge,at,Ct,Rt){if(isNaN(K)||isNaN(ye)||isNaN(De)||isNaN(Ge)||isNaN(at)||isNaN(Ct)||!ia(Rt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[De-K,Ge-ye],[at-De,Ct-Ge],[K-at,ye-Ct]],K,ye,[1,1],Rt,!0),this},d.__private__.roundedRect=d.roundedRect=function(K,ye,De,Ge,at,Ct,Rt){if(isNaN(K)||isNaN(ye)||isNaN(De)||isNaN(Ge)||isNaN(at)||isNaN(Ct)||!ia(Rt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Xt=4/3*(Math.SQRT2-1);return at=Math.min(at,.5*De),Ct=Math.min(Ct,.5*Ge),this.lines([[De-2*at,0],[at*Xt,0,at,Ct-Ct*Xt,at,Ct],[0,Ge-2*Ct],[0,Ct*Xt,-at*Xt,Ct,-at,Ct],[2*at-De,0],[-at*Xt,0,-at,-Ct*Xt,-at,-Ct],[0,2*Ct-Ge],[0,-Ct*Xt,at*Xt,-Ct,at,-Ct]],K+at,ye,[1,1],Rt,!0),this},d.__private__.ellipse=d.ellipse=function(K,ye,De,Ge,at){if(isNaN(K)||isNaN(ye)||isNaN(De)||isNaN(Ge)||!ia(at))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ct=4/3*(Math.SQRT2-1)*De,Rt=4/3*(Math.SQRT2-1)*Ge;return Ns(K+De,ye),ds(K+De,ye-Rt,K+Ct,ye-Ge,K,ye-Ge),ds(K-Ct,ye-Ge,K-De,ye-Rt,K-De,ye),ds(K-De,ye+Rt,K-Ct,ye+Ge,K,ye+Ge),ds(K+Ct,ye+Ge,K+De,ye+Rt,K+De,ye),Gi(at),this},d.__private__.circle=d.circle=function(K,ye,De,Ge){if(isNaN(K)||isNaN(ye)||isNaN(De)||!ia(Ge))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(K,ye,De,De,Ge)},d.setFont=function(K,ye,De){return De&&(ye=N(ye,De)),de=ja(K,ye,{disableWarning:!1}),this};var Va=d.__private__.getFont=d.getFont=function(){return Tt[ja.apply(d,arguments)]};d.__private__.getFontList=d.getFontList=function(){var K,ye,De={};for(K in Ht)if(Ht.hasOwnProperty(K))for(ye in De[K]=[],Ht[K])Ht[K].hasOwnProperty(ye)&&De[K].push(ye);return De},d.addFont=function(K,ye,De,Ge,at){var Ct=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ct.indexOf(arguments[3])!==-1?at=arguments[3]:arguments[3]&&Ct.indexOf(arguments[3])==-1&&(De=N(De,Ge)),at=at||"Identity-H",So.call(this,K,ye,De,at)};var Nn,Xu=r.lineWidth||.200025,_l=d.__private__.getLineWidth=d.getLineWidth=function(){return Xu},Sl=d.__private__.setLineWidth=d.setLineWidth=function(K){return Xu=K,Le(T(L(K))+" w"),this};d.__private__.setLineDash=Or.API.setLineDash=Or.API.setLineDashPattern=function(K,ye){if(K=K||[],ye=ye||0,isNaN(ye)||!Array.isArray(K))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return K=K.map(function(De){return T(L(De))}).join(" "),ye=T(L(ye)),Le("["+K+"] "+ye+" d"),this};var EA=d.__private__.getLineHeight=d.getLineHeight=function(){return it*Nn};d.__private__.getLineHeight=d.getLineHeight=function(){return it*Nn};var Yu=d.__private__.setLineHeightFactor=d.setLineHeightFactor=function(K){return typeof(K=K||1.15)=="number"&&(Nn=K),this},ri=d.__private__.getLineHeightFactor=d.getLineHeightFactor=function(){return Nn};Yu(r.lineHeight);var Rs=d.__private__.getHorizontalCoordinate=function(K){return L(K)},KA=d.__private__.getVerticalCoordinate=function(K){return b===w.ADVANCED?K:Pt[z].mediaBox.topRightY-Pt[z].mediaBox.bottomLeftY-L(K)},Kc=d.__private__.getHorizontalCoordinateString=d.getHorizontalCoordinateString=function(K){return T(Rs(K))},Io=d.__private__.getVerticalCoordinateString=d.getVerticalCoordinateString=function(K){return T(KA(K))},RA=r.strokeColor||"0 G";d.__private__.getStrokeColor=d.getDrawColor=function(){return ZA(RA)},d.__private__.setStrokeColor=d.setDrawColor=function(K,ye,De,Ge){return RA=oA({ch1:K,ch2:ye,ch3:De,ch4:Ge,pdfColorType:"draw",precision:2}),Le(RA),this};var oa=r.fillColor||"0 g";d.__private__.getFillColor=d.getFillColor=function(){return ZA(oa)},d.__private__.setFillColor=d.setFillColor=function(K,ye,De,Ge){return oa=oA({ch1:K,ch2:ye,ch3:De,ch4:Ge,pdfColorType:"fill",precision:2}),Le(oa),this};var _A=r.textColor||"0 g",xo=d.__private__.getTextColor=d.getTextColor=function(){return ZA(_A)};d.__private__.setTextColor=d.setTextColor=function(K,ye,De,Ge){return _A=oA({ch1:K,ch2:ye,ch3:De,ch4:Ge,pdfColorType:"text",precision:3}),this};var Ui=r.charSpace,Ps=d.__private__.getCharSpace=d.getCharSpace=function(){return parseFloat(Ui||0)};d.__private__.setCharSpace=d.setCharSpace=function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ui=K,this};var Au=0;d.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},d.__private__.setLineCap=d.setLineCap=function(K){var ye=d.CapJoinStyles[K];if(ye===void 0)throw new Error("Line cap style of '"+K+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Au=ye,Le(ye+" J"),this};var Fl=0;d.__private__.setLineJoin=d.setLineJoin=function(K){var ye=d.CapJoinStyles[K];if(ye===void 0)throw new Error("Line join style of '"+K+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Fl=ye,Le(ye+" j"),this},d.__private__.setLineMiterLimit=d.__private__.setMiterLimit=d.setLineMiterLimit=d.setMiterLimit=function(K){if(K=K||0,isNaN(K))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Le(T(L(K))+" M"),this},d.GState=Mb,d.setGState=function(K){(K=typeof K=="string"?Lr[vn[K]]:aa(null,K)).equals(vr)||(Le("/"+K.id+" gs"),vr=K)};var aa=function(K,ye){if(!K||!vn[K]){var De=!1;for(var Ge in Lr)if(Lr.hasOwnProperty(Ge)&&Lr[Ge].equals(ye)){De=!0;break}if(De)ye=Lr[Ge];else{var at="GS"+(Object.keys(Lr).length+1).toString(10);Lr[at]=ye,ye.id=at}return K&&(vn[K]=ye.id),Vt.publish("addGState",ye),ye}};d.addGState=function(K,ye){return aa(K,ye),this},d.saveGraphicsState=function(){return Le("q"),gr.push({key:de,size:it,color:_A}),this},d.restoreGraphicsState=function(){Le("Q");var K=gr.pop();return de=K.key,it=K.size,_A=K.color,vr=null,this},d.setCurrentTransformationMatrix=function(K){return Le(K.toString()+" cm"),this},d.comment=function(K){return Le("#"+K),this};var Uo=function(K,ye){var De=K||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return De},set:function(Ct){isNaN(Ct)||(De=parseFloat(Ct))}});var Ge=ye||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ge},set:function(Ct){isNaN(Ct)||(Ge=parseFloat(Ct))}});var at="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return at},set:function(Ct){at=Ct.toString()}}),this},Ka=function(K,ye,De,Ge){Uo.call(this,K,ye),this.type="rect";var at=De||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return at},set:function(Rt){isNaN(Rt)||(at=parseFloat(Rt))}});var Ct=Ge||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ct},set:function(Rt){isNaN(Rt)||(Ct=parseFloat(Rt))}}),this},Il=function(){this.page=jt,this.currentPage=z,this.pages=qe.slice(0),this.pagesContext=Pt.slice(0),this.x=Oe,this.y=He,this.matrix=Et,this.width=la(z),this.height=ps(z),this.outputDestination=nt,this.id="",this.objectNumber=-1};Il.prototype.restore=function(){jt=this.page,z=this.currentPage,Pt=this.pagesContext,qe=this.pages,Oe=this.x,He=this.y,Et=this.matrix,Zu(z,this.width),ec(z,this.height),nt=this.outputDestination};var Ju=function(K,ye,De,Ge,at){BA.push(new Il),jt=z=0,qe=[],Oe=K,He=ye,Et=at,Vi([De,Ge])},Jh=function(K){if(On[K])BA.pop().restore();else{var ye=new Il,De="Xo"+(Object.keys(Gr).length+1).toString(10);ye.id=De,On[K]=De,Gr[De]=ye,Vt.publish("addFormObject",ye),BA.pop().restore()}};for(var Ga in d.beginFormObject=function(K,ye,De,Ge,at){return Ju(K,ye,De,Ge,at),this},d.endFormObject=function(K){return Jh(K),this},d.doFormObject=function(K,ye){var De=Gr[On[K]];return Le("q"),Le(ye.toString()+" cm"),Le("/"+De.id+" Do"),Le("Q"),this},d.getFormObject=function(K){var ye=Gr[On[K]];return{x:ye.x,y:ye.y,width:ye.width,height:ye.height,matrix:ye.matrix}},d.save=function(K,ye){return K=K||"generated.pdf",(ye=ye||{}).returnPromise=ye.returnPromise||!1,ye.returnPromise===!1?(yv(bl(ra()),K),typeof yv.unload=="function"&&jr.setTimeout&&setTimeout(yv.unload,911),this):new Promise(function(De,Ge){try{var at=yv(bl(ra()),K);typeof yv.unload=="function"&&jr.setTimeout&&setTimeout(yv.unload,911),De(at)}catch(Ct){Ge(Ct.message)}})},Or.API)Or.API.hasOwnProperty(Ga)&&(Ga==="events"&&Or.API.events.length?function(K,ye){var De,Ge,at;for(at=ye.length-1;at!==-1;at--)De=ye[at][0],Ge=ye[at][1],K.subscribe.apply(K,[De].concat(typeof Ge=="function"?[Ge]:Ge))}(Vt,Or.API.events):d[Ga]=Or.API[Ga]);var la=d.getPageWidth=function(K){return(Pt[K=K||z].mediaBox.topRightX-Pt[K].mediaBox.bottomLeftX)/we},Zu=d.setPageWidth=function(K,ye){Pt[K].mediaBox.topRightX=ye*we+Pt[K].mediaBox.bottomLeftX},ps=d.getPageHeight=function(K){return(Pt[K=K||z].mediaBox.topRightY-Pt[K].mediaBox.bottomLeftY)/we},ec=d.setPageHeight=function(K,ye){Pt[K].mediaBox.topRightY=ye*we+Pt[K].mediaBox.bottomLeftY};return d.internal={pdfEscape:VA,getStyle:jc,getFont:Va,getFontSize:ze,getCharSpace:Ps,getTextColor:xo,getLineHeight:EA,getLineHeightFactor:ri,getLineWidth:_l,write:Ut,getHorizontalCoordinate:Rs,getVerticalCoordinate:KA,getCoordinateString:Kc,getVerticalCoordinateString:Io,collections:{},newObject:or,newAdditionalObject:bA,newObjectDeferred:yn,newObjectDeferredBegin:kn,getFilters:jA,putStream:AA,events:Vt,scaleFactor:we,pageSize:{getWidth:function(){return la(z)},setWidth:function(K){Zu(z,K)},getHeight:function(){return ps(z)},setHeight:function(K){ec(z,K)}},encryptionOptions:l,encryption:_n,getEncryptor:Fo,output:na,getNumberOfPages:Wn,pages:qe,out:Le,f2:D,f3:_,getPageInfo:no,getPageInfoByObjId:_r,getCurrentPageInfo:Ao,getPDFVersion:g,Point:Uo,Rectangle:Ka,Matrix:$t,hasHotfix:yi},Object.defineProperty(d.internal.pageSize,"width",{get:function(){return la(z)},set:function(K){Zu(z,K)},enumerable:!0,configurable:!0}),Object.defineProperty(d.internal.pageSize,"height",{get:function(){return ps(z)},set:function(K){ec(z,K)},enumerable:!0,configurable:!0}),ro.call(d,Me),de="F1",Bl(A,t),Vt.publish("initialized"),d}u0.prototype.lsbFirstWord=function(r){return String.fromCharCode(r>>0&255,r>>8&255,r>>16&255,r>>24&255)},u0.prototype.toHexString=function(r){return r.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},u0.prototype.hexToBytes=function(r){for(var e=[],t=0;t<r.length;t+=2)e.push(String.fromCharCode(parseInt(r.substr(t,2),16)));return e.join("")},u0.prototype.processOwnerPassword=function(r,e){return X5($5(e).substr(0,5),r)},u0.prototype.encryptor=function(r,e){var t=$5(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return X5(t,n)}},Mb.prototype.equals=function(r){var e,t="id,objectNumber,equals";if(!r||wA(r)!==wA(this))return!1;var n=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!r.hasOwnProperty(e)||this[e]!==r[e])return!1;n++}for(e in r)r.hasOwnProperty(e)&&t.indexOf(e)<0&&n--;return n===0},Or.API={events:[]},Or.version="3.0.1";var Ni=Or.API,vO=1,pw=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Xw=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Jr=function(r){return r.toFixed(2)},hg=function(r){return r.toFixed(5)};Ni.__acroform__={};var ru=function(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r},wM=function(r){return r*vO},bf=function(r){var e=new K9,t=Br.internal.getHeight(r)||0,n=Br.internal.getWidth(r)||0;return e.BBox=[0,0,Number(Jr(n)),Number(Jr(t))],e},kue=Ni.__acroform__.setBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|=1<<e},Due=Ni.__acroform__.clearBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&=~(1<<e)},Mue=Ni.__acroform__.getBit=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(r&1<<e)==0?0:1},as=Ni.__acroform__.getBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Mue(r,e-1)},ls=Ni.__acroform__.setBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return kue(r,e-1)},us=Ni.__acroform__.clearBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Due(r,e-1)},Hue=Ni.__acroform__.calculateCoordinates=function(r,e){var t=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,A=r[0],i=r[1],s=r[2],o=r[3],a={};return a.lowerLeft_X=t(A)||0,a.lowerLeft_Y=n(i+o)||0,a.upperRight_X=t(A+s)||0,a.upperRight_Y=n(i)||0,[Number(Jr(a.lowerLeft_X)),Number(Jr(a.lowerLeft_Y)),Number(Jr(a.upperRight_X)),Number(Jr(a.upperRight_Y))]},jue=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var e=[],t=r._V||r.DV,n=Y5(r,t),A=r.scope.internal.getFont(r.fontName,r.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(r.scope.__private__.encodeColorString(r.color)),e.push("/"+A+" "+Jr(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=bf(r);return i.scope=r.scope,i.stream=e.join(`
`),i}},Y5=function(r,e){var t=r.fontSize===0?r.maxFontSize:r.fontSize,n={text:"",fontSize:""},A=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");A=r.multiline?A.map(function(_){return _.split(`
`)}):A.map(function(_){return[_]});var i=t,s=Br.internal.getHeight(r)||0;s=s<0?-s:s;var o=Br.internal.getWidth(r)||0;o=o<0?-o:o;var a=function(_,L,O){if(_+1<A.length){var V=L+" "+A[_+1][0];return aS(V,r,O).width<=o-4}return!1};i++;e:for(;i>0;){e="",i--;var u,l,c=aS("3",r,i).height,h=r.multiline?s-i:(s-c)/2,d=h+=2,m=0,g=0,y=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+aS(e,r,i=12).width+", FieldWidth:"+o+`
`;break}for(var v="",w=0,b=0;b<A.length;b++)if(A.hasOwnProperty(b)){var B=!1;if(A[b].length!==1&&y!==A[b].length-1){if((c+2)*(w+2)+2>s)continue e;v+=A[b][y],B=!0,g=b,b--}else{v=(v+=A[b][y]+" ").substr(v.length-1)==" "?v.substr(0,v.length-1):v;var F=parseInt(b),N=a(F,v,i),T=b>=A.length-1;if(N&&!T){v+=" ",y=0;continue}if(N||T){if(T)g=F;else if(r.multiline&&(c+2)*(w+2)+2>s)continue e}else{if(!r.multiline||(c+2)*(w+2)+2>s)continue e;g=F}}for(var U="",k=m;k<=g;k++){var D=A[k];if(r.multiline){if(k===g){U+=D[y]+" ",y=(y+1)%D.length;continue}if(k===m){U+=D[D.length-1]+" ";continue}}U+=D[0]+" "}switch(U=U.substr(U.length-1)==" "?U.substr(0,U.length-1):U,l=aS(U,r,i).width,r.textAlign){case"right":u=o-l-2;break;case"center":u=(o-l)/2;break;case"left":default:u=2}e+=Jr(u)+" "+Jr(d)+` Td
`,e+="("+pw(U)+`) Tj
`,e+=-Jr(u)+` 0 Td
`,d=-(i+2),l=0,m=B?g:g+1,w++,v=""}break}return n.text=e,n.fontSize=i,n},aS=function(r,e,t){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),A=e.scope.getStringUnitWidth(r,{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:A}},Vue={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Kue=function(r,e){var t={type:"reference",object:r};e.internal.getPageInfo(r.page).pageContext.annotations.find(function(n){return n.type===t.type&&n.object===t.object})===void 0&&e.internal.getPageInfo(r.page).pageContext.annotations.push(t)},Gue=function(r,e){for(var t in r)if(r.hasOwnProperty(t)){var n=t,A=r[t];e.internal.newObjectDeferredBegin(A.objId,!0),wA(A)==="object"&&typeof A.putStream=="function"&&A.putStream(),delete r[n]}},zue=function(r,e){if(e.scope=r,r.internal!==void 0&&(r.internal.acroformPlugin===void 0||r.internal.acroformPlugin.isInitialized===!1)){if(zh.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify(Vue)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");vO=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new G9,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(r)}),r.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var A in n)if(n.hasOwnProperty(A)){var i=n[A];i.objId=void 0,i.hasAnnotation&&Kue(i,t)}})(r)}),r.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(r)}),r.internal.events.subscribe("postPutPages",function(t){(function(n,A){var i=!n;for(var s in n||(A.internal.newObjectDeferredBegin(A.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),A.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||A.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var o=n[s],a=[],u=o.Rect;if(o.Rect&&(o.Rect=Hue(o.Rect,A)),A.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Br.createDefaultAppearanceStream(o),wA(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(a=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var l=jue(o);a.push({key:"AP",value:"<</N "+l+">>"}),A.internal.acroformPlugin.xForms.push(l)}if(o.appearanceStreamContent){var c="";for(var h in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(h)){var d=o.appearanceStreamContent[h];if(c+="/"+h+" ",c+="<<",Object.keys(d).length>=1||Array.isArray(d)){for(var s in d)if(d.hasOwnProperty(s)){var m=d[s];typeof m=="function"&&(m=m.call(A,o)),c+="/"+s+" "+m+" ",A.internal.acroformPlugin.xForms.indexOf(m)>=0||A.internal.acroformPlugin.xForms.push(m)}}else typeof(m=d)=="function"&&(m=m.call(A,o)),c+="/"+s+" "+m,A.internal.acroformPlugin.xForms.indexOf(m)>=0||A.internal.acroformPlugin.xForms.push(m);c+=">>"}a.push({key:"AP",value:`<<
`+c+">>"})}A.internal.putStream({additionalKeyValues:a,objectId:o.objId}),A.internal.out("endobj")}i&&Gue(A.internal.acroformPlugin.xForms,A)})(t,r)}),r.internal.acroformPlugin.isInitialized=!0}},V9=Ni.__acroform__.arrayToPdfArray=function(r,e,t){var n=function(s){return s};if(Array.isArray(r)){for(var A="[",i=0;i<r.length;i++)switch(i!==0&&(A+=" "),wA(r[i])){case"boolean":case"number":case"object":A+=r[i].toString();break;case"string":r[i].substr(0,1)!=="/"?(e!==void 0&&t&&(n=t.internal.getEncryptor(e)),A+="("+pw(n(r[i].toString()))+")"):A+=r[i].toString()}return A+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},xT=function(r,e,t){var n=function(A){return A};return e!==void 0&&t&&(n=t.internal.getEncryptor(e)),(r=r||"").toString(),r="("+pw(n(r))+")"},zf=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};zf.prototype.toString=function(){return this.objId+" 0 R"},zf.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},zf.prototype.getKeyValueListForStream=function(){var r=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var n=e[t],A=this[n];A&&(Array.isArray(A)?r.push({key:n,value:V9(A,this.objId,this.scope)}):A instanceof zf?(A.scope=this.scope,r.push({key:n,value:A.objId+" 0 R"})):typeof A!="function"&&r.push({key:n,value:A}))}return r};var K9=function(){zf.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){r=t.trim()},get:function(){return r||null}})};ru(K9,zf);var G9=function(){zf.call(this);var r,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var t=function(n){return n};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+pw(t(r))+")"}},set:function(t){r=t}})};ru(G9,zf);var zh=function r(){zf.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute F supplied.');e=v}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!as(e,3)},set:function(v){v?this.F=ls(e,3):this.F=us(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');t=v}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(v){n=v!==void 0?v:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(v){n[0]=v}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(v){n[1]=v}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(v){n[2]=v}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(v){n[3]=v}});var A="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return A},set:function(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":A=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof cI)return;i="FieldObject"+r.FieldNum++}var v=function(w){return w};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+pw(v(i))+")"},set:function(v){i=v.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(v){i=v}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(v){s=v}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(v){o=v}});var a=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return a},set:function(v){a=v}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/vO:u},set:function(v){u=v}});var l="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return l},set:function(v){l=v}});var c="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!c||this instanceof cI||this instanceof bm))return xT(c,this.objId,this.scope)},set:function(v){v=v.toString(),c=v}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Js?h:xT(h,this.objId,this.scope)},set:function(v){v=v.toString(),h=this instanceof Js?v:v.substr(0,1)==="("?Xw(v.substr(1,v.length-2)):Xw(v)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Js?Xw(h.substr(1,h.length-1)):h},set:function(v){v=v.toString(),h=this instanceof Js?"/"+v:v}});var d=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(d)return d},set:function(v){this.V=v}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof Js?d:xT(d,this.objId,this.scope)},set:function(v){v=v.toString(),d=this instanceof Js?v:v.substr(0,1)==="("?Xw(v.substr(1,v.length-2)):Xw(v)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Js?Xw(d.substr(1,d.length-1)):d},set:function(v){v=v.toString(),d=this instanceof Js?"/"+v:v}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var m,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(v){v=!!v,g=v}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(m)return m},set:function(v){m=v}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,1)},set:function(v){v?this.Ff=ls(this.Ff,1):this.Ff=us(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,2)},set:function(v){v?this.Ff=ls(this.Ff,2):this.Ff=us(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,3)},set:function(v){v?this.Ff=ls(this.Ff,3):this.Ff=us(this.Ff,3)}});var y=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(y!==null)return y},set:function(v){if([0,1,2].indexOf(v)===-1)throw new Error('Invalid value "'+v+'" for attribute Q supplied.');y=v}}),Object.defineProperty(this,"textAlign",{get:function(){var v;switch(y){case 0:default:v="left";break;case 1:v="center";break;case 2:v="right"}return v},configurable:!0,enumerable:!0,set:function(v){switch(v){case"right":case 2:y=2;break;case"center":case 1:y=1;break;case"left":case 0:default:y=0}}})};ru(zh,zf);var qy=function(){zh.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(t){r=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return V9(e,this.objId,this.scope)},set:function(t){var n,A;A=[],typeof(n=t)=="string"&&(A=function(i,s,o){o||(o=1);for(var a,u=[];a=s.exec(i);)u.push(a[o]);return u}(n,/\((.*?)\)/g)),e=A}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,n){for(n=n||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,18)},set:function(t){t?this.Ff=ls(this.Ff,18):this.Ff=us(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=ls(this.Ff,19):this.Ff=us(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,20)},set:function(t){t?(this.Ff=ls(this.Ff,20),e.sort()):this.Ff=us(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,22)},set:function(t){t?this.Ff=ls(this.Ff,22):this.Ff=us(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,23)},set:function(t){t?this.Ff=ls(this.Ff,23):this.Ff=us(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,27)},set:function(t){t?this.Ff=ls(this.Ff,27):this.Ff=us(this.Ff,27)}}),this.hasAppearanceStream=!1};ru(qy,zh);var Wy=function(){qy.call(this),this.fontName="helvetica",this.combo=!1};ru(Wy,qy);var $y=function(){Wy.call(this),this.combo=!0};ru($y,Wy);var wb=function(){$y.call(this),this.edit=!0};ru(wb,$y);var Js=function(){zh.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,15)},set:function(t){t?this.Ff=ls(this.Ff,15):this.Ff=us(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,16)},set:function(t){t?this.Ff=ls(this.Ff,16):this.Ff=us(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,17)},set:function(t){t?this.Ff=ls(this.Ff,17):this.Ff=us(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,26)},set:function(t){t?this.Ff=ls(this.Ff,26):this.Ff=us(this.Ff,26)}});var r,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(i){return i};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,A=[];for(n in A.push("<<"),e)A.push("/"+n+" ("+pw(t(e[n]))+")");return A.push(">>"),A.join(`
`)}},set:function(t){wA(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(t){r="/"+t}})};ru(Js,zh);var Bb=function(){Js.call(this),this.pushButton=!0};ru(Bb,Js);var Xy=function(){Js.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e!==void 0?e:[]}})};ru(Xy,Js);var cI=function(){var r,e;zh.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(A){r=A}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(A){e=A}});var t,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var A=function(o){return o};this.scope&&(A=this.scope.internal.getEncryptor(this.objId));var i,s=[];for(i in s.push("<<"),n)s.push("/"+i+" ("+pw(A(n[i]))+")");return s.push(">>"),s.join(`
`)},set:function(A){wA(A)==="object"&&(n=A)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(A){typeof A=="string"&&(n.CA=A)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(A){t=A}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(A){t="/"+A}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Br.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ru(cI,zh),Xy.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=r.createAppearanceStream(t.optionName),t.caption=r.getCA()}},Xy.prototype.createOption=function(r){var e=new cI;return e.Parent=this,e.optionName=r,this.Kids.push(e),que.call(this.scope,e),e};var Cb=function(){Js.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Br.CheckBox.createAppearanceStream()};ru(Cb,Js);var bm=function(){zh.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,13)},set:function(e){e?this.Ff=ls(this.Ff,13):this.Ff=us(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,21)},set:function(e){e?this.Ff=ls(this.Ff,21):this.Ff=us(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,23)},set:function(e){e?this.Ff=ls(this.Ff,23):this.Ff=us(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,24)},set:function(e){e?this.Ff=ls(this.Ff,24):this.Ff=us(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,25)},set:function(e){e?this.Ff=ls(this.Ff,25):this.Ff=us(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,26)},set:function(e){e?this.Ff=ls(this.Ff,26):this.Ff=us(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){Number.isInteger(e)&&(r=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ru(bm,zh);var bb=function(){bm.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,14)},set:function(r){r?this.Ff=ls(this.Ff,14):this.Ff=us(this.Ff,14)}}),this.password=!0};ru(bb,bm);var Br={CheckBox:{createAppearanceStream:function(){return{N:{On:Br.CheckBox.YesNormal},D:{On:Br.CheckBox.YesPushDown,Off:Br.CheckBox.OffPushDown}}},YesPushDown:function(r){var e=bf(r);e.scope=r.scope;var t=[],n=r.scope.internal.getFont(r.fontName,r.fontStyle).id,A=r.scope.__private__.encodeColorString(r.color),i=Y5(r,r.caption);return t.push("0.749023 g"),t.push("0 0 "+Jr(Br.internal.getWidth(r))+" "+Jr(Br.internal.getHeight(r))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+n+" "+Jr(i.fontSize)+" Tf "+A),t.push("BT"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(r){var e=bf(r);e.scope=r.scope;var t=r.scope.internal.getFont(r.fontName,r.fontStyle).id,n=r.scope.__private__.encodeColorString(r.color),A=[],i=Br.internal.getHeight(r),s=Br.internal.getWidth(r),o=Y5(r,r.caption);return A.push("1 g"),A.push("0 0 "+Jr(s)+" "+Jr(i)+" re"),A.push("f"),A.push("q"),A.push("0 0 1 rg"),A.push("0 0 "+Jr(s-1)+" "+Jr(i-1)+" re"),A.push("W"),A.push("n"),A.push("0 g"),A.push("BT"),A.push("/"+t+" "+Jr(o.fontSize)+" Tf "+n),A.push(o.text),A.push("ET"),A.push("Q"),e.stream=A.join(`
`),e},OffPushDown:function(r){var e=bf(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Jr(Br.internal.getWidth(r))+" "+Jr(Br.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(r){var e={D:{Off:Br.RadioButton.Circle.OffPushDown},N:{}};return e.N[r]=Br.RadioButton.Circle.YesNormal,e.D[r]=Br.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(r){var e=bf(r);e.scope=r.scope;var t=[],n=Br.internal.getWidth(r)<=Br.internal.getHeight(r)?Br.internal.getWidth(r)/4:Br.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var A=Br.internal.Bezier_C,i=Number((n*A).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+hg(Br.internal.getWidth(r)/2)+" "+hg(Br.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),t.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),t.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),t.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=bf(r);e.scope=r.scope;var t=[],n=Br.internal.getWidth(r)<=Br.internal.getHeight(r)?Br.internal.getWidth(r)/4:Br.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var A=Number((2*n).toFixed(5)),i=Number((A*Br.internal.Bezier_C).toFixed(5)),s=Number((n*Br.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+hg(Br.internal.getWidth(r)/2)+" "+hg(Br.internal.getHeight(r)/2)+" cm"),t.push(A+" 0 m"),t.push(A+" "+i+" "+i+" "+A+" 0 "+A+" c"),t.push("-"+i+" "+A+" -"+A+" "+i+" -"+A+" 0 c"),t.push("-"+A+" -"+i+" -"+i+" -"+A+" 0 -"+A+" c"),t.push(i+" -"+A+" "+A+" -"+i+" "+A+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+hg(Br.internal.getWidth(r)/2)+" "+hg(Br.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),t.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),t.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),t.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(r){var e=bf(r);e.scope=r.scope;var t=[],n=Br.internal.getWidth(r)<=Br.internal.getHeight(r)?Br.internal.getWidth(r)/4:Br.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var A=Number((2*n).toFixed(5)),i=Number((A*Br.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+hg(Br.internal.getWidth(r)/2)+" "+hg(Br.internal.getHeight(r)/2)+" cm"),t.push(A+" 0 m"),t.push(A+" "+i+" "+i+" "+A+" 0 "+A+" c"),t.push("-"+i+" "+A+" -"+A+" "+i+" -"+A+" 0 c"),t.push("-"+A+" -"+i+" -"+i+" -"+A+" 0 -"+A+" c"),t.push(i+" -"+A+" "+A+" -"+i+" "+A+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(r){var e={D:{Off:Br.RadioButton.Cross.OffPushDown},N:{}};return e.N[r]=Br.RadioButton.Cross.YesNormal,e.D[r]=Br.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(r){var e=bf(r);e.scope=r.scope;var t=[],n=Br.internal.calculateCross(r);return t.push("q"),t.push("1 1 "+Jr(Br.internal.getWidth(r)-2)+" "+Jr(Br.internal.getHeight(r)-2)+" re"),t.push("W"),t.push("n"),t.push(Jr(n.x1.x)+" "+Jr(n.x1.y)+" m"),t.push(Jr(n.x2.x)+" "+Jr(n.x2.y)+" l"),t.push(Jr(n.x4.x)+" "+Jr(n.x4.y)+" m"),t.push(Jr(n.x3.x)+" "+Jr(n.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=bf(r);e.scope=r.scope;var t=Br.internal.calculateCross(r),n=[];return n.push("0.749023 g"),n.push("0 0 "+Jr(Br.internal.getWidth(r))+" "+Jr(Br.internal.getHeight(r))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Jr(Br.internal.getWidth(r)-2)+" "+Jr(Br.internal.getHeight(r)-2)+" re"),n.push("W"),n.push("n"),n.push(Jr(t.x1.x)+" "+Jr(t.x1.y)+" m"),n.push(Jr(t.x2.x)+" "+Jr(t.x2.y)+" l"),n.push(Jr(t.x4.x)+" "+Jr(t.x4.y)+" m"),n.push(Jr(t.x3.x)+" "+Jr(t.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(r){var e=bf(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Jr(Br.internal.getWidth(r))+" "+Jr(Br.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(r){var e=r.scope.internal.getFont(r.fontName,r.fontStyle).id,t=r.scope.__private__.encodeColorString(r.color);return"/"+e+" "+r.fontSize+" Tf "+t}};Br.internal={Bezier_C:.551915024494,calculateCross:function(r){var e=Br.internal.getWidth(r),t=Br.internal.getHeight(r),n=Math.min(e,t);return{x1:{x:(e-n)/2,y:(t-n)/2+n},x2:{x:(e-n)/2+n,y:(t-n)/2},x3:{x:(e-n)/2,y:(t-n)/2},x4:{x:(e-n)/2+n,y:(t-n)/2+n}}}},Br.internal.getWidth=function(r){var e=0;return wA(r)==="object"&&(e=wM(r.Rect[2])),e},Br.internal.getHeight=function(r){var e=0;return wA(r)==="object"&&(e=wM(r.Rect[3])),e};var que=Ni.addField=function(r){if(zue(this,r),!(r instanceof zh))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=r).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};Ni.AcroFormChoiceField=qy,Ni.AcroFormListBox=Wy,Ni.AcroFormComboBox=$y,Ni.AcroFormEditBox=wb,Ni.AcroFormButton=Js,Ni.AcroFormPushButton=Bb,Ni.AcroFormRadioButton=Xy,Ni.AcroFormCheckBox=Cb,Ni.AcroFormTextField=bm,Ni.AcroFormPasswordField=bb,Ni.AcroFormAppearance=Br,Ni.AcroForm={ChoiceField:qy,ListBox:Wy,ComboBox:$y,EditBox:wb,Button:Js,PushButton:Bb,RadioButton:Xy,CheckBox:Cb,TextField:bm,PasswordField:bb,Appearance:Br},Or.AcroForm={ChoiceField:qy,ListBox:Wy,ComboBox:$y,EditBox:wb,Button:Js,PushButton:Bb,RadioButton:Xy,CheckBox:Cb,TextField:bm,PasswordField:bb,Appearance:Br};var Wue=Or.AcroForm;function z9(r){return r.reduce(function(e,t,n){return e[t]=n,e},{})}(function(r){r.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=r.__addimage__.getImageFileTypeByImageData=function(_,L){var O,V,$,Y,re,le=e;if((L=L||e)==="RGBA"||_.data!==void 0&&_.data instanceof Uint8ClampedArray&&"height"in _&&"width"in _)return"RGBA";if(N(_))for(re in t)for($=t[re],O=0;O<$.length;O+=1){for(Y=!0,V=0;V<$[O].length;V+=1)if($[O][V]!==void 0&&$[O][V]!==_[V]){Y=!1;break}if(Y===!0){le=re;break}}else for(re in t)for($=t[re],O=0;O<$.length;O+=1){for(Y=!0,V=0;V<$[O].length;V+=1)if($[O][V]!==void 0&&$[O][V]!==_.charCodeAt(V)){Y=!1;break}if(Y===!0){le=re;break}}return le===e&&L!==e&&(le=L),le},A=function _(L){for(var O=this.internal.write,V=this.internal.putStream,$=(0,this.internal.getFilters)();$.indexOf("FlateEncode")!==-1;)$.splice($.indexOf("FlateEncode"),1);L.objectId=this.internal.newObject();var Y=[];if(Y.push({key:"Type",value:"/XObject"}),Y.push({key:"Subtype",value:"/Image"}),Y.push({key:"Width",value:L.width}),Y.push({key:"Height",value:L.height}),L.colorSpace===y.INDEXED?Y.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(L.palette.length/3-1)+" "+("sMask"in L&&L.sMask!==void 0?L.objectId+2:L.objectId+1)+" 0 R]"}):(Y.push({key:"ColorSpace",value:"/"+L.colorSpace}),L.colorSpace===y.DEVICE_CMYK&&Y.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Y.push({key:"BitsPerComponent",value:L.bitsPerComponent}),"decodeParameters"in L&&L.decodeParameters!==void 0&&Y.push({key:"DecodeParms",value:"<<"+L.decodeParameters+">>"}),"transparency"in L&&Array.isArray(L.transparency)){for(var re="",le=0,ne=L.transparency.length;le<ne;le++)re+=L.transparency[le]+" "+L.transparency[le]+" ";Y.push({key:"Mask",value:"["+re+"]"})}L.sMask!==void 0&&Y.push({key:"SMask",value:L.objectId+1+" 0 R"});var te=L.filter!==void 0?["/"+L.filter]:void 0;if(V({data:L.data,additionalKeyValues:Y,alreadyAppliedFilters:te,objectId:L.objectId}),O("endobj"),"sMask"in L&&L.sMask!==void 0){var G="/Predictor "+L.predictor+" /Colors 1 /BitsPerComponent "+L.bitsPerComponent+" /Columns "+L.width,H={width:L.width,height:L.height,colorSpace:"DeviceGray",bitsPerComponent:L.bitsPerComponent,decodeParameters:G,data:L.sMask};"filter"in L&&(H.filter=L.filter),_.call(this,H)}if(L.colorSpace===y.INDEXED){var z=this.internal.newObject();V({data:U(new Uint8Array(L.palette)),objectId:z}),O("endobj")}},i=function(){var _=this.internal.collections.addImage_images;for(var L in _)A.call(this,_[L])},s=function(){var _,L=this.internal.collections.addImage_images,O=this.internal.write;for(var V in L)O("/I"+(_=L[V]).index,_.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",s))},a=function(){var _=this.internal.collections.addImage_images;return o.call(this),_},u=function(){return Object.keys(this.internal.collections.addImage_images).length},l=function(_){return typeof r["process"+_.toUpperCase()]=="function"},c=function(_){return wA(_)==="object"&&_.nodeType===1},h=function(_,L){if(_.nodeName==="IMG"&&_.hasAttribute("src")){var O=""+_.getAttribute("src");if(O.indexOf("data:image/")===0)return yb(unescape(O).split("base64,").pop());var V=r.loadFile(O,!0);if(V!==void 0)return V}if(_.nodeName==="CANVAS"){if(_.width===0||_.height===0)throw new Error("Given canvas must have data. Canvas width: "+_.width+", height: "+_.height);var $;switch(L){case"PNG":$="image/png";break;case"WEBP":$="image/webp";break;case"JPEG":case"JPG":default:$="image/jpeg"}return yb(_.toDataURL($,1).split("base64,").pop())}},d=function(_){var L=this.internal.collections.addImage_images;if(L){for(var O in L)if(_===L[O].alias)return L[O]}},m=function(_,L,O){return _||L||(_=-96,L=-96),_<0&&(_=-1*O.width*72/_/this.internal.scaleFactor),L<0&&(L=-1*O.height*72/L/this.internal.scaleFactor),_===0&&(_=L*O.width/O.height),L===0&&(L=_*O.height/O.width),[_,L]},g=function(_,L,O,V,$,Y){var re=m.call(this,O,V,$),le=this.internal.getCoordinateString,ne=this.internal.getVerticalCoordinateString,te=a.call(this);if(O=re[0],V=re[1],te[$.index]=$,Y){Y*=Math.PI/180;var G=Math.cos(Y),H=Math.sin(Y),z=function(ae){return ae.toFixed(4)},oe=[z(G),z(H),z(-1*H),z(G),0,0,"cm"]}this.internal.write("q"),Y?(this.internal.write([1,"0","0",1,le(_),ne(L+V),"cm"].join(" ")),this.internal.write(oe.join(" ")),this.internal.write([le(O),"0","0",le(V),"0","0","cm"].join(" "))):this.internal.write([le(O),"0","0",le(V),le(_),ne(L+V),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+$.index+" Do"),this.internal.write("Q")},y=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var v=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=r.__addimage__.sHashCode=function(_){var L,O,V=0;if(typeof _=="string")for(O=_.length,L=0;L<O;L++)V=(V<<5)-V+_.charCodeAt(L),V|=0;else if(N(_))for(O=_.byteLength/2,L=0;L<O;L++)V=(V<<5)-V+_[L],V|=0;return V},b=r.__addimage__.validateStringAsBase64=function(_){(_=_||"").toString().trim();var L=!0;return _.length===0&&(L=!1),_.length%4!=0&&(L=!1),/^[A-Za-z0-9+/]+$/.test(_.substr(0,_.length-2))===!1&&(L=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(_.substr(-2))===!1&&(L=!1),L},B=r.__addimage__.extractImageFromDataUrl=function(_){if(_==null||!(_=_.trim()).startsWith("data:"))return null;var L=_.indexOf(",");return L<0?null:_.substring(0,L).trim().endsWith("base64")?_.substring(L+1):null},F=r.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};r.__addimage__.isArrayBuffer=function(_){return F()&&_ instanceof ArrayBuffer};var N=r.__addimage__.isArrayBufferView=function(_){return F()&&typeof Uint32Array<"u"&&(_ instanceof Int8Array||_ instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&_ instanceof Uint8ClampedArray||_ instanceof Int16Array||_ instanceof Uint16Array||_ instanceof Int32Array||_ instanceof Uint32Array||_ instanceof Float32Array||_ instanceof Float64Array)},T=r.__addimage__.binaryStringToUint8Array=function(_){for(var L=_.length,O=new Uint8Array(L),V=0;V<L;V++)O[V]=_.charCodeAt(V);return O},U=r.__addimage__.arrayBufferToBinaryString=function(_){for(var L="",O=N(_)?_:new Uint8Array(_),V=0;V<O.length;V+=8192)L+=String.fromCharCode.apply(null,O.subarray(V,V+8192));return L};r.addImage=function(){var _,L,O,V,$,Y,re,le,ne;if(typeof arguments[1]=="number"?(L=e,O=arguments[1],V=arguments[2],$=arguments[3],Y=arguments[4],re=arguments[5],le=arguments[6],ne=arguments[7]):(L=arguments[1],O=arguments[2],V=arguments[3],$=arguments[4],Y=arguments[5],re=arguments[6],le=arguments[7],ne=arguments[8]),wA(_=arguments[0])==="object"&&!c(_)&&"imageData"in _){var te=_;_=te.imageData,L=te.format||L||e,O=te.x||O||0,V=te.y||V||0,$=te.w||te.width||$,Y=te.h||te.height||Y,re=te.alias||re,le=te.compression||le,ne=te.rotation||te.angle||ne}var G=this.internal.getFilters();if(le===void 0&&G.indexOf("FlateEncode")!==-1&&(le="SLOW"),isNaN(O)||isNaN(V))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var H=k.call(this,_,L,re,le);return g.call(this,O,V,$,Y,H,ne),this};var k=function(_,L,O,V){var $,Y,re;if(typeof _=="string"&&n(_)===e){_=unescape(_);var le=D(_,!1);(le!==""||(le=r.loadFile(_,!0))!==void 0)&&(_=le)}if(c(_)&&(_=h(_,L)),L=n(_,L),!l(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(((re=O)==null||re.length===0)&&(O=function(ne){return typeof ne=="string"||N(ne)?w(ne):N(ne.data)?w(ne.data):null}(_)),($=d.call(this,O))||(F()&&(_ instanceof Uint8Array||L==="RGBA"||(Y=_,_=T(_))),$=this["process"+L.toUpperCase()](_,u.call(this),O,function(ne){return ne&&typeof ne=="string"&&(ne=ne.toUpperCase()),ne in r.image_compression?ne:v.NONE}(V),Y)),!$)throw new Error("An unknown error occurred whilst processing the image.");return $},D=r.__addimage__.convertBase64ToBinaryString=function(_,L){L=typeof L!="boolean"||L;var O,V="";if(typeof _=="string"){var $;O=($=B(_))!==null&&$!==void 0?$:_;try{V=yb(O)}catch(Y){if(L)throw b(O)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Y.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return V};r.getImageProperties=function(_){var L,O,V="";if(c(_)&&(_=h(_)),typeof _=="string"&&n(_)===e&&((V=D(_,!1))===""&&(V=r.loadFile(_)||""),_=V),O=n(_),!l(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(!F()||_ instanceof Uint8Array||(_=T(_)),!(L=this["process"+O.toUpperCase()](_)))throw new Error("An unknown error occurred whilst processing the image");return L.fileType=O,L}})(Or.API),function(r){var e=function(t){if(t!==void 0&&t!="")return!0};Or.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(t){for(var n,A,i,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,a=this.internal.getPageInfoByObjId(t.objId),u=t.pageContext.annotations,l=!1,c=0;c<u.length&&!l;c++)switch((n=u[c]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(l=!0);break;case"reference":case"text":case"freetext":l=!0}if(l!=0){this.internal.write("/Annots [");for(var h=0;h<u.length;h++){n=u[h];var d=this.internal.pdfEscape,m=this.internal.getEncryptor(t.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),y=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(g.objId),w=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(A="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+d(v(n.contents))+")",i+=" /Popup "+y.objId+" 0 R",i+=" /P "+a.objId+" 0 R",i+=" /T ("+d(v(w))+") >>",g.content=i;var b=g.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(A="/Rect ["+s(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+b,n.open&&(i+=" /Open true"),i+=" >>",y.content=i,this.internal.write(g.objId,"0 R",y.objId,"0 R");break;case"freetext":A="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var B=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+A+"/Contents ("+d(m(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+B+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var F=this.annotations._nameMap[n.options.name];n.options.pageNumber=F.page,n.options.top=F.y}else n.options.top||(n.options.top=0);if(A="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+A+"/Border [0 0 0] /A <</S /URI /URI ("+d(m(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+A+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var N=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+N+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),r.createAnnotation=function(t){var n=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":n.pageContext.annotations.push(t)}},r.link=function(t,n,A,i,s){var o=this.internal.getCurrentPageInfo(),a=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:a(t),y:u(n),w:a(t+A),h:u(n+i)},options:s,type:"link"})},r.textWithLink=function(t,n,A,i){var s,o,a=this.getTextWidth(t),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){o=i.maxWidth;var l=this.splitTextToSize(t,o).length;s=Math.ceil(u*l)}else o=a,s=u;return this.text(t,n,A,i),A+=.2*u,i.align==="center"&&(n-=a/2),i.align==="right"&&(n-=a),this.link(n,A-u,o,s,i),a},r.getTextWidth=function(t){var n=this.internal.getFontSize();return this.getStringUnitWidth(t)*n/this.internal.scaleFactor}}(Or.API),function(r){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},A=[1570,1571,1573,1575];r.__arabicParser__={};var i=r.__arabicParser__.isInArabicSubstitutionA=function(g){return e[g.charCodeAt(0)]!==void 0},s=r.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},o=r.__arabicParser__.isArabicEndLetter=function(g){return s(g)&&i(g)&&e[g.charCodeAt(0)].length<=2},a=r.__arabicParser__.isArabicAlfLetter=function(g){return s(g)&&A.indexOf(g.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return s(g)&&i(g)&&e[g.charCodeAt(0)].length>=1};var u=r.__arabicParser__.arabicLetterHasFinalForm=function(g){return s(g)&&i(g)&&e[g.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(g){return s(g)&&i(g)&&e[g.charCodeAt(0)].length>=3};var l=r.__arabicParser__.arabicLetterHasMedialForm=function(g){return s(g)&&i(g)&&e[g.charCodeAt(0)].length==4},c=r.__arabicParser__.resolveLigatures=function(g){var y=0,v=t,w="",b=0;for(y=0;y<g.length;y+=1)v[g.charCodeAt(y)]!==void 0?(b++,typeof(v=v[g.charCodeAt(y)])=="number"&&(w+=String.fromCharCode(v),v=t,b=0),y===g.length-1&&(v=t,w+=g.charAt(y-(b-1)),y-=b-1,b=0)):(v=t,w+=g.charAt(y-b),y-=b,b=0);return w};r.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&n[g.charCodeAt(0)]!==void 0};var h=r.__arabicParser__.getCorrectForm=function(g,y,v){return s(g)?i(g)===!1?-1:!u(g)||!s(y)&&!s(v)||!s(v)&&o(y)||o(g)&&!s(y)||o(g)&&a(y)||o(g)&&o(y)?0:l(g)&&s(y)&&!o(y)&&s(v)&&u(v)?3:o(g)||!s(v)?1:2:-1},d=function(g){var y=0,v=0,w=0,b="",B="",F="",N=(g=g||"").split("\\s+"),T=[];for(y=0;y<N.length;y+=1){for(T.push(""),v=0;v<N[y].length;v+=1)b=N[y][v],B=N[y][v-1],F=N[y][v+1],s(b)?(w=h(b,B,F),T[y]+=w!==-1?String.fromCharCode(e[b.charCodeAt(0)][w]):b):T[y]+=b;T[y]=c(T[y])}return T.join(" ")},m=r.__arabicParser__.processArabic=r.processArabic=function(){var g,y=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,v=[];if(Array.isArray(y)){var w=0;for(v=[],w=0;w<y.length;w+=1)Array.isArray(y[w])?v.push([d(y[w][0]),y[w][1],y[w][2]]):v.push([d(y[w])]);g=v}else g=d(y);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};r.events.push(["preProcessText",m])}(Or.API),Or.API.autoPrint=function(r){var e;switch((r=r||{}).variant=r.variant||"non-conform",r.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(r){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(o){t=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var A=300;Object.defineProperty(this,"height",{get:function(){return A},set:function(o){A=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=A+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(o){i=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,n){var A;if((t=t||"2d")!=="2d")return null;for(A in n)this.pdf.context2d.hasOwnProperty(A)&&(this.pdf.context2d[A]=n[A]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Or.API),function(r){var e={left:0,top:0,bottom:0,right:0},t=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),A.call(this))},A=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var a=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return a},set:function(g){a=g}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var l=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return l},set:function(g){l=g}});var c=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var d=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var m=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return m},set:function(g){m=g}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(a){return n.call(this),this.internal.__cell__.headerFunction=typeof a=="function"?a:void 0,this},r.getTextDimensions=function(a,u){n.call(this);var l=(u=u||{}).fontSize||this.getFontSize(),c=u.font||this.getFont(),h=u.scaleFactor||this.internal.scaleFactor,d=0,m=0,g=0,y=this;if(!Array.isArray(a)&&typeof a!="string"){if(typeof a!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");a=String(a)}var v=u.maxWidth;v>0?typeof a=="string"?a=this.splitTextToSize(a,v):Object.prototype.toString.call(a)==="[object Array]"&&(a=a.reduce(function(b,B){return b.concat(y.splitTextToSize(B,v))},[])):a=Array.isArray(a)?a:[a];for(var w=0;w<a.length;w++)d<(g=this.getStringUnitWidth(a[w],{font:c})*l)&&(d=g);return d!==0&&(m=a.length),{w:d/=h,h:Math.max((m*l*this.getLineHeightFactor()-l*(this.getLineHeightFactor()-1))/h,0)}},r.cellAddPage=function(){n.call(this),this.addPage();var a=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(a.left,a.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=r.cell=function(){var a;a=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,l=this.internal.__cell__.padding,c=this.internal.__cell__.margins||e,h=this.internal.__cell__.tableHeaderRow,d=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===a.lineNumber?(a.x=(u.x||0)+(u.width||0),a.y=u.y||0):u.y+u.height+a.height+c.bottom>this.getPageHeight()?(this.cellAddPage(),a.y=c.top,d&&h&&(this.printHeaderRow(a.lineNumber,!0),a.y+=h[0].height)):a.y=u.y+u.height||a.y),a.text[0]!==void 0&&(this.rect(a.x,a.y,a.width,a.height,t===!0?"FD":void 0),a.align==="right"?this.text(a.text,a.x+a.width-l,a.y+l,{align:"right",baseline:"top"}):a.align==="center"?this.text(a.text,a.x+a.width/2,a.y+l,{align:"center",baseline:"top",maxWidth:a.width-l-l}):this.text(a.text,a.x+l,a.y+l,{align:"left",baseline:"top",maxWidth:a.width-l-l})),this.internal.__cell__.lastCell=a,this};r.table=function(a,u,l,c,h){if(n.call(this),!l)throw new Error("No data for PDF table.");var d,m,g,y,v=[],w=[],b=[],B={},F={},N=[],T=[],U=(h=h||{}).autoSize||!1,k=h.printHeaders!==!1,D=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,_=h.margins||Object.assign({width:this.getPageWidth()},e),L=typeof h.padding=="number"?h.padding:3,O=h.headerBackgroundColor||"#c8c8c8",V=h.headerTextColor||"#000";if(A.call(this),this.internal.__cell__.printHeaders=k,this.internal.__cell__.margins=_,this.internal.__cell__.table_font_size=D,this.internal.__cell__.padding=L,this.internal.__cell__.headerBackgroundColor=O,this.internal.__cell__.headerTextColor=V,this.setFontSize(D),c==null)w=v=Object.keys(l[0]),b=v.map(function(){return"left"});else if(Array.isArray(c)&&wA(c[0])==="object")for(v=c.map(function(te){return te.name}),w=c.map(function(te){return te.prompt||te.name||""}),b=c.map(function(te){return te.align||"left"}),d=0;d<c.length;d+=1)F[c[d].name]=c[d].width*(19.049976/25.4);else Array.isArray(c)&&typeof c[0]=="string"&&(w=v=c,b=v.map(function(){return"left"}));if(U||Array.isArray(c)&&typeof c[0]=="string")for(d=0;d<v.length;d+=1){for(B[y=v[d]]=l.map(function(te){return te[y]}),this.setFont(void 0,"bold"),N.push(this.getTextDimensions(w[d],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),m=B[y],this.setFont(void 0,"normal"),g=0;g<m.length;g+=1)N.push(this.getTextDimensions(m[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);F[y]=Math.max.apply(null,N)+L+L,N=[]}if(k){var $={};for(d=0;d<v.length;d+=1)$[v[d]]={},$[v[d]].text=w[d],$[v[d]].align=b[d];var Y=o.call(this,$,F);T=v.map(function(te){return new i(a,u,F[te],Y,$[te].text,void 0,$[te].align)}),this.setTableHeaderRow(T),this.printHeaderRow(1,!1)}var re=c.reduce(function(te,G){return te[G.name]=G.align,te},{});for(d=0;d<l.length;d+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:d,data:l[d]},this);var le=o.call(this,l[d],F);for(g=0;g<v.length;g+=1){var ne=l[d][v[g]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:d,col:g,data:ne},this),s.call(this,new i(a,u,F[v[g]],le,ne,d+2,re[v[g]]))}}return this.internal.__cell__.table_x=a,this.internal.__cell__.table_y=u,this};var o=function(a,u){var l=this.internal.__cell__.padding,c=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(a).map(function(d){var m=a[d];return this.splitTextToSize(m.hasOwnProperty("text")?m.text:m,u[d]-l-l)},this).map(function(d){return this.getLineHeightFactor()*d.length*c/h+l+l},this).reduce(function(d,m){return Math.max(d,m)},0)};r.setTableHeaderRow=function(a){n.call(this),this.internal.__cell__.tableHeaderRow=a},r.printHeaderRow=function(a,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var l;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var c=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(c[0],c[1],c[2],c[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],d=0;d<this.internal.__cell__.tableHeaderRow.length;d+=1){l=this.internal.__cell__.tableHeaderRow[d].clone(),u&&(l.y=this.internal.__cell__.margins.top||0,h.push(l)),l.lineNumber=a;var m=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,l),this.setTextColor(m)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),t=!1}}(Or.API);var q9={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},W9=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],J5=z9(W9),$9=[100,200,300,400,500,600,700,800,900],$ue=z9($9);function Z5(r){var e=r.family.replace(/"|'/g,"").toLowerCase(),t=function(i){return q9[i=i||"normal"]?i:"normal"}(r.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(r.weight),A=function(i){return typeof J5[i=i||"normal"]=="number"?i:"normal"}(r.stretch);return{family:e,style:t,weight:n,stretch:A,src:r.src||[],ref:r.ref||{name:e,style:[A,t,n].join(" ")}}}function BM(r,e,t,n){var A;for(A=t;A>=0&&A<e.length;A+=n)if(r[e[A]])return r[e[A]];for(A=t;A>=0&&A<e.length;A-=n)if(r[e[A]])return r[e[A]]}var Xue={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},CM={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function bM(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function Yue(r,e,t){for(var n=(t=t||{}).defaultFontFamily||"times",A=Object.assign({},Xue,t.genericFontFamilies||{}),i=null,s=null,o=0;o<e.length;++o)if(A[(i=Z5(e[o])).family]&&(i.family=A[i.family]),r.hasOwnProperty(i.family)){s=r[i.family];break}if(!(s=s||r[n]))throw new Error("Could not find a font-family for the rule '"+bM(i)+"' and default family '"+n+"'.");if(s=function(a,u){if(u[a])return u[a];var l=J5[a],c=l<=J5.normal?-1:1,h=BM(u,W9,l,c);if(!h)throw new Error("Could not find a matching font-stretch value for "+a);return h}(i.stretch,s),s=function(a,u){if(u[a])return u[a];for(var l=q9[a],c=0;c<l.length;++c)if(u[l[c]])return u[l[c]];throw new Error("Could not find a matching font-style for "+a)}(i.style,s),!(s=function(a,u){if(u[a])return u[a];if(a===400&&u[500])return u[500];if(a===500&&u[400])return u[400];var l=$ue[a],c=BM(u,$9,l,a<400?-1:1);if(!c)throw new Error("Could not find a matching font-weight for value "+a);return c}(i.weight,s)))throw new Error("Failed to resolve a font for the rule '"+bM(i)+"'.");return s}function EM(r){return r.trimLeft()}function Jue(r,e){for(var t=0;t<r.length;){if(r.charAt(t)===e)return[r.substring(0,t),r.substring(t+1)];t+=1}return null}function Zue(r){var e=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],r.substring(e[0].length)]}var lS,_M,SM,UT=["times"];(function(r){var e,t,n,A,i,s,o,a,u,l=function(H){return H=H||{},this.isStrokeTransparent=H.isStrokeTransparent||!1,this.strokeOpacity=H.strokeOpacity||1,this.strokeStyle=H.strokeStyle||"#000000",this.fillStyle=H.fillStyle||"#000000",this.isFillTransparent=H.isFillTransparent||!1,this.fillOpacity=H.fillOpacity||1,this.font=H.font||"10px sans-serif",this.textBaseline=H.textBaseline||"alphabetic",this.textAlign=H.textAlign||"left",this.lineWidth=H.lineWidth||1,this.lineJoin=H.lineJoin||"miter",this.lineCap=H.lineCap||"butt",this.path=H.path||[],this.transform=H.transform!==void 0?H.transform.clone():new a,this.globalCompositeOperation=H.globalCompositeOperation||"normal",this.globalAlpha=H.globalAlpha||1,this.clip_path=H.clip_path||[],this.currentPoint=H.currentPoint||new s,this.miterLimit=H.miterLimit||10,this.lastPoint=H.lastPoint||new s,this.lineDashOffset=H.lineDashOffset||0,this.lineDash=H.lineDash||[],this.margin=H.margin||[0,0,0,0],this.prevPageLastElemOffset=H.prevPageLastElemOffset||0,this.ignoreClearRect=typeof H.ignoreClearRect!="boolean"||H.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new c(this),e=this.internal.f2,t=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,A=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,a=this.internal.Matrix,u=new l}]);var c=function(H){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var z=H;Object.defineProperty(this,"pdf",{get:function(){return z}});var oe=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return oe},set:function(Ke){oe=!!Ke}});var ae=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ae},set:function(Ke){ae=!!Ke}});var ie=0;Object.defineProperty(this,"posX",{get:function(){return ie},set:function(Ke){isNaN(Ke)||(ie=Ke)}});var pe=0;Object.defineProperty(this,"posY",{get:function(){return pe},set:function(Ke){isNaN(Ke)||(pe=Ke)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(Ke){var Le;typeof Ke=="number"?Le=[Ke,Ke,Ke,Ke]:((Le=new Array(4))[0]=Ke[0],Le[1]=Ke.length>=2?Ke[1]:Le[0],Le[2]=Ke.length>=3?Ke[2]:Le[0],Le[3]=Ke.length>=4?Ke[3]:Le[1]),u.margin=Le}});var Ce=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ce},set:function(Ke){Ce=Ke}});var Ie=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ie},set:function(Ke){Ie=Ke}});var Qe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Qe},set:function(Ke){Qe=Ke}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(Ke){Ke instanceof l&&(u=Ke)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(Ke){u.path=Ke}});var qe=[];Object.defineProperty(this,"ctxStack",{get:function(){return qe},set:function(Ke){qe=Ke}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ke){var Le;Le=h(Ke),this.ctx.fillStyle=Le.style,this.ctx.isFillTransparent=Le.a===0,this.ctx.fillOpacity=Le.a,this.pdf.setFillColor(Le.r,Le.g,Le.b,{a:Le.a}),this.pdf.setTextColor(Le.r,Le.g,Le.b,{a:Le.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ke){var Le=h(Ke);this.ctx.strokeStyle=Le.style,this.ctx.isStrokeTransparent=Le.a===0,this.ctx.strokeOpacity=Le.a,Le.a===0?this.pdf.setDrawColor(255,255,255):(Le.a,this.pdf.setDrawColor(Le.r,Le.g,Le.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ke){["butt","round","square"].indexOf(Ke)!==-1&&(this.ctx.lineCap=Ke,this.pdf.setLineCap(Ke))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ke){isNaN(Ke)||(this.ctx.lineWidth=Ke,this.pdf.setLineWidth(Ke))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ke){["bevel","round","miter"].indexOf(Ke)!==-1&&(this.ctx.lineJoin=Ke,this.pdf.setLineJoin(Ke))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ke){isNaN(Ke)||(this.ctx.miterLimit=Ke,this.pdf.setMiterLimit(Ke))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ke){this.ctx.textBaseline=Ke}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ke){["right","end","center","left","start"].indexOf(Ke)!==-1&&(this.ctx.textAlign=Ke)}});var et=null;function nt(Ke,Le){if(et===null){var Ut=function(ke){var Me=[];return Object.keys(ke).forEach(function(it){ke[it].forEach(function(ut){var ze=null;switch(ut){case"bold":ze={family:it,weight:"bold"};break;case"italic":ze={family:it,style:"italic"};break;case"bolditalic":ze={family:it,weight:"bold",style:"italic"};break;case"":case"normal":ze={family:it}}ze!==null&&(ze.ref={name:it,style:ut},Me.push(ze))})}),Me}(Ke.getFontList());et=function(ke){for(var Me={},it=0;it<ke.length;++it){var ut=Z5(ke[it]),ze=ut.family,Ve=ut.stretch,At=ut.style,lt=ut.weight;Me[ze]=Me[ze]||{},Me[ze][Ve]=Me[ze][Ve]||{},Me[ze][Ve][At]=Me[ze][Ve][At]||{},Me[ze][Ve][At][lt]=ut}return Me}(Ut.concat(Le))}return et}var pt=null;Object.defineProperty(this,"fontFaces",{get:function(){return pt},set:function(Ke){et=null,pt=Ke}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ke){var Le;if(this.ctx.font=Ke,(Le=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ke))!==null){var Ut=Le[1];Le[2];var ke=Le[3],Me=Le[4];Le[5];var it=Le[6],ut=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Me)[2];Me=Math.floor(ut==="px"?parseFloat(Me)*this.pdf.internal.scaleFactor:ut==="em"?parseFloat(Me)*this.pdf.getFontSize():parseFloat(Me)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Me);var ze=function(Ae){var de,we,Oe=[],He=Ae.trim();if(He==="")return UT;if(He in CM)return[CM[He]];for(;He!=="";){switch(we=null,de=(He=EM(He)).charAt(0)){case'"':case"'":we=Jue(He.substring(1),de);break;default:we=Zue(He)}if(we===null||(Oe.push(we[0]),(He=EM(we[1]))!==""&&He.charAt(0)!==","))return UT;He=He.replace(/^,/,"")}return Oe}(it);if(this.fontFaces){var Ve=Yue(nt(this.pdf,this.fontFaces),ze.map(function(Ae){return{family:Ae,stretch:"normal",weight:ke,style:Ut}}));this.pdf.setFont(Ve.ref.name,Ve.ref.style)}else{var At="";(ke==="bold"||parseInt(ke,10)>=700||Ut==="bold")&&(At="bold"),Ut==="italic"&&(At+="italic"),At.length===0&&(At="normal");for(var lt="",yt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ge=0;ge<ze.length;ge++){if(this.pdf.internal.getFont(ze[ge],At,{noFallback:!0,disableWarning:!0})!==void 0){lt=ze[ge];break}if(At==="bolditalic"&&this.pdf.internal.getFont(ze[ge],"bold",{noFallback:!0,disableWarning:!0})!==void 0)lt=ze[ge],At="bold";else if(this.pdf.internal.getFont(ze[ge],"normal",{noFallback:!0,disableWarning:!0})!==void 0){lt=ze[ge],At="normal";break}}if(lt===""){for(var X=0;X<ze.length;X++)if(yt[ze[X]]){lt=yt[ze[X]];break}}lt=lt===""?"Times":lt,this.pdf.setFont(lt,At)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ke){this.ctx.globalCompositeOperation=Ke}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ke){this.ctx.globalAlpha=Ke}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ke){this.ctx.lineDashOffset=Ke,G.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ke){this.ctx.lineDash=Ke,G.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ke){this.ctx.ignoreClearRect=!!Ke}})};c.prototype.setLineDash=function(H){this.lineDash=H},c.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},c.prototype.fill=function(){B.call(this,"fill",!1)},c.prototype.stroke=function(){B.call(this,"stroke",!1)},c.prototype.beginPath=function(){this.path=[{type:"begin"}]},c.prototype.moveTo=function(H,z){if(isNaN(H)||isNaN(z))throw MA.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var oe=this.ctx.transform.applyToPoint(new s(H,z));this.path.push({type:"mt",x:oe.x,y:oe.y}),this.ctx.lastPoint=new s(H,z)},c.prototype.closePath=function(){var H=new s(0,0),z=0;for(z=this.path.length-1;z!==-1;z--)if(this.path[z].type==="begin"&&wA(this.path[z+1])==="object"&&typeof this.path[z+1].x=="number"){H=new s(this.path[z+1].x,this.path[z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(H.x,H.y)},c.prototype.lineTo=function(H,z){if(isNaN(H)||isNaN(z))throw MA.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var oe=this.ctx.transform.applyToPoint(new s(H,z));this.path.push({type:"lt",x:oe.x,y:oe.y}),this.ctx.lastPoint=new s(oe.x,oe.y)},c.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),B.call(this,null,!0)},c.prototype.quadraticCurveTo=function(H,z,oe,ae){if(isNaN(oe)||isNaN(ae)||isNaN(H)||isNaN(z))throw MA.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ie=this.ctx.transform.applyToPoint(new s(oe,ae)),pe=this.ctx.transform.applyToPoint(new s(H,z));this.path.push({type:"qct",x1:pe.x,y1:pe.y,x:ie.x,y:ie.y}),this.ctx.lastPoint=new s(ie.x,ie.y)},c.prototype.bezierCurveTo=function(H,z,oe,ae,ie,pe){if(isNaN(ie)||isNaN(pe)||isNaN(H)||isNaN(z)||isNaN(oe)||isNaN(ae))throw MA.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ce=this.ctx.transform.applyToPoint(new s(ie,pe)),Ie=this.ctx.transform.applyToPoint(new s(H,z)),Qe=this.ctx.transform.applyToPoint(new s(oe,ae));this.path.push({type:"bct",x1:Ie.x,y1:Ie.y,x2:Qe.x,y2:Qe.y,x:Ce.x,y:Ce.y}),this.ctx.lastPoint=new s(Ce.x,Ce.y)},c.prototype.arc=function(H,z,oe,ae,ie,pe){if(isNaN(H)||isNaN(z)||isNaN(oe)||isNaN(ae)||isNaN(ie))throw MA.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(pe=!!pe,!this.ctx.transform.isIdentity){var Ce=this.ctx.transform.applyToPoint(new s(H,z));H=Ce.x,z=Ce.y;var Ie=this.ctx.transform.applyToPoint(new s(0,oe)),Qe=this.ctx.transform.applyToPoint(new s(0,0));oe=Math.sqrt(Math.pow(Ie.x-Qe.x,2)+Math.pow(Ie.y-Qe.y,2))}Math.abs(ie-ae)>=2*Math.PI&&(ae=0,ie=2*Math.PI),this.path.push({type:"arc",x:H,y:z,radius:oe,startAngle:ae,endAngle:ie,counterclockwise:pe})},c.prototype.arcTo=function(H,z,oe,ae,ie){throw new Error("arcTo not implemented.")},c.prototype.rect=function(H,z,oe,ae){if(isNaN(H)||isNaN(z)||isNaN(oe)||isNaN(ae))throw MA.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(H,z),this.lineTo(H+oe,z),this.lineTo(H+oe,z+ae),this.lineTo(H,z+ae),this.lineTo(H,z),this.lineTo(H+oe,z),this.lineTo(H,z)},c.prototype.fillRect=function(H,z,oe,ae){if(isNaN(H)||isNaN(z)||isNaN(oe)||isNaN(ae))throw MA.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!d.call(this)){var ie={};this.lineCap!=="butt"&&(ie.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ie.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(H,z,oe,ae),this.fill(),ie.hasOwnProperty("lineCap")&&(this.lineCap=ie.lineCap),ie.hasOwnProperty("lineJoin")&&(this.lineJoin=ie.lineJoin)}},c.prototype.strokeRect=function(H,z,oe,ae){if(isNaN(H)||isNaN(z)||isNaN(oe)||isNaN(ae))throw MA.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");m.call(this)||(this.beginPath(),this.rect(H,z,oe,ae),this.stroke())},c.prototype.clearRect=function(H,z,oe,ae){if(isNaN(H)||isNaN(z)||isNaN(oe)||isNaN(ae))throw MA.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(H,z,oe,ae))},c.prototype.save=function(H){H=typeof H!="boolean"||H;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,oe=0;oe<this.pdf.internal.getNumberOfPages();oe++)this.pdf.setPage(oe+1),this.pdf.internal.out("q");if(this.pdf.setPage(z),H){this.ctx.fontSize=this.pdf.internal.getFontSize();var ae=new l(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ae}},c.prototype.restore=function(H){H=typeof H!="boolean"||H;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,oe=0;oe<this.pdf.internal.getNumberOfPages();oe++)this.pdf.setPage(oe+1),this.pdf.internal.out("Q");this.pdf.setPage(z),H&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},c.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(H){var z,oe,ae,ie;if(H.isCanvasGradient===!0&&(H=H.getColor()),!H)return{r:0,g:0,b:0,a:0,style:H};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(H))z=0,oe=0,ae=0,ie=0;else{var pe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(H);if(pe!==null)z=parseInt(pe[1]),oe=parseInt(pe[2]),ae=parseInt(pe[3]),ie=1;else if((pe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(H))!==null)z=parseInt(pe[1]),oe=parseInt(pe[2]),ae=parseInt(pe[3]),ie=parseFloat(pe[4]);else{if(ie=1,typeof H=="string"&&H.charAt(0)!=="#"){var Ce=new M9(H);H=Ce.ok?Ce.toHex():"#000000"}H.length===4?(z=H.substring(1,2),z+=z,oe=H.substring(2,3),oe+=oe,ae=H.substring(3,4),ae+=ae):(z=H.substring(1,3),oe=H.substring(3,5),ae=H.substring(5,7)),z=parseInt(z,16),oe=parseInt(oe,16),ae=parseInt(ae,16)}}return{r:z,g:oe,b:ae,a:ie,style:H}},d=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},m=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};c.prototype.fillText=function(H,z,oe,ae){if(isNaN(z)||isNaN(oe)||typeof H!="string")throw MA.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ae=isNaN(ae)?void 0:ae,!d.call(this)){var ie=le(this.ctx.transform.rotation),pe=this.ctx.transform.scaleX;L.call(this,{text:H,x:z,y:oe,scale:pe,angle:ie,align:this.textAlign,maxWidth:ae})}},c.prototype.strokeText=function(H,z,oe,ae){if(isNaN(z)||isNaN(oe)||typeof H!="string")throw MA.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!m.call(this)){ae=isNaN(ae)?void 0:ae;var ie=le(this.ctx.transform.rotation),pe=this.ctx.transform.scaleX;L.call(this,{text:H,x:z,y:oe,scale:pe,renderingMode:"stroke",angle:ie,align:this.textAlign,maxWidth:ae})}},c.prototype.measureText=function(H){if(typeof H!="string")throw MA.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var z=this.pdf,oe=this.pdf.internal.scaleFactor,ae=z.internal.getFontSize(),ie=z.getStringUnitWidth(H)*ae/z.internal.scaleFactor,pe=function(Ce){var Ie=(Ce=Ce||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ie}}),this};return new pe({width:ie*=Math.round(96*oe/72*1e4)/1e4})},c.prototype.scale=function(H,z){if(isNaN(H)||isNaN(z))throw MA.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var oe=new a(H,0,0,z,0,0);this.ctx.transform=this.ctx.transform.multiply(oe)},c.prototype.rotate=function(H){if(isNaN(H))throw MA.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var z=new a(Math.cos(H),Math.sin(H),-Math.sin(H),Math.cos(H),0,0);this.ctx.transform=this.ctx.transform.multiply(z)},c.prototype.translate=function(H,z){if(isNaN(H)||isNaN(z))throw MA.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var oe=new a(1,0,0,1,H,z);this.ctx.transform=this.ctx.transform.multiply(oe)},c.prototype.transform=function(H,z,oe,ae,ie,pe){if(isNaN(H)||isNaN(z)||isNaN(oe)||isNaN(ae)||isNaN(ie)||isNaN(pe))throw MA.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ce=new a(H,z,oe,ae,ie,pe);this.ctx.transform=this.ctx.transform.multiply(Ce)},c.prototype.setTransform=function(H,z,oe,ae,ie,pe){H=isNaN(H)?1:H,z=isNaN(z)?0:z,oe=isNaN(oe)?0:oe,ae=isNaN(ae)?1:ae,ie=isNaN(ie)?0:ie,pe=isNaN(pe)?0:pe,this.ctx.transform=new a(H,z,oe,ae,ie,pe)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};c.prototype.drawImage=function(H,z,oe,ae,ie,pe,Ce,Ie,Qe){var qe=this.pdf.getImageProperties(H),et=1,nt=1,pt=1,Ke=1;ae!==void 0&&Ie!==void 0&&(pt=Ie/ae,Ke=Qe/ie,et=qe.width/ae*Ie/ae,nt=qe.height/ie*Qe/ie),pe===void 0&&(pe=z,Ce=oe,z=0,oe=0),ae!==void 0&&Ie===void 0&&(Ie=ae,Qe=ie),ae===void 0&&Ie===void 0&&(Ie=qe.width,Qe=qe.height);for(var Le,Ut=this.ctx.transform.decompose(),ke=le(Ut.rotate.shx),Me=new a,it=(Me=(Me=(Me=Me.multiply(Ut.translate)).multiply(Ut.skew)).multiply(Ut.scale)).applyToRectangle(new o(pe-z*pt,Ce-oe*Ke,ae*et,ie*nt)),ut=y.call(this,it),ze=[],Ve=0;Ve<ut.length;Ve+=1)ze.indexOf(ut[Ve])===-1&&ze.push(ut[Ve]);if(b(ze),this.autoPaging)for(var At=ze[0],lt=ze[ze.length-1],yt=At;yt<lt+1;yt++){this.pdf.setPage(yt);var ge=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],X=yt===1?this.posY+this.margin[0]:this.margin[0],Ae=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],de=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],we=yt===1?0:Ae+(yt-2)*de;if(this.ctx.clip_path.length!==0){var Oe=this.path;Le=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(Le,this.posX+this.margin[3],-we+X+this.ctx.prevPageLastElemOffset),F.call(this,"fill",!0),this.path=Oe}var He=JSON.parse(JSON.stringify(it));He=w([He],this.posX+this.margin[3],-we+X+this.ctx.prevPageLastElemOffset)[0];var Et=(yt>At||yt<lt)&&g.call(this);Et&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ge,de,null).clip().discardPath()),this.pdf.addImage(H,"JPEG",He.x,He.y,He.w,He.h,null,null,ke),Et&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(H,"JPEG",it.x,it.y,it.w,it.h,null,null,ke)};var y=function(H,z,oe){var ae=[];z=z||this.pdf.internal.pageSize.width,oe=oe||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ie=this.posY+this.ctx.prevPageLastElemOffset;switch(H.type){default:case"mt":case"lt":ae.push(Math.floor((H.y+ie)/oe)+1);break;case"arc":ae.push(Math.floor((H.y+ie-H.radius)/oe)+1),ae.push(Math.floor((H.y+ie+H.radius)/oe)+1);break;case"qct":var pe=ne(this.ctx.lastPoint.x,this.ctx.lastPoint.y,H.x1,H.y1,H.x,H.y);ae.push(Math.floor((pe.y+ie)/oe)+1),ae.push(Math.floor((pe.y+pe.h+ie)/oe)+1);break;case"bct":var Ce=te(this.ctx.lastPoint.x,this.ctx.lastPoint.y,H.x1,H.y1,H.x2,H.y2,H.x,H.y);ae.push(Math.floor((Ce.y+ie)/oe)+1),ae.push(Math.floor((Ce.y+Ce.h+ie)/oe)+1);break;case"rect":ae.push(Math.floor((H.y+ie)/oe)+1),ae.push(Math.floor((H.y+H.h+ie)/oe)+1)}for(var Ie=0;Ie<ae.length;Ie+=1)for(;this.pdf.internal.getNumberOfPages()<ae[Ie];)v.call(this);return ae},v=function(){var H=this.fillStyle,z=this.strokeStyle,oe=this.font,ae=this.lineCap,ie=this.lineWidth,pe=this.lineJoin;this.pdf.addPage(),this.fillStyle=H,this.strokeStyle=z,this.font=oe,this.lineCap=ae,this.lineWidth=ie,this.lineJoin=pe},w=function(H,z,oe){for(var ae=0;ae<H.length;ae++)switch(H[ae].type){case"bct":H[ae].x2+=z,H[ae].y2+=oe;case"qct":H[ae].x1+=z,H[ae].y1+=oe;case"mt":case"lt":case"arc":default:H[ae].x+=z,H[ae].y+=oe}return H},b=function(H){return H.sort(function(z,oe){return z-oe})},B=function(H,z){for(var oe,ae,ie=this.fillStyle,pe=this.strokeStyle,Ce=this.lineCap,Ie=this.lineWidth,Qe=Math.abs(Ie*this.ctx.transform.scaleX),qe=this.lineJoin,et=JSON.parse(JSON.stringify(this.path)),nt=JSON.parse(JSON.stringify(this.path)),pt=[],Ke=0;Ke<nt.length;Ke++)if(nt[Ke].x!==void 0)for(var Le=y.call(this,nt[Ke]),Ut=0;Ut<Le.length;Ut+=1)pt.indexOf(Le[Ut])===-1&&pt.push(Le[Ut]);for(var ke=0;ke<pt.length;ke++)for(;this.pdf.internal.getNumberOfPages()<pt[ke];)v.call(this);if(b(pt),this.autoPaging)for(var Me=pt[0],it=pt[pt.length-1],ut=Me;ut<it+1;ut++){this.pdf.setPage(ut),this.fillStyle=ie,this.strokeStyle=pe,this.lineCap=Ce,this.lineWidth=Qe,this.lineJoin=qe;var ze=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ve=ut===1?this.posY+this.margin[0]:this.margin[0],At=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],lt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],yt=ut===1?0:At+(ut-2)*lt;if(this.ctx.clip_path.length!==0){var ge=this.path;oe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(oe,this.posX+this.margin[3],-yt+Ve+this.ctx.prevPageLastElemOffset),F.call(this,H,!0),this.path=ge}if(ae=JSON.parse(JSON.stringify(et)),this.path=w(ae,this.posX+this.margin[3],-yt+Ve+this.ctx.prevPageLastElemOffset),z===!1||ut===0){var X=(ut>Me||ut<it)&&g.call(this);X&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ze,lt,null).clip().discardPath()),F.call(this,H,z),X&&this.pdf.restoreGraphicsState()}this.lineWidth=Ie}else this.lineWidth=Qe,F.call(this,H,z),this.lineWidth=Ie;this.path=et},F=function(H,z){if((H!=="stroke"||z||!m.call(this))&&(H==="stroke"||z||!d.call(this))){for(var oe,ae,ie=[],pe=this.path,Ce=0;Ce<pe.length;Ce++){var Ie=pe[Ce];switch(Ie.type){case"begin":ie.push({begin:!0});break;case"close":ie.push({close:!0});break;case"mt":ie.push({start:Ie,deltas:[],abs:[]});break;case"lt":var Qe=ie.length;if(pe[Ce-1]&&!isNaN(pe[Ce-1].x)&&(oe=[Ie.x-pe[Ce-1].x,Ie.y-pe[Ce-1].y],Qe>0)){for(;Qe>=0;Qe--)if(ie[Qe-1].close!==!0&&ie[Qe-1].begin!==!0){ie[Qe-1].deltas.push(oe),ie[Qe-1].abs.push(Ie);break}}break;case"bct":oe=[Ie.x1-pe[Ce-1].x,Ie.y1-pe[Ce-1].y,Ie.x2-pe[Ce-1].x,Ie.y2-pe[Ce-1].y,Ie.x-pe[Ce-1].x,Ie.y-pe[Ce-1].y],ie[ie.length-1].deltas.push(oe);break;case"qct":var qe=pe[Ce-1].x+2/3*(Ie.x1-pe[Ce-1].x),et=pe[Ce-1].y+2/3*(Ie.y1-pe[Ce-1].y),nt=Ie.x+2/3*(Ie.x1-Ie.x),pt=Ie.y+2/3*(Ie.y1-Ie.y),Ke=Ie.x,Le=Ie.y;oe=[qe-pe[Ce-1].x,et-pe[Ce-1].y,nt-pe[Ce-1].x,pt-pe[Ce-1].y,Ke-pe[Ce-1].x,Le-pe[Ce-1].y],ie[ie.length-1].deltas.push(oe);break;case"arc":ie.push({deltas:[],abs:[],arc:!0}),Array.isArray(ie[ie.length-1].abs)&&ie[ie.length-1].abs.push(Ie)}}ae=z?null:H==="stroke"?"stroke":"fill";for(var Ut=!1,ke=0;ke<ie.length;ke++)if(ie[ke].arc)for(var Me=ie[ke].abs,it=0;it<Me.length;it++){var ut=Me[it];ut.type==="arc"?U.call(this,ut.x,ut.y,ut.radius,ut.startAngle,ut.endAngle,ut.counterclockwise,void 0,z,!Ut):O.call(this,ut.x,ut.y),Ut=!0}else if(ie[ke].close===!0)this.pdf.internal.out("h"),Ut=!1;else if(ie[ke].begin!==!0){var ze=ie[ke].start.x,Ve=ie[ke].start.y;V.call(this,ie[ke].deltas,ze,Ve),Ut=!0}ae&&k.call(this,ae),z&&D.call(this)}},N=function(H){var z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,oe=z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return H-oe;case"top":return H+z-oe;case"hanging":return H+z-2*oe;case"middle":return H+z/2-oe;case"ideographic":return H;case"alphabetic":default:return H}},T=function(H){return H+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};c.prototype.createLinearGradient=function(){var H=function(){};return H.colorStops=[],H.addColorStop=function(z,oe){this.colorStops.push([z,oe])},H.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},H.isCanvasGradient=!0,H},c.prototype.createPattern=function(){return this.createLinearGradient()},c.prototype.createRadialGradient=function(){return this.createLinearGradient()};var U=function(H,z,oe,ae,ie,pe,Ce,Ie,Qe){for(var qe=Y.call(this,oe,ae,ie,pe),et=0;et<qe.length;et++){var nt=qe[et];et===0&&(Qe?_.call(this,nt.x1+H,nt.y1+z):O.call(this,nt.x1+H,nt.y1+z)),$.call(this,H,z,nt.x2,nt.y2,nt.x3,nt.y3,nt.x4,nt.y4)}Ie?D.call(this):k.call(this,Ce)},k=function(H){switch(H){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},D=function(){this.pdf.clip(),this.pdf.discardPath()},_=function(H,z){this.pdf.internal.out(t(H)+" "+n(z)+" m")},L=function(H){var z;switch(H.align){case"right":case"end":z="right";break;case"center":z="center";break;case"left":case"start":default:z="left"}var oe=this.pdf.getTextDimensions(H.text),ae=N.call(this,H.y),ie=T.call(this,ae)-oe.h,pe=this.ctx.transform.applyToPoint(new s(H.x,ae)),Ce=this.ctx.transform.decompose(),Ie=new a;Ie=(Ie=(Ie=Ie.multiply(Ce.translate)).multiply(Ce.skew)).multiply(Ce.scale);for(var Qe,qe,et,nt=this.ctx.transform.applyToRectangle(new o(H.x,ae,oe.w,oe.h)),pt=Ie.applyToRectangle(new o(H.x,ie,oe.w,oe.h)),Ke=y.call(this,pt),Le=[],Ut=0;Ut<Ke.length;Ut+=1)Le.indexOf(Ke[Ut])===-1&&Le.push(Ke[Ut]);if(b(Le),this.autoPaging)for(var ke=Le[0],Me=Le[Le.length-1],it=ke;it<Me+1;it++){this.pdf.setPage(it);var ut=it===1?this.posY+this.margin[0]:this.margin[0],ze=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ve=this.pdf.internal.pageSize.height-this.margin[2],At=Ve-this.margin[0],lt=this.pdf.internal.pageSize.width-this.margin[1],yt=lt-this.margin[3],ge=it===1?0:ze+(it-2)*At;if(this.ctx.clip_path.length!==0){var X=this.path;Qe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(Qe,this.posX+this.margin[3],-1*ge+ut),F.call(this,"fill",!0),this.path=X}var Ae=w([JSON.parse(JSON.stringify(pt))],this.posX+this.margin[3],-ge+ut+this.ctx.prevPageLastElemOffset)[0];H.scale>=.01&&(qe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(qe*H.scale),et=this.lineWidth,this.lineWidth=et*H.scale);var de=this.autoPaging!=="text";if(de||Ae.y+Ae.h<=Ve){if(de||Ae.y>=ut&&Ae.x<=lt){var we=de?H.text:this.pdf.splitTextToSize(H.text,H.maxWidth||lt-Ae.x)[0],Oe=w([JSON.parse(JSON.stringify(nt))],this.posX+this.margin[3],-ge+ut+this.ctx.prevPageLastElemOffset)[0],He=de&&(it>ke||it<Me)&&g.call(this);He&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],yt,At,null).clip().discardPath()),this.pdf.text(we,Oe.x,Oe.y,{angle:H.angle,align:z,renderingMode:H.renderingMode}),He&&this.pdf.restoreGraphicsState()}}else Ae.y<Ve&&(this.ctx.prevPageLastElemOffset+=Ve-Ae.y);H.scale>=.01&&(this.pdf.setFontSize(qe),this.lineWidth=et)}else H.scale>=.01&&(qe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(qe*H.scale),et=this.lineWidth,this.lineWidth=et*H.scale),this.pdf.text(H.text,pe.x+this.posX,pe.y+this.posY,{angle:H.angle,align:z,renderingMode:H.renderingMode,maxWidth:H.maxWidth}),H.scale>=.01&&(this.pdf.setFontSize(qe),this.lineWidth=et)},O=function(H,z,oe,ae){oe=oe||0,ae=ae||0,this.pdf.internal.out(t(H+oe)+" "+n(z+ae)+" l")},V=function(H,z,oe){return this.pdf.lines(H,z,oe,null,null)},$=function(H,z,oe,ae,ie,pe,Ce,Ie){this.pdf.internal.out([e(A(oe+H)),e(i(ae+z)),e(A(ie+H)),e(i(pe+z)),e(A(Ce+H)),e(i(Ie+z)),"c"].join(" "))},Y=function(H,z,oe,ae){for(var ie=2*Math.PI,pe=Math.PI/2;z>oe;)z-=ie;var Ce=Math.abs(oe-z);Ce<ie&&ae&&(Ce=ie-Ce);for(var Ie=[],Qe=ae?-1:1,qe=z;Ce>1e-5;){var et=qe+Qe*Math.min(Ce,pe);Ie.push(re.call(this,H,qe,et)),Ce-=Math.abs(et-qe),qe=et}return Ie},re=function(H,z,oe){var ae=(oe-z)/2,ie=H*Math.cos(ae),pe=H*Math.sin(ae),Ce=ie,Ie=-pe,Qe=Ce*Ce+Ie*Ie,qe=Qe+Ce*ie+Ie*pe,et=4/3*(Math.sqrt(2*Qe*qe)-qe)/(Ce*pe-Ie*ie),nt=Ce-et*Ie,pt=Ie+et*Ce,Ke=nt,Le=-pt,Ut=ae+z,ke=Math.cos(Ut),Me=Math.sin(Ut);return{x1:H*Math.cos(z),y1:H*Math.sin(z),x2:nt*ke-pt*Me,y2:nt*Me+pt*ke,x3:Ke*ke-Le*Me,y3:Ke*Me+Le*ke,x4:H*Math.cos(oe),y4:H*Math.sin(oe)}},le=function(H){return 180*H/Math.PI},ne=function(H,z,oe,ae,ie,pe){var Ce=H+.5*(oe-H),Ie=z+.5*(ae-z),Qe=ie+.5*(oe-ie),qe=pe+.5*(ae-pe),et=Math.min(H,ie,Ce,Qe),nt=Math.max(H,ie,Ce,Qe),pt=Math.min(z,pe,Ie,qe),Ke=Math.max(z,pe,Ie,qe);return new o(et,pt,nt-et,Ke-pt)},te=function(H,z,oe,ae,ie,pe,Ce,Ie){var Qe,qe,et,nt,pt,Ke,Le,Ut,ke,Me,it,ut,ze,Ve,At=oe-H,lt=ae-z,yt=ie-oe,ge=pe-ae,X=Ce-ie,Ae=Ie-pe;for(qe=0;qe<41;qe++)ke=(Le=(et=H+(Qe=qe/40)*At)+Qe*((pt=oe+Qe*yt)-et))+Qe*(pt+Qe*(ie+Qe*X-pt)-Le),Me=(Ut=(nt=z+Qe*lt)+Qe*((Ke=ae+Qe*ge)-nt))+Qe*(Ke+Qe*(pe+Qe*Ae-Ke)-Ut),qe==0?(it=ke,ut=Me,ze=ke,Ve=Me):(it=Math.min(it,ke),ut=Math.min(ut,Me),ze=Math.max(ze,ke),Ve=Math.max(Ve,Me));return new o(Math.round(it),Math.round(ut),Math.round(ze-it),Math.round(Ve-ut))},G=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var H,z,oe=(H=this.ctx.lineDash,z=this.ctx.lineDashOffset,JSON.stringify({lineDash:H,lineDashOffset:z}));this.prevLineDash!==oe&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=oe)}}})(Or.API),function(r){var e=function(i){var s,o,a,u,l,c,h,d,m,g;for(o=[],a=0,u=(i+=s="\0\0\0\0".slice(i.length%4||4)).length;u>a;a+=4)(l=(i.charCodeAt(a)<<24)+(i.charCodeAt(a+1)<<16)+(i.charCodeAt(a+2)<<8)+i.charCodeAt(a+3))!==0?(c=(l=((l=((l=((l=(l-(g=l%85))/85)-(m=l%85))/85)-(d=l%85))/85)-(h=l%85))/85)%85,o.push(c+33,h+33,d+33,m+33,g+33)):o.push(122);return function(y,v){for(var w=v;w>0;w--)y.pop()}(o,s.length),String.fromCharCode.apply(String,o)+"~>"},t=function(i){var s,o,a,u,l,c=String,h="length",d=255,m="charCodeAt",g="slice",y="replace";for(i[g](-2),i=i[g](0,-2)[y](/\s/g,"")[y]("z","!!!!!"),a=[],u=0,l=(i+=s="uuuuu"[g](i[h]%5||5))[h];l>u;u+=5)o=52200625*(i[m](u)-33)+614125*(i[m](u+1)-33)+7225*(i[m](u+2)-33)+85*(i[m](u+3)-33)+(i[m](u+4)-33),a.push(d&o>>24,d&o>>16,d&o>>8,d&o);return function(v,w){for(var b=w;b>0;b--)v.pop()}(a,s[h]),c.fromCharCode.apply(c,a)},n=function(i){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),s.test(i)===!1)return"";for(var o="",a=0;a<i.length;a+=2)o+=String.fromCharCode("0x"+(i[a]+i[a+1]));return o},A=function(i){for(var s=new Uint8Array(i.length),o=i.length;o--;)s[o]=i.charCodeAt(o);return i=(s=q5(s)).reduce(function(a,u){return a+String.fromCharCode(u)},"")};r.processDataByFilters=function(i,s){var o=0,a=i||"",u=[];for(typeof(s=s||[])=="string"&&(s=[s]),o=0;o<s.length;o+=1)switch(s[o]){case"ASCII85Decode":case"/ASCII85Decode":a=t(a),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":a=e(a),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":a=n(a),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":a=a.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":a=A(a),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[o]+'" is not implemented')}return{data:a,reverseChain:u.reverse().join(" ")}}}(Or.API),function(r){r.loadFile=function(e,t,n){return function(A,i,s){i=i!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=function(a,u,l){var c=new XMLHttpRequest,h=0,d=function(m){var g=m.length,y=[],v=String.fromCharCode;for(h=0;h<g;h+=1)y.push(v(255&m.charCodeAt(h)));return y.join("")};if(c.open("GET",a,!u),c.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(c.onload=function(){c.status===200?l(d(this.responseText)):l(void 0)}),c.send(null),u&&c.status===200)return d(c.responseText)}(A,i,s)}catch{}return o}(e,t,n)},r.loadImageFile=r.loadFile}(Or.API),function(r){function e(){return(jr.html2canvas?Promise.resolve(jr.html2canvas):j5(()=>Promise.resolve().then(()=>gue),[])).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function t(){return(jr.DOMPurify?Promise.resolve(jr.DOMPurify):j5(()=>Promise.resolve().then(()=>Gce),void 0)).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var n=function(s){var o=wA(s);return o==="undefined"?"undefined":o==="string"||s instanceof String?"string":o==="number"||s instanceof Number?"number":o==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":o==="object"?"object":"unknown"},A=function(s,o){var a=document.createElement(s);for(var u in o.className&&(a.className=o.className),o.innerHTML&&o.dompurify&&(a.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)a.style[u]=o.style[u];return a},i=function s(o){var a=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),u=s.convert(Promise.resolve(),a);return u=(u=u.setProgress(1,s,1,[s])).set(o)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(s,o){return s.__proto__=o||i.prototype,s},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(s,o){return this.then(function(){switch(o=o||function(a){switch(n(a)){case"string":return"string";case"element":return a.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s)){case"string":return this.then(t).then(function(a){return this.set({src:A("div",{innerHTML:s,dompurify:a})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},i.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function a(u,l){for(var c=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),h=u.firstChild;h;h=h.nextSibling)l!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||c.appendChild(a(h,l));return u.nodeType===1&&(u.nodeName==="CANVAS"?(c.width=u.width,c.height=u.height,c.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(c.value=u.value),c.addEventListener("load",function(){c.scrollTop=u.scrollTop,c.scrollLeft=u.scrollLeft},!0)),c}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=A("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=A("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(A("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then(function(o){var a=Object.assign({},this.opt.html2canvas);return delete a.onrendered,o(this.prop.container,a)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then(function(o){var a=this.opt.jsPDF,u=this.opt.fontFaces,l=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,c=Object.assign({async:!0,allowTaint:!0,scale:l,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete c.onrendered,a.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,a.context2d.posX=this.opt.x,a.context2d.posY=this.opt.y,a.context2d.margin=this.opt.margin,a.context2d.fontFaces=u,u)for(var h=0;h<u.length;++h){var d=u[h],m=d.src.find(function(g){return g.format==="truetype"});m&&a.addFont(m.url,d.ref.name,d.ref.style)}return c.windowHeight=c.windowHeight||0,c.windowHeight=c.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):c.windowHeight,a.context2d.save(!0),o(this.prop.container,c)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(s,o,a){return(a=a||"pdf").toLowerCase()==="img"||a.toLowerCase()==="image"?this.outputImg(s,o):this.outputPdf(s,o)},i.prototype.outputPdf=function(s,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,o)})},i.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},i.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(s){if(n(s)!=="object")return this;var o=Object.keys(s||{}).map(function(a){if(a in i.template.prop)return function(){this.prop[a]=s[a]};switch(a){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[a]=s[a]}}},this);return this.then(function(){return this.thenList(o)})},i.prototype.get=function(s,o){return this.then(function(){var a=s in i.template.prop?this.prop[s]:this.opt[s];return o?o(a):a})},i.prototype.setMargin=function(s){return this.then(function(){switch(n(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},i.prototype.setPageSize=function(s){function o(a,u){return Math.floor(a*u/72*96)}return this.then(function(){(s=s||Or.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:o(s.inner.width,s.k),height:o(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},i.prototype.setProgress=function(s,o,a,u){return s!=null&&(this.progress.val=s),o!=null&&(this.progress.state=o),a!=null&&(this.progress.n=a),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(s,o,a,u){return this.setProgress(s?this.progress.val+s:null,o||null,a?this.progress.n+a:null,u?this.progress.stack.concat(u):null)},i.prototype.then=function(s,o){var a=this;return this.thenCore(s,o,function(u,l){return a.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(c){return a.updateProgress(null,u),c}).then(u,l).then(function(c){return a.updateProgress(1),c})})},i.prototype.thenCore=function(s,o,a){a=a||Promise.prototype.then,s&&(s=s.bind(this)),o&&(o=o.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),l=a.call(u,s,o);return i.convert(l,this.__proto__)},i.prototype.thenExternal=function(s,o){return Promise.prototype.then.call(this,s,o)},i.prototype.thenList=function(s){var o=this;return s.forEach(function(a){o=o.thenCore(a)}),o},i.prototype.catch=function(s){s&&(s=s.bind(this));var o=Promise.prototype.catch.call(this,s);return i.convert(o,this)},i.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},i.prototype.error=function(s){return this.then(function(){throw new Error(s)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,Or.getPageSize=function(s,o,a){if(wA(s)==="object"){var u=s;s=u.orientation,o=u.unit||o,a=u.format||a}o=o||"mm",a=a||"a4",s=(""+(s||"P")).toLowerCase();var l,c=(""+a).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":l=1;break;case"mm":l=72/25.4;break;case"cm":l=72/2.54;break;case"in":l=72;break;case"px":l=.75;break;case"pc":case"em":l=12;break;case"ex":l=6;break;default:throw"Invalid unit: "+o}var d,m=0,g=0;if(h.hasOwnProperty(c))m=h[c][1]/l,g=h[c][0]/l;else try{m=a[1],g=a[0]}catch{throw new Error("Invalid format: "+a)}if(s==="p"||s==="portrait")s="p",g>m&&(d=g,g=m,m=d);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",m>g&&(d=g,g=m,m=d)}return{width:g,height:m,unit:o,k:l,orientation:s}},r.html=function(s,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(Z5):null;var a=new i(o);return o.worker?a:a.from(s).doCallback()}}(Or.API),Or.API.addJS=function(r){return SM=r,this.internal.events.subscribe("postPutResources",function(){lS=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(lS+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),_M=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+SM+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){lS!==void 0&&_M!==void 0&&this.internal.out("/Names <</JavaScript "+lS+" 0 R>>")}),this},function(r){var e;r.events.push(["postPutResources",function(){var t=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var A=t.outline.render().split(/\r\n/),i=0;i<A.length;i++){var s=A[i],o=n.exec(s);if(o!=null){var a=o[1];t.internal.newObjectDeferredBegin(a,!1)}t.internal.write(s)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,l=[];for(i=0;i<u;i++){var c=t.internal.newObject();l.push(c);var h=t.internal.getPageInfo(i+1);t.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var d=t.internal.newObject();for(t.internal.write("<< /Names [ "),i=0;i<l.length;i++)t.internal.write("(page_"+(i+1)+")"+l[i]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+d+" 0 R"),t.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),r.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(n,A,i){var s={title:A,options:i,children:[]};return n==null&&(n=this.root),n.children.push(s),s},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(n){n.id=t.internal.newObjectDeferred();for(var A=0;A<n.children.length;A++)this.genIds_r(n.children[A])},t.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},t.outline.renderItems=function(n){for(var A=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var s=n.children[i];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var a=t.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+a.objId+" 0 R /XYZ 0 "+A(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},t.outline.line=function(n){this.ctx.val+=n+`\r
`},t.outline.makeRef=function(n){return n.id+" 0 R"},t.outline.makeString=function(n){return"("+t.internal.pdfEscape(n)+")"},t.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(n,A){for(var i=0;i<A.children.length;i++)n.count++,this.count_r(n,A.children[i]);return n.count}}])}(Or.API),function(r){var e=[192,193,194,195,196,197,198,199];r.processJPEG=function(t,n,A,i,s,o){var a,u=this.decode.DCT_DECODE,l=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=s||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(a=function(c){for(var h,d=256*c.charCodeAt(4)+c.charCodeAt(5),m=c.length,g={width:0,height:0,numcomponents:1},y=4;y<m;y+=2){if(y+=d,e.indexOf(c.charCodeAt(y+1))!==-1){h=256*c.charCodeAt(y+5)+c.charCodeAt(y+6),g={width:256*c.charCodeAt(y+7)+c.charCodeAt(y+8),height:h,numcomponents:c.charCodeAt(y+9)};break}d=256*c.charCodeAt(y+2)+c.charCodeAt(y+3)}return g}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}l={data:t,width:a.width,height:a.height,colorSpace:o,bitsPerComponent:8,filter:u,index:n,alias:A}}return l}}(Or.API);var Yw,uS,FM,IM,xM,ece=function(){var r,e,t;function n(i){var s,o,a,u,l,c,h,d,m,g,y,v,w,b;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},c=null;;){switch(s=this.readUInt32(),m=(function(){var B,F;for(F=[],B=0;B<4;++B)F.push(String.fromCharCode(this.data[this.pos++]));return F}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":c&&this.animation.frames.push(c),this.pos+=4,c={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},l=this.readUInt16(),u=this.readUInt16()||100,c.delay=1e3*l/u,c.disposeOp=this.data[this.pos++],c.blendOp=this.data[this.pos++],c.data=[];break;case"IDAT":case"fdAT":for(m==="fdAT"&&(this.pos+=4,s-=4),i=(c!=null?c.data:void 0)||this.imgData,v=0;0<=s?v<s:v>s;0<=s?++v:--v)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(a=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>a)throw new Error("More transparent colors than palette size");if((g=a-this.transparency.indexed.length)>0)for(w=0;0<=g?w<g:w>g;0<=g?++w:--w)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":h=(y=this.read(s)).indexOf(0),d=String.fromCharCode.apply(String,y.slice(0,h)),this.text[d]=String.fromCharCode.apply(String,y.slice(h+1));break;case"IEND":return c&&this.animation.frames.push(c),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(b=this.colorType)===4||b===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var s,o;for(o=[],s=0;0<=i?s<i:s>i;0<=i?++s:--s)o.push(this.data[this.pos++]);return o},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var s=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*s),a=0,u=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function l(c,h,d,m){var g,y,v,w,b,B,F,N,T,U,k,D,_,L,O,V,$,Y,re,le,ne,te=Math.ceil((u.width-c)/d),G=Math.ceil((u.height-h)/m),H=u.width==te&&u.height==G;for(L=s*te,D=H?o:new Uint8Array(L*G),B=i.length,_=0,y=0;_<G&&a<B;){switch(i[a++]){case 0:for(w=$=0;$<L;w=$+=1)D[y++]=i[a++];break;case 1:for(w=Y=0;Y<L;w=Y+=1)g=i[a++],b=w<s?0:D[y-s],D[y++]=(g+b)%256;break;case 2:for(w=re=0;re<L;w=re+=1)g=i[a++],v=(w-w%s)/s,O=_&&D[(_-1)*L+v*s+w%s],D[y++]=(O+g)%256;break;case 3:for(w=le=0;le<L;w=le+=1)g=i[a++],v=(w-w%s)/s,b=w<s?0:D[y-s],O=_&&D[(_-1)*L+v*s+w%s],D[y++]=(g+Math.floor((b+O)/2))%256;break;case 4:for(w=ne=0;ne<L;w=ne+=1)g=i[a++],v=(w-w%s)/s,b=w<s?0:D[y-s],_===0?O=V=0:(O=D[(_-1)*L+v*s+w%s],V=v&&D[(_-1)*L+(v-1)*s+w%s]),F=b+O-V,N=Math.abs(F-b),U=Math.abs(F-O),k=Math.abs(F-V),T=N<=U&&N<=k?b:U<=k?O:V,D[y++]=(g+T)%256;break;default:throw new Error("Invalid filter algorithm: "+i[a-1])}if(!H){var z=((h+_*m)*u.width+c)*s,oe=_*L;for(w=0;w<te;w+=1){for(var ae=0;ae<s;ae+=1)o[z++]=D[oe++];z+=(d-1)*s}}_++}}return i=Tue(i),u.interlaceMethod==1?(l(0,0,8,8),l(4,0,8,8),l(0,4,4,8),l(2,0,4,4),l(0,2,2,4),l(1,0,2,2),l(0,1,1,2)):l(0,0,1,1),o},n.prototype.decodePalette=function(){var i,s,o,a,u,l,c,h,d;for(o=this.palette,l=this.transparency.indexed||[],u=new Uint8Array((l.length||0)+o.length),a=0,i=0,s=c=0,h=o.length;c<h;s=c+=3)u[a++]=o[s],u[a++]=o[s+1],u[a++]=o[s+2],u[a++]=(d=l[i++])!=null?d:255;return u},n.prototype.copyToImageData=function(i,s){var o,a,u,l,c,h,d,m,g,y,v;if(a=this.colors,g=null,o=this.hasAlphaChannel,this.palette.length&&(g=(v=this._decodedPalette)!=null?v:this._decodedPalette=this.decodePalette(),a=4,o=!0),m=(u=i.data||i).length,c=g||s,l=h=0,a===1)for(;l<m;)d=g?4*s[l/4]:h,y=c[d++],u[l++]=y,u[l++]=y,u[l++]=y,u[l++]=o?c[d++]:255,h=d;else for(;l<m;)d=g?4*s[l/4]:h,u[l++]=c[d++],u[l++]=c[d++],u[l++]=c[d++],u[l++]=o?c[d++]:255,h=d},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var A=function(){if(Object.prototype.toString.call(jr)==="[object Window]"){try{e=jr.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return A(),r=function(i){var s;if(A()===!0)return t.width=i.width,t.height=i.height,t.clearRect(0,0,i.width,i.height),t.putImageData(i,0,0),(s=new Image).src=e.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var s,o,a,u,l,c,h,d;if(this.animation){for(d=[],o=l=0,c=(h=this.animation.frames).length;l<c;o=++l)s=h[o],a=i.createImageData(s.width,s.height),u=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(a,u),s.imageData=a,d.push(s.image=r(a));return d}},n.prototype.renderFrame=function(i,s){var o,a,u;return o=(a=this.animation.frames)[s],u=a[s-1],s===0&&i.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?i.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&i.putImageData(u.imageData,u.xOffset,u.yOffset),o.blendOp===0&&i.clearRect(o.xOffset,o.yOffset,o.width,o.height),i.drawImage(o.image,o.xOffset,o.yOffset)},n.prototype.animate=function(i){var s,o,a,u,l,c,h=this;return o=0,c=this.animation,u=c.numFrames,a=c.frames,l=c.numPlays,(s=function(){var d,m;if(d=o++%u,m=a[d],h.renderFrame(i,d),u>1&&o/u<l)return h.animation._timeout=setTimeout(s,m.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var s,o;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,s=i.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(o=s.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),s.putImageData(o,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function tce(r){var e=0;if(r[e++]!==71||r[e++]!==73||r[e++]!==70||r[e++]!==56||(r[e++]+1&253)!=56||r[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=r[e++]|r[e++]<<8,n=r[e++]|r[e++]<<8,A=r[e++],i=A>>7,s=1<<(7&A)+1;r[e++],r[e++];var o=null,a=null;i&&(o=e,a=s,e+=3*s);var u=!0,l=[],c=0,h=null,d=0,m=null;for(this.width=t,this.height=n;u&&e<r.length;)switch(r[e++]){case 33:switch(r[e++]){case 255:if(r[e]!==11||r[e+1]==78&&r[e+2]==69&&r[e+3]==84&&r[e+4]==83&&r[e+5]==67&&r[e+6]==65&&r[e+7]==80&&r[e+8]==69&&r[e+9]==50&&r[e+10]==46&&r[e+11]==48&&r[e+12]==3&&r[e+13]==1&&r[e+16]==0)e+=14,m=r[e++]|r[e++]<<8,e++;else for(e+=12;;){if(!((_=r[e++])>=0))throw Error("Invalid block size");if(_===0)break;e+=_}break;case 249:if(r[e++]!==4||r[e+4]!==0)throw new Error("Invalid graphics extension block.");var g=r[e++];c=r[e++]|r[e++]<<8,h=r[e++],(1&g)==0&&(h=null),d=g>>2&7,e++;break;case 254:for(;;){if(!((_=r[e++])>=0))throw Error("Invalid block size");if(_===0)break;e+=_}break;default:throw new Error("Unknown graphic control label: 0x"+r[e-1].toString(16))}break;case 44:var y=r[e++]|r[e++]<<8,v=r[e++]|r[e++]<<8,w=r[e++]|r[e++]<<8,b=r[e++]|r[e++]<<8,B=r[e++],F=B>>6&1,N=1<<(7&B)+1,T=o,U=a,k=!1;B>>7&&(k=!0,T=e,U=N,e+=3*N);var D=e;for(e++;;){var _;if(!((_=r[e++])>=0))throw Error("Invalid block size");if(_===0)break;e+=_}l.push({x:y,y:v,width:w,height:b,has_local_palette:k,palette_offset:T,palette_size:U,data_offset:D,data_length:e-D,transparent_index:h,interlaced:!!F,delay:c,disposal:d});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+r[e-1].toString(16))}this.numFrames=function(){return l.length},this.loopCount=function(){return m},this.frameInfo=function(L){if(L<0||L>=l.length)throw new Error("Frame index out of range.");return l[L]},this.decodeAndBlitFrameBGRA=function(L,O){var V=this.frameInfo(L),$=V.width*V.height,Y=new Uint8Array($);UM(r,V.data_offset,Y,$);var re=V.palette_offset,le=V.transparent_index;le===null&&(le=256);var ne=V.width,te=t-ne,G=ne,H=4*(V.y*t+V.x),z=4*((V.y+V.height)*t+V.x),oe=H,ae=4*te;V.interlaced===!0&&(ae+=4*t*7);for(var ie=8,pe=0,Ce=Y.length;pe<Ce;++pe){var Ie=Y[pe];if(G===0&&(G=ne,(oe+=ae)>=z&&(ae=4*te+4*t*(ie-1),oe=H+(ne+te)*(ie<<1),ie>>=1)),Ie===le)oe+=4;else{var Qe=r[re+3*Ie],qe=r[re+3*Ie+1],et=r[re+3*Ie+2];O[oe++]=et,O[oe++]=qe,O[oe++]=Qe,O[oe++]=255}--G}},this.decodeAndBlitFrameRGBA=function(L,O){var V=this.frameInfo(L),$=V.width*V.height,Y=new Uint8Array($);UM(r,V.data_offset,Y,$);var re=V.palette_offset,le=V.transparent_index;le===null&&(le=256);var ne=V.width,te=t-ne,G=ne,H=4*(V.y*t+V.x),z=4*((V.y+V.height)*t+V.x),oe=H,ae=4*te;V.interlaced===!0&&(ae+=4*t*7);for(var ie=8,pe=0,Ce=Y.length;pe<Ce;++pe){var Ie=Y[pe];if(G===0&&(G=ne,(oe+=ae)>=z&&(ae=4*te+4*t*(ie-1),oe=H+(ne+te)*(ie<<1),ie>>=1)),Ie===le)oe+=4;else{var Qe=r[re+3*Ie],qe=r[re+3*Ie+1],et=r[re+3*Ie+2];O[oe++]=Qe,O[oe++]=qe,O[oe++]=et,O[oe++]=255}--G}}}function UM(r,e,t,n){for(var A=r[e++],i=1<<A,s=i+1,o=s+1,a=A+1,u=(1<<a)-1,l=0,c=0,h=0,d=r[e++],m=new Int32Array(4096),g=null;;){for(;l<16&&d!==0;)c|=r[e++]<<l,l+=8,d===1?d=r[e++]:--d;if(l<a)break;var y=c&u;if(c>>=a,l-=a,y!==i){if(y===s)break;for(var v=y<o?y:g,w=0,b=v;b>i;)b=m[b]>>8,++w;var B=b;if(h+w+(v!==y?1:0)>n)return void MA.log("Warning, gif stream longer than expected.");t[h++]=B;var F=h+=w;for(v!==y&&(t[h++]=B),b=v;w--;)b=m[b],t[--F]=255&b,b>>=8;g!==null&&o<4096&&(m[o++]=g<<8|B,o>=u+1&&a<12&&(++a,u=u<<1|1)),g=y}else o=s+1,u=(1<<(a=A+1))-1,g=null}return h!==n&&MA.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function TT(r){var e,t,n,A,i,s=Math.floor,o=new Array(64),a=new Array(64),u=new Array(64),l=new Array(64),c=new Array(65535),h=new Array(65535),d=new Array(64),m=new Array(64),g=[],y=0,v=7,w=new Array(64),b=new Array(64),B=new Array(64),F=new Array(256),N=new Array(2048),T=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],U=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],D=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],_=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],L=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],V=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],$=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Y(H,z){for(var oe=0,ae=0,ie=new Array,pe=1;pe<=16;pe++){for(var Ce=1;Ce<=H[pe];Ce++)ie[z[ae]]=[],ie[z[ae]][0]=oe,ie[z[ae]][1]=pe,ae++,oe++;oe*=2}return ie}function re(H){for(var z=H[0],oe=H[1]-1;oe>=0;)z&1<<oe&&(y|=1<<v),oe--,--v<0&&(y==255?(le(255),le(0)):le(y),v=7,y=0)}function le(H){g.push(H)}function ne(H){le(H>>8&255),le(255&H)}function te(H,z,oe,ae,ie){for(var pe,Ce=ie[0],Ie=ie[240],Qe=function(Me,it){var ut,ze,Ve,At,lt,yt,ge,X,Ae,de,we=0;for(Ae=0;Ae<8;++Ae){ut=Me[we],ze=Me[we+1],Ve=Me[we+2],At=Me[we+3],lt=Me[we+4],yt=Me[we+5],ge=Me[we+6];var Oe=ut+(X=Me[we+7]),He=ut-X,Et=ze+ge,Tt=ze-ge,Ht=Ve+yt,gr=Ve-yt,zt=At+lt,Jn=At-lt,Lr=Oe+zt,vn=Oe-zt,vr=Et+Ht,jt=Et-Ht;Me[we]=Lr+vr,Me[we+4]=Lr-vr;var Pt=.707106781*(jt+vn);Me[we+2]=vn+Pt,Me[we+6]=vn-Pt;var Vt=.382683433*((Lr=Jn+gr)-(jt=Tt+He)),xr=.5411961*Lr+Vt,Gr=1.306562965*jt+Vt,On=.707106781*(vr=gr+Tt),BA=He+On,$t=He-On;Me[we+5]=$t+xr,Me[we+3]=$t-xr,Me[we+1]=BA+Gr,Me[we+7]=BA-Gr,we+=8}for(we=0,Ae=0;Ae<8;++Ae){ut=Me[we],ze=Me[we+8],Ve=Me[we+16],At=Me[we+24],lt=Me[we+32],yt=Me[we+40],ge=Me[we+48];var JA=ut+(X=Me[we+56]),CA=ut-X,fn=ze+ge,or=ze-ge,yn=Ve+yt,kn=Ve-yt,bA=At+lt,xi=At-lt,qn=JA+bA,ZA=JA-bA,oA=fn+yn,jA=fn-yn;Me[we]=qn+oA,Me[we+32]=qn-oA;var AA=.707106781*(jA+ZA);Me[we+16]=ZA+AA,Me[we+48]=ZA-AA;var Mi=.382683433*((qn=xi+kn)-(jA=or+CA)),nr=.5411961*qn+Mi,$e=1.306562965*jA+Mi,Ot=.707106781*(oA=kn+or),tr=CA+Ot,sn=CA-Ot;Me[we+40]=sn+nr,Me[we+24]=sn-nr,Me[we+8]=tr+$e,Me[we+56]=tr-$e,we++}for(Ae=0;Ae<64;++Ae)de=Me[Ae]*it[Ae],d[Ae]=de>0?de+.5|0:de-.5|0;return d}(H,z),qe=0;qe<64;++qe)m[T[qe]]=Qe[qe];var et=m[0]-oe;oe=m[0],et==0?re(ae[0]):(re(ae[h[pe=32767+et]]),re(c[pe]));for(var nt=63;nt>0&&m[nt]==0;)nt--;if(nt==0)return re(Ce),oe;for(var pt,Ke=1;Ke<=nt;){for(var Le=Ke;m[Ke]==0&&Ke<=nt;)++Ke;var Ut=Ke-Le;if(Ut>=16){pt=Ut>>4;for(var ke=1;ke<=pt;++ke)re(Ie);Ut&=15}pe=32767+m[Ke],re(ie[(Ut<<4)+h[pe]]),re(c[pe]),Ke++}return nt!=63&&re(Ce),oe}function G(H){H=Math.min(Math.max(H,1),100),i!=H&&(function(z){for(var oe=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ae=0;ae<64;ae++){var ie=s((oe[ae]*z+50)/100);ie=Math.min(Math.max(ie,1),255),o[T[ae]]=ie}for(var pe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ce=0;Ce<64;Ce++){var Ie=s((pe[Ce]*z+50)/100);Ie=Math.min(Math.max(Ie,1),255),a[T[Ce]]=Ie}for(var Qe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],qe=0,et=0;et<8;et++)for(var nt=0;nt<8;nt++)u[qe]=1/(o[T[qe]]*Qe[et]*Qe[nt]*8),l[qe]=1/(a[T[qe]]*Qe[et]*Qe[nt]*8),qe++}(H<50?Math.floor(5e3/H):Math.floor(200-2*H)),i=H)}this.encode=function(H,z){z&&G(z),g=new Array,y=0,v=7,ne(65496),ne(65504),ne(16),le(74),le(70),le(73),le(70),le(0),le(1),le(1),le(0),ne(1),ne(1),le(0),le(0),function(){ne(65499),ne(132),le(0);for(var ze=0;ze<64;ze++)le(o[ze]);le(1);for(var Ve=0;Ve<64;Ve++)le(a[Ve])}(),function(ze,Ve){ne(65472),ne(17),le(8),ne(Ve),ne(ze),le(3),le(1),le(17),le(0),le(2),le(17),le(1),le(3),le(17),le(1)}(H.width,H.height),function(){ne(65476),ne(418),le(0);for(var ze=0;ze<16;ze++)le(U[ze+1]);for(var Ve=0;Ve<=11;Ve++)le(k[Ve]);le(16);for(var At=0;At<16;At++)le(D[At+1]);for(var lt=0;lt<=161;lt++)le(_[lt]);le(1);for(var yt=0;yt<16;yt++)le(L[yt+1]);for(var ge=0;ge<=11;ge++)le(O[ge]);le(17);for(var X=0;X<16;X++)le(V[X+1]);for(var Ae=0;Ae<=161;Ae++)le($[Ae])}(),ne(65498),ne(12),le(3),le(1),le(0),le(2),le(17),le(3),le(17),le(0),le(63),le(0);var oe=0,ae=0,ie=0;y=0,v=7,this.encode.displayName="_encode_";for(var pe,Ce,Ie,Qe,qe,et,nt,pt,Ke,Le=H.data,Ut=H.width,ke=H.height,Me=4*Ut,it=0;it<ke;){for(pe=0;pe<Me;){for(qe=Me*it+pe,nt=-1,pt=0,Ke=0;Ke<64;Ke++)et=qe+(pt=Ke>>3)*Me+(nt=4*(7&Ke)),it+pt>=ke&&(et-=Me*(it+1+pt-ke)),pe+nt>=Me&&(et-=pe+nt-Me+4),Ce=Le[et++],Ie=Le[et++],Qe=Le[et++],w[Ke]=(N[Ce]+N[Ie+256>>0]+N[Qe+512>>0]>>16)-128,b[Ke]=(N[Ce+768>>0]+N[Ie+1024>>0]+N[Qe+1280>>0]>>16)-128,B[Ke]=(N[Ce+1280>>0]+N[Ie+1536>>0]+N[Qe+1792>>0]>>16)-128;oe=te(w,u,oe,e,n),ae=te(b,l,ae,t,A),ie=te(B,l,ie,t,A),pe+=32}it+=8}if(v>=0){var ut=[];ut[1]=v+1,ut[0]=(1<<v+1)-1,re(ut)}return ne(65497),new Uint8Array(g)},r=r||50,function(){for(var H=String.fromCharCode,z=0;z<256;z++)F[z]=H(z)}(),e=Y(U,k),t=Y(L,O),n=Y(D,_),A=Y(V,$),function(){for(var H=1,z=2,oe=1;oe<=15;oe++){for(var ae=H;ae<z;ae++)h[32767+ae]=oe,c[32767+ae]=[],c[32767+ae][1]=oe,c[32767+ae][0]=ae;for(var ie=-(z-1);ie<=-H;ie++)h[32767+ie]=oe,c[32767+ie]=[],c[32767+ie][1]=oe,c[32767+ie][0]=z-1+ie;H<<=1,z<<=1}}(),function(){for(var H=0;H<256;H++)N[H]=19595*H,N[H+256>>0]=38470*H,N[H+512>>0]=7471*H+32768,N[H+768>>0]=-11059*H,N[H+1024>>0]=-21709*H,N[H+1280>>0]=32768*H+8421375,N[H+1536>>0]=-27439*H,N[H+1792>>0]=-5329*H}(),G(r)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function fh(r,e){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function TM(r){function e(U){if(!U)throw Error("assert :P")}function t(U,k,D){for(var _=0;4>_;_++)if(U[k+_]!=D.charCodeAt(_))return!0;return!1}function n(U,k,D,_,L){for(var O=0;O<L;O++)U[k+O]=D[_+O]}function A(U,k,D,_){for(var L=0;L<_;L++)U[k+L]=D}function i(U){return new Int32Array(U)}function s(U,k){for(var D=[],_=0;_<U;_++)D.push(new k);return D}function o(U,k){var D=[];return function _(L,O,V){for(var $=V[O],Y=0;Y<$&&(L.push(V.length>O+1?[]:new k),!(V.length<O+1));Y++)_(L[Y],O+1,V)}(D,0,U),D}var a=function(){var U=this;function k(S,j){for(var W=1<<j-1>>>0;S&W;)W>>>=1;return W?(S&W-1)+W:S}function D(S,j,W,ue,ve){e(!(ue%W));do S[j+(ue-=W)]=ve;while(0<ue)}function _(S,j,W,ue,ve){if(e(2328>=ve),512>=ve)var Ee=i(512);else if((Ee=i(ve))==null)return 0;return function(Fe,Ue,Te,Pe,We,ct){var ht,ot,bt=Ue,wt=1<<Te,Ye=i(16),Je=i(16);for(e(We!=0),e(Pe!=null),e(Fe!=null),e(0<Te),ot=0;ot<We;++ot){if(15<Pe[ot])return 0;++Ye[Pe[ot]]}if(Ye[0]==We)return 0;for(Je[1]=0,ht=1;15>ht;++ht){if(Ye[ht]>1<<ht)return 0;Je[ht+1]=Je[ht]+Ye[ht]}for(ot=0;ot<We;++ot)ht=Pe[ot],0<Pe[ot]&&(ct[Je[ht]++]=ot);if(Je[15]==1)return(Pe=new L).g=0,Pe.value=ct[0],D(Fe,bt,1,wt,Pe),wt;var Ft,St=-1,xt=wt-1,Ar=0,Yt=1,Fr=1,Zt=1<<Te;for(ot=0,ht=1,We=2;ht<=Te;++ht,We<<=1){if(Yt+=Fr<<=1,0>(Fr-=Ye[ht]))return 0;for(;0<Ye[ht];--Ye[ht])(Pe=new L).g=ht,Pe.value=ct[ot++],D(Fe,bt+Ar,We,Zt,Pe),Ar=k(Ar,ht)}for(ht=Te+1,We=2;15>=ht;++ht,We<<=1){if(Yt+=Fr<<=1,0>(Fr-=Ye[ht]))return 0;for(;0<Ye[ht];--Ye[ht]){if(Pe=new L,(Ar&xt)!=St){for(bt+=Zt,Ft=1<<(St=ht)-Te;15>St&&!(0>=(Ft-=Ye[St]));)++St,Ft<<=1;wt+=Zt=1<<(Ft=St-Te),Fe[Ue+(St=Ar&xt)].g=Ft+Te,Fe[Ue+St].value=bt-Ue-St}Pe.g=ht-Te,Pe.value=ct[ot++],D(Fe,bt+(Ar>>Te),We,Zt,Pe),Ar=k(Ar,ht)}}return Yt!=2*Je[15]-1?0:wt}(S,j,W,ue,ve,Ee)}function L(){this.value=this.g=0}function O(){this.value=this.g=0}function V(){this.G=s(5,L),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(aA,O)}function $(S,j,W,ue){e(S!=null),e(j!=null),e(2147483648>ue),S.Ca=254,S.I=0,S.b=-8,S.Ka=0,S.oa=j,S.pa=W,S.Jd=j,S.Yc=W+ue,S.Zc=4<=ue?W+ue-4+1:W,pe(S)}function Y(S,j){for(var W=0;0<j--;)W|=Ie(S,128)<<j;return W}function re(S,j){var W=Y(S,j);return Ce(S)?-W:W}function le(S,j,W,ue){var ve,Ee=0;for(e(S!=null),e(j!=null),e(4294967288>ue),S.Sb=ue,S.Ra=0,S.u=0,S.h=0,4<ue&&(ue=4),ve=0;ve<ue;++ve)Ee+=j[W+ve]<<8*ve;S.Ra=Ee,S.bb=ue,S.oa=j,S.pa=W}function ne(S){for(;8<=S.u&&S.bb<S.Sb;)S.Ra>>>=8,S.Ra+=S.oa[S.pa+S.bb]<<zc-8>>>0,++S.bb,S.u-=8;oe(S)&&(S.h=1,S.u=0)}function te(S,j){if(e(0<=j),!S.h&&j<=Gc){var W=z(S)&Rn[j];return S.u+=j,ne(S),W}return S.h=1,S.u=0}function G(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function H(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function z(S){return S.Ra>>>(S.u&zc-1)>>>0}function oe(S){return e(S.bb<=S.Sb),S.h||S.bb==S.Sb&&S.u>zc}function ae(S,j){S.u=j,S.h=oe(S)}function ie(S){S.u>=qc&&(e(S.u>=qc),ne(S))}function pe(S){e(S!=null&&S.oa!=null),S.pa<S.Zc?(S.I=(S.oa[S.pa++]|S.I<<8)>>>0,S.b+=8):(e(S!=null&&S.oa!=null),S.pa<S.Yc?(S.b+=8,S.I=S.oa[S.pa++]|S.I<<8):S.Ka?S.b=0:(S.I<<=8,S.b+=8,S.Ka=1))}function Ce(S){return Y(S,1)}function Ie(S,j){var W=S.Ca;0>S.b&&pe(S);var ue=S.b,ve=W*j>>>8,Ee=(S.I>>>ue>ve)+0;for(Ee?(W-=ve,S.I-=ve+1<<ue>>>0):W=ve+1,ue=W,ve=0;256<=ue;)ve+=8,ue>>=8;return ue=7^ve+gs[ue],S.b-=ue,S.Ca=(W<<ue)-1,Ee}function Qe(S,j,W){S[j+0]=W>>24&255,S[j+1]=W>>16&255,S[j+2]=W>>8&255,S[j+3]=W>>0&255}function qe(S,j){return S[j+0]<<0|S[j+1]<<8}function et(S,j){return qe(S,j)|S[j+2]<<16}function nt(S,j){return qe(S,j)|qe(S,j+2)<<16}function pt(S,j){var W=1<<j;return e(S!=null),e(0<j),S.X=i(W),S.X==null?0:(S.Mb=32-j,S.Xa=j,1)}function Ke(S,j){e(S!=null),e(j!=null),e(S.Xa==j.Xa),n(j.X,0,S.X,0,1<<j.Xa)}function Le(){this.X=[],this.Xa=this.Mb=0}function Ut(S,j,W,ue){e(W!=null),e(ue!=null);var ve=W[0],Ee=ue[0];return ve==0&&(ve=(S*Ee+j/2)/j),Ee==0&&(Ee=(j*ve+S/2)/S),0>=ve||0>=Ee?0:(W[0]=ve,ue[0]=Ee,1)}function ke(S,j){return S+(1<<j)-1>>>j}function Me(S,j){return((4278255360&S)+(4278255360&j)>>>0&4278255360)+((16711935&S)+(16711935&j)>>>0&16711935)>>>0}function it(S,j){U[j]=function(W,ue,ve,Ee,Fe,Ue,Te){var Pe;for(Pe=0;Pe<Fe;++Pe){var We=U[S](Ue[Te+Pe-1],ve,Ee+Pe);Ue[Te+Pe]=Me(W[ue+Pe],We)}}}function ut(){this.ud=this.hd=this.jd=0}function ze(S,j){return((4278124286&(S^j))>>>1)+(S&j)>>>0}function Ve(S){return 0<=S&&256>S?S:0>S?0:255<S?255:void 0}function At(S,j){return Ve(S+(S-j+.5>>1))}function lt(S,j,W){return Math.abs(j-W)-Math.abs(S-W)}function yt(S,j,W,ue,ve,Ee,Fe){for(ue=Ee[Fe-1],W=0;W<ve;++W)Ee[Fe+W]=ue=Me(S[j+W],ue)}function ge(S,j,W,ue,ve){var Ee;for(Ee=0;Ee<W;++Ee){var Fe=S[j+Ee],Ue=Fe>>8&255,Te=16711935&(Te=(Te=16711935&Fe)+((Ue<<16)+Ue));ue[ve+Ee]=(4278255360&Fe)+Te>>>0}}function X(S,j){j.jd=S>>0&255,j.hd=S>>8&255,j.ud=S>>16&255}function Ae(S,j,W,ue,ve,Ee){var Fe;for(Fe=0;Fe<ue;++Fe){var Ue=j[W+Fe],Te=Ue>>>8,Pe=Ue,We=255&(We=(We=Ue>>>16)+((S.jd<<24>>24)*(Te<<24>>24)>>>5));Pe=255&(Pe=(Pe=Pe+((S.hd<<24>>24)*(Te<<24>>24)>>>5))+((S.ud<<24>>24)*(We<<24>>24)>>>5)),ve[Ee+Fe]=(4278255360&Ue)+(We<<16)+Pe}}function de(S,j,W,ue,ve){U[j]=function(Ee,Fe,Ue,Te,Pe,We,ct,ht,ot){for(Te=ct;Te<ht;++Te)for(ct=0;ct<ot;++ct)Pe[We++]=ve(Ue[ue(Ee[Fe++])])},U[S]=function(Ee,Fe,Ue,Te,Pe,We,ct){var ht=8>>Ee.b,ot=Ee.Ea,bt=Ee.K[0],wt=Ee.w;if(8>ht)for(Ee=(1<<Ee.b)-1,wt=(1<<ht)-1;Fe<Ue;++Fe){var Ye,Je=0;for(Ye=0;Ye<ot;++Ye)Ye&Ee||(Je=ue(Te[Pe++])),We[ct++]=ve(bt[Je&wt]),Je>>=ht}else U["VP8LMapColor"+W](Te,Pe,bt,wt,We,ct,Fe,Ue,ot)}}function we(S,j,W,ue,ve){for(W=j+W;j<W;){var Ee=S[j++];ue[ve++]=Ee>>16&255,ue[ve++]=Ee>>8&255,ue[ve++]=Ee>>0&255}}function Oe(S,j,W,ue,ve){for(W=j+W;j<W;){var Ee=S[j++];ue[ve++]=Ee>>16&255,ue[ve++]=Ee>>8&255,ue[ve++]=Ee>>0&255,ue[ve++]=Ee>>24&255}}function He(S,j,W,ue,ve){for(W=j+W;j<W;){var Ee=(Fe=S[j++])>>16&240|Fe>>12&15,Fe=Fe>>0&240|Fe>>28&15;ue[ve++]=Ee,ue[ve++]=Fe}}function Et(S,j,W,ue,ve){for(W=j+W;j<W;){var Ee=(Fe=S[j++])>>16&248|Fe>>13&7,Fe=Fe>>5&224|Fe>>3&31;ue[ve++]=Ee,ue[ve++]=Fe}}function Tt(S,j,W,ue,ve){for(W=j+W;j<W;){var Ee=S[j++];ue[ve++]=Ee>>0&255,ue[ve++]=Ee>>8&255,ue[ve++]=Ee>>16&255}}function Ht(S,j,W,ue,ve,Ee){if(Ee==0)for(W=j+W;j<W;)Qe(ue,((Ee=S[j++])[0]>>24|Ee[1]>>8&65280|Ee[2]<<8&16711680|Ee[3]<<24)>>>0),ve+=32;else n(ue,ve,S,j,W)}function gr(S,j){U[j][0]=U[S+"0"],U[j][1]=U[S+"1"],U[j][2]=U[S+"2"],U[j][3]=U[S+"3"],U[j][4]=U[S+"4"],U[j][5]=U[S+"5"],U[j][6]=U[S+"6"],U[j][7]=U[S+"7"],U[j][8]=U[S+"8"],U[j][9]=U[S+"9"],U[j][10]=U[S+"10"],U[j][11]=U[S+"11"],U[j][12]=U[S+"12"],U[j][13]=U[S+"13"],U[j][14]=U[S+"0"],U[j][15]=U[S+"0"]}function zt(S){return S==tf||S==Jc||S==dd||S==Ac}function Jn(){this.eb=[],this.size=this.A=this.fb=0}function Lr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function vn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Jn,this.f.kb=new Lr,this.sd=null}function vr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function jt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Pt(S){return alert("todo:WebPSamplerProcessPlane"),S.T}function Vt(S,j){var W=S.T,ue=j.ba.f.RGBA,ve=ue.eb,Ee=ue.fb+S.ka*ue.A,Fe=oo[j.ba.S],Ue=S.y,Te=S.O,Pe=S.f,We=S.N,ct=S.ea,ht=S.W,ot=j.cc,bt=j.dc,wt=j.Mc,Ye=j.Nc,Je=S.ka,Ft=S.ka+S.T,St=S.U,xt=St+1>>1;for(Je==0?Fe(Ue,Te,null,null,Pe,We,ct,ht,Pe,We,ct,ht,ve,Ee,null,null,St):(Fe(j.ec,j.fc,Ue,Te,ot,bt,wt,Ye,Pe,We,ct,ht,ve,Ee-ue.A,ve,Ee,St),++W);Je+2<Ft;Je+=2)ot=Pe,bt=We,wt=ct,Ye=ht,We+=S.Rc,ht+=S.Rc,Ee+=2*ue.A,Fe(Ue,(Te+=2*S.fa)-S.fa,Ue,Te,ot,bt,wt,Ye,Pe,We,ct,ht,ve,Ee-ue.A,ve,Ee,St);return Te+=S.fa,S.j+Ft<S.o?(n(j.ec,j.fc,Ue,Te,St),n(j.cc,j.dc,Pe,We,xt),n(j.Mc,j.Nc,ct,ht,xt),W--):1&Ft||Fe(Ue,Te,null,null,Pe,We,ct,ht,Pe,We,ct,ht,ve,Ee+ue.A,null,null,St),W}function xr(S,j,W){var ue=S.F,ve=[S.J];if(ue!=null){var Ee=S.U,Fe=j.ba.S,Ue=Fe==fd||Fe==dd;j=j.ba.f.RGBA;var Te=[0],Pe=S.ka;Te[0]=S.T,S.Kb&&(Pe==0?--Te[0]:(--Pe,ve[0]-=S.width),S.j+S.ka+S.T==S.o&&(Te[0]=S.o-S.j-Pe));var We=j.eb;Pe=j.fb+Pe*j.A,S=Hn(ue,ve[0],S.width,Ee,Te,We,Pe+(Ue?0:3),j.A),e(W==Te),S&&zt(Fe)&&Ds(We,Pe,Ue,Ee,Te,j.A)}return 0}function Gr(S){var j=S.ma,W=j.ba.S,ue=11>W,ve=W==nc||W==hd||W==fd||W==jn||W==12||zt(W);if(j.memory=null,j.Ib=null,j.Jb=null,j.Nd=null,!GA(j.Oa,S,ve?11:12))return 0;if(ve&&zt(W)&&Rt(),S.da)alert("todo:use_scaling");else{if(ue){if(j.Ib=Pt,S.Kb){if(W=S.U+1>>1,j.memory=i(S.U+2*W),j.memory==null)return 0;j.ec=j.memory,j.fc=0,j.cc=j.ec,j.dc=j.fc+S.U,j.Mc=j.cc,j.Nc=j.dc+W,j.Ib=Vt,Rt()}}else alert("todo:EmitYUV");ve&&(j.Jb=xr,ue&&at())}if(ue&&!Yi){for(S=0;256>S;++S)ao[S]=89858*(S-128)+$a>>hu,lo[S]=-22014*(S-128)+$a,sf[S]=-45773*(S-128),rh[S]=113618*(S-128)+$a>>hu;for(S=Sn;S<tA;++S)j=76283*(S-16)+$a>>hu,zp[S-Sn]=ln(j,255),Cw[S-Sn]=ln(j+8>>4,15);Yi=1}return 1}function On(S){var j=S.ma,W=S.U,ue=S.T;return e(!(1&S.ka)),0>=W||0>=ue?0:(W=j.Ib(S,j),j.Jb!=null&&j.Jb(S,j,W),j.Dc+=W,1)}function BA(S){S.ma.memory=null}function $t(S,j,W,ue){return te(S,8)!=47?0:(j[0]=te(S,14)+1,W[0]=te(S,14)+1,ue[0]=te(S,1),te(S,3)!=0?0:!S.h)}function JA(S,j){if(4>S)return S+1;var W=S-2>>1;return(2+(1&S)<<W)+te(j,W)+1}function CA(S,j){return 120<j?j-120:1<=(W=((W=w1[j-1])>>4)*S+(8-(15&W)))?W:1;var W}function fn(S,j,W){var ue=z(W),ve=S[j+=255&ue].g-8;return 0<ve&&(ae(W,W.u+8),ue=z(W),j+=S[j].value,j+=ue&(1<<ve)-1),ae(W,W.u+S[j].g),S[j].value}function or(S,j,W){return W.g+=S.g,W.value+=S.value<<j>>>0,e(8>=W.g),S.g}function yn(S,j,W){var ue=S.xc;return e((j=ue==0?0:S.vc[S.md*(W>>ue)+(j>>ue)])<S.Wb),S.Ya[j]}function kn(S,j,W,ue){var ve=S.ab,Ee=S.c*j,Fe=S.C;j=Fe+j;var Ue=W,Te=ue;for(ue=S.Ta,W=S.Ua;0<ve--;){var Pe=S.gc[ve],We=Fe,ct=j,ht=Ue,ot=Te,bt=(Te=ue,Ue=W,Pe.Ea);switch(e(We<ct),e(ct<=Pe.nc),Pe.hc){case 2:ud(ht,ot,(ct-We)*bt,Te,Ue);break;case 0:var wt=We,Ye=ct,Je=Te,Ft=Ue,St=(Zt=Pe).Ea;wt==0&&(xl(ht,ot,null,null,1,Je,Ft),yt(ht,ot+1,0,0,St-1,Je,Ft+1),ot+=St,Ft+=St,++wt);for(var xt=1<<Zt.b,Ar=xt-1,Yt=ke(St,Zt.b),Fr=Zt.K,Zt=Zt.w+(wt>>Zt.b)*Yt;wt<Ye;){var Fn=Fr,In=Zt,un=1;for(Ul(ht,ot,Je,Ft-St,1,Je,Ft);un<St;){var Lt=(un&~Ar)+xt;Lt>St&&(Lt=St),(0,qi[Fn[In++]>>8&15])(ht,ot+ +un,Je,Ft+un-St,Lt-un,Je,Ft+un),un=Lt}ot+=St,Ft+=St,++wt&Ar||(Zt+=Yt)}ct!=Pe.nc&&n(Te,Ue-bt,Te,Ue+(ct-We-1)*bt,bt);break;case 1:for(bt=ht,Ye=ot,St=(ht=Pe.Ea)-(Ft=ht&~(Je=(ot=1<<Pe.b)-1)),wt=ke(ht,Pe.b),xt=Pe.K,Pe=Pe.w+(We>>Pe.b)*wt;We<ct;){for(Ar=xt,Yt=Pe,Fr=new ut,Zt=Ye+Ft,Fn=Ye+ht;Ye<Zt;)X(Ar[Yt++],Fr),iu(Fr,bt,Ye,ot,Te,Ue),Ye+=ot,Ue+=ot;Ye<Fn&&(X(Ar[Yt++],Fr),iu(Fr,bt,Ye,St,Te,Ue),Ye+=St,Ue+=St),++We&Je||(Pe+=wt)}break;case 3:if(ht==Te&&ot==Ue&&0<Pe.b){for(Ye=Te,ht=bt=Ue+(ct-We)*bt-(Ft=(ct-We)*ke(Pe.Ea,Pe.b)),ot=Te,Je=Ue,wt=[],Ft=(St=Ft)-1;0<=Ft;--Ft)wt[Ft]=ot[Je+Ft];for(Ft=St-1;0<=Ft;--Ft)Ye[ht+Ft]=wt[Ft];lA(Pe,We,ct,Te,bt,Te,Ue)}else lA(Pe,We,ct,ht,ot,Te,Ue)}Ue=ue,Te=W}Te!=W&&n(ue,W,Ue,Te,Ee)}function bA(S,j){var W=S.V,ue=S.Ba+S.c*S.C,ve=j-S.C;if(e(j<=S.l.o),e(16>=ve),0<ve){var Ee=S.l,Fe=S.Ta,Ue=S.Ua,Te=Ee.width;if(kn(S,ve,W,ue),ve=Ue=[Ue],e((W=S.C)<(ue=j)),e(Ee.v<Ee.va),ue>Ee.o&&(ue=Ee.o),W<Ee.j){var Pe=Ee.j-W;W=Ee.j,ve[0]+=Pe*Te}if(W>=ue?W=0:(ve[0]+=4*Ee.v,Ee.ka=W-Ee.j,Ee.U=Ee.va-Ee.v,Ee.T=ue-W,W=1),W){if(Ue=Ue[0],11>(W=S.ca).S){var We=W.f.RGBA,ct=(ue=W.S,ve=Ee.U,Ee=Ee.T,Pe=We.eb,We.A),ht=Ee;for(We=We.fb+S.Ma*We.A;0<ht--;){var ot=Fe,bt=Ue,wt=ve,Ye=Pe,Je=We;switch(ue){case Hp:ms(ot,bt,wt,Ye,Je);break;case nc:Ti(ot,bt,wt,Ye,Je);break;case tf:Ti(ot,bt,wt,Ye,Je),Ds(Ye,Je,0,wt,1,0);break;case Yc:Qo(ot,bt,wt,Ye,Je);break;case hd:Ht(ot,bt,wt,Ye,Je,1);break;case Jc:Ht(ot,bt,wt,Ye,Je,1),Ds(Ye,Je,0,wt,1,0);break;case fd:Ht(ot,bt,wt,Ye,Je,0);break;case dd:Ht(ot,bt,wt,Ye,Je,0),Ds(Ye,Je,1,wt,1,0);break;case jn:su(ot,bt,wt,Ye,Je);break;case Ac:su(ot,bt,wt,Ye,Je),eA(Ye,Je,wt,1,0);break;case jp:ou(ot,bt,wt,Ye,Je);break;default:e(0)}Ue+=Te,We+=ct}S.Ma+=Ee}else alert("todo:EmitRescaledRowsYUVA");e(S.Ma<=W.height)}}S.C=j,e(S.C<=S.i)}function xi(S){var j;if(0<S.ua)return 0;for(j=0;j<S.Wb;++j){var W=S.Ya[j].G,ue=S.Ya[j].H;if(0<W[1][ue[1]+0].g||0<W[2][ue[2]+0].g||0<W[3][ue[3]+0].g)return 0}return 1}function qn(S,j,W,ue,ve,Ee){if(S.Z!=0){var Fe=S.qd,Ue=S.rd;for(e(Xi[S.Z]!=null);j<W;++j)Xi[S.Z](Fe,Ue,ue,ve,ue,ve,Ee),Fe=ue,Ue=ve,ve+=Ee;S.qd=Fe,S.rd=Ue}}function ZA(S,j){var W=S.l.ma,ue=W.Z==0||W.Z==1?S.l.j:S.C;if(ue=S.C<ue?ue:S.C,e(j<=S.l.o),j>ue){var ve=S.l.width,Ee=W.ca,Fe=W.tb+ve*ue,Ue=S.V,Te=S.Ba+S.c*ue,Pe=S.gc;e(S.ab==1),e(Pe[0].hc==3),ca(Pe[0],ue,j,Ue,Te,Ee,Fe),qn(W,ue,j,Ee,Fe,ve)}S.C=S.Ma=j}function oA(S,j,W,ue,ve,Ee,Fe){var Ue=S.$/ue,Te=S.$%ue,Pe=S.m,We=S.s,ct=W+S.$,ht=ct;ve=W+ue*ve;var ot=W+ue*Ee,bt=280+We.ua,wt=S.Pb?Ue:16777216,Ye=0<We.ua?We.Wa:null,Je=We.wc,Ft=ct<ot?yn(We,Te,Ue):null;e(S.C<Ee),e(ot<=ve);var St=!1;e:for(;;){for(;St||ct<ot;){var xt=0;if(Ue>=wt){var Ar=ct-W;e((wt=S).Pb),wt.wd=wt.m,wt.xd=Ar,0<wt.s.ua&&Ke(wt.s.Wa,wt.s.vb),wt=Ue+Gp}if(Te&Je||(Ft=yn(We,Te,Ue)),e(Ft!=null),Ft.Qb&&(j[ct]=Ft.qb,St=!0),!St)if(ie(Pe),Ft.jc){xt=Pe,Ar=j;var Yt=ct,Fr=Ft.pd[z(xt)&aA-1];e(Ft.jc),256>Fr.g?(ae(xt,xt.u+Fr.g),Ar[Yt]=Fr.value,xt=0):(ae(xt,xt.u+Fr.g-256),e(256<=Fr.value),xt=Fr.value),xt==0&&(St=!0)}else xt=fn(Ft.G[0],Ft.H[0],Pe);if(Pe.h)break;if(St||256>xt){if(!St)if(Ft.nd)j[ct]=(Ft.qb|xt<<8)>>>0;else{if(ie(Pe),St=fn(Ft.G[1],Ft.H[1],Pe),ie(Pe),Ar=fn(Ft.G[2],Ft.H[2],Pe),Yt=fn(Ft.G[3],Ft.H[3],Pe),Pe.h)break;j[ct]=(Yt<<24|St<<16|xt<<8|Ar)>>>0}if(St=!1,++ct,++Te>=ue&&(Te=0,++Ue,Fe!=null&&Ue<=Ee&&!(Ue%16)&&Fe(S,Ue),Ye!=null))for(;ht<ct;)xt=j[ht++],Ye.X[(506832829*xt&4294967295)>>>Ye.Mb]=xt}else if(280>xt){if(xt=JA(xt-256,Pe),Ar=fn(Ft.G[4],Ft.H[4],Pe),ie(Pe),Ar=CA(ue,Ar=JA(Ar,Pe)),Pe.h)break;if(ct-W<Ar||ve-ct<xt)break e;for(Yt=0;Yt<xt;++Yt)j[ct+Yt]=j[ct+Yt-Ar];for(ct+=xt,Te+=xt;Te>=ue;)Te-=ue,++Ue,Fe!=null&&Ue<=Ee&&!(Ue%16)&&Fe(S,Ue);if(e(ct<=ve),Te&Je&&(Ft=yn(We,Te,Ue)),Ye!=null)for(;ht<ct;)xt=j[ht++],Ye.X[(506832829*xt&4294967295)>>>Ye.Mb]=xt}else{if(!(xt<bt))break e;for(St=xt-280,e(Ye!=null);ht<ct;)xt=j[ht++],Ye.X[(506832829*xt&4294967295)>>>Ye.Mb]=xt;xt=ct,e(!(St>>>(Ar=Ye).Xa)),j[xt]=Ar.X[St],St=!0}St||e(Pe.h==oe(Pe))}if(S.Pb&&Pe.h&&ct<ve)e(S.m.h),S.a=5,S.m=S.wd,S.$=S.xd,0<S.s.ua&&Ke(S.s.vb,S.s.Wa);else{if(Pe.h)break e;Fe!=null&&Fe(S,Ue>Ee?Ee:Ue),S.a=0,S.$=ct-W}return 1}return S.a=3,0}function jA(S){e(S!=null),S.vc=null,S.yc=null,S.Ya=null;var j=S.Wa;j!=null&&(j.X=null),S.vb=null,e(S!=null)}function AA(){var S=new Jh;return S==null?null:(S.a=0,S.xb=nf,gr("Predictor","VP8LPredictors"),gr("Predictor","VP8LPredictors_C"),gr("PredictorAdd","VP8LPredictorsAdd"),gr("PredictorAdd","VP8LPredictorsAdd_C"),ud=ge,iu=Ae,ms=we,Ti=Oe,su=He,ou=Et,Qo=Tt,U.VP8LMapColor32b=To,U.VP8LMapColor8b=PA,S)}function Mi(S,j,W,ue,ve){var Ee=1,Fe=[S],Ue=[j],Te=ue.m,Pe=ue.s,We=null,ct=0;e:for(;;){if(W)for(;Ee&&te(Te,1);){var ht=Fe,ot=Ue,bt=ue,wt=1,Ye=bt.m,Je=bt.gc[bt.ab],Ft=te(Ye,2);if(bt.Oc&1<<Ft)Ee=0;else{switch(bt.Oc|=1<<Ft,Je.hc=Ft,Je.Ea=ht[0],Je.nc=ot[0],Je.K=[null],++bt.ab,e(4>=bt.ab),Ft){case 0:case 1:Je.b=te(Ye,3)+2,wt=Mi(ke(Je.Ea,Je.b),ke(Je.nc,Je.b),0,bt,Je.K),Je.K=Je.K[0];break;case 3:var St,xt=te(Ye,8)+1,Ar=16<xt?0:4<xt?1:2<xt?2:3;if(ht[0]=ke(Je.Ea,Ar),Je.b=Ar,St=wt=Mi(xt,1,0,bt,Je.K)){var Yt,Fr=xt,Zt=Je,Fn=1<<(8>>Zt.b),In=i(Fn);if(In==null)St=0;else{var un=Zt.K[0],Lt=Zt.w;for(In[0]=Zt.K[0][0],Yt=1;Yt<1*Fr;++Yt)In[Yt]=Me(un[Lt+Yt],In[Yt-1]);for(;Yt<4*Fn;++Yt)In[Yt]=0;Zt.K[0]=null,Zt.K[0]=In,St=1}}wt=St;break;case 2:break;default:e(0)}Ee=wt}}if(Fe=Fe[0],Ue=Ue[0],Ee&&te(Te,1)&&!(Ee=1<=(ct=te(Te,4))&&11>=ct)){ue.a=3;break e}var $n;if($n=Ee)t:{var rA,Nr,xn,js=ue,qA=Fe,kA=Ue,wn=ct,ys=W,ws=js.m,DA=js.s,mA=[null],wi=1,Bs=0,pa=yw[wn];r:for(;;){if(ys&&te(ws,1)){var FA=te(ws,3)+2,ui=ke(qA,FA),Vs=ke(kA,FA),oc=ui*Vs;if(!Mi(ui,Vs,0,js,mA))break r;for(mA=mA[0],DA.xc=FA,rA=0;rA<oc;++rA){var fu=mA[rA]>>8&65535;mA[rA]=fu,fu>=wi&&(wi=fu+1)}}if(ws.h)break r;for(Nr=0;5>Nr;++Nr){var Vn=Zc[Nr];!Nr&&0<wn&&(Vn+=1<<wn),Bs<Vn&&(Bs=Vn)}var Pl=s(wi*pa,L),qp=wi,Zm=s(qp,V);if(Zm==null)var ga=null;else e(65536>=qp),ga=Zm;var ma=i(Bs);if(ga==null||ma==null||Pl==null){js.a=1;break r}var ac=Pl;for(rA=xn=0;rA<wi;++rA){var va=ga[rA],du=va.G,Ah=va.H,ih=0,No=1,pu=0;for(Nr=0;5>Nr;++Nr){Vn=Zc[Nr],du[Nr]=ac,Ah[Nr]=xn,!Nr&&0<wn&&(Vn+=1<<wn);A:{var lc,Xa=Vn,uc=js,Ya=ma,ev=ac,tv=xn,uA=0,Ro=uc.m,vd=te(Ro,1);if(A(Ya,0,0,Xa),vd){var Wp=te(Ro,1)+1,yd=te(Ro,1),wd=te(Ro,yd==0?1:8);Ya[wd]=1,Wp==2&&(Ya[wd=te(Ro,8)]=1);var Ja=1}else{var cA=i(19),ci=te(Ro,4)+4;if(19<ci){uc.a=3;var ni=0;break A}for(lc=0;lc<ci;++lc)cA[Kp[lc]]=te(Ro,3);var of=void 0,hi=void 0,cc=uc,E1=cA,Bi=Xa,$p=Ya,Bd=0,Ol=cc.m,Za=8,Po=s(128,L);n:for(;_(Po,0,7,E1,19);){if(te(Ol,1)){var Cd=2+2*te(Ol,3);if((of=2+te(Ol,Cd))>Bi)break n}else of=Bi;for(hi=0;hi<Bi&&of--;){ie(Ol);var Xp=Po[0+(127&z(Ol))];ae(Ol,Ol.u+Xp.g);var gu=Xp.value;if(16>gu)$p[hi++]=gu,gu!=0&&(Za=gu);else{var Ew=gu==16,bd=gu-16,rv=Vp[bd],Ci=te(Ol,pd[bd])+rv;if(hi+Ci>Bi)break n;for(var af=Ew?Za:0;0<Ci--;)$p[hi++]=af}}Bd=1;break n}Bd||(cc.a=3),Ja=Bd}(Ja=Ja&&!Ro.h)&&(uA=_(ev,tv,8,Ya,Xa)),Ja&&uA!=0?ni=uA:(uc.a=3,ni=0)}if(ni==0)break r;if(No&&vw[Nr]==1&&(No=ac[xn].g==0),ih+=ac[xn].g,xn+=ni,3>=Nr){var lf,Yp=ma[0];for(lf=1;lf<Vn;++lf)ma[lf]>Yp&&(Yp=ma[lf]);pu+=Yp}}if(va.nd=No,va.Qb=0,No&&(va.qb=(du[3][Ah[3]+0].value<<24|du[1][Ah[1]+0].value<<16|du[2][Ah[2]+0].value)>>>0,ih==0&&256>du[0][Ah[0]+0].value&&(va.Qb=1,va.qb+=du[0][Ah[0]+0].value<<8)),va.jc=!va.Qb&&6>pu,va.jc){var uf,Ks=va;for(uf=0;uf<aA;++uf){var mu=uf,el=Ks.pd[mu],sh=Ks.G[0][Ks.H[0]+mu];256<=sh.value?(el.g=sh.g+256,el.value=sh.value):(el.g=0,el.value=0,mu>>=or(sh,8,el),mu>>=or(Ks.G[1][Ks.H[1]+mu],16,el),mu>>=or(Ks.G[2][Ks.H[2]+mu],0,el),or(Ks.G[3][Ks.H[3]+mu],24,el))}}}DA.vc=mA,DA.Wb=wi,DA.Ya=ga,DA.yc=Pl,$n=1;break t}$n=0}if(!(Ee=$n)){ue.a=3;break e}if(0<ct){if(Pe.ua=1<<ct,!pt(Pe.Wa,ct)){ue.a=1,Ee=0;break e}}else Pe.ua=0;var Jp=ue,Zp=Fe,_w=Ue,eg=Jp.s,tg=eg.xc;if(Jp.c=Zp,Jp.i=_w,eg.md=ke(Zp,tg),eg.wc=tg==0?-1:(1<<tg)-1,W){ue.xb=Nl;break e}if((We=i(Fe*Ue))==null){ue.a=1,Ee=0;break e}Ee=(Ee=oA(ue,We,0,Fe,Ue,Ue,null))&&!Te.h;break e}return Ee?(ve!=null?ve[0]=We:(e(We==null),e(W)),ue.$=0,W||jA(Pe)):jA(Pe),Ee}function nr(S,j){var W=S.c*S.i,ue=W+j+16*j;return e(S.c<=j),S.V=i(ue),S.V==null?(S.Ta=null,S.Ua=0,S.a=1,0):(S.Ta=S.V,S.Ua=S.Ba+W+j,1)}function $e(S,j){var W=S.C,ue=j-W,ve=S.V,Ee=S.Ba+S.c*W;for(e(j<=S.l.o);0<ue;){var Fe=16<ue?16:ue,Ue=S.l.ma,Te=S.l.width,Pe=Te*Fe,We=Ue.ca,ct=Ue.tb+Te*W,ht=S.Ta,ot=S.Ua;kn(S,Fe,ve,Ee),zA(ht,ot,We,ct,Pe),qn(Ue,W,W+Fe,We,ct,Te),ue-=Fe,ve+=Fe*S.c,W+=Fe}e(W==j),S.C=S.Ma=j}function Ot(){this.ub=this.yd=this.td=this.Rb=0}function tr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function sn(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function pA(){this.Yb=function(){var S=[];return function j(W,ue,ve){for(var Ee=ve[ue],Fe=0;Fe<Ee&&(W.push(ve.length>ue+1?[]:0),!(ve.length<ue+1));Fe++)j(W[Fe],ue+1,ve)}(S,0,[3,11]),S}()}function Qr(){this.jb=i(3),this.Wc=o([4,8],pA),this.Xc=o([4,17],pA)}function LA(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Zn(){this.ld=this.La=this.dd=this.tc=0}function li(){this.Na=this.la=0}function NA(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Dn(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ts(){this.uc=this.M=this.Nb=0,this.wa=Array(new Zn),this.Y=0,this.ya=Array(new Dn),this.aa=0,this.l=new fs}function Qs(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Hi(){this.cb=this.a=0,this.sc="",this.m=new G,this.Od=new Ot,this.Kc=new tr,this.ed=new LA,this.Qa=new sn,this.Ic=this.$c=this.Aa=0,this.D=new Ts,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,G),this.ia=0,this.pb=s(4,NA),this.Pa=new Qr,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Qs),this.Hd=0,this.rb=Array(new li),this.sb=0,this.wa=Array(new Zn),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Dn),this.L=this.aa=0,this.gd=o([4,2],Zn),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function fs(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ei(){var S=new Hi;return S!=null&&(S.a=0,S.sc="OK",S.cb=0,S.Xb=0,eh||(eh=ta)),S}function gA(S,j,W){return S.a==0&&(S.a=j,S.sc=W,S.cb=0),0}function Mc(S,j,W){return 3<=W&&S[j+0]==157&&S[j+1]==1&&S[j+2]==42}function Hc(S,j){if(S==null)return 0;if(S.a=0,S.sc="OK",j==null)return gA(S,2,"null VP8Io passed to VP8GetHeaders()");var W=j.data,ue=j.w,ve=j.ha;if(4>ve)return gA(S,7,"Truncated header.");var Ee=W[ue+0]|W[ue+1]<<8|W[ue+2]<<16,Fe=S.Od;if(Fe.Rb=!(1&Ee),Fe.td=Ee>>1&7,Fe.yd=Ee>>4&1,Fe.ub=Ee>>5,3<Fe.td)return gA(S,3,"Incorrect keyframe parameters.");if(!Fe.yd)return gA(S,4,"Frame not displayable.");ue+=3,ve-=3;var Ue=S.Kc;if(Fe.Rb){if(7>ve)return gA(S,7,"cannot parse picture header");if(!Mc(W,ue,ve))return gA(S,3,"Bad code word");Ue.c=16383&(W[ue+4]<<8|W[ue+3]),Ue.Td=W[ue+4]>>6,Ue.i=16383&(W[ue+6]<<8|W[ue+5]),Ue.Ud=W[ue+6]>>6,ue+=7,ve-=7,S.za=Ue.c+15>>4,S.Ub=Ue.i+15>>4,j.width=Ue.c,j.height=Ue.i,j.Da=0,j.j=0,j.v=0,j.va=j.width,j.o=j.height,j.da=0,j.ib=j.width,j.hb=j.height,j.U=j.width,j.T=j.height,A((Ee=S.Pa).jb,0,255,Ee.jb.length),e((Ee=S.Qa)!=null),Ee.Cb=0,Ee.Bb=0,Ee.Fb=1,A(Ee.Zb,0,0,Ee.Zb.length),A(Ee.Lb,0,0,Ee.Lb)}if(Fe.ub>ve)return gA(S,7,"bad partition length");$(Ee=S.m,W,ue,Fe.ub),ue+=Fe.ub,ve-=Fe.ub,Fe.Rb&&(Ue.Ld=Ce(Ee),Ue.Kd=Ce(Ee)),Ue=S.Qa;var Te,Pe=S.Pa;if(e(Ee!=null),e(Ue!=null),Ue.Cb=Ce(Ee),Ue.Cb){if(Ue.Bb=Ce(Ee),Ce(Ee)){for(Ue.Fb=Ce(Ee),Te=0;4>Te;++Te)Ue.Zb[Te]=Ce(Ee)?re(Ee,7):0;for(Te=0;4>Te;++Te)Ue.Lb[Te]=Ce(Ee)?re(Ee,6):0}if(Ue.Bb)for(Te=0;3>Te;++Te)Pe.jb[Te]=Ce(Ee)?Y(Ee,8):255}else Ue.Bb=0;if(Ee.Ka)return gA(S,3,"cannot parse segment header");if((Ue=S.ed).zd=Ce(Ee),Ue.Tb=Y(Ee,6),Ue.wb=Y(Ee,3),Ue.Pc=Ce(Ee),Ue.Pc&&Ce(Ee)){for(Pe=0;4>Pe;++Pe)Ce(Ee)&&(Ue.vd[Pe]=re(Ee,6));for(Pe=0;4>Pe;++Pe)Ce(Ee)&&(Ue.od[Pe]=re(Ee,6))}if(S.L=Ue.Tb==0?0:Ue.zd?1:2,Ee.Ka)return gA(S,3,"cannot parse filter header");var We=ve;if(ve=Te=ue,ue=Te+We,Ue=We,S.Xb=(1<<Y(S.m,2))-1,We<3*(Pe=S.Xb))W=7;else{for(Te+=3*Pe,Ue-=3*Pe,We=0;We<Pe;++We){var ct=W[ve+0]|W[ve+1]<<8|W[ve+2]<<16;ct>Ue&&(ct=Ue),$(S.Jc[+We],W,Te,ct),Te+=ct,Ue-=ct,ve+=3}$(S.Jc[+Pe],W,Te,Ue),W=Te<ue?0:5}if(W!=0)return gA(S,W,"cannot parse partitions");for(W=Y(Te=S.m,7),ve=Ce(Te)?re(Te,4):0,ue=Ce(Te)?re(Te,4):0,Ue=Ce(Te)?re(Te,4):0,Pe=Ce(Te)?re(Te,4):0,Te=Ce(Te)?re(Te,4):0,We=S.Qa,ct=0;4>ct;++ct){if(We.Cb){var ht=We.Zb[ct];We.Fb||(ht+=W)}else{if(0<ct){S.pb[ct]=S.pb[0];continue}ht=W}var ot=S.pb[ct];ot.Sc[0]=rf[ln(ht+ve,127)],ot.Sc[1]=ic[ln(ht+0,127)],ot.Eb[0]=2*rf[ln(ht+ue,127)],ot.Eb[1]=101581*ic[ln(ht+Ue,127)]>>16,8>ot.Eb[1]&&(ot.Eb[1]=8),ot.Qc[0]=rf[ln(ht+Pe,117)],ot.Qc[1]=ic[ln(ht+Te,127)],ot.lc=ht+Te}if(!Fe.Rb)return gA(S,4,"Not a key frame.");for(Ce(Ee),Fe=S.Pa,W=0;4>W;++W){for(ve=0;8>ve;++ve)for(ue=0;3>ue;++ue)for(Ue=0;11>Ue;++Ue)Pe=Ie(Ee,C1[W][ve][ue][Ue])?Y(Ee,8):Bw[W][ve][ue][Ue],Fe.Wc[W][ve].Yb[ue][Ue]=Pe;for(ve=0;17>ve;++ve)Fe.Xc[W][ve]=Fe.Wc[W][$m[ve]]}return S.kc=Ce(Ee),S.kc&&(S.Bd=Y(Ee,8)),S.cb=1}function ta(S,j,W,ue,ve,Ee,Fe){var Ue=j[ve].Yb[W];for(W=0;16>ve;++ve){if(!Ie(S,Ue[W+0]))return ve;for(;!Ie(S,Ue[W+1]);)if(Ue=j[++ve].Yb[0],W=0,ve==16)return 16;var Te=j[ve+1].Yb;if(Ie(S,Ue[W+2])){var Pe=S,We=0;if(Ie(Pe,(ht=Ue)[(ct=W)+3]))if(Ie(Pe,ht[ct+6])){for(Ue=0,ct=2*(We=Ie(Pe,ht[ct+8]))+(ht=Ie(Pe,ht[ct+9+We])),We=0,ht=qm[ct];ht[Ue];++Ue)We+=We+Ie(Pe,ht[Ue]);We+=3+(8<<ct)}else Ie(Pe,ht[ct+7])?(We=7+2*Ie(Pe,165),We+=Ie(Pe,145)):We=5+Ie(Pe,159);else We=Ie(Pe,ht[ct+4])?3+Ie(Pe,ht[ct+5]):2;Ue=Te[2]}else We=1,Ue=Te[1];Te=Fe+Wm[ve],0>(Pe=S).b&&pe(Pe);var ct,ht=Pe.b,ot=(ct=Pe.Ca>>1)-(Pe.I>>ht)>>31;--Pe.b,Pe.Ca+=ot,Pe.Ca|=1,Pe.I-=(ct+1&ot)<<ht,Ee[Te]=((We^ot)-ot)*ue[(0<ve)+0]}return 16}function So(S){var j=S.rb[S.sb-1];j.la=0,j.Na=0,A(S.zc,0,0,S.zc.length),S.ja=0}function ro(S,j){if(S==null)return 0;if(j==null)return gA(S,2,"NULL VP8Io parameter in VP8Decode().");if(!S.cb&&!Hc(S,j))return 0;if(e(S.cb),j.ac==null||j.ac(j)){j.ob&&(S.L=0);var W=nh[S.L];if(S.L==2?(S.yb=0,S.zb=0):(S.yb=j.v-W>>4,S.zb=j.j-W>>4,0>S.yb&&(S.yb=0),0>S.zb&&(S.zb=0)),S.Va=j.o+15+W>>4,S.Hb=j.va+15+W>>4,S.Hb>S.za&&(S.Hb=S.za),S.Va>S.Ub&&(S.Va=S.Ub),0<S.L){var ue=S.ed;for(W=0;4>W;++W){var ve;if(S.Qa.Cb){var Ee=S.Qa.Lb[W];S.Qa.Fb||(Ee+=ue.Tb)}else Ee=ue.Tb;for(ve=0;1>=ve;++ve){var Fe=S.gd[W][ve],Ue=Ee;if(ue.Pc&&(Ue+=ue.vd[0],ve&&(Ue+=ue.od[0])),0<(Ue=0>Ue?0:63<Ue?63:Ue)){var Te=Ue;0<ue.wb&&(Te=4<ue.wb?Te>>2:Te>>1)>9-ue.wb&&(Te=9-ue.wb),1>Te&&(Te=1),Fe.dd=Te,Fe.tc=2*Ue+Te,Fe.ld=40<=Ue?2:15<=Ue?1:0}else Fe.tc=0;Fe.La=ve}}}W=0}else gA(S,6,"Frame setup failed"),W=S.a;if(W=W==0){if(W){S.$c=0,0<S.Aa||(S.Ic=Rl);e:{W=S.Ic,ue=4*(Te=S.za);var Pe=32*Te,We=Te+1,ct=0<S.L?Te*(0<S.Aa?2:1):0,ht=(S.Aa==2?2:1)*Te;if((Fe=ue+832+(ve=3*(16*W+nh[S.L])/2*Pe)+(Ee=S.Fa!=null&&0<S.Fa.length?S.Kc.c*S.Kc.i:0))!=Fe)W=0;else{if(Fe>S.Vb){if(S.Vb=0,S.Ec=i(Fe),S.Fc=0,S.Ec==null){W=gA(S,1,"no memory during frame initialization.");break e}S.Vb=Fe}Fe=S.Ec,Ue=S.Fc,S.Ac=Fe,S.Bc=Ue,Ue+=ue,S.Gd=s(Pe,Qs),S.Hd=0,S.rb=s(We+1,li),S.sb=1,S.wa=ct?s(ct,Zn):null,S.Y=0,S.D.Nb=0,S.D.wa=S.wa,S.D.Y=S.Y,0<S.Aa&&(S.D.Y+=Te),e(!0),S.oc=Fe,S.pc=Ue,Ue+=832,S.ya=s(ht,Dn),S.aa=0,S.D.ya=S.ya,S.D.aa=S.aa,S.Aa==2&&(S.D.aa+=Te),S.R=16*Te,S.B=8*Te,Te=(Pe=nh[S.L])*S.R,Pe=Pe/2*S.B,S.sa=Fe,S.ta=Ue+Te,S.qa=S.sa,S.ra=S.ta+16*W*S.R+Pe,S.Ha=S.qa,S.Ia=S.ra+8*W*S.B+Pe,S.$c=0,Ue+=ve,S.mb=Ee?Fe:null,S.nb=Ee?Ue:null,e(Ue+Ee<=S.Fc+S.Vb),So(S),A(S.Ac,S.Bc,0,ue),W=1}}if(W){if(j.ka=0,j.y=S.sa,j.O=S.ta,j.f=S.qa,j.N=S.ra,j.ea=S.Ha,j.Vd=S.Ia,j.fa=S.R,j.Rc=S.B,j.F=null,j.J=0,!cd){for(W=-255;255>=W;++W)OA[255+W]=0>W?-W:W;for(W=-1020;1020>=W;++W)Ll[1020+W]=-128>W?-128:127<W?127:W;for(W=-112;112>=W;++W)Zh[112+W]=-16>W?-16:15<W?15:W;for(W=-255;510>=W;++W)cu[255+W]=0>W?0:255<W?255:W;cd=1}so=on,au=Cl,ha=Ha,Wi=Wn,Lo=ja,Pn=Bl,Wc=oa,ks=_A,rc=Ps,$c=Au,Xc=xo,vs=Ui,lu=Fl,za=aa,Tl=ri,Ql=Rs,uu=KA,Qi=Kc,da[0]=ia,da[1]=Xh,da[2]=Ao,da[3]=Aa,da[4]=jc,da[5]=$u,da[6]=Ki,da[7]=Gi,da[8]=El,da[9]=sa,Hs[0]=yi,Hs[1]=Yh,Hs[2]=ra,Hs[3]=bl,Hs[4]=_n,Hs[5]=Fo,Hs[6]=no,$i[0]=ds,$i[1]=nu,$i[2]=Vc,$i[3]=Ns,$i[4]=Nn,$i[5]=Va,$i[6]=Xu,W=1}else W=0}W&&(W=function(ot,bt){for(ot.M=0;ot.M<ot.Va;++ot.M){var wt,Ye=ot.Jc[ot.M&ot.Xb],Je=ot.m,Ft=ot;for(wt=0;wt<Ft.za;++wt){var St=Je,xt=Ft,Ar=xt.Ac,Yt=xt.Bc+4*wt,Fr=xt.zc,Zt=xt.ya[xt.aa+wt];if(xt.Qa.Bb?Zt.$b=Ie(St,xt.Pa.jb[0])?2+Ie(St,xt.Pa.jb[2]):Ie(St,xt.Pa.jb[1]):Zt.$b=0,xt.kc&&(Zt.Ad=Ie(St,xt.Bd)),Zt.Za=!Ie(St,145)+0,Zt.Za){var Fn=Zt.Ob,In=0;for(xt=0;4>xt;++xt){var un,Lt=Fr[0+xt];for(un=0;4>un;++un){Lt=B1[Ar[Yt+un]][Lt];for(var $n=ww[Ie(St,Lt[0])];0<$n;)$n=ww[2*$n+Ie(St,Lt[$n])];Lt=-$n,Ar[Yt+un]=Lt}n(Fn,In,Ar,Yt,4),In+=4,Fr[0+xt]=Lt}}else Lt=Ie(St,156)?Ie(St,128)?1:3:Ie(St,163)?2:0,Zt.Ob[0]=Lt,A(Ar,Yt,Lt,4),A(Fr,0,Lt,4);Zt.Dd=Ie(St,142)?Ie(St,114)?Ie(St,183)?1:3:2:0}if(Ft.m.Ka)return gA(ot,7,"Premature end-of-partition0 encountered.");for(;ot.ja<ot.za;++ot.ja){if(Ft=Ye,St=(Je=ot).rb[Je.sb-1],Ar=Je.rb[Je.sb+Je.ja],wt=Je.ya[Je.aa+Je.ja],Yt=Je.kc?wt.Ad:0)St.la=Ar.la=0,wt.Za||(St.Na=Ar.Na=0),wt.Hc=0,wt.Gc=0,wt.ia=0;else{var rA,Nr;if(St=Ar,Ar=Ft,Yt=Je.Pa.Xc,Fr=Je.ya[Je.aa+Je.ja],Zt=Je.pb[Fr.$b],xt=Fr.ad,Fn=0,In=Je.rb[Je.sb-1],Lt=un=0,A(xt,Fn,0,384),Fr.Za)var xn=0,js=Yt[3];else{$n=i(16);var qA=St.Na+In.Na;if(qA=eh(Ar,Yt[1],qA,Zt.Eb,0,$n,0),St.Na=In.Na=(0<qA)+0,1<qA)so($n,0,xt,Fn);else{var kA=$n[0]+3>>3;for($n=0;256>$n;$n+=16)xt[Fn+$n]=kA}xn=1,js=Yt[0]}var wn=15&St.la,ys=15&In.la;for($n=0;4>$n;++$n){var ws=1&ys;for(kA=Nr=0;4>kA;++kA)wn=wn>>1|(ws=(qA=eh(Ar,js,qA=ws+(1&wn),Zt.Sc,xn,xt,Fn))>xn)<<7,Nr=Nr<<2|(3<qA?3:1<qA?2:xt[Fn+0]!=0),Fn+=16;wn>>=4,ys=ys>>1|ws<<7,un=(un<<8|Nr)>>>0}for(js=wn,xn=ys>>4,rA=0;4>rA;rA+=2){for(Nr=0,wn=St.la>>4+rA,ys=In.la>>4+rA,$n=0;2>$n;++$n){for(ws=1&ys,kA=0;2>kA;++kA)qA=ws+(1&wn),wn=wn>>1|(ws=0<(qA=eh(Ar,Yt[2],qA,Zt.Qc,0,xt,Fn)))<<3,Nr=Nr<<2|(3<qA?3:1<qA?2:xt[Fn+0]!=0),Fn+=16;wn>>=2,ys=ys>>1|ws<<5}Lt|=Nr<<4*rA,js|=wn<<4<<rA,xn|=(240&ys)<<rA}St.la=js,In.la=xn,Fr.Hc=un,Fr.Gc=Lt,Fr.ia=43690&Lt?0:Zt.ia,Yt=!(un|Lt)}if(0<Je.L&&(Je.wa[Je.Y+Je.ja]=Je.gd[wt.$b][wt.Za],Je.wa[Je.Y+Je.ja].La|=!Yt),Ft.Ka)return gA(ot,7,"Premature end-of-file encountered.")}if(So(ot),Je=bt,Ft=1,wt=(Ye=ot).D,St=0<Ye.L&&Ye.M>=Ye.zb&&Ye.M<=Ye.Va,Ye.Aa==0)e:{if(wt.M=Ye.M,wt.uc=St,Mn(Ye,wt),Ft=1,wt=(Nr=Ye.D).Nb,St=(Lt=nh[Ye.L])*Ye.R,Ar=Lt/2*Ye.B,$n=16*wt*Ye.R,kA=8*wt*Ye.B,Yt=Ye.sa,Fr=Ye.ta-St+$n,Zt=Ye.qa,xt=Ye.ra-Ar+kA,Fn=Ye.Ha,In=Ye.Ia-Ar+kA,ys=(wn=Nr.M)==0,un=wn>=Ye.Va-1,Ye.Aa==2&&Mn(Ye,Nr),Nr.uc)for(ws=(qA=Ye).D.M,e(qA.D.uc),Nr=qA.yb;Nr<qA.Hb;++Nr){xn=Nr,js=ws;var DA=(mA=(Vn=qA).D).Nb;rA=Vn.R;var mA=mA.wa[mA.Y+xn],wi=Vn.sa,Bs=Vn.ta+16*DA*rA+16*xn,pa=mA.dd,FA=mA.tc;if(FA!=0)if(e(3<=FA),Vn.L==1)0<xn&&Ql(wi,Bs,rA,FA+4),mA.La&&Qi(wi,Bs,rA,FA),0<js&&Tl(wi,Bs,rA,FA+4),mA.La&&uu(wi,Bs,rA,FA);else{var ui=Vn.B,Vs=Vn.qa,oc=Vn.ra+8*DA*ui+8*xn,fu=Vn.Ha,Vn=Vn.Ia+8*DA*ui+8*xn;DA=mA.ld,0<xn&&(ks(wi,Bs,rA,FA+4,pa,DA),$c(Vs,oc,fu,Vn,ui,FA+4,pa,DA)),mA.La&&(vs(wi,Bs,rA,FA,pa,DA),za(Vs,oc,fu,Vn,ui,FA,pa,DA)),0<js&&(Wc(wi,Bs,rA,FA+4,pa,DA),rc(Vs,oc,fu,Vn,ui,FA+4,pa,DA)),mA.La&&(Xc(wi,Bs,rA,FA,pa,DA),lu(Vs,oc,fu,Vn,ui,FA,pa,DA))}}if(Ye.ia&&alert("todo:DitherRow"),Je.put!=null){if(Nr=16*wn,wn=16*(wn+1),ys?(Je.y=Ye.sa,Je.O=Ye.ta+$n,Je.f=Ye.qa,Je.N=Ye.ra+kA,Je.ea=Ye.Ha,Je.W=Ye.Ia+kA):(Nr-=Lt,Je.y=Yt,Je.O=Fr,Je.f=Zt,Je.N=xt,Je.ea=Fn,Je.W=In),un||(wn-=Lt),wn>Je.o&&(wn=Je.o),Je.F=null,Je.J=null,Ye.Fa!=null&&0<Ye.Fa.length&&Nr<wn&&(Je.J=ec(Ye,Je,Nr,wn-Nr),Je.F=Ye.mb,Je.F==null&&Je.F.length==0)){Ft=gA(Ye,3,"Could not decode alpha data.");break e}Nr<Je.j&&(Lt=Je.j-Nr,Nr=Je.j,e(!(1&Lt)),Je.O+=Ye.R*Lt,Je.N+=Ye.B*(Lt>>1),Je.W+=Ye.B*(Lt>>1),Je.F!=null&&(Je.J+=Je.width*Lt)),Nr<wn&&(Je.O+=Je.v,Je.N+=Je.v>>1,Je.W+=Je.v>>1,Je.F!=null&&(Je.J+=Je.v),Je.ka=Nr-Je.j,Je.U=Je.va-Je.v,Je.T=wn-Nr,Ft=Je.put(Je))}wt+1!=Ye.Ic||un||(n(Ye.sa,Ye.ta-St,Yt,Fr+16*Ye.R,St),n(Ye.qa,Ye.ra-Ar,Zt,xt+8*Ye.B,Ar),n(Ye.Ha,Ye.Ia-Ar,Fn,In+8*Ye.B,Ar))}if(!Ft)return gA(ot,6,"Output aborted.")}return 1}(S,j)),j.bc!=null&&j.bc(j),W&=1}return W?(S.cb=0,W):0}function ji(S,j,W,ue,ve){ve=S[j+W+32*ue]+(ve>>3),S[j+W+32*ue]=-256&ve?0>ve?0:255:ve}function ti(S,j,W,ue,ve,Ee){ji(S,j,0,W,ue+ve),ji(S,j,1,W,ue+Ee),ji(S,j,2,W,ue-Ee),ji(S,j,3,W,ue-ve)}function VA(S){return(20091*S>>16)+S}function Vi(S,j,W,ue){var ve,Ee=0,Fe=i(16);for(ve=0;4>ve;++ve){var Ue=S[j+0]+S[j+8],Te=S[j+0]-S[j+8],Pe=(35468*S[j+4]>>16)-VA(S[j+12]),We=VA(S[j+4])+(35468*S[j+12]>>16);Fe[Ee+0]=Ue+We,Fe[Ee+1]=Te+Pe,Fe[Ee+2]=Te-Pe,Fe[Ee+3]=Ue-We,Ee+=4,j++}for(ve=Ee=0;4>ve;++ve)Ue=(S=Fe[Ee+0]+4)+Fe[Ee+8],Te=S-Fe[Ee+8],Pe=(35468*Fe[Ee+4]>>16)-VA(Fe[Ee+12]),ji(W,ue,0,0,Ue+(We=VA(Fe[Ee+4])+(35468*Fe[Ee+12]>>16))),ji(W,ue,1,0,Te+Pe),ji(W,ue,2,0,Te-Pe),ji(W,ue,3,0,Ue-We),Ee++,ue+=32}function Bl(S,j,W,ue){var ve=S[j+0]+4,Ee=35468*S[j+4]>>16,Fe=VA(S[j+4]),Ue=35468*S[j+1]>>16;ti(W,ue,0,ve+Fe,S=VA(S[j+1]),Ue),ti(W,ue,1,ve+Ee,S,Ue),ti(W,ue,2,ve-Ee,S,Ue),ti(W,ue,3,ve-Fe,S,Ue)}function Cl(S,j,W,ue,ve){Vi(S,j,W,ue),ve&&Vi(S,j+16,W,ue+4)}function Ha(S,j,W,ue){au(S,j+0,W,ue,1),au(S,j+32,W,ue+128,1)}function Wn(S,j,W,ue){var ve;for(S=S[j+0]+4,ve=0;4>ve;++ve)for(j=0;4>j;++j)ji(W,ue,j,ve,S)}function ja(S,j,W,ue){S[j+0]&&Wi(S,j+0,W,ue),S[j+16]&&Wi(S,j+16,W,ue+4),S[j+32]&&Wi(S,j+32,W,ue+128),S[j+48]&&Wi(S,j+48,W,ue+128+4)}function on(S,j,W,ue){var ve,Ee=i(16);for(ve=0;4>ve;++ve){var Fe=S[j+0+ve]+S[j+12+ve],Ue=S[j+4+ve]+S[j+8+ve],Te=S[j+4+ve]-S[j+8+ve],Pe=S[j+0+ve]-S[j+12+ve];Ee[0+ve]=Fe+Ue,Ee[8+ve]=Fe-Ue,Ee[4+ve]=Pe+Te,Ee[12+ve]=Pe-Te}for(ve=0;4>ve;++ve)Fe=(S=Ee[0+4*ve]+3)+Ee[3+4*ve],Ue=Ee[1+4*ve]+Ee[2+4*ve],Te=Ee[1+4*ve]-Ee[2+4*ve],Pe=S-Ee[3+4*ve],W[ue+0]=Fe+Ue>>3,W[ue+16]=Pe+Te>>3,W[ue+32]=Fe-Ue>>3,W[ue+48]=Pe-Te>>3,ue+=64}function Ls(S,j,W){var ue,ve=j-32,Ee=Ms,Fe=255-S[ve-1];for(ue=0;ue<W;++ue){var Ue,Te=Ee,Pe=Fe+S[j-1];for(Ue=0;Ue<W;++Ue)S[j+Ue]=Te[Pe+S[ve+Ue]];j+=32}}function Xh(S,j){Ls(S,j,4)}function nu(S,j){Ls(S,j,8)}function Yh(S,j){Ls(S,j,16)}function ra(S,j){var W;for(W=0;16>W;++W)n(S,j+32*W,S,j-32,16)}function bl(S,j){var W;for(W=16;0<W;--W)A(S,j,S[j-1],16),j+=32}function na(S,j,W){var ue;for(ue=0;16>ue;++ue)A(j,W+32*ue,S,16)}function yi(S,j){var W,ue=16;for(W=0;16>W;++W)ue+=S[j-1+32*W]+S[j+W-32];na(ue>>5,S,j)}function _n(S,j){var W,ue=8;for(W=0;16>W;++W)ue+=S[j-1+32*W];na(ue>>4,S,j)}function Fo(S,j){var W,ue=8;for(W=0;16>W;++W)ue+=S[j+W-32];na(ue>>4,S,j)}function no(S,j){na(128,S,j)}function _r(S,j,W){return S+2*j+W+2>>2}function Ao(S,j){var W,ue=j-32;for(ue=new Uint8Array([_r(S[ue-1],S[ue+0],S[ue+1]),_r(S[ue+0],S[ue+1],S[ue+2]),_r(S[ue+1],S[ue+2],S[ue+3]),_r(S[ue+2],S[ue+3],S[ue+4])]),W=0;4>W;++W)n(S,j+32*W,ue,0,ue.length)}function Aa(S,j){var W=S[j-1],ue=S[j-1+32],ve=S[j-1+64],Ee=S[j-1+96];Qe(S,j+0,16843009*_r(S[j-1-32],W,ue)),Qe(S,j+32,16843009*_r(W,ue,ve)),Qe(S,j+64,16843009*_r(ue,ve,Ee)),Qe(S,j+96,16843009*_r(ve,Ee,Ee))}function ia(S,j){var W,ue=4;for(W=0;4>W;++W)ue+=S[j+W-32]+S[j-1+32*W];for(ue>>=3,W=0;4>W;++W)A(S,j+32*W,ue,4)}function jc(S,j){var W=S[j-1+0],ue=S[j-1+32],ve=S[j-1+64],Ee=S[j-1-32],Fe=S[j+0-32],Ue=S[j+1-32],Te=S[j+2-32],Pe=S[j+3-32];S[j+0+96]=_r(ue,ve,S[j-1+96]),S[j+1+96]=S[j+0+64]=_r(W,ue,ve),S[j+2+96]=S[j+1+64]=S[j+0+32]=_r(Ee,W,ue),S[j+3+96]=S[j+2+64]=S[j+1+32]=S[j+0+0]=_r(Fe,Ee,W),S[j+3+64]=S[j+2+32]=S[j+1+0]=_r(Ue,Fe,Ee),S[j+3+32]=S[j+2+0]=_r(Te,Ue,Fe),S[j+3+0]=_r(Pe,Te,Ue)}function Ki(S,j){var W=S[j+1-32],ue=S[j+2-32],ve=S[j+3-32],Ee=S[j+4-32],Fe=S[j+5-32],Ue=S[j+6-32],Te=S[j+7-32];S[j+0+0]=_r(S[j+0-32],W,ue),S[j+1+0]=S[j+0+32]=_r(W,ue,ve),S[j+2+0]=S[j+1+32]=S[j+0+64]=_r(ue,ve,Ee),S[j+3+0]=S[j+2+32]=S[j+1+64]=S[j+0+96]=_r(ve,Ee,Fe),S[j+3+32]=S[j+2+64]=S[j+1+96]=_r(Ee,Fe,Ue),S[j+3+64]=S[j+2+96]=_r(Fe,Ue,Te),S[j+3+96]=_r(Ue,Te,Te)}function $u(S,j){var W=S[j-1+0],ue=S[j-1+32],ve=S[j-1+64],Ee=S[j-1-32],Fe=S[j+0-32],Ue=S[j+1-32],Te=S[j+2-32],Pe=S[j+3-32];S[j+0+0]=S[j+1+64]=Ee+Fe+1>>1,S[j+1+0]=S[j+2+64]=Fe+Ue+1>>1,S[j+2+0]=S[j+3+64]=Ue+Te+1>>1,S[j+3+0]=Te+Pe+1>>1,S[j+0+96]=_r(ve,ue,W),S[j+0+64]=_r(ue,W,Ee),S[j+0+32]=S[j+1+96]=_r(W,Ee,Fe),S[j+1+32]=S[j+2+96]=_r(Ee,Fe,Ue),S[j+2+32]=S[j+3+96]=_r(Fe,Ue,Te),S[j+3+32]=_r(Ue,Te,Pe)}function Gi(S,j){var W=S[j+0-32],ue=S[j+1-32],ve=S[j+2-32],Ee=S[j+3-32],Fe=S[j+4-32],Ue=S[j+5-32],Te=S[j+6-32],Pe=S[j+7-32];S[j+0+0]=W+ue+1>>1,S[j+1+0]=S[j+0+64]=ue+ve+1>>1,S[j+2+0]=S[j+1+64]=ve+Ee+1>>1,S[j+3+0]=S[j+2+64]=Ee+Fe+1>>1,S[j+0+32]=_r(W,ue,ve),S[j+1+32]=S[j+0+96]=_r(ue,ve,Ee),S[j+2+32]=S[j+1+96]=_r(ve,Ee,Fe),S[j+3+32]=S[j+2+96]=_r(Ee,Fe,Ue),S[j+3+64]=_r(Fe,Ue,Te),S[j+3+96]=_r(Ue,Te,Pe)}function sa(S,j){var W=S[j-1+0],ue=S[j-1+32],ve=S[j-1+64],Ee=S[j-1+96];S[j+0+0]=W+ue+1>>1,S[j+2+0]=S[j+0+32]=ue+ve+1>>1,S[j+2+32]=S[j+0+64]=ve+Ee+1>>1,S[j+1+0]=_r(W,ue,ve),S[j+3+0]=S[j+1+32]=_r(ue,ve,Ee),S[j+3+32]=S[j+1+64]=_r(ve,Ee,Ee),S[j+3+64]=S[j+2+64]=S[j+0+96]=S[j+1+96]=S[j+2+96]=S[j+3+96]=Ee}function El(S,j){var W=S[j-1+0],ue=S[j-1+32],ve=S[j-1+64],Ee=S[j-1+96],Fe=S[j-1-32],Ue=S[j+0-32],Te=S[j+1-32],Pe=S[j+2-32];S[j+0+0]=S[j+2+32]=W+Fe+1>>1,S[j+0+32]=S[j+2+64]=ue+W+1>>1,S[j+0+64]=S[j+2+96]=ve+ue+1>>1,S[j+0+96]=Ee+ve+1>>1,S[j+3+0]=_r(Ue,Te,Pe),S[j+2+0]=_r(Fe,Ue,Te),S[j+1+0]=S[j+3+32]=_r(W,Fe,Ue),S[j+1+32]=S[j+3+64]=_r(ue,W,Fe),S[j+1+64]=S[j+3+96]=_r(ve,ue,W),S[j+1+96]=_r(Ee,ve,ue)}function Vc(S,j){var W;for(W=0;8>W;++W)n(S,j+32*W,S,j-32,8)}function Ns(S,j){var W;for(W=0;8>W;++W)A(S,j,S[j-1],8),j+=32}function zi(S,j,W){var ue;for(ue=0;8>ue;++ue)A(j,W+32*ue,S,8)}function ds(S,j){var W,ue=8;for(W=0;8>W;++W)ue+=S[j+W-32]+S[j-1+32*W];zi(ue>>4,S,j)}function Va(S,j){var W,ue=4;for(W=0;8>W;++W)ue+=S[j+W-32];zi(ue>>3,S,j)}function Nn(S,j){var W,ue=4;for(W=0;8>W;++W)ue+=S[j-1+32*W];zi(ue>>3,S,j)}function Xu(S,j){zi(128,S,j)}function _l(S,j,W){var ue=S[j-W],ve=S[j+0],Ee=3*(ve-ue)+qa[1020+S[j-2*W]-S[j+W]],Fe=ef[112+(Ee+4>>3)];S[j-W]=Ms[255+ue+ef[112+(Ee+3>>3)]],S[j+0]=Ms[255+ve-Fe]}function Sl(S,j,W,ue){var ve=S[j+0],Ee=S[j+W];return fa[255+S[j-2*W]-S[j-W]]>ue||fa[255+Ee-ve]>ue}function EA(S,j,W,ue){return 4*fa[255+S[j-W]-S[j+0]]+fa[255+S[j-2*W]-S[j+W]]<=ue}function Yu(S,j,W,ue,ve){var Ee=S[j-3*W],Fe=S[j-2*W],Ue=S[j-W],Te=S[j+0],Pe=S[j+W],We=S[j+2*W],ct=S[j+3*W];return 4*fa[255+Ue-Te]+fa[255+Fe-Pe]>ue?0:fa[255+S[j-4*W]-Ee]<=ve&&fa[255+Ee-Fe]<=ve&&fa[255+Fe-Ue]<=ve&&fa[255+ct-We]<=ve&&fa[255+We-Pe]<=ve&&fa[255+Pe-Te]<=ve}function ri(S,j,W,ue){var ve=2*ue+1;for(ue=0;16>ue;++ue)EA(S,j+ue,W,ve)&&_l(S,j+ue,W)}function Rs(S,j,W,ue){var ve=2*ue+1;for(ue=0;16>ue;++ue)EA(S,j+ue*W,1,ve)&&_l(S,j+ue*W,1)}function KA(S,j,W,ue){var ve;for(ve=3;0<ve;--ve)ri(S,j+=4*W,W,ue)}function Kc(S,j,W,ue){var ve;for(ve=3;0<ve;--ve)Rs(S,j+=4,W,ue)}function Io(S,j,W,ue,ve,Ee,Fe,Ue){for(Ee=2*Ee+1;0<ve--;){if(Yu(S,j,W,Ee,Fe))if(Sl(S,j,W,Ue))_l(S,j,W);else{var Te=S,Pe=j,We=W,ct=Te[Pe-2*We],ht=Te[Pe-We],ot=Te[Pe+0],bt=Te[Pe+We],wt=Te[Pe+2*We],Ye=27*(Ft=qa[1020+3*(ot-ht)+qa[1020+ct-bt]])+63>>7,Je=18*Ft+63>>7,Ft=9*Ft+63>>7;Te[Pe-3*We]=Ms[255+Te[Pe-3*We]+Ft],Te[Pe-2*We]=Ms[255+ct+Je],Te[Pe-We]=Ms[255+ht+Ye],Te[Pe+0]=Ms[255+ot-Ye],Te[Pe+We]=Ms[255+bt-Je],Te[Pe+2*We]=Ms[255+wt-Ft]}j+=ue}}function RA(S,j,W,ue,ve,Ee,Fe,Ue){for(Ee=2*Ee+1;0<ve--;){if(Yu(S,j,W,Ee,Fe))if(Sl(S,j,W,Ue))_l(S,j,W);else{var Te=S,Pe=j,We=W,ct=Te[Pe-We],ht=Te[Pe+0],ot=Te[Pe+We],bt=ef[112+((wt=3*(ht-ct))+4>>3)],wt=ef[112+(wt+3>>3)],Ye=bt+1>>1;Te[Pe-2*We]=Ms[255+Te[Pe-2*We]+Ye],Te[Pe-We]=Ms[255+ct+wt],Te[Pe+0]=Ms[255+ht-bt],Te[Pe+We]=Ms[255+ot-Ye]}j+=ue}}function oa(S,j,W,ue,ve,Ee){Io(S,j,W,1,16,ue,ve,Ee)}function _A(S,j,W,ue,ve,Ee){Io(S,j,1,W,16,ue,ve,Ee)}function xo(S,j,W,ue,ve,Ee){var Fe;for(Fe=3;0<Fe;--Fe)RA(S,j+=4*W,W,1,16,ue,ve,Ee)}function Ui(S,j,W,ue,ve,Ee){var Fe;for(Fe=3;0<Fe;--Fe)RA(S,j+=4,1,W,16,ue,ve,Ee)}function Ps(S,j,W,ue,ve,Ee,Fe,Ue){Io(S,j,ve,1,8,Ee,Fe,Ue),Io(W,ue,ve,1,8,Ee,Fe,Ue)}function Au(S,j,W,ue,ve,Ee,Fe,Ue){Io(S,j,1,ve,8,Ee,Fe,Ue),Io(W,ue,1,ve,8,Ee,Fe,Ue)}function Fl(S,j,W,ue,ve,Ee,Fe,Ue){RA(S,j+4*ve,ve,1,8,Ee,Fe,Ue),RA(W,ue+4*ve,ve,1,8,Ee,Fe,Ue)}function aa(S,j,W,ue,ve,Ee,Fe,Ue){RA(S,j+4,1,ve,8,Ee,Fe,Ue),RA(W,ue+4,1,ve,8,Ee,Fe,Ue)}function Uo(){this.ba=new vn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new jt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ka(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Il(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ju(){this.ua=0,this.Wa=new Le,this.vb=new Le,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new V,this.yc=new L}function Jh(){this.xb=this.a=0,this.l=new fs,this.ca=new vn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new H,this.Pb=0,this.wd=new H,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ju,this.ab=0,this.gc=s(4,Il),this.Oc=0}function Ga(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new fs,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function la(S,j,W,ue,ve,Ee,Fe){for(S=S==null?0:S[j+0],j=0;j<Fe;++j)ve[Ee+j]=S+W[ue+j]&255,S=ve[Ee+j]}function Zu(S,j,W,ue,ve,Ee,Fe){var Ue;if(S==null)la(null,null,W,ue,ve,Ee,Fe);else for(Ue=0;Ue<Fe;++Ue)ve[Ee+Ue]=S[j+Ue]+W[ue+Ue]&255}function ps(S,j,W,ue,ve,Ee,Fe){if(S==null)la(null,null,W,ue,ve,Ee,Fe);else{var Ue,Te=S[j+0],Pe=Te,We=Te;for(Ue=0;Ue<Fe;++Ue)Pe=We+(Te=S[j+Ue])-Pe,We=W[ue+Ue]+(-256&Pe?0>Pe?0:255:Pe)&255,Pe=Te,ve[Ee+Ue]=We}}function ec(S,j,W,ue){var ve=j.width,Ee=j.o;if(e(S!=null&&j!=null),0>W||0>=ue||W+ue>Ee)return null;if(!S.Cc){if(S.ga==null){var Fe;if(S.ga=new Ga,(Fe=S.ga==null)||(Fe=j.width*j.o,e(S.Gb.length==0),S.Gb=i(Fe),S.Uc=0,S.Gb==null?Fe=0:(S.mb=S.Gb,S.nb=S.Uc,S.rc=null,Fe=1),Fe=!Fe),!Fe){Fe=S.ga;var Ue=S.Fa,Te=S.P,Pe=S.qc,We=S.mb,ct=S.nb,ht=Te+1,ot=Pe-1,bt=Fe.l;if(e(Ue!=null&&We!=null&&j!=null),Xi[0]=null,Xi[1]=la,Xi[2]=Zu,Xi[3]=ps,Fe.ca=We,Fe.tb=ct,Fe.c=j.width,Fe.i=j.height,e(0<Fe.c&&0<Fe.i),1>=Pe)j=0;else if(Fe.$a=Ue[Te+0]>>0&3,Fe.Z=Ue[Te+0]>>2&3,Fe.Lc=Ue[Te+0]>>4&3,Te=Ue[Te+0]>>6&3,0>Fe.$a||1<Fe.$a||4<=Fe.Z||1<Fe.Lc||Te)j=0;else if(bt.put=On,bt.ac=Gr,bt.bc=BA,bt.ma=Fe,bt.width=j.width,bt.height=j.height,bt.Da=j.Da,bt.v=j.v,bt.va=j.va,bt.j=j.j,bt.o=j.o,Fe.$a)e:{e(Fe.$a==1),j=AA();t:for(;;){if(j==null){j=0;break e}if(e(Fe!=null),Fe.mc=j,j.c=Fe.c,j.i=Fe.i,j.l=Fe.l,j.l.ma=Fe,j.l.width=Fe.c,j.l.height=Fe.i,j.a=0,le(j.m,Ue,ht,ot),!Mi(Fe.c,Fe.i,1,j,null)||(j.ab==1&&j.gc[0].hc==3&&xi(j.s)?(Fe.ic=1,Ue=j.c*j.i,j.Ta=null,j.Ua=0,j.V=i(Ue),j.Ba=0,j.V==null?(j.a=1,j=0):j=1):(Fe.ic=0,j=nr(j,Fe.c)),!j))break t;j=1;break e}Fe.mc=null,j=0}else j=ot>=Fe.c*Fe.i;Fe=!j}if(Fe)return null;S.ga.Lc!=1?S.Ga=0:ue=Ee-W}e(S.ga!=null),e(W+ue<=Ee);e:{if(j=(Ue=S.ga).c,Ee=Ue.l.o,Ue.$a==0){if(ht=S.rc,ot=S.Vc,bt=S.Fa,Te=S.P+1+W*j,Pe=S.mb,We=S.nb+W*j,e(Te<=S.P+S.qc),Ue.Z!=0)for(e(Xi[Ue.Z]!=null),Fe=0;Fe<ue;++Fe)Xi[Ue.Z](ht,ot,bt,Te,Pe,We,j),ht=Pe,ot=We,We+=j,Te+=j;else for(Fe=0;Fe<ue;++Fe)n(Pe,We,bt,Te,j),ht=Pe,ot=We,We+=j,Te+=j;S.rc=ht,S.Vc=ot}else{if(e(Ue.mc!=null),j=W+ue,e((Fe=Ue.mc)!=null),e(j<=Fe.i),Fe.C>=j)j=1;else if(Ue.ic||at(),Ue.ic){Ue=Fe.V,ht=Fe.Ba,ot=Fe.c;var wt=Fe.i,Ye=(bt=1,Te=Fe.$/ot,Pe=Fe.$%ot,We=Fe.m,ct=Fe.s,Fe.$),Je=ot*wt,Ft=ot*j,St=ct.wc,xt=Ye<Ft?yn(ct,Pe,Te):null;e(Ye<=Je),e(j<=wt),e(xi(ct));t:for(;;){for(;!We.h&&Ye<Ft;){if(Pe&St||(xt=yn(ct,Pe,Te)),e(xt!=null),ie(We),256>(wt=fn(xt.G[0],xt.H[0],We)))Ue[ht+Ye]=wt,++Ye,++Pe>=ot&&(Pe=0,++Te<=j&&!(Te%16)&&ZA(Fe,Te));else{if(!(280>wt)){bt=0;break t}wt=JA(wt-256,We);var Ar,Yt=fn(xt.G[4],xt.H[4],We);if(ie(We),!(Ye>=(Yt=CA(ot,Yt=JA(Yt,We)))&&Je-Ye>=wt)){bt=0;break t}for(Ar=0;Ar<wt;++Ar)Ue[ht+Ye+Ar]=Ue[ht+Ye+Ar-Yt];for(Ye+=wt,Pe+=wt;Pe>=ot;)Pe-=ot,++Te<=j&&!(Te%16)&&ZA(Fe,Te);Ye<Ft&&Pe&St&&(xt=yn(ct,Pe,Te))}e(We.h==oe(We))}ZA(Fe,Te>j?j:Te);break t}!bt||We.h&&Ye<Je?(bt=0,Fe.a=We.h?5:3):Fe.$=Ye,j=bt}else j=oA(Fe,Fe.V,Fe.Ba,Fe.c,Fe.i,j,$e);if(!j){ue=0;break e}}W+ue>=Ee&&(S.Cc=1),ue=1}if(!ue)return null;if(S.Cc&&((ue=S.ga)!=null&&(ue.mc=null),S.ga=null,0<S.Ga))return alert("todo:WebPDequantizeLevels"),null}return S.nb+W*ve}function K(S,j,W,ue,ve,Ee){for(;0<ve--;){var Fe,Ue=S,Te=j+(W?1:0),Pe=S,We=j+(W?0:3);for(Fe=0;Fe<ue;++Fe){var ct=Pe[We+4*Fe];ct!=255&&(ct*=32897,Ue[Te+4*Fe+0]=Ue[Te+4*Fe+0]*ct>>23,Ue[Te+4*Fe+1]=Ue[Te+4*Fe+1]*ct>>23,Ue[Te+4*Fe+2]=Ue[Te+4*Fe+2]*ct>>23)}j+=Ee}}function ye(S,j,W,ue,ve){for(;0<ue--;){var Ee;for(Ee=0;Ee<W;++Ee){var Fe=S[j+2*Ee+0],Ue=15&(Pe=S[j+2*Ee+1]),Te=4369*Ue,Pe=(240&Pe|Pe>>4)*Te>>16;S[j+2*Ee+0]=(240&Fe|Fe>>4)*Te>>16&240|(15&Fe|Fe<<4)*Te>>16>>4&15,S[j+2*Ee+1]=240&Pe|Ue}j+=ve}}function De(S,j,W,ue,ve,Ee,Fe,Ue){var Te,Pe,We=255;for(Pe=0;Pe<ve;++Pe){for(Te=0;Te<ue;++Te){var ct=S[j+Te];Ee[Fe+4*Te]=ct,We&=ct}j+=W,Fe+=Ue}return We!=255}function Ge(S,j,W,ue,ve){var Ee;for(Ee=0;Ee<ve;++Ee)W[ue+Ee]=S[j+Ee]>>8}function at(){Ds=K,eA=ye,Hn=De,zA=Ge}function Ct(S,j,W){U[S]=function(ue,ve,Ee,Fe,Ue,Te,Pe,We,ct,ht,ot,bt,wt,Ye,Je,Ft,St){var xt,Ar=St-1>>1,Yt=Ue[Te+0]|Pe[We+0]<<16,Fr=ct[ht+0]|ot[bt+0]<<16;e(ue!=null);var Zt=3*Yt+Fr+131074>>2;for(j(ue[ve+0],255&Zt,Zt>>16,wt,Ye),Ee!=null&&(Zt=3*Fr+Yt+131074>>2,j(Ee[Fe+0],255&Zt,Zt>>16,Je,Ft)),xt=1;xt<=Ar;++xt){var Fn=Ue[Te+xt]|Pe[We+xt]<<16,In=ct[ht+xt]|ot[bt+xt]<<16,un=Yt+Fn+Fr+In+524296,Lt=un+2*(Fn+Fr)>>3;Zt=Lt+Yt>>1,Yt=(un=un+2*(Yt+In)>>3)+Fn>>1,j(ue[ve+2*xt-1],255&Zt,Zt>>16,wt,Ye+(2*xt-1)*W),j(ue[ve+2*xt-0],255&Yt,Yt>>16,wt,Ye+(2*xt-0)*W),Ee!=null&&(Zt=un+Fr>>1,Yt=Lt+In>>1,j(Ee[Fe+2*xt-1],255&Zt,Zt>>16,Je,Ft+(2*xt-1)*W),j(Ee[Fe+2*xt+0],255&Yt,Yt>>16,Je,Ft+(2*xt+0)*W)),Yt=Fn,Fr=In}1&St||(Zt=3*Yt+Fr+131074>>2,j(ue[ve+St-1],255&Zt,Zt>>16,wt,Ye+(St-1)*W),Ee!=null&&(Zt=3*Fr+Yt+131074>>2,j(Ee[Fe+St-1],255&Zt,Zt>>16,Je,Ft+(St-1)*W)))}}function Rt(){oo[Hp]=b1,oo[nc]=Wa,oo[Yc]=Xm,oo[hd]=Af,oo[fd]=th,oo[jn]=gd,oo[jp]=Ym,oo[tf]=Wa,oo[Jc]=Af,oo[dd]=th,oo[Ac]=gd}function Xt(S){return S&-16384?0>S?0:255:S>>sc}function x(S,j){return Xt((19077*S>>8)+(26149*j>>8)-14234)}function Z(S,j,W){return Xt((19077*S>>8)-(6419*j>>8)-(13320*W>>8)+8708)}function ce(S,j){return Xt((19077*S>>8)+(33050*j>>8)-17685)}function xe(S,j,W,ue,ve){ue[ve+0]=x(S,W),ue[ve+1]=Z(S,j,W),ue[ve+2]=ce(S,j)}function rt(S,j,W,ue,ve){ue[ve+0]=ce(S,j),ue[ve+1]=Z(S,j,W),ue[ve+2]=x(S,W)}function dt(S,j,W,ue,ve){var Ee=Z(S,j,W);j=Ee<<3&224|ce(S,j)>>3,ue[ve+0]=248&x(S,W)|Ee>>5,ue[ve+1]=j}function _t(S,j,W,ue,ve){var Ee=240&ce(S,j)|15;ue[ve+0]=240&x(S,W)|Z(S,j,W)>>4,ue[ve+1]=Ee}function Kr(S,j,W,ue,ve){ue[ve+0]=255,xe(S,j,W,ue,ve+1)}function tn(S,j,W,ue,ve){rt(S,j,W,ue,ve),ue[ve+3]=255}function Mr(S,j,W,ue,ve){xe(S,j,W,ue,ve),ue[ve+3]=255}function ln(S,j){return 0>S?0:S>j?j:S}function rn(S,j,W){U[S]=function(ue,ve,Ee,Fe,Ue,Te,Pe,We,ct){for(var ht=We+(-2&ct)*W;We!=ht;)j(ue[ve+0],Ee[Fe+0],Ue[Te+0],Pe,We),j(ue[ve+1],Ee[Fe+0],Ue[Te+0],Pe,We+W),ve+=2,++Fe,++Te,We+=2*W;1&ct&&j(ue[ve+0],Ee[Fe+0],Ue[Te+0],Pe,We)}}function Os(S,j,W){return W==0?S==0?j==0?6:5:j==0?4:0:W}function SA(S,j,W,ue,ve){switch(S>>>30){case 3:au(j,W,ue,ve,0);break;case 2:Pn(j,W,ue,ve);break;case 1:Wi(j,W,ue,ve)}}function Mn(S,j){var W,ue,ve=j.M,Ee=j.Nb,Fe=S.oc,Ue=S.pc+40,Te=S.oc,Pe=S.pc+584,We=S.oc,ct=S.pc+600;for(W=0;16>W;++W)Fe[Ue+32*W-1]=129;for(W=0;8>W;++W)Te[Pe+32*W-1]=129,We[ct+32*W-1]=129;for(0<ve?Fe[Ue-1-32]=Te[Pe-1-32]=We[ct-1-32]=129:(A(Fe,Ue-32-1,127,21),A(Te,Pe-32-1,127,9),A(We,ct-32-1,127,9)),ue=0;ue<S.za;++ue){var ht=j.ya[j.aa+ue];if(0<ue){for(W=-1;16>W;++W)n(Fe,Ue+32*W-4,Fe,Ue+32*W+12,4);for(W=-1;8>W;++W)n(Te,Pe+32*W-4,Te,Pe+32*W+4,4),n(We,ct+32*W-4,We,ct+32*W+4,4)}var ot=S.Gd,bt=S.Hd+ue,wt=ht.ad,Ye=ht.Hc;if(0<ve&&(n(Fe,Ue-32,ot[bt].y,0,16),n(Te,Pe-32,ot[bt].f,0,8),n(We,ct-32,ot[bt].ea,0,8)),ht.Za){var Je=Fe,Ft=Ue-32+16;for(0<ve&&(ue>=S.za-1?A(Je,Ft,ot[bt].y[15],4):n(Je,Ft,ot[bt+1].y,0,4)),W=0;4>W;W++)Je[Ft+128+W]=Je[Ft+256+W]=Je[Ft+384+W]=Je[Ft+0+W];for(W=0;16>W;++W,Ye<<=2)Je=Fe,Ft=Ue+Jm[W],da[ht.Ob[W]](Je,Ft),SA(Ye,wt,16*+W,Je,Ft)}else if(Je=Os(ue,ve,ht.Ob[0]),Hs[Je](Fe,Ue),Ye!=0)for(W=0;16>W;++W,Ye<<=2)SA(Ye,wt,16*+W,Fe,Ue+Jm[W]);for(W=ht.Gc,Je=Os(ue,ve,ht.Dd),$i[Je](Te,Pe),$i[Je](We,ct),Ye=wt,Je=Te,Ft=Pe,255&(ht=W>>0)&&(170&ht?ha(Ye,256,Je,Ft):Lo(Ye,256,Je,Ft)),ht=We,Ye=ct,255&(W>>=8)&&(170&W?ha(wt,320,ht,Ye):Lo(wt,320,ht,Ye)),ve<S.Ub-1&&(n(ot[bt].y,0,Fe,Ue+480,16),n(ot[bt].f,0,Te,Pe+224,8),n(ot[bt].ea,0,We,ct+224,8)),W=8*Ee*S.B,ot=S.sa,bt=S.ta+16*ue+16*Ee*S.R,wt=S.qa,ht=S.ra+8*ue+W,Ye=S.Ha,Je=S.Ia+8*ue+W,W=0;16>W;++W)n(ot,bt+W*S.R,Fe,Ue+32*W,16);for(W=0;8>W;++W)n(wt,ht+W*S.B,Te,Pe+32*W,8),n(Ye,Je+W*S.B,We,ct+32*W,8)}}function ua(S,j,W,ue,ve,Ee,Fe,Ue,Te){var Pe=[0],We=[0],ct=0,ht=Te!=null?Te.kd:0,ot=Te??new Ka;if(S==null||12>W)return 7;ot.data=S,ot.w=j,ot.ha=W,j=[j],W=[W],ot.gb=[ot.gb];e:{var bt=j,wt=W,Ye=ot.gb;if(e(S!=null),e(wt!=null),e(Ye!=null),Ye[0]=0,12<=wt[0]&&!t(S,bt[0],"RIFF")){if(t(S,bt[0]+8,"WEBP")){Ye=3;break e}var Je=nt(S,bt[0]+4);if(12>Je||4294967286<Je){Ye=3;break e}if(ht&&Je>wt[0]-8){Ye=7;break e}Ye[0]=Je,bt[0]+=12,wt[0]-=12}Ye=0}if(Ye!=0)return Ye;for(Je=0<ot.gb[0],W=W[0];;){e:{var Ft=S;wt=j,Ye=W;var St=Pe,xt=We,Ar=bt=[0];if((Zt=ct=[ct])[0]=0,8>Ye[0])Ye=7;else{if(!t(Ft,wt[0],"VP8X")){if(nt(Ft,wt[0]+4)!=10){Ye=3;break e}if(18>Ye[0]){Ye=7;break e}var Yt=nt(Ft,wt[0]+8),Fr=1+et(Ft,wt[0]+12);if(2147483648<=Fr*(Ft=1+et(Ft,wt[0]+15))){Ye=3;break e}Ar!=null&&(Ar[0]=Yt),St!=null&&(St[0]=Fr),xt!=null&&(xt[0]=Ft),wt[0]+=18,Ye[0]-=18,Zt[0]=1}Ye=0}}if(ct=ct[0],bt=bt[0],Ye!=0)return Ye;if(wt=!!(2&bt),!Je&&ct)return 3;if(Ee!=null&&(Ee[0]=!!(16&bt)),Fe!=null&&(Fe[0]=wt),Ue!=null&&(Ue[0]=0),Fe=Pe[0],bt=We[0],ct&&wt&&Te==null){Ye=0;break}if(4>W){Ye=7;break}if(Je&&ct||!Je&&!ct&&!t(S,j[0],"ALPH")){W=[W],ot.na=[ot.na],ot.P=[ot.P],ot.Sa=[ot.Sa];e:{Yt=S,Ye=j,Je=W;var Zt=ot.gb;St=ot.na,xt=ot.P,Ar=ot.Sa,Fr=22,e(Yt!=null),e(Je!=null),Ft=Ye[0];var Fn=Je[0];for(e(St!=null),e(Ar!=null),St[0]=null,xt[0]=null,Ar[0]=0;;){if(Ye[0]=Ft,Je[0]=Fn,8>Fn){Ye=7;break e}var In=nt(Yt,Ft+4);if(4294967286<In){Ye=3;break e}var un=8+In+1&-2;if(Fr+=un,0<Zt&&Fr>Zt){Ye=3;break e}if(!t(Yt,Ft,"VP8 ")||!t(Yt,Ft,"VP8L")){Ye=0;break e}if(Fn[0]<un){Ye=7;break e}t(Yt,Ft,"ALPH")||(St[0]=Yt,xt[0]=Ft+8,Ar[0]=In),Ft+=un,Fn-=un}}if(W=W[0],ot.na=ot.na[0],ot.P=ot.P[0],ot.Sa=ot.Sa[0],Ye!=0)break}W=[W],ot.Ja=[ot.Ja],ot.xa=[ot.xa];e:if(Zt=S,Ye=j,Je=W,St=ot.gb[0],xt=ot.Ja,Ar=ot.xa,Yt=Ye[0],Ft=!t(Zt,Yt,"VP8 "),Fr=!t(Zt,Yt,"VP8L"),e(Zt!=null),e(Je!=null),e(xt!=null),e(Ar!=null),8>Je[0])Ye=7;else{if(Ft||Fr){if(Zt=nt(Zt,Yt+4),12<=St&&Zt>St-12){Ye=3;break e}if(ht&&Zt>Je[0]-8){Ye=7;break e}xt[0]=Zt,Ye[0]+=8,Je[0]-=8,Ar[0]=Fr}else Ar[0]=5<=Je[0]&&Zt[Yt+0]==47&&!(Zt[Yt+4]>>5),xt[0]=Je[0];Ye=0}if(W=W[0],ot.Ja=ot.Ja[0],ot.xa=ot.xa[0],j=j[0],Ye!=0)break;if(4294967286<ot.Ja)return 3;if(Ue==null||wt||(Ue[0]=ot.xa?2:1),Fe=[Fe],bt=[bt],ot.xa){if(5>W){Ye=7;break}Ue=Fe,ht=bt,wt=Ee,S==null||5>W?S=0:5<=W&&S[j+0]==47&&!(S[j+4]>>5)?(Je=[0],Zt=[0],St=[0],le(xt=new H,S,j,W),$t(xt,Je,Zt,St)?(Ue!=null&&(Ue[0]=Je[0]),ht!=null&&(ht[0]=Zt[0]),wt!=null&&(wt[0]=St[0]),S=1):S=0):S=0}else{if(10>W){Ye=7;break}Ue=bt,S==null||10>W||!Mc(S,j+3,W-3)?S=0:(ht=S[j+0]|S[j+1]<<8|S[j+2]<<16,wt=16383&(S[j+7]<<8|S[j+6]),S=16383&(S[j+9]<<8|S[j+8]),1&ht||3<(ht>>1&7)||!(ht>>4&1)||ht>>5>=ot.Ja||!wt||!S?S=0:(Fe&&(Fe[0]=wt),Ue&&(Ue[0]=S),S=1))}if(!S||(Fe=Fe[0],bt=bt[0],ct&&(Pe[0]!=Fe||We[0]!=bt)))return 3;Te!=null&&(Te[0]=ot,Te.offset=j-Te.w,e(4294967286>j-Te.w),e(Te.offset==Te.ha-W));break}return Ye==0||Ye==7&&ct&&Te==null?(Ee!=null&&(Ee[0]|=ot.na!=null&&0<ot.na.length),ue!=null&&(ue[0]=Fe),ve!=null&&(ve[0]=bt),0):Ye}function GA(S,j,W){var ue=j.width,ve=j.height,Ee=0,Fe=0,Ue=ue,Te=ve;if(j.Da=S!=null&&0<S.Da,j.Da&&(Ue=S.cd,Te=S.bd,Ee=S.v,Fe=S.j,11>W||(Ee&=-2,Fe&=-2),0>Ee||0>Fe||0>=Ue||0>=Te||Ee+Ue>ue||Fe+Te>ve))return 0;if(j.v=Ee,j.j=Fe,j.va=Ee+Ue,j.o=Fe+Te,j.U=Ue,j.T=Te,j.da=S!=null&&0<S.da,j.da){if(!Ut(Ue,Te,W=[S.ib],Ee=[S.hb]))return 0;j.ib=W[0],j.hb=Ee[0]}return j.ob=S!=null&&S.ob,j.Kb=S==null||!S.Sd,j.da&&(j.ob=j.ib<3*ue/4&&j.hb<3*ve/4,j.Kb=0),1}function tc(S){if(S==null)return 2;if(11>S.S){var j=S.f.RGBA;j.fb+=(S.height-1)*j.A,j.A=-j.A}else j=S.f.kb,S=S.height,j.O+=(S-1)*j.fa,j.fa=-j.fa,j.N+=(S-1>>1)*j.Ab,j.Ab=-j.Ab,j.W+=(S-1>>1)*j.Db,j.Db=-j.Db,j.F!=null&&(j.J+=(S-1)*j.lb,j.lb=-j.lb);return 0}function io(S,j,W,ue){if(ue==null||0>=S||0>=j)return 2;if(W!=null){if(W.Da){var ve=W.cd,Ee=W.bd,Fe=-2&W.v,Ue=-2&W.j;if(0>Fe||0>Ue||0>=ve||0>=Ee||Fe+ve>S||Ue+Ee>j)return 2;S=ve,j=Ee}if(W.da){if(!Ut(S,j,ve=[W.ib],Ee=[W.hb]))return 2;S=ve[0],j=Ee[0]}}ue.width=S,ue.height=j;e:{var Te=ue.width,Pe=ue.height;if(S=ue.S,0>=Te||0>=Pe||!(S>=Hp&&13>S))S=2;else{if(0>=ue.Rd&&ue.sd==null){Fe=Ee=ve=j=0;var We=(Ue=Te*md[S])*Pe;if(11>S||(Ee=(Pe+1)/2*(j=(Te+1)/2),S==12&&(Fe=(ve=Te)*Pe)),(Pe=i(We+2*Ee+Fe))==null){S=1;break e}ue.sd=Pe,11>S?((Te=ue.f.RGBA).eb=Pe,Te.fb=0,Te.A=Ue,Te.size=We):((Te=ue.f.kb).y=Pe,Te.O=0,Te.fa=Ue,Te.Fd=We,Te.f=Pe,Te.N=0+We,Te.Ab=j,Te.Cd=Ee,Te.ea=Pe,Te.W=0+We+Ee,Te.Db=j,Te.Ed=Ee,S==12&&(Te.F=Pe,Te.J=0+We+2*Ee),Te.Tc=Fe,Te.lb=ve)}if(j=1,ve=ue.S,Ee=ue.width,Fe=ue.height,ve>=Hp&&13>ve)if(11>ve)S=ue.f.RGBA,j&=(Ue=Math.abs(S.A))*(Fe-1)+Ee<=S.size,j&=Ue>=Ee*md[ve],j&=S.eb!=null;else{S=ue.f.kb,Ue=(Ee+1)/2,We=(Fe+1)/2,Te=Math.abs(S.fa),Pe=Math.abs(S.Ab);var ct=Math.abs(S.Db),ht=Math.abs(S.lb),ot=ht*(Fe-1)+Ee;j&=Te*(Fe-1)+Ee<=S.Fd,j&=Pe*(We-1)+Ue<=S.Cd,j=(j&=ct*(We-1)+Ue<=S.Ed)&Te>=Ee&Pe>=Ue&ct>=Ue,j&=S.y!=null,j&=S.f!=null,j&=S.ea!=null,ve==12&&(j&=ht>=Ee,j&=ot<=S.Tc,j&=S.F!=null)}else j=0;S=j?0:2}}return S!=0||W!=null&&W.fd&&(S=tc(ue)),S}var aA=64,Rn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Gc=24,zc=32,qc=8,gs=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];it("Predictor0","PredictorAdd0"),U.Predictor0=function(){return 4278190080},U.Predictor1=function(S){return S},U.Predictor2=function(S,j,W){return j[W+0]},U.Predictor3=function(S,j,W){return j[W+1]},U.Predictor4=function(S,j,W){return j[W-1]},U.Predictor5=function(S,j,W){return ze(ze(S,j[W+1]),j[W+0])},U.Predictor6=function(S,j,W){return ze(S,j[W-1])},U.Predictor7=function(S,j,W){return ze(S,j[W+0])},U.Predictor8=function(S,j,W){return ze(j[W-1],j[W+0])},U.Predictor9=function(S,j,W){return ze(j[W+0],j[W+1])},U.Predictor10=function(S,j,W){return ze(ze(S,j[W-1]),ze(j[W+0],j[W+1]))},U.Predictor11=function(S,j,W){var ue=j[W+0];return 0>=lt(ue>>24&255,S>>24&255,(j=j[W-1])>>24&255)+lt(ue>>16&255,S>>16&255,j>>16&255)+lt(ue>>8&255,S>>8&255,j>>8&255)+lt(255&ue,255&S,255&j)?ue:S},U.Predictor12=function(S,j,W){var ue=j[W+0];return(Ve((S>>24&255)+(ue>>24&255)-((j=j[W-1])>>24&255))<<24|Ve((S>>16&255)+(ue>>16&255)-(j>>16&255))<<16|Ve((S>>8&255)+(ue>>8&255)-(j>>8&255))<<8|Ve((255&S)+(255&ue)-(255&j)))>>>0},U.Predictor13=function(S,j,W){var ue=j[W-1];return(At((S=ze(S,j[W+0]))>>24&255,ue>>24&255)<<24|At(S>>16&255,ue>>16&255)<<16|At(S>>8&255,ue>>8&255)<<8|At(S>>0&255,ue>>0&255))>>>0};var xl=U.PredictorAdd0;U.PredictorAdd1=yt,it("Predictor2","PredictorAdd2"),it("Predictor3","PredictorAdd3"),it("Predictor4","PredictorAdd4"),it("Predictor5","PredictorAdd5"),it("Predictor6","PredictorAdd6"),it("Predictor7","PredictorAdd7"),it("Predictor8","PredictorAdd8"),it("Predictor9","PredictorAdd9"),it("Predictor10","PredictorAdd10"),it("Predictor11","PredictorAdd11"),it("Predictor12","PredictorAdd12"),it("Predictor13","PredictorAdd13");var Ul=U.PredictorAdd2;de("ColorIndexInverseTransform","MapARGB","32b",function(S){return S>>8&255},function(S){return S}),de("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(S){return S},function(S){return S>>8&255});var ud,lA=U.ColorIndexInverseTransform,To=U.MapARGB,ca=U.VP8LColorIndexInverseTransformAlpha,PA=U.MapAlpha,qi=U.VP8LPredictorsAdd=[];qi.length=16,(U.VP8LPredictors=[]).length=16,(U.VP8LPredictorsAdd_C=[]).length=16,(U.VP8LPredictors_C=[]).length=16;var iu,ms,Ti,su,ou,Qo,so,au,Pn,ha,Wi,Lo,Wc,ks,rc,$c,Xc,vs,lu,za,Tl,Ql,uu,Qi,Ds,eA,Hn,zA,OA=i(511),Ll=i(2041),Zh=i(225),cu=i(767),cd=0,qa=Ll,ef=Zh,Ms=cu,fa=OA,Hp=0,nc=1,Yc=2,hd=3,fd=4,jn=5,jp=6,tf=7,Jc=8,dd=9,Ac=10,pd=[2,3,7],Vp=[3,3,11],Zc=[280,256,256,256,40],vw=[0,1,1,1,0],Kp=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],w1=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],yw=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Gp=8,rf=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ic=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],eh=null,qm=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Wm=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],ww=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Bw=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],B1=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],C1=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],$m=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Hs=[],da=[],$i=[],Nl=1,nf=2,Xi=[],oo=[];Ct("UpsampleRgbLinePair",xe,3),Ct("UpsampleBgrLinePair",rt,3),Ct("UpsampleRgbaLinePair",Mr,4),Ct("UpsampleBgraLinePair",tn,4),Ct("UpsampleArgbLinePair",Kr,4),Ct("UpsampleRgba4444LinePair",_t,2),Ct("UpsampleRgb565LinePair",dt,2);var b1=U.UpsampleRgbLinePair,Xm=U.UpsampleBgrLinePair,Wa=U.UpsampleRgbaLinePair,Af=U.UpsampleBgraLinePair,th=U.UpsampleArgbLinePair,gd=U.UpsampleRgba4444LinePair,Ym=U.UpsampleRgb565LinePair,hu=16,$a=1<<hu-1,Sn=-227,tA=482,sc=6,Yi=0,ao=i(256),rh=i(256),sf=i(256),lo=i(256),zp=i(tA-Sn),Cw=i(tA-Sn);rn("YuvToRgbRow",xe,3),rn("YuvToBgrRow",rt,3),rn("YuvToRgbaRow",Mr,4),rn("YuvToBgraRow",tn,4),rn("YuvToArgbRow",Kr,4),rn("YuvToRgba4444Row",_t,2),rn("YuvToRgb565Row",dt,2);var Jm=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],nh=[0,2,8],bw=[8,7,6,4,4,2,2,2,1,1,1,1],Rl=1;this.WebPDecodeRGBA=function(S,j,W,ue,ve){var Ee=nc,Fe=new Uo,Ue=new vn;Fe.ba=Ue,Ue.S=Ee,Ue.width=[Ue.width],Ue.height=[Ue.height];var Te=Ue.width,Pe=Ue.height,We=new vr;if(We==null||S==null)var ct=2;else e(We!=null),ct=ua(S,j,W,We.width,We.height,We.Pd,We.Qd,We.format,null);if(ct!=0?Te=0:(Te!=null&&(Te[0]=We.width[0]),Pe!=null&&(Pe[0]=We.height[0]),Te=1),Te){Ue.width=Ue.width[0],Ue.height=Ue.height[0],ue!=null&&(ue[0]=Ue.width),ve!=null&&(ve[0]=Ue.height);e:{if(ue=new fs,(ve=new Ka).data=S,ve.w=j,ve.ha=W,ve.kd=1,j=[0],e(ve!=null),((S=ua(ve.data,ve.w,ve.ha,null,null,null,j,null,ve))==0||S==7)&&j[0]&&(S=4),(j=S)==0){if(e(Fe!=null),ue.data=ve.data,ue.w=ve.w+ve.offset,ue.ha=ve.ha-ve.offset,ue.put=On,ue.ac=Gr,ue.bc=BA,ue.ma=Fe,ve.xa){if((S=AA())==null){Fe=1;break e}if(function(ht,ot){var bt=[0],wt=[0],Ye=[0];t:for(;;){if(ht==null)return 0;if(ot==null)return ht.a=2,0;if(ht.l=ot,ht.a=0,le(ht.m,ot.data,ot.w,ot.ha),!$t(ht.m,bt,wt,Ye)){ht.a=3;break t}if(ht.xb=nf,ot.width=bt[0],ot.height=wt[0],!Mi(bt[0],wt[0],1,ht,null))break t;return 1}return e(ht.a!=0),0}(S,ue)){if(ue=(j=io(ue.width,ue.height,Fe.Oa,Fe.ba))==0){t:{ue=S;r:for(;;){if(ue==null){ue=0;break t}if(e(ue.s.yc!=null),e(ue.s.Ya!=null),e(0<ue.s.Wb),e((W=ue.l)!=null),e((ve=W.ma)!=null),ue.xb!=0){if(ue.ca=ve.ba,ue.tb=ve.tb,e(ue.ca!=null),!GA(ve.Oa,W,hd)){ue.a=2;break r}if(!nr(ue,W.width)||W.da)break r;if((W.da||zt(ue.ca.S))&&at(),11>ue.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),ue.ca.f.kb.F!=null&&at()),ue.Pb&&0<ue.s.ua&&ue.s.vb.X==null&&!pt(ue.s.vb,ue.s.Wa.Xa)){ue.a=1;break r}ue.xb=0}if(!oA(ue,ue.V,ue.Ba,ue.c,ue.i,W.o,bA))break r;ve.Dc=ue.Ma,ue=1;break t}e(ue.a!=0),ue=0}ue=!ue}ue&&(j=S.a)}else j=S.a}else{if((S=new ei)==null){Fe=1;break e}if(S.Fa=ve.na,S.P=ve.P,S.qc=ve.Sa,Hc(S,ue)){if((j=io(ue.width,ue.height,Fe.Oa,Fe.ba))==0){if(S.Aa=0,W=Fe.Oa,e((ve=S)!=null),W!=null){if(0<(Te=0>(Te=W.Md)?0:100<Te?255:255*Te/100)){for(Pe=We=0;4>Pe;++Pe)12>(ct=ve.pb[Pe]).lc&&(ct.ia=Te*bw[0>ct.lc?0:ct.lc]>>3),We|=ct.ia;We&&(alert("todo:VP8InitRandom"),ve.ia=1)}ve.Ga=W.Id,100<ve.Ga?ve.Ga=100:0>ve.Ga&&(ve.Ga=0)}ro(S,ue)||(j=S.a)}}else j=S.a}j==0&&Fe.Oa!=null&&Fe.Oa.fd&&(j=tc(Fe.ba))}Fe=j}Ee=Fe!=0?null:11>Ee?Ue.f.RGBA.eb:Ue.f.kb.y}else Ee=null;return Ee};var md=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(U,k){for(var D="",_=0;_<4;_++)D+=String.fromCharCode(U[k++]);return D}function l(U,k){return(U[k+0]<<0|U[k+1]<<8|U[k+2]<<16)>>>0}function c(U,k){return(U[k+0]<<0|U[k+1]<<8|U[k+2]<<16|U[k+3]<<24)>>>0}new a;var h=[0],d=[0],m=[],g=new a,y=r,v=function(U,k){var D={},_=0,L=!1,O=0,V=0;if(D.frames=[],!function(z,oe,ae,ie){for(var pe=0;pe<ie;pe++)if(z[oe+pe]!=ae.charCodeAt(pe))return!0;return!1}(U,k,"RIFF",4)){for(c(U,k+=4),k+=8;k<U.length;){var $=u(U,k),Y=c(U,k+=4);k+=4;var re=Y+(1&Y);switch($){case"VP8 ":case"VP8L":D.frames[_]===void 0&&(D.frames[_]={}),(te=D.frames[_]).src_off=L?V:k-8,te.src_size=O+Y+8,_++,L&&(L=!1,O=0,V=0);break;case"VP8X":(te=D.header={}).feature_flags=U[k];var le=k+4;te.canvas_width=1+l(U,le),le+=3,te.canvas_height=1+l(U,le),le+=3;break;case"ALPH":L=!0,O=re+8,V=k-8;break;case"ANIM":(te=D.header).bgcolor=c(U,k),le=k+4,te.loop_count=(G=U)[(H=le)+0]<<0|G[H+1]<<8,le+=2;break;case"ANMF":var ne,te;(te=D.frames[_]={}).offset_x=2*l(U,k),k+=3,te.offset_y=2*l(U,k),k+=3,te.width=1+l(U,k),k+=3,te.height=1+l(U,k),k+=3,te.duration=l(U,k),k+=3,ne=U[k++],te.dispose=1&ne,te.blend=ne>>1&1}$!="ANMF"&&(k+=re)}var G,H;return D}}(y,0);v.response=y,v.rgbaoutput=!0,v.dataurl=!1;var w=v.header?v.header:null,b=v.frames?v.frames:null;if(w){w.loop_counter=w.loop_count,h=[w.canvas_height],d=[w.canvas_width];for(var B=0;B<b.length&&b[B].blend!=0;B++);}var F=b[0],N=g.WebPDecodeRGBA(y,F.src_off,F.src_size,d,h);F.rgba=N,F.imgwidth=d[0],F.imgheight=h[0];for(var T=0;T<d[0]*h[0]*4;T++)m[T]=N[T];return this.width=d,this.height=h,this.data=m,this}(function(r){var e=function(){return typeof q5=="function"},t=function(h,d,m,g){var y=4,v=s;switch(g){case r.image_compression.FAST:y=1,v=i;break;case r.image_compression.MEDIUM:y=6,v=o;break;case r.image_compression.SLOW:y=9,v=a}h=n(h,d,m,v);var w=q5(h,{level:y});return r.__addimage__.arrayBufferToBinaryString(w)},n=function(h,d,m,g){for(var y,v,w,b=h.length/d,B=new Uint8Array(h.length+b),F=l(),N=0;N<b;N+=1){if(w=N*d,y=h.subarray(w,w+d),g)B.set(g(y,m,v),w+N);else{for(var T,U=F.length,k=[];T<U;T+=1)k[T]=F[T](y,m,v);var D=c(k.concat());B.set(k[D],w+N)}v=y}return B},A=function(h){var d=Array.apply([],h);return d.unshift(0),d},i=function(h,d){var m,g=[],y=h.length;g[0]=1;for(var v=0;v<y;v+=1)m=h[v-d]||0,g[v+1]=h[v]-m+256&255;return g},s=function(h,d,m){var g,y=[],v=h.length;y[0]=2;for(var w=0;w<v;w+=1)g=m&&m[w]||0,y[w+1]=h[w]-g+256&255;return y},o=function(h,d,m){var g,y,v=[],w=h.length;v[0]=3;for(var b=0;b<w;b+=1)g=h[b-d]||0,y=m&&m[b]||0,v[b+1]=h[b]+256-(g+y>>>1)&255;return v},a=function(h,d,m){var g,y,v,w,b=[],B=h.length;b[0]=4;for(var F=0;F<B;F+=1)g=h[F-d]||0,y=m&&m[F]||0,v=m&&m[F-d]||0,w=u(g,y,v),b[F+1]=h[F]-w+256&255;return b},u=function(h,d,m){if(h===d&&d===m)return h;var g=Math.abs(d-m),y=Math.abs(h-m),v=Math.abs(h+d-m-m);return g<=y&&g<=v?h:y<=v?d:m},l=function(){return[A,i,s,o,a]},c=function(h){var d=h.map(function(m){return m.reduce(function(g,y){return g+Math.abs(y)},0)});return d.indexOf(Math.min.apply(null,d))};r.processPNG=function(h,d,m,g){var y,v,w,b,B,F,N,T,U,k,D,_,L,O,V,$=this.decode.FLATE_DECODE,Y="";if(this.__addimage__.isArrayBuffer(h)&&(h=new Uint8Array(h)),this.__addimage__.isArrayBufferView(h)){if(h=(w=new ece(h)).imgData,v=w.bits,y=w.colorSpace,B=w.colors,[4,6].indexOf(w.colorType)!==-1){if(w.bits===8){U=(T=w.pixelBitlength==32?new Uint32Array(w.decodePixels().buffer):w.pixelBitlength==16?new Uint16Array(w.decodePixels().buffer):new Uint8Array(w.decodePixels().buffer)).length,D=new Uint8Array(U*w.colors),k=new Uint8Array(U);var re,le=w.pixelBitlength-w.bits;for(O=0,V=0;O<U;O++){for(L=T[O],re=0;re<le;)D[V++]=L>>>re&255,re+=w.bits;k[O]=L>>>re&255}}if(w.bits===16){U=(T=new Uint32Array(w.decodePixels().buffer)).length,D=new Uint8Array(U*(32/w.pixelBitlength)*w.colors),k=new Uint8Array(U*(32/w.pixelBitlength)),_=w.colors>1,O=0,V=0;for(var ne=0;O<U;)L=T[O++],D[V++]=L>>>0&255,_&&(D[V++]=L>>>16&255,L=T[O++],D[V++]=L>>>0&255),k[ne++]=L>>>16&255;v=8}g!==r.image_compression.NONE&&e()?(h=t(D,w.width*w.colors,w.colors,g),N=t(k,w.width,1,g)):(h=D,N=k,$=void 0)}if(w.colorType===3&&(y=this.color_spaces.INDEXED,F=w.palette,w.transparency.indexed)){var te=w.transparency.indexed,G=0;for(O=0,U=te.length;O<U;++O)G+=te[O];if((G/=255)===U-1&&te.indexOf(0)!==-1)b=[te.indexOf(0)];else if(G!==U){for(T=w.decodePixels(),k=new Uint8Array(T.length),O=0,U=T.length;O<U;O++)k[O]=te[T[O]];N=t(k,w.width,1)}}var H=function(z){var oe;switch(z){case r.image_compression.FAST:oe=11;break;case r.image_compression.MEDIUM:oe=13;break;case r.image_compression.SLOW:oe=14;break;default:oe=12}return oe}(g);return $===this.decode.FLATE_DECODE&&(Y="/Predictor "+H+" "),Y+="/Colors "+B+" /BitsPerComponent "+v+" /Columns "+w.width,(this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),(N&&this.__addimage__.isArrayBuffer(N)||this.__addimage__.isArrayBufferView(N))&&(N=this.__addimage__.arrayBufferToBinaryString(N)),{alias:m,data:h,index:d,filter:$,decodeParameters:Y,transparency:b,palette:F,sMask:N,predictor:H,width:w.width,height:w.height,bitsPerComponent:v,colorSpace:y}}}})(Or.API),function(r){r.processGIF89A=function(e,t,n,A){var i=new tce(e),s=i.width,o=i.height,a=[];i.decodeAndBlitFrameRGBA(0,a);var u={data:a,width:s,height:o},l=new TT(100).encode(u,100);return r.processJPEG.call(this,l,t,n,A)},r.processGIF87A=r.processGIF89A}(Or.API),fh.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var e=0;e<r;e++){var t=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),A=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:A,green:n,blue:t,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},fh.prototype.parseBGR=function(){this.pos=this.offset;try{var r="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[r]()}catch(t){MA.log("bit decode error:"+t)}},fh.prototype.bit1=function(){var r,e=Math.ceil(this.width/8),t=e%4;for(r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,A=0;A<e;A++)for(var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*A*4,o=0;o<8&&8*A+o<this.width;o++){var a=this.palette[i>>7-o&1];this.data[s+4*o]=a.blue,this.data[s+4*o+1]=a.green,this.data[s+4*o+2]=a.red,this.data[s+4*o+3]=255}t!==0&&(this.pos+=4-t)}},fh.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),e=r%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,A=0;A<r;A++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*A*4,o=i>>4,a=15&i,u=this.palette[o];if(this.data[s]=u.blue,this.data[s+1]=u.green,this.data[s+2]=u.red,this.data[s+3]=255,2*A+1>=this.width)break;u=this.palette[a],this.data[s+4]=u.blue,this.data[s+4+1]=u.green,this.data[s+4+2]=u.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},fh.prototype.bit8=function(){for(var r=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var A=this.datav.getUint8(this.pos++,!0),i=t*this.width*4+4*n;if(A<this.palette.length){var s=this.palette[A];this.data[i]=s.red,this.data[i+1]=s.green,this.data[i+2]=s.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}r!==0&&(this.pos+=4-r)}},fh.prototype.bit15=function(){for(var r=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,A=0;A<this.width;A++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(i&e)/e*255|0,o=(i>>5&e)/e*255|0,a=(i>>10&e)/e*255|0,u=i>>15?255:0,l=n*this.width*4+4*A;this.data[l]=a,this.data[l+1]=o,this.data[l+2]=s,this.data[l+3]=u}this.pos+=r}},fh.prototype.bit16=function(){for(var r=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var A=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&t)/t*255|0,u=(s>>11)/e*255|0,l=A*this.width*4+4*i;this.data[l]=u,this.data[l+1]=a,this.data[l+2]=o,this.data[l+3]=255}this.pos+=r}},fh.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),A=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*t;this.data[s]=i,this.data[s+1]=A,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},fh.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),A=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=i,this.data[o+1]=A,this.data[o+2]=n,this.data[o+3]=s}},fh.prototype.getData=function(){return this.data},function(r){r.processBMP=function(e,t,n,A){var i=new fh(e,!1),s=i.width,o=i.height,a={data:i.getData(),width:s,height:o},u=new TT(100).encode(a,100);return r.processJPEG.call(this,u,t,n,A)}}(Or.API),TM.prototype.getData=function(){return this.data},function(r){r.processWEBP=function(e,t,n,A){var i=new TM(e),s=i.width,o=i.height,a={data:i.getData(),width:s,height:o},u=new TT(100).encode(a,100);return r.processJPEG.call(this,u,t,n,A)}}(Or.API),Or.API.processRGBA=function(r,e,t){for(var n=r.data,A=n.length,i=new Uint8Array(A/4*3),s=new Uint8Array(A/4),o=0,a=0,u=0;u<A;u+=4){var l=n[u],c=n[u+1],h=n[u+2],d=n[u+3];i[o++]=l,i[o++]=c,i[o++]=h,s[a++]=d}var m=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:m,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},Or.API.setLanguage=function(r){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]!==void 0&&(this.internal.languageSettings.languageCode=r,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Yw=Or.API,uS=Yw.getCharWidthsArray=function(r,e){var t,n,A=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:A.metadata.Unicode.widths,a=o.fof?o.fof:1,u=e.kerning?e.kerning:A.metadata.Unicode.kerning,l=u.fof?u.fof:1,c=e.doKerning!==!1,h=0,d=r.length,m=0,g=o[0]||a,y=[];for(t=0;t<d;t++)n=r.charCodeAt(t),typeof A.metadata.widthOfString=="function"?y.push((A.metadata.widthOfGlyph(A.metadata.characterToGlyph(n))+s*(1e3/i)||0)/1e3):(h=c&&wA(u[n])==="object"&&!isNaN(parseInt(u[n][m],10))?u[n][m]/l:0,y.push((o[n]||g)/a+h)),m=n;return y},FM=Yw.getStringUnitWidth=function(r,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),A=e.charSpace||this.internal.getCharSpace();return Yw.processArabic&&(r=Yw.processArabic(r)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(r,t,A)/t:uS.apply(this,arguments).reduce(function(i,s){return i+s},0)},IM=function(r,e,t,n){for(var A=[],i=0,s=r.length,o=0;i!==s&&o+e[i]<t;)o+=e[i],i++;A.push(r.slice(0,i));var a=i;for(o=0;i!==s;)o+e[i]>n&&(A.push(r.slice(a,i)),o=0,a=i),o+=e[i],i++;return a!==i&&A.push(r.slice(a,i)),A},xM=function(r,e,t){t||(t={});var n,A,i,s,o,a,u,l=[],c=[l],h=t.textIndent||0,d=0,m=0,g=r.split(" "),y=uS.apply(this,[" ",t])[0];if(a=t.lineIndent===-1?g[0].length+2:t.lineIndent||0){var v=Array(a).join(" "),w=[];g.map(function(B){(B=B.split(/\s*\n/)).length>1?w=w.concat(B.map(function(F,N){return(N&&F.length?`
`:"")+F})):w.push(B[0])}),g=w,a=FM.apply(this,[v,t])}for(i=0,s=g.length;i<s;i++){var b=0;if(n=g[i],a&&n[0]==`
`&&(n=n.substr(1),b=1),h+d+(m=(A=uS.apply(this,[n,t])).reduce(function(B,F){return B+F},0))>e||b){if(m>e){for(o=IM.apply(this,[n,A,e-(h+d),e]),l.push(o.shift()),l=[o.pop()];o.length;)c.push([o.shift()]);m=A.slice(n.length-(l[0]?l[0].length:0)).reduce(function(B,F){return B+F},0)}else l=[n];c.push(l),h=m+a,d=y}else l.push(n),h+=d+m,d=y}return u=a?function(B,F){return(F?v:"")+B.join(" ")}:function(B){return B.join(" ")},c.map(u)},Yw.splitTextToSize=function(r,e,t){var n,A=(t=t||{}).fontSize||this.internal.getFontSize(),i=(function(l){if(l.widths&&l.kerning)return{widths:l.widths,kerning:l.kerning};var c=this.internal.getFont(l.fontName,l.fontStyle);return c.metadata.Unicode?{widths:c.metadata.Unicode.widths||{0:1},kerning:c.metadata.Unicode.kerning||{}}:{font:c.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);n=Array.isArray(r)?r:String(r).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/A;i.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/A:0,i.lineIndent=t.lineIndent;var o,a,u=[];for(o=0,a=n.length;o<a;o++)u=u.concat(xM.apply(this,[n[o],s,i]));return u},function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},n={},A=0;A<e.length;A++)t[e[A]]="0123456789abcdef"[A],n["0123456789abcdef"[A]]=e[A];var i=function(c){return"0x"+parseInt(c,10).toString(16)},s=r.__fontmetrics__.compress=function(c){var h,d,m,g,y=["{"];for(var v in c){if(h=c[v],isNaN(parseInt(v,10))?d="'"+v+"'":(v=parseInt(v,10),d=(d=i(v).slice(2)).slice(0,-1)+n[d.slice(-1)]),typeof h=="number")h<0?(m=i(h).slice(3),g="-"):(m=i(h).slice(2),g=""),m=g+m.slice(0,-1)+n[m.slice(-1)];else{if(wA(h)!=="object")throw new Error("Don't know what to do with value type "+wA(h)+".");m=s(h)}y.push(d+m)}return y.push("}"),y.join("")},o=r.__fontmetrics__.uncompress=function(c){if(typeof c!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,d,m,g,y={},v=1,w=y,b=[],B="",F="",N=c.length-1,T=1;T<N;T+=1)(g=c[T])=="'"?h?(m=h.join(""),h=void 0):h=[]:h?h.push(g):g=="{"?(b.push([w,m]),w={},m=void 0):g=="}"?((d=b.pop())[0][d[1]]=w,m=void 0,w=d[0]):g=="-"?v=-1:m===void 0?t.hasOwnProperty(g)?(B+=t[g],m=parseInt(B,16)*v,v=1,B=""):B+=g:t.hasOwnProperty(g)?(F+=t[g],w[m]=parseInt(F,16)*v,v=1,m=void 0,F=""):F+=g;return y},a={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:a,"Courier-Bold":a,"Courier-BoldOblique":a,"Courier-Oblique":a,Helvetica:a,"Helvetica-Bold":a,"Helvetica-BoldOblique":a,"Helvetica-Oblique":a,"Times-Roman":a,"Times-Bold":a,"Times-BoldItalic":a,"Times-Italic":a}},l={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(c){var h=c.font,d=l.Unicode[h.postScriptName];d&&(h.metadata.Unicode={},h.metadata.Unicode.widths=d.widths,h.metadata.Unicode.kerning=d.kerning);var m=u.Unicode[h.postScriptName];m&&(h.metadata.Unicode.encoding=m,h.encoding=m.codePages[0])}])}(Or.API),function(r){var e=function(t){for(var n=t.length,A=new Uint8Array(n),i=0;i<n;i++)A[i]=t.charCodeAt(i);return A};r.API.events.push(["addFont",function(t){var n=void 0,A=t.font,i=t.instance;if(!A.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+A.postScriptName+"').");if(typeof(n=i.existsFileInVFS(A.postScriptName)===!1?i.loadFile(A.postScriptName):i.getFileFromVFS(A.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+A.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(yb(o)),s.metadata=r.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(A,n)}}])}(Or),function(r){function e(){return(jr.canvg?Promise.resolve(jr.canvg):j5(()=>import("./index.es-BjCJnkBe.js"),[])).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}Or.API.addSvgAsImage=function(t,n,A,i,s,o,a,u){if(isNaN(n)||isNaN(A))throw MA.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(s))throw MA.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=i,l.height=s;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return e().then(function(m){return m.fromString(c,t,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(h)}).then(function(){d.addImage(l.toDataURL("image/jpeg",1),n,A,i,s,a,u)})}}(),Or.API.putTotalPages=function(r){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(r,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var A=0;A<this.internal.pages[n].length;A++)this.internal.pages[n][A]=this.internal.pages[n][A].replace(e,t);return this},Or.API.viewerPreferences=function(r,e){var t;r=r||{},e=e||!1;var n,A,i,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),a=[],u=0,l=0,c=0;function h(m,g){var y,v=!1;for(y=0;y<m.length;y+=1)m[y]===g&&(v=!0);return v}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,r==="reset"||e===!0){var d=o.length;for(c=0;c<d;c+=1)t[o[c]].value=t[o[c]].defaultValue,t[o[c]].explicitSet=!1}if(wA(r)==="object"){for(A in r)if(i=r[A],h(o,A)&&i!==void 0){if(t[A].type==="boolean"&&typeof i=="boolean")t[A].value=i;else if(t[A].type==="name"&&h(t[A].valueSet,i))t[A].value=i;else if(t[A].type==="integer"&&Number.isInteger(i))t[A].value=i;else if(t[A].type==="array"){for(u=0;u<i.length;u+=1)if(n=!0,i[u].length===1&&typeof i[u][0]=="number")a.push(String(i[u]-1));else if(i[u].length>1){for(l=0;l<i[u].length;l+=1)typeof i[u][l]!="number"&&(n=!1);n===!0&&a.push([i[u][0]-1,i[u][1]-1].join(" "))}t[A].value="["+a.join(" ")+"]"}else t[A].value=t[A].defaultValue;t[A].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var m,g=[];for(m in t)t[m].explicitSet===!0&&(t[m].type==="name"?g.push("/"+m+" /"+t[m].value):g.push("/"+m+" "+t[m].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(r){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',A=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),a=unescape(encodeURIComponent("</x:xmpmeta>")),u=i.length+s.length+o.length+A.length+a.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(A+i+s+o+a),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};r.addMetadata=function(n,A){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:A||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(Or.API),function(r){var e=r.API,t=e.pdfEscape16=function(i,s){for(var o,a=s.metadata.Unicode.widths,u=["","0","00","000","0000"],l=[""],c=0,h=i.length;c<h;++c){if(o=s.metadata.characterToGlyph(i.charCodeAt(c)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=i.charCodeAt(c),a.indexOf(o)==-1&&(a.push(o),a.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return l.join("");o=o.toString(16),l.push(u[4-o.length],o)}return l.join("")},n=function(i){var s,o,a,u,l,c,h;for(l=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,a=[],c=0,h=(o=Object.keys(i).sort(function(d,m){return d-m})).length;c<h;c++)s=o[c],a.length>=100&&(l+=`
`+a.length+` beginbfchar
`+a.join(`
`)+`
endbfchar`,a=[]),i[s]!==void 0&&i[s]!==null&&typeof i[s].toString=="function"&&(u=("0000"+i[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),a.push("<"+s+"><"+u+">"));return a.length&&(l+=`
`+a.length+` beginbfchar
`+a.join(`
`)+`
endbfchar
`),l+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(s){var o=s.font,a=s.out,u=s.newObject,l=s.putStream;if(o.metadata instanceof r.API.TTFFont&&o.encoding==="Identity-H"){for(var c=o.metadata.Unicode.widths,h=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),d="",m=0;m<h.length;m++)d+=String.fromCharCode(h[m]);var g=u();l({data:d,addLength1:!0,objectId:g}),a("endobj");var y=u();l({data:n(o.metadata.toUnicode),addLength1:!0,objectId:y}),a("endobj");var v=u();a("<<"),a("/Type /FontDescriptor"),a("/FontName /"+c0(o.fontName)),a("/FontFile2 "+g+" 0 R"),a("/FontBBox "+r.API.PDFObject.convert(o.metadata.bbox)),a("/Flags "+o.metadata.flags),a("/StemV "+o.metadata.stemV),a("/ItalicAngle "+o.metadata.italicAngle),a("/Ascent "+o.metadata.ascender),a("/Descent "+o.metadata.decender),a("/CapHeight "+o.metadata.capHeight),a(">>"),a("endobj");var w=u();a("<<"),a("/Type /Font"),a("/BaseFont /"+c0(o.fontName)),a("/FontDescriptor "+v+" 0 R"),a("/W "+r.API.PDFObject.convert(c)),a("/CIDToGIDMap /Identity"),a("/DW 1000"),a("/Subtype /CIDFontType2"),a("/CIDSystemInfo"),a("<<"),a("/Supplement 0"),a("/Registry (Adobe)"),a("/Ordering ("+o.encoding+")"),a(">>"),a(">>"),a("endobj"),o.objectNumber=u(),a("<<"),a("/Type /Font"),a("/Subtype /Type0"),a("/ToUnicode "+y+" 0 R"),a("/BaseFont /"+c0(o.fontName)),a("/Encoding /"+o.encoding),a("/DescendantFonts ["+w+" 0 R]"),a(">>"),a("endobj"),o.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(s){var o=s.font,a=s.out,u=s.newObject,l=s.putStream;if(o.metadata instanceof r.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var c=o.metadata.rawData,h="",d=0;d<c.length;d++)h+=String.fromCharCode(c[d]);var m=u();l({data:h,addLength1:!0,objectId:m}),a("endobj");var g=u();l({data:n(o.metadata.toUnicode),addLength1:!0,objectId:g}),a("endobj");var y=u();a("<<"),a("/Descent "+o.metadata.decender),a("/CapHeight "+o.metadata.capHeight),a("/StemV "+o.metadata.stemV),a("/Type /FontDescriptor"),a("/FontFile2 "+m+" 0 R"),a("/Flags 96"),a("/FontBBox "+r.API.PDFObject.convert(o.metadata.bbox)),a("/FontName /"+c0(o.fontName)),a("/ItalicAngle "+o.metadata.italicAngle),a("/Ascent "+o.metadata.ascender),a(">>"),a("endobj"),o.objectNumber=u();for(var v=0;v<o.metadata.hmtx.widths.length;v++)o.metadata.hmtx.widths[v]=parseInt(o.metadata.hmtx.widths[v]*(1e3/o.metadata.head.unitsPerEm));a("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+c0(o.fontName)+"/FontDescriptor "+y+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),a("endobj"),o.isAlreadyPutted=!0}})(i)}]);var A=function(i){var s,o=i.text||"",a=i.x,u=i.y,l=i.options||{},c=i.mutex||{},h=c.pdfEscape,d=c.activeFontKey,m=c.fonts,g=d,y="",v=0,w="",b=m[g].encoding;if(m[g].encoding!=="Identity-H")return{text:o,x:a,y:u,options:l,mutex:c};for(w=o,g=d,Array.isArray(o)&&(w=o[0]),v=0;v<w.length;v+=1)m[g].metadata.hasOwnProperty("cmap")&&(s=m[g].metadata.cmap.unicode.codeMap[w[v].charCodeAt(0)]),s||w[v].charCodeAt(0)<256&&m[g].metadata.hasOwnProperty("Unicode")?y+=w[v]:y+="";var B="";return parseInt(g.slice(1))<14||b==="WinAnsiEncoding"?B=h(y,g).split("").map(function(F){return F.charCodeAt(0).toString(16)}).join(""):b==="Identity-H"&&(B=t(y,m[g])),c.isHex=!0,{text:B,x:a,y:u,options:l,mutex:c}};e.events.push(["postProcessText",function(i){var s=i.text||"",o=[],a={text:s,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(s)){var u=0;for(u=0;u<s.length;u+=1)Array.isArray(s[u])&&s[u].length===3?o.push([A(Object.assign({},a,{text:s[u][0]})).text,s[u][1],s[u][2]]):o.push(A(Object.assign({},a,{text:s[u]})).text);i.text=o}else i.text=A(Object.assign({},a,{text:s})).text}])}(Or),function(r){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},r.addFileToVFS=function(t,n){return e.call(this),this.internal.vFS[t]=n,this},r.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(Or.API),function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(n){var A,i,s,o,a,u,l,c=e,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],d=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],m={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},y=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],v=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,b=0;this.__bidiEngine__={};var B=function(_){var L=_.charCodeAt(),O=L>>8,V=g[O];return V!==void 0?c[256*V+(255&L)]:O===252||O===253?"AL":v.test(O)?"L":O===8?"R":"N"},F=function(_){for(var L,O=0;O<_.length;O++){if((L=B(_.charAt(O)))==="L")return!1;if(L==="R")return!0}return!1},N=function(_,L,O,V){var $,Y,re,le,ne=L[V];switch(ne){case"L":case"R":w=!1;break;case"N":case"AN":break;case"EN":w&&(ne="AN");break;case"AL":w=!0,ne="R";break;case"WS":ne="N";break;case"CS":V<1||V+1>=L.length||($=O[V-1])!=="EN"&&$!=="AN"||(Y=L[V+1])!=="EN"&&Y!=="AN"?ne="N":w&&(Y="AN"),ne=Y===$?Y:"N";break;case"ES":ne=($=V>0?O[V-1]:"B")==="EN"&&V+1<L.length&&L[V+1]==="EN"?"EN":"N";break;case"ET":if(V>0&&O[V-1]==="EN"){ne="EN";break}if(w){ne="N";break}for(re=V+1,le=L.length;re<le&&L[re]==="ET";)re++;ne=re<le&&L[re]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(le=L.length,re=V+1;re<le&&L[re]==="NSM";)re++;if(re<le){var te=_[V],G=te>=1425&&te<=2303||te===64286;if($=L[re],G&&($==="R"||$==="AL")){ne="R";break}}}ne=V<1||($=L[V-1])==="B"?"N":O[V-1];break;case"B":w=!1,A=!0,ne=b;break;case"S":i=!0,ne="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"BN":ne="N"}return ne},T=function(_,L,O){var V=_.split("");return O&&U(V,O,{hiLevel:b}),V.reverse(),L&&L.reverse(),V.join("")},U=function(_,L,O){var V,$,Y,re,le,ne=-1,te=_.length,G=0,H=[],z=b?d:h,oe=[];for(w=!1,A=!1,i=!1,$=0;$<te;$++)oe[$]=B(_[$]);for(Y=0;Y<te;Y++){if(le=G,H[Y]=N(_,oe,H,Y),V=240&(G=z[le][m[H[Y]]]),G&=15,L[Y]=re=z[G][5],V>0)if(V===16){for($=ne;$<Y;$++)L[$]=1;ne=-1}else ne=-1;if(z[G][6])ne===-1&&(ne=Y);else if(ne>-1){for($=ne;$<Y;$++)L[$]=re;ne=-1}oe[Y]==="B"&&(L[Y]=0),O.hiLevel|=re}i&&function(ae,ie,pe){for(var Ce=0;Ce<pe;Ce++)if(ae[Ce]==="S"){ie[Ce]=b;for(var Ie=Ce-1;Ie>=0&&ae[Ie]==="WS";Ie--)ie[Ie]=b}}(oe,L,te)},k=function(_,L,O,V,$){if(!($.hiLevel<_)){if(_===1&&b===1&&!A)return L.reverse(),void(O&&O.reverse());for(var Y,re,le,ne,te=L.length,G=0;G<te;){if(V[G]>=_){for(le=G+1;le<te&&V[le]>=_;)le++;for(ne=G,re=le-1;ne<re;ne++,re--)Y=L[ne],L[ne]=L[re],L[re]=Y,O&&(Y=O[ne],O[ne]=O[re],O[re]=Y);G=le}G++}}},D=function(_,L,O){var V=_.split(""),$={hiLevel:b};return O||(O=[]),U(V,O,$),function(Y,re,le){if(le.hiLevel!==0&&l)for(var ne,te=0;te<Y.length;te++)re[te]===1&&(ne=y.indexOf(Y[te]))>=0&&(Y[te]=y[ne+1])}(V,O,$),k(2,V,L,O,$),k(1,V,L,O,$),V.join("")};return this.__bidiEngine__.doBidiReorder=function(_,L,O){if(function($,Y){if(Y)for(var re=0;re<$.length;re++)Y[re]=re;o===void 0&&(o=F($)),u===void 0&&(u=F($))}(_,L),s||!a||u)if(s&&a&&o^u)b=o?1:0,_=T(_,L,O);else if(!s&&a&&u)b=o?1:0,_=D(_,L,O),_=T(_,L);else if(!s||o||a||u){if(s&&!a&&o^u)_=T(_,L),o?(b=0,_=D(_,L,O)):(b=1,_=D(_,L,O),_=T(_,L));else if(s&&o&&!a&&u)b=1,_=D(_,L,O),_=T(_,L);else if(!s&&!a&&o^u){var V=l;o?(b=1,_=D(_,L,O),b=0,l=!1,_=D(_,L,O),l=V):(b=0,_=D(_,L,O),_=T(_,L),b=1,l=!1,_=D(_,L,O),l=V,_=T(_,L))}}else b=0,_=D(_,L,O);else b=o?1:0,_=D(_,L,O);return _},this.__bidiEngine__.setOptions=function(_){_&&(s=_.isInputVisual,a=_.isOutputVisual,o=_.isInputRtl,u=_.isOutputRtl,l=_.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(n){var A=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var s=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,t.setOptions(i),Object.prototype.toString.call(A)==="[object Array]"){var o=0;for(s=[],o=0;o<A.length;o+=1)Object.prototype.toString.call(A[o])==="[object Array]"?s.push([t.doBidiReorder(A[o][0]),A[o][1],A[o][2]]):s.push([t.doBidiReorder(A[o])]);n.text=s}else n.text=t.doBidiReorder(A);t.setOptions({isInputVisual:!0})}])}(Or),Or.API.TTFFont=function(){function r(e){var t;if(this.rawData=e,t=this.contents=new Om(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new gce(this),this.registerTTF()}return r.open=function(e){return new r(e)},r.prototype.parse=function(){return this.directory=new rce(this.contents),this.head=new Ace(this),this.name=new lce(this),this.cmap=new X9(this),this.toUnicode={},this.hhea=new ice(this),this.maxp=new uce(this),this.hmtx=new cce(this),this.post=new oce(this),this.os2=new sce(this),this.loca=new pce(this),this.glyf=new hce(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var e,t,n,A,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,a,u;for(u=[],s=0,o=(a=this.bbox).length;s<o;s++)e=a[s],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(A=this.post.italic_angle),(32768&(t=A>>16))!=0&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},r.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},r.prototype.widthOfString=function(e,t,n){var A,i,s,o;for(s=0,i=0,o=(e=""+e).length;0<=o?i<o:i>o;i=0<=o?++i:--i)A=e.charCodeAt(i),s+=this.widthOfGlyph(this.characterToGlyph(A))+n*(1e3/t)||0;return s*(t/1e3)},r.prototype.lineHeight=function(e,t){var n;return t==null&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},r}();var qh,Om=function(){function r(e){this.data=e??[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(e){return this.data[this.pos++]=e},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},r.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},r.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},r.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},r.prototype.writeString=function(e){var t,n,A;for(A=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)A.push(this.writeByte(e.charCodeAt(t)));return A},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(e){return this.writeInt16(e)},r.prototype.readLongLong=function(){var e,t,n,A,i,s,o,a;return e=this.readByte(),t=this.readByte(),n=this.readByte(),A=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^A)+16777216*(255^i)+65536*(255^s)+256*(255^o)+(255^a)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*A+16777216*i+65536*s+256*o+a},r.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(e){return this.writeInt32(e)},r.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},r.prototype.write=function(e){var t,n,A,i;for(i=[],n=0,A=e.length;n<A;n++)t=e[n],i.push(this.writeByte(t));return i},r}(),rce=function(){var r;function e(t){var n,A,i;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},A=0,i=this.tableCount;0<=i?A<i:A>i;A=0<=i?++A:--A)n={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(t){var n,A,i,s,o,a,u,l,c,h,d,m,g;for(g in d=Object.keys(t).length,a=Math.log(2),c=16*Math.floor(Math.log(d)/a),s=Math.floor(c/a),l=16*d-c,(A=new Om).writeInt(this.scalarType),A.writeShort(d),A.writeShort(c),A.writeShort(s),A.writeShort(l),i=16*d,u=A.pos+i,o=null,m=[],t)for(h=t[g],A.writeString(g),A.writeInt(r(h)),A.writeInt(u),A.writeInt(h.length),m=m.concat(h),g==="head"&&(o=u),u+=h.length;u%4;)m.push(0),u++;return A.write(m),n=2981146554-r(A.data),A.pos=o+8,A.writeUInt32(n),A.data},r=function(t){var n,A,i,s;for(t=Y9.call(t);t.length%4;)t.push(0);for(i=new Om(t),A=0,n=0,s=t.length;n<s;n=n+=4)A+=i.readUInt32();return 4294967295&A},e}(),nce={}.hasOwnProperty,ad=function(r,e){for(var t in e)nce.call(e,t)&&(r[t]=e[t]);function n(){this.constructor=r}return n.prototype=e.prototype,r.prototype=new n,r.__super__=e.prototype,r};qh=function(){function r(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r}();var Ace=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return ad(e,qh),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var n;return(n=new Om).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(t),n.writeShort(this.glyphDataFormat),n.data},e}(),QM=function(){function r(e,t){var n,A,i,s,o,a,u,l,c,h,d,m,g,y,v,w,b;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),c=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(a=0;a<256;++a)this.codeMap[a]=e.readByte();break;case 4:for(d=e.readUInt16(),h=d/2,e.pos+=6,i=function(){var B,F;for(F=[],a=B=0;0<=h?B<h:B>h;a=0<=h?++B:--B)F.push(e.readUInt16());return F}(),e.pos+=2,g=function(){var B,F;for(F=[],a=B=0;0<=h?B<h:B>h;a=0<=h?++B:--B)F.push(e.readUInt16());return F}(),u=function(){var B,F;for(F=[],a=B=0;0<=h?B<h:B>h;a=0<=h?++B:--B)F.push(e.readUInt16());return F}(),l=function(){var B,F;for(F=[],a=B=0;0<=h?B<h:B>h;a=0<=h?++B:--B)F.push(e.readUInt16());return F}(),A=(this.length-e.pos+this.offset)/2,o=function(){var B,F;for(F=[],a=B=0;0<=A?B<A:B>A;a=0<=A?++B:--B)F.push(e.readUInt16());return F}(),a=v=0,b=i.length;v<b;a=++v)for(y=i[a],n=w=m=g[a];m<=y?w<=y:w>=y;n=m<=y?++w:--w)l[a]===0?s=n+u[a]:(s=o[l[a]/2+(n-m)-(h-a)]||0)!==0&&(s+=u[a]),this.codeMap[n]=65535&s}e.pos=c}return r.encode=function(e,t){var n,A,i,s,o,a,u,l,c,h,d,m,g,y,v,w,b,B,F,N,T,U,k,D,_,L,O,V,$,Y,re,le,ne,te,G,H,z,oe,ae,ie,pe,Ce,Ie,Qe,qe,et;switch(V=new Om,s=Object.keys(e).sort(function(nt,pt){return nt-pt}),t){case"macroman":for(g=0,y=function(){var nt=[];for(m=0;m<256;++m)nt.push(0);return nt}(),w={0:0},i={},$=0,ne=s.length;$<ne;$++)w[Ie=e[A=s[$]]]==null&&(w[Ie]=++g),i[A]={old:e[A],new:w[e[A]]},y[A]=w[e[A]];return V.writeUInt16(1),V.writeUInt16(0),V.writeUInt32(12),V.writeUInt16(0),V.writeUInt16(262),V.writeUInt16(0),V.write(y),{charMap:i,subtable:V.data,maxGlyphID:g+1};case"unicode":for(L=[],c=[],b=0,w={},n={},v=u=null,Y=0,te=s.length;Y<te;Y++)w[F=e[A=s[Y]]]==null&&(w[F]=++b),n[A]={old:F,new:w[F]},o=w[F]-A,v!=null&&o===u||(v&&c.push(v),L.push(A),u=o),v=A;for(v&&c.push(v),c.push(65535),L.push(65535),D=2*(k=L.length),U=2*Math.pow(Math.log(k)/Math.LN2,2),h=Math.log(U/2)/Math.LN2,T=2*k-U,a=[],N=[],d=[],m=re=0,G=L.length;re<G;m=++re){if(_=L[m],l=c[m],_===65535){a.push(0),N.push(0);break}if(_-(O=n[_].new)>=32768)for(a.push(0),N.push(2*(d.length+k-m)),A=le=_;_<=l?le<=l:le>=l;A=_<=l?++le:--le)d.push(n[A].new);else a.push(O-_),N.push(0)}for(V.writeUInt16(3),V.writeUInt16(1),V.writeUInt32(12),V.writeUInt16(4),V.writeUInt16(16+8*k+2*d.length),V.writeUInt16(0),V.writeUInt16(D),V.writeUInt16(U),V.writeUInt16(h),V.writeUInt16(T),pe=0,H=c.length;pe<H;pe++)A=c[pe],V.writeUInt16(A);for(V.writeUInt16(0),Ce=0,z=L.length;Ce<z;Ce++)A=L[Ce],V.writeUInt16(A);for(Qe=0,oe=a.length;Qe<oe;Qe++)o=a[Qe],V.writeUInt16(o);for(qe=0,ae=N.length;qe<ae;qe++)B=N[qe],V.writeUInt16(B);for(et=0,ie=d.length;et<ie;et++)g=d[et],V.writeUInt16(g);return{charMap:n,subtable:V.data,maxGlyphID:b+1}}},r}(),X9=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return ad(e,qh),e.prototype.tag="cmap",e.prototype.parse=function(t){var n,A,i;for(t.pos=this.offset,this.version=t.readUInt16(),i=t.readUInt16(),this.tables=[],this.unicode=null,A=0;0<=i?A<i:A>i;A=0<=i?++A:--A)n=new QM(t,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(t,n){var A,i;return n==null&&(n="macroman"),A=QM.encode(t,n),(i=new Om).writeUInt16(0),i.writeUInt16(1),A.table=i.data.concat(A.subtable),A},e}(),ice=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return ad(e,qh),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),sce=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return ad(e,qh),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var n,A;for(A=[],n=0;n<10;++n)A.push(t.readByte());return A}(),this.charRange=function(){var n,A;for(A=[],n=0;n<4;++n)A.push(t.readInt());return A}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var n,A;for(A=[],n=0;n<2;n=++n)A.push(t.readInt());return A}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),oce=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return ad(e,qh),e.prototype.tag="post",e.prototype.parse=function(t){var n,A,i;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var s;for(A=t.readUInt16(),this.glyphNameIndex=[],s=0;0<=A?s<A:s>A;s=0<=A?++s:--s)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],i=[];t.pos<this.offset+this.length;)n=t.readByte(),i.push(this.names.push(t.readString(n)));return i;case 151552:return A=t.readUInt16(),this.offsets=t.read(A);case 196608:break;case 262144:return this.map=(function(){var o,a,u;for(u=[],s=o=0,a=this.file.maxp.numGlyphs;0<=a?o<a:o>a;s=0<=a?++o:--o)u.push(t.readUInt32());return u}).call(this)}},e}(),ace=function(r,e){this.raw=r,this.length=r.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},lce=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return ad(e,qh),e.prototype.tag="name",e.prototype.parse=function(t){var n,A,i,s,o,a,u,l,c,h,d;for(t.pos=this.offset,t.readShort(),n=t.readShort(),a=t.readShort(),A=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)A.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+a+t.readShort()});for(u={},s=c=0,h=A.length;c<h;s=++c)i=A[s],t.pos=i.offset,l=t.readString(i.length),o=new ace(l,i),u[d=i.nameID]==null&&(u[d]=[]),u[i.nameID].push(o);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},e}(),uce=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return ad(e,qh),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),cce=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return ad(e,qh),e.prototype.tag="hmtx",e.prototype.parse=function(t){var n,A,i,s,o,a,u;for(t.pos=this.offset,this.metrics=[],n=0,a=this.file.hhea.numberOfMetrics;0<=a?n<a:n>a;n=0<=a?++n:--n)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var l,c;for(c=[],n=l=0;0<=i?l<i:l>i;n=0<=i?++l:--l)c.push(t.readInt16());return c}(),this.widths=(function(){var l,c,h,d;for(d=[],l=0,c=(h=this.metrics).length;l<c;l++)s=h[l],d.push(s.advance);return d}).call(this),A=this.widths[this.widths.length-1],u=[],n=o=0;0<=i?o<i:o>i;n=0<=i?++o:--o)u.push(this.widths.push(A));return u},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),Y9=[].slice,hce=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return ad(e,qh),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var n,A,i,s,o,a,u,l,c,h;return t in this.cache?this.cache[t]:(s=this.file.loca,n=this.file.contents,A=s.indexOf(t),(i=s.lengthOf(t))===0?this.cache[t]=null:(n.pos=this.offset+A,o=(a=new Om(n.read(i))).readShort(),l=a.readShort(),h=a.readShort(),u=a.readShort(),c=a.readShort(),this.cache[t]=o===-1?new dce(a,l,h,u,c):new fce(a,o,l,h,u,c),this.cache[t]))},e.prototype.encode=function(t,n,A){var i,s,o,a,u;for(o=[],s=[],a=0,u=n.length;a<u;a++)i=t[n[a]],s.push(o.length),i&&(o=o.concat(i.encode(A)));return s.push(o.length),{table:o,offsets:s}},e}(),fce=function(){function r(e,t,n,A,i,s){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=A,this.xMax=i,this.yMax=s,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r}(),dce=function(){function r(e,t,n,A,i){var s,o;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=A,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return r.prototype.encode=function(){var e,t,n;for(t=new Om(Y9.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},r}(),pce=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return ad(e,qh),e.prototype.tag="loca",e.prototype.parse=function(t){var n,A;return t.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,s;for(s=[],A=0,i=this.length;A<i;A+=2)s.push(2*t.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],A=0,i=this.length;A<i;A+=4)s.push(t.readUInt32());return s}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,n){for(var A=new Uint32Array(this.offsets.length),i=0,s=0,o=0;o<A.length;++o)if(A[o]=i,s<n.length&&n[s]==o){++s,A[o]=i;var a=this.offsets[o],u=this.offsets[o+1]-a;u>0&&(i+=u)}for(var l=new Array(4*A.length),c=0;c<A.length;++c)l[4*c+3]=255&A[c],l[4*c+2]=(65280&A[c])>>8,l[4*c+1]=(16711680&A[c])>>16,l[4*c]=(4278190080&A[c])>>24;return l},e}(),gce=function(){function r(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var e,t,n,A,i;for(t in A=this.font.cmap.tables[0].codeMap,e={},i=this.subset)n=i[t],e[t]=A[n];return e},r.prototype.glyphsFor=function(e){var t,n,A,i,s,o,a;for(A={},s=0,o=e.length;s<o;s++)A[i=e[s]]=this.font.glyf.glyphFor(i);for(i in t=[],A)(n=A[i])!=null&&n.compound&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(i in a=this.glyphsFor(t))n=a[i],A[i]=n;return A},r.prototype.encode=function(e,t){var n,A,i,s,o,a,u,l,c,h,d,m,g,y,v;for(A in n=X9.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),d={0:0},v=n.charMap)d[(a=v[A]).old]=a.new;for(m in h=n.maxGlyphID,s)m in d||(d[m]=h++);return l=function(w){var b,B;for(b in B={},w)B[w[b]]=b;return B}(d),c=Object.keys(l).sort(function(w,b){return w-b}),g=function(){var w,b,B;for(B=[],w=0,b=c.length;w<b;w++)o=c[w],B.push(l[o]);return B}(),i=this.font.glyf.encode(s,g,d),u=this.font.loca.encode(i.offsets,g),y={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(y["OS/2"]=this.font.os2.raw()),this.font.directory.encode(y)},r}();Or.API.PDFObject=function(){var r;function e(){}return r=function(t,n){return(Array(n+1).join("0")+t).slice(-n)},e.convert=function(t){var n,A,i,s;if(Array.isArray(t))return"["+function(){var o,a,u;for(u=[],o=0,a=t.length;o<a;o++)n=t[o],u.push(e.convert(n));return u}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+r(t.getUTCFullYear(),4)+r(t.getUTCMonth(),2)+r(t.getUTCDate(),2)+r(t.getUTCHours(),2)+r(t.getUTCMinutes(),2)+r(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(A in i=["<<"],t)s=t[A],i.push("/"+A+" "+e.convert(s));return i.push(">>"),i.join(`
`)}return""+t},e}();const mce=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:Wue,AcroFormAppearance:Br,AcroFormButton:Js,AcroFormCheckBox:Cb,AcroFormChoiceField:qy,AcroFormComboBox:$y,AcroFormEditBox:wb,AcroFormListBox:Wy,AcroFormPasswordField:bb,AcroFormPushButton:Bb,AcroFormRadioButton:Xy,AcroFormTextField:bm,GState:Mb,ShadingPattern:_g,TilingPattern:Uv,default:Or,jsPDF:Or},Symbol.toStringTag,{value:"Module"}));var QT={exports:{}};const vce=jW(mce);var GS={exports:{}};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 */var yce=GS.exports,LM;function wce(){return LM||(LM=1,function(r,e){(function(t,n){r.exports=n()})(yce,function(){/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var t=function(Q,I){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,P){R.__proto__=P}||function(R,P){for(var ee in P)Object.prototype.hasOwnProperty.call(P,ee)&&(R[ee]=P[ee])},t(Q,I)};function n(Q,I){if(typeof I!="function"&&I!==null)throw new TypeError("Class extends value "+String(I)+" is not a constructor or null");t(Q,I);function R(){this.constructor=Q}Q.prototype=I===null?Object.create(I):(R.prototype=I.prototype,new R)}var A=function(){return A=Object.assign||function(I){for(var R,P=1,ee=arguments.length;P<ee;P++){R=arguments[P];for(var fe in R)Object.prototype.hasOwnProperty.call(R,fe)&&(I[fe]=R[fe])}return I},A.apply(this,arguments)};function i(Q,I,R,P){function ee(fe){return fe instanceof R?fe:new R(function(Se){Se(fe)})}return new(R||(R=Promise))(function(fe,Se){function Re(tt){try{Ze(P.next(tt))}catch(ft){Se(ft)}}function Ne(tt){try{Ze(P.throw(tt))}catch(ft){Se(ft)}}function Ze(tt){tt.done?fe(tt.value):ee(tt.value).then(Re,Ne)}Ze((P=P.apply(Q,[])).next())})}function s(Q,I){var R={label:0,sent:function(){if(fe[0]&1)throw fe[1];return fe[1]},trys:[],ops:[]},P,ee,fe,Se;return Se={next:Re(0),throw:Re(1),return:Re(2)},typeof Symbol=="function"&&(Se[Symbol.iterator]=function(){return this}),Se;function Re(Ze){return function(tt){return Ne([Ze,tt])}}function Ne(Ze){if(P)throw new TypeError("Generator is already executing.");for(;R;)try{if(P=1,ee&&(fe=Ze[0]&2?ee.return:Ze[0]?ee.throw||((fe=ee.return)&&fe.call(ee),0):ee.next)&&!(fe=fe.call(ee,Ze[1])).done)return fe;switch(ee=0,fe&&(Ze=[Ze[0]&2,fe.value]),Ze[0]){case 0:case 1:fe=Ze;break;case 4:return R.label++,{value:Ze[1],done:!1};case 5:R.label++,ee=Ze[1],Ze=[0];continue;case 7:Ze=R.ops.pop(),R.trys.pop();continue;default:if(fe=R.trys,!(fe=fe.length>0&&fe[fe.length-1])&&(Ze[0]===6||Ze[0]===2)){R=0;continue}if(Ze[0]===3&&(!fe||Ze[1]>fe[0]&&Ze[1]<fe[3])){R.label=Ze[1];break}if(Ze[0]===6&&R.label<fe[1]){R.label=fe[1],fe=Ze;break}if(fe&&R.label<fe[2]){R.label=fe[2],R.ops.push(Ze);break}fe[2]&&R.ops.pop(),R.trys.pop();continue}Ze=I.call(Q,R)}catch(tt){Ze=[6,tt],ee=0}finally{P=fe=0}if(Ze[0]&5)throw Ze[1];return{value:Ze[0]?Ze[1]:void 0,done:!0}}}function o(Q,I,R){if(arguments.length===2)for(var P=0,ee=I.length,fe;P<ee;P++)(fe||!(P in I))&&(fe||(fe=Array.prototype.slice.call(I,0,P)),fe[P]=I[P]);return Q.concat(fe||I)}for(var a=function(){function Q(I,R,P,ee){this.left=I,this.top=R,this.width=P,this.height=ee}return Q.prototype.add=function(I,R,P,ee){return new Q(this.left+I,this.top+R,this.width+P,this.height+ee)},Q.fromClientRect=function(I,R){return new Q(R.left+I.windowBounds.left,R.top+I.windowBounds.top,R.width,R.height)},Q.fromDOMRectList=function(I,R){var P=Array.from(R).find(function(ee){return ee.width!==0});return P?new Q(P.left+I.windowBounds.left,P.top+I.windowBounds.top,P.width,P.height):Q.EMPTY},Q.EMPTY=new Q(0,0,0,0),Q}(),u=function(Q,I){return a.fromClientRect(Q,I.getBoundingClientRect())},l=function(Q){var I=Q.body,R=Q.documentElement;if(!I||!R)throw new Error("Unable to get document size");var P=Math.max(Math.max(I.scrollWidth,R.scrollWidth),Math.max(I.offsetWidth,R.offsetWidth),Math.max(I.clientWidth,R.clientWidth)),ee=Math.max(Math.max(I.scrollHeight,R.scrollHeight),Math.max(I.offsetHeight,R.offsetHeight),Math.max(I.clientHeight,R.clientHeight));return new a(0,0,P,ee)},c=function(Q){for(var I=[],R=0,P=Q.length;R<P;){var ee=Q.charCodeAt(R++);if(ee>=55296&&ee<=56319&&R<P){var fe=Q.charCodeAt(R++);(fe&64512)===56320?I.push(((ee&1023)<<10)+(fe&1023)+65536):(I.push(ee),R--)}else I.push(ee)}return I},h=function(){for(var Q=[],I=0;I<arguments.length;I++)Q[I]=arguments[I];if(String.fromCodePoint)return String.fromCodePoint.apply(String,Q);var R=Q.length;if(!R)return"";for(var P=[],ee=-1,fe="";++ee<R;){var Se=Q[ee];Se<=65535?P.push(Se):(Se-=65536,P.push((Se>>10)+55296,Se%1024+56320)),(ee+1===R||P.length>16384)&&(fe+=String.fromCharCode.apply(String,P),P.length=0)}return fe},d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",m=typeof Uint8Array>"u"?[]:new Uint8Array(256),g=0;g<d.length;g++)m[d.charCodeAt(g)]=g;for(var y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",v=typeof Uint8Array>"u"?[]:new Uint8Array(256),w=0;w<y.length;w++)v[y.charCodeAt(w)]=w;for(var b=function(Q){var I=Q.length*.75,R=Q.length,P,ee=0,fe,Se,Re,Ne;Q[Q.length-1]==="="&&(I--,Q[Q.length-2]==="="&&I--);var Ze=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(I):new Array(I),tt=Array.isArray(Ze)?Ze:new Uint8Array(Ze);for(P=0;P<R;P+=4)fe=v[Q.charCodeAt(P)],Se=v[Q.charCodeAt(P+1)],Re=v[Q.charCodeAt(P+2)],Ne=v[Q.charCodeAt(P+3)],tt[ee++]=fe<<2|Se>>4,tt[ee++]=(Se&15)<<4|Re>>2,tt[ee++]=(Re&3)<<6|Ne&63;return Ze},B=function(Q){for(var I=Q.length,R=[],P=0;P<I;P+=2)R.push(Q[P+1]<<8|Q[P]);return R},F=function(Q){for(var I=Q.length,R=[],P=0;P<I;P+=4)R.push(Q[P+3]<<24|Q[P+2]<<16|Q[P+1]<<8|Q[P]);return R},N=5,T=11,U=2,k=T-N,D=65536>>N,_=1<<N,L=_-1,O=1024>>N,V=D+O,$=V,Y=32,re=$+Y,le=65536>>T,ne=1<<k,te=ne-1,G=function(Q,I,R){return Q.slice?Q.slice(I,R):new Uint16Array(Array.prototype.slice.call(Q,I,R))},H=function(Q,I,R){return Q.slice?Q.slice(I,R):new Uint32Array(Array.prototype.slice.call(Q,I,R))},z=function(Q,I){var R=b(Q),P=Array.isArray(R)?F(R):new Uint32Array(R),ee=Array.isArray(R)?B(R):new Uint16Array(R),fe=24,Se=G(ee,fe/2,P[4]/2),Re=P[5]===2?G(ee,(fe+P[4])/2):H(P,Math.ceil((fe+P[4])/4));return new oe(P[0],P[1],P[2],P[3],Se,Re)},oe=function(){function Q(I,R,P,ee,fe,Se){this.initialValue=I,this.errorValue=R,this.highStart=P,this.highValueIndex=ee,this.index=fe,this.data=Se}return Q.prototype.get=function(I){var R;if(I>=0){if(I<55296||I>56319&&I<=65535)return R=this.index[I>>N],R=(R<<U)+(I&L),this.data[R];if(I<=65535)return R=this.index[D+(I-55296>>N)],R=(R<<U)+(I&L),this.data[R];if(I<this.highStart)return R=re-le+(I>>T),R=this.index[R],R+=I>>N&te,R=this.index[R],R=(R<<U)+(I&L),this.data[R];if(I<=1114111)return this.data[this.highValueIndex]}return this.errorValue},Q}(),ae="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ie=typeof Uint8Array>"u"?[]:new Uint8Array(256),pe=0;pe<ae.length;pe++)ie[ae.charCodeAt(pe)]=pe;var Ce="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",Ie=50,Qe=1,qe=2,et=3,nt=4,pt=5,Ke=7,Le=8,Ut=9,ke=10,Me=11,it=12,ut=13,ze=14,Ve=15,At=16,lt=17,yt=18,ge=19,X=20,Ae=21,de=22,we=23,Oe=24,He=25,Et=26,Tt=27,Ht=28,gr=29,zt=30,Jn=31,Lr=32,vn=33,vr=34,jt=35,Pt=36,Vt=37,xr=38,Gr=39,On=40,BA=41,$t=42,JA=43,CA=[9001,65288],fn="!",or="",yn="",kn=z(Ce),bA=[zt,Pt],xi=[Qe,qe,et,pt],qn=[ke,Le],ZA=[Tt,Et],oA=xi.concat(qn),jA=[xr,Gr,On,vr,jt],AA=[Ve,ut],Mi=function(Q,I){I===void 0&&(I="strict");var R=[],P=[],ee=[];return Q.forEach(function(fe,Se){var Re=kn.get(fe);if(Re>Ie?(ee.push(!0),Re-=Ie):ee.push(!1),["normal","auto","loose"].indexOf(I)!==-1&&[8208,8211,12316,12448].indexOf(fe)!==-1)return P.push(Se),R.push(At);if(Re===nt||Re===Me){if(Se===0)return P.push(Se),R.push(zt);var Ne=R[Se-1];return oA.indexOf(Ne)===-1?(P.push(P[Se-1]),R.push(Ne)):(P.push(Se),R.push(zt))}if(P.push(Se),Re===Jn)return R.push(I==="strict"?Ae:Vt);if(Re===$t||Re===gr)return R.push(zt);if(Re===JA)return fe>=131072&&fe<=196605||fe>=196608&&fe<=262141?R.push(Vt):R.push(zt);R.push(Re)}),[P,R,ee]},nr=function(Q,I,R,P){var ee=P[R];if(Array.isArray(Q)?Q.indexOf(ee)!==-1:Q===ee)for(var fe=R;fe<=P.length;){fe++;var Se=P[fe];if(Se===I)return!0;if(Se!==ke)break}if(ee===ke)for(var fe=R;fe>0;){fe--;var Re=P[fe];if(Array.isArray(Q)?Q.indexOf(Re)!==-1:Q===Re)for(var Ne=R;Ne<=P.length;){Ne++;var Se=P[Ne];if(Se===I)return!0;if(Se!==ke)break}if(Re!==ke)break}return!1},$e=function(Q,I){for(var R=Q;R>=0;){var P=I[R];if(P===ke)R--;else return P}return 0},Ot=function(Q,I,R,P,ee){if(R[P]===0)return or;var fe=P-1;if(Array.isArray(ee)&&ee[fe]===!0)return or;var Se=fe-1,Re=fe+1,Ne=I[fe],Ze=Se>=0?I[Se]:0,tt=I[Re];if(Ne===qe&&tt===et)return or;if(xi.indexOf(Ne)!==-1)return fn;if(xi.indexOf(tt)!==-1||qn.indexOf(tt)!==-1)return or;if($e(fe,I)===Le)return yn;if(kn.get(Q[fe])===Me||(Ne===Lr||Ne===vn)&&kn.get(Q[Re])===Me||Ne===Ke||tt===Ke||Ne===Ut||[ke,ut,Ve].indexOf(Ne)===-1&&tt===Ut||[lt,yt,ge,Oe,Ht].indexOf(tt)!==-1||$e(fe,I)===de||nr(we,de,fe,I)||nr([lt,yt],Ae,fe,I)||nr(it,it,fe,I))return or;if(Ne===ke)return yn;if(Ne===we||tt===we)return or;if(tt===At||Ne===At)return yn;if([ut,Ve,Ae].indexOf(tt)!==-1||Ne===ze||Ze===Pt&&AA.indexOf(Ne)!==-1||Ne===Ht&&tt===Pt||tt===X||bA.indexOf(tt)!==-1&&Ne===He||bA.indexOf(Ne)!==-1&&tt===He||Ne===Tt&&[Vt,Lr,vn].indexOf(tt)!==-1||[Vt,Lr,vn].indexOf(Ne)!==-1&&tt===Et||bA.indexOf(Ne)!==-1&&ZA.indexOf(tt)!==-1||ZA.indexOf(Ne)!==-1&&bA.indexOf(tt)!==-1||[Tt,Et].indexOf(Ne)!==-1&&(tt===He||[de,Ve].indexOf(tt)!==-1&&I[Re+1]===He)||[de,Ve].indexOf(Ne)!==-1&&tt===He||Ne===He&&[He,Ht,Oe].indexOf(tt)!==-1)return or;if([He,Ht,Oe,lt,yt].indexOf(tt)!==-1)for(var ft=fe;ft>=0;){var It=I[ft];if(It===He)return or;if([Ht,Oe].indexOf(It)!==-1)ft--;else break}if([Tt,Et].indexOf(tt)!==-1)for(var ft=[lt,yt].indexOf(Ne)!==-1?Se:fe;ft>=0;){var It=I[ft];if(It===He)return or;if([Ht,Oe].indexOf(It)!==-1)ft--;else break}if(xr===Ne&&[xr,Gr,vr,jt].indexOf(tt)!==-1||[Gr,vr].indexOf(Ne)!==-1&&[Gr,On].indexOf(tt)!==-1||[On,jt].indexOf(Ne)!==-1&&tt===On||jA.indexOf(Ne)!==-1&&[X,Et].indexOf(tt)!==-1||jA.indexOf(tt)!==-1&&Ne===Tt||bA.indexOf(Ne)!==-1&&bA.indexOf(tt)!==-1||Ne===Oe&&bA.indexOf(tt)!==-1||bA.concat(He).indexOf(Ne)!==-1&&tt===de&&CA.indexOf(Q[Re])===-1||bA.concat(He).indexOf(tt)!==-1&&Ne===yt)return or;if(Ne===BA&&tt===BA){for(var er=R[fe],Gt=1;er>0&&(er--,I[er]===BA);)Gt++;if(Gt%2!==0)return or}return Ne===Lr&&tt===vn?or:yn},tr=function(Q,I){I||(I={lineBreak:"normal",wordBreak:"normal"});var R=Mi(Q,I.lineBreak),P=R[0],ee=R[1],fe=R[2];(I.wordBreak==="break-all"||I.wordBreak==="break-word")&&(ee=ee.map(function(Re){return[He,zt,$t].indexOf(Re)!==-1?Vt:Re}));var Se=I.wordBreak==="keep-all"?fe.map(function(Re,Ne){return Re&&Q[Ne]>=19968&&Q[Ne]<=40959}):void 0;return[P,ee,Se]},sn=function(){function Q(I,R,P,ee){this.codePoints=I,this.required=R===fn,this.start=P,this.end=ee}return Q.prototype.slice=function(){return h.apply(void 0,this.codePoints.slice(this.start,this.end))},Q}(),pA=function(Q,I){var R=c(Q),P=tr(R,I),ee=P[0],fe=P[1],Se=P[2],Re=R.length,Ne=0,Ze=0;return{next:function(){if(Ze>=Re)return{done:!0,value:null};for(var tt=or;Ze<Re&&(tt=Ot(R,fe,ee,++Ze,Se))===or;);if(tt!==or||Ze===Re){var ft=new sn(R,tt,Ne,Ze);return Ne=Ze,{value:ft,done:!1}}return{done:!0,value:null}}}},Qr=1,LA=2,Zn=4,li=8,NA=10,Dn=47,Ts=92,Qs=9,Hi=32,fs=34,ei=61,gA=35,Mc=36,Hc=37,ta=39,So=40,ro=41,ji=95,ti=45,VA=33,Vi=60,Bl=62,Cl=64,Ha=91,Wn=93,ja=61,on=123,Ls=63,Xh=125,nu=124,Yh=126,ra=128,bl=65533,na=42,yi=43,_n=44,Fo=58,no=59,_r=46,Ao=0,Aa=8,ia=11,jc=14,Ki=31,$u=127,Gi=-1,sa=48,El=97,Vc=101,Ns=102,zi=117,ds=122,Va=65,Nn=69,Xu=70,_l=85,Sl=90,EA=function(Q){return Q>=sa&&Q<=57},Yu=function(Q){return Q>=55296&&Q<=57343},ri=function(Q){return EA(Q)||Q>=Va&&Q<=Xu||Q>=El&&Q<=Ns},Rs=function(Q){return Q>=El&&Q<=ds},KA=function(Q){return Q>=Va&&Q<=Sl},Kc=function(Q){return Rs(Q)||KA(Q)},Io=function(Q){return Q>=ra},RA=function(Q){return Q===NA||Q===Qs||Q===Hi},oa=function(Q){return Kc(Q)||Io(Q)||Q===ji},_A=function(Q){return oa(Q)||EA(Q)||Q===ti},xo=function(Q){return Q>=Ao&&Q<=Aa||Q===ia||Q>=jc&&Q<=Ki||Q===$u},Ui=function(Q,I){return Q!==Ts?!1:I!==NA},Ps=function(Q,I,R){return Q===ti?oa(I)||Ui(I,R):oa(Q)?!0:!!(Q===Ts&&Ui(Q,I))},Au=function(Q,I,R){return Q===yi||Q===ti?EA(I)?!0:I===_r&&EA(R):EA(Q===_r?I:Q)},Fl=function(Q){var I=0,R=1;(Q[I]===yi||Q[I]===ti)&&(Q[I]===ti&&(R=-1),I++);for(var P=[];EA(Q[I]);)P.push(Q[I++]);var ee=P.length?parseInt(h.apply(void 0,P),10):0;Q[I]===_r&&I++;for(var fe=[];EA(Q[I]);)fe.push(Q[I++]);var Se=fe.length,Re=Se?parseInt(h.apply(void 0,fe),10):0;(Q[I]===Nn||Q[I]===Vc)&&I++;var Ne=1;(Q[I]===yi||Q[I]===ti)&&(Q[I]===ti&&(Ne=-1),I++);for(var Ze=[];EA(Q[I]);)Ze.push(Q[I++]);var tt=Ze.length?parseInt(h.apply(void 0,Ze),10):0;return R*(ee+Re*Math.pow(10,-Se))*Math.pow(10,Ne*tt)},aa={type:2},Uo={type:3},Ka={type:4},Il={type:13},Ju={type:8},Jh={type:21},Ga={type:9},la={type:10},Zu={type:11},ps={type:12},ec={type:14},K={type:23},ye={type:1},De={type:25},Ge={type:24},at={type:26},Ct={type:27},Rt={type:28},Xt={type:29},x={type:31},Z={type:32},ce=function(){function Q(){this._value=[]}return Q.prototype.write=function(I){this._value=this._value.concat(c(I))},Q.prototype.read=function(){for(var I=[],R=this.consumeToken();R!==Z;)I.push(R),R=this.consumeToken();return I},Q.prototype.consumeToken=function(){var I=this.consumeCodePoint();switch(I){case fs:return this.consumeStringToken(fs);case gA:var R=this.peekCodePoint(0),P=this.peekCodePoint(1),ee=this.peekCodePoint(2);if(_A(R)||Ui(P,ee)){var fe=Ps(R,P,ee)?LA:Qr,Se=this.consumeName();return{type:5,value:Se,flags:fe}}break;case Mc:if(this.peekCodePoint(0)===ei)return this.consumeCodePoint(),Il;break;case ta:return this.consumeStringToken(ta);case So:return aa;case ro:return Uo;case na:if(this.peekCodePoint(0)===ei)return this.consumeCodePoint(),ec;break;case yi:if(Au(I,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(I),this.consumeNumericToken();break;case _n:return Ka;case ti:var Re=I,Ne=this.peekCodePoint(0),Ze=this.peekCodePoint(1);if(Au(Re,Ne,Ze))return this.reconsumeCodePoint(I),this.consumeNumericToken();if(Ps(Re,Ne,Ze))return this.reconsumeCodePoint(I),this.consumeIdentLikeToken();if(Ne===ti&&Ze===Bl)return this.consumeCodePoint(),this.consumeCodePoint(),Ge;break;case _r:if(Au(I,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(I),this.consumeNumericToken();break;case Dn:if(this.peekCodePoint(0)===na)for(this.consumeCodePoint();;){var tt=this.consumeCodePoint();if(tt===na&&(tt=this.consumeCodePoint(),tt===Dn))return this.consumeToken();if(tt===Gi)return this.consumeToken()}break;case Fo:return at;case no:return Ct;case Vi:if(this.peekCodePoint(0)===VA&&this.peekCodePoint(1)===ti&&this.peekCodePoint(2)===ti)return this.consumeCodePoint(),this.consumeCodePoint(),De;break;case Cl:var ft=this.peekCodePoint(0),It=this.peekCodePoint(1),er=this.peekCodePoint(2);if(Ps(ft,It,er)){var Se=this.consumeName();return{type:7,value:Se}}break;case Ha:return Rt;case Ts:if(Ui(I,this.peekCodePoint(0)))return this.reconsumeCodePoint(I),this.consumeIdentLikeToken();break;case Wn:return Xt;case ja:if(this.peekCodePoint(0)===ei)return this.consumeCodePoint(),Ju;break;case on:return Zu;case Xh:return ps;case zi:case _l:var Gt=this.peekCodePoint(0),Jt=this.peekCodePoint(1);return Gt===yi&&(ri(Jt)||Jt===Ls)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(I),this.consumeIdentLikeToken();case nu:if(this.peekCodePoint(0)===ei)return this.consumeCodePoint(),Ga;if(this.peekCodePoint(0)===nu)return this.consumeCodePoint(),Jh;break;case Yh:if(this.peekCodePoint(0)===ei)return this.consumeCodePoint(),la;break;case Gi:return Z}return RA(I)?(this.consumeWhiteSpace(),x):EA(I)?(this.reconsumeCodePoint(I),this.consumeNumericToken()):oa(I)?(this.reconsumeCodePoint(I),this.consumeIdentLikeToken()):{type:6,value:h(I)}},Q.prototype.consumeCodePoint=function(){var I=this._value.shift();return typeof I>"u"?-1:I},Q.prototype.reconsumeCodePoint=function(I){this._value.unshift(I)},Q.prototype.peekCodePoint=function(I){return I>=this._value.length?-1:this._value[I]},Q.prototype.consumeUnicodeRangeToken=function(){for(var I=[],R=this.consumeCodePoint();ri(R)&&I.length<6;)I.push(R),R=this.consumeCodePoint();for(var P=!1;R===Ls&&I.length<6;)I.push(R),R=this.consumeCodePoint(),P=!0;if(P){var ee=parseInt(h.apply(void 0,I.map(function(Ne){return Ne===Ls?sa:Ne})),16),fe=parseInt(h.apply(void 0,I.map(function(Ne){return Ne===Ls?Xu:Ne})),16);return{type:30,start:ee,end:fe}}var Se=parseInt(h.apply(void 0,I),16);if(this.peekCodePoint(0)===ti&&ri(this.peekCodePoint(1))){this.consumeCodePoint(),R=this.consumeCodePoint();for(var Re=[];ri(R)&&Re.length<6;)Re.push(R),R=this.consumeCodePoint();var fe=parseInt(h.apply(void 0,Re),16);return{type:30,start:Se,end:fe}}else return{type:30,start:Se,end:Se}},Q.prototype.consumeIdentLikeToken=function(){var I=this.consumeName();return I.toLowerCase()==="url"&&this.peekCodePoint(0)===So?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===So?(this.consumeCodePoint(),{type:19,value:I}):{type:20,value:I}},Q.prototype.consumeUrlToken=function(){var I=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Gi)return{type:22,value:""};var R=this.peekCodePoint(0);if(R===ta||R===fs){var P=this.consumeStringToken(this.consumeCodePoint());return P.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Gi||this.peekCodePoint(0)===ro)?(this.consumeCodePoint(),{type:22,value:P.value}):(this.consumeBadUrlRemnants(),K)}for(;;){var ee=this.consumeCodePoint();if(ee===Gi||ee===ro)return{type:22,value:h.apply(void 0,I)};if(RA(ee))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Gi||this.peekCodePoint(0)===ro?(this.consumeCodePoint(),{type:22,value:h.apply(void 0,I)}):(this.consumeBadUrlRemnants(),K);if(ee===fs||ee===ta||ee===So||xo(ee))return this.consumeBadUrlRemnants(),K;if(ee===Ts)if(Ui(ee,this.peekCodePoint(0)))I.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),K;else I.push(ee)}},Q.prototype.consumeWhiteSpace=function(){for(;RA(this.peekCodePoint(0));)this.consumeCodePoint()},Q.prototype.consumeBadUrlRemnants=function(){for(;;){var I=this.consumeCodePoint();if(I===ro||I===Gi)return;Ui(I,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},Q.prototype.consumeStringSlice=function(I){for(var R=5e4,P="";I>0;){var ee=Math.min(R,I);P+=h.apply(void 0,this._value.splice(0,ee)),I-=ee}return this._value.shift(),P},Q.prototype.consumeStringToken=function(I){var R="",P=0;do{var ee=this._value[P];if(ee===Gi||ee===void 0||ee===I)return R+=this.consumeStringSlice(P),{type:0,value:R};if(ee===NA)return this._value.splice(0,P),ye;if(ee===Ts){var fe=this._value[P+1];fe!==Gi&&fe!==void 0&&(fe===NA?(R+=this.consumeStringSlice(P),P=-1,this._value.shift()):Ui(ee,fe)&&(R+=this.consumeStringSlice(P),R+=h(this.consumeEscapedCodePoint()),P=-1))}P++}while(!0)},Q.prototype.consumeNumber=function(){var I=[],R=Zn,P=this.peekCodePoint(0);for((P===yi||P===ti)&&I.push(this.consumeCodePoint());EA(this.peekCodePoint(0));)I.push(this.consumeCodePoint());P=this.peekCodePoint(0);var ee=this.peekCodePoint(1);if(P===_r&&EA(ee))for(I.push(this.consumeCodePoint(),this.consumeCodePoint()),R=li;EA(this.peekCodePoint(0));)I.push(this.consumeCodePoint());P=this.peekCodePoint(0),ee=this.peekCodePoint(1);var fe=this.peekCodePoint(2);if((P===Nn||P===Vc)&&((ee===yi||ee===ti)&&EA(fe)||EA(ee)))for(I.push(this.consumeCodePoint(),this.consumeCodePoint()),R=li;EA(this.peekCodePoint(0));)I.push(this.consumeCodePoint());return[Fl(I),R]},Q.prototype.consumeNumericToken=function(){var I=this.consumeNumber(),R=I[0],P=I[1],ee=this.peekCodePoint(0),fe=this.peekCodePoint(1),Se=this.peekCodePoint(2);if(Ps(ee,fe,Se)){var Re=this.consumeName();return{type:15,number:R,flags:P,unit:Re}}return ee===Hc?(this.consumeCodePoint(),{type:16,number:R,flags:P}):{type:17,number:R,flags:P}},Q.prototype.consumeEscapedCodePoint=function(){var I=this.consumeCodePoint();if(ri(I)){for(var R=h(I);ri(this.peekCodePoint(0))&&R.length<6;)R+=h(this.consumeCodePoint());RA(this.peekCodePoint(0))&&this.consumeCodePoint();var P=parseInt(R,16);return P===0||Yu(P)||P>1114111?bl:P}return I===Gi?bl:I},Q.prototype.consumeName=function(){for(var I="";;){var R=this.consumeCodePoint();if(_A(R))I+=h(R);else if(Ui(R,this.peekCodePoint(0)))I+=h(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(R),I}},Q}(),xe=function(){function Q(I){this._tokens=I}return Q.create=function(I){var R=new ce;return R.write(I),new Q(R.read())},Q.parseValue=function(I){return Q.create(I).parseComponentValue()},Q.parseValues=function(I){return Q.create(I).parseComponentValues()},Q.prototype.parseComponentValue=function(){for(var I=this.consumeToken();I.type===31;)I=this.consumeToken();if(I.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(I);var R=this.consumeComponentValue();do I=this.consumeToken();while(I.type===31);if(I.type===32)return R;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},Q.prototype.parseComponentValues=function(){for(var I=[];;){var R=this.consumeComponentValue();if(R.type===32)return I;I.push(R),I.push()}},Q.prototype.consumeComponentValue=function(){var I=this.consumeToken();switch(I.type){case 11:case 28:case 2:return this.consumeSimpleBlock(I.type);case 19:return this.consumeFunction(I)}return I},Q.prototype.consumeSimpleBlock=function(I){for(var R={type:I,values:[]},P=this.consumeToken();;){if(P.type===32||Os(P,I))return R;this.reconsumeToken(P),R.values.push(this.consumeComponentValue()),P=this.consumeToken()}},Q.prototype.consumeFunction=function(I){for(var R={name:I.value,values:[],type:18};;){var P=this.consumeToken();if(P.type===32||P.type===3)return R;this.reconsumeToken(P),R.values.push(this.consumeComponentValue())}},Q.prototype.consumeToken=function(){var I=this._tokens.shift();return typeof I>"u"?Z:I},Q.prototype.reconsumeToken=function(I){this._tokens.unshift(I)},Q}(),rt=function(Q){return Q.type===15},dt=function(Q){return Q.type===17},_t=function(Q){return Q.type===20},Kr=function(Q){return Q.type===0},tn=function(Q,I){return _t(Q)&&Q.value===I},Mr=function(Q){return Q.type!==31},ln=function(Q){return Q.type!==31&&Q.type!==4},rn=function(Q){var I=[],R=[];return Q.forEach(function(P){if(P.type===4){if(R.length===0)throw new Error("Error parsing function args, zero tokens for arg");I.push(R),R=[];return}P.type!==31&&R.push(P)}),R.length&&I.push(R),I},Os=function(Q,I){return I===11&&Q.type===12||I===28&&Q.type===29?!0:I===2&&Q.type===3},SA=function(Q){return Q.type===17||Q.type===15},Mn=function(Q){return Q.type===16||SA(Q)},ua=function(Q){return Q.length>1?[Q[0],Q[1]]:[Q[0]]},GA={type:17,number:0,flags:Zn},tc={type:16,number:50,flags:Zn},io={type:16,number:100,flags:Zn},aA=function(Q,I,R){var P=Q[0],ee=Q[1];return[Rn(P,I),Rn(typeof ee<"u"?ee:P,R)]},Rn=function(Q,I){if(Q.type===16)return Q.number/100*I;if(rt(Q))switch(Q.unit){case"rem":case"em":return 16*Q.number;case"px":default:return Q.number}return Q.number},Gc="deg",zc="grad",qc="rad",gs="turn",xl={name:"angle",parse:function(Q,I){if(I.type===15)switch(I.unit){case Gc:return Math.PI*I.number/180;case zc:return Math.PI/200*I.number;case qc:return I.number;case gs:return Math.PI*2*I.number}throw new Error("Unsupported angle type")}},Ul=function(Q){return Q.type===15&&(Q.unit===Gc||Q.unit===zc||Q.unit===qc||Q.unit===gs)},ud=function(Q){var I=Q.filter(_t).map(function(R){return R.value}).join(" ");switch(I){case"to bottom right":case"to right bottom":case"left top":case"top left":return[GA,GA];case"to top":case"bottom":return lA(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[GA,io];case"to right":case"left":return lA(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[io,io];case"to bottom":case"top":return lA(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[io,GA];case"to left":case"right":return lA(270)}return 0},lA=function(Q){return Math.PI*Q/180},To={name:"color",parse:function(Q,I){if(I.type===18){var R=ou[I.name];if(typeof R>"u")throw new Error('Attempting to parse an unsupported color function "'+I.name+'"');return R(Q,I.values)}if(I.type===5){if(I.value.length===3){var P=I.value.substring(0,1),ee=I.value.substring(1,2),fe=I.value.substring(2,3);return qi(parseInt(P+P,16),parseInt(ee+ee,16),parseInt(fe+fe,16),1)}if(I.value.length===4){var P=I.value.substring(0,1),ee=I.value.substring(1,2),fe=I.value.substring(2,3),Se=I.value.substring(3,4);return qi(parseInt(P+P,16),parseInt(ee+ee,16),parseInt(fe+fe,16),parseInt(Se+Se,16)/255)}if(I.value.length===6){var P=I.value.substring(0,2),ee=I.value.substring(2,4),fe=I.value.substring(4,6);return qi(parseInt(P,16),parseInt(ee,16),parseInt(fe,16),1)}if(I.value.length===8){var P=I.value.substring(0,2),ee=I.value.substring(2,4),fe=I.value.substring(4,6),Se=I.value.substring(6,8);return qi(parseInt(P,16),parseInt(ee,16),parseInt(fe,16),parseInt(Se,16)/255)}}if(I.type===20){var Re=so[I.value.toUpperCase()];if(typeof Re<"u")return Re}return so.TRANSPARENT}},ca=function(Q){return(255&Q)===0},PA=function(Q){var I=255&Q,R=255&Q>>8,P=255&Q>>16,ee=255&Q>>24;return I<255?"rgba("+ee+","+P+","+R+","+I/255+")":"rgb("+ee+","+P+","+R+")"},qi=function(Q,I,R,P){return(Q<<24|I<<16|R<<8|Math.round(P*255)<<0)>>>0},iu=function(Q,I){if(Q.type===17)return Q.number;if(Q.type===16){var R=I===3?1:255;return I===3?Q.number/100*R:Math.round(Q.number/100*R)}return 0},ms=function(Q,I){var R=I.filter(ln);if(R.length===3){var P=R.map(iu),ee=P[0],fe=P[1],Se=P[2];return qi(ee,fe,Se,1)}if(R.length===4){var Re=R.map(iu),ee=Re[0],fe=Re[1],Se=Re[2],Ne=Re[3];return qi(ee,fe,Se,Ne)}return 0};function Ti(Q,I,R){return R<0&&(R+=1),R>=1&&(R-=1),R<1/6?(I-Q)*R*6+Q:R<1/2?I:R<2/3?(I-Q)*6*(2/3-R)+Q:Q}var su=function(Q,I){var R=I.filter(ln),P=R[0],ee=R[1],fe=R[2],Se=R[3],Re=(P.type===17?lA(P.number):xl.parse(Q,P))/(Math.PI*2),Ne=Mn(ee)?ee.number/100:0,Ze=Mn(fe)?fe.number/100:0,tt=typeof Se<"u"&&Mn(Se)?Rn(Se,1):1;if(Ne===0)return qi(Ze*255,Ze*255,Ze*255,1);var ft=Ze<=.5?Ze*(Ne+1):Ze+Ne-Ze*Ne,It=Ze*2-ft,er=Ti(It,ft,Re+1/3),Gt=Ti(It,ft,Re),Jt=Ti(It,ft,Re-1/3);return qi(er*255,Gt*255,Jt*255,tt)},ou={hsl:su,hsla:su,rgb:ms,rgba:ms},Qo=function(Q,I){return To.parse(Q,xe.create(I).parseComponentValue())},so={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},au={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(Q,I){return I.map(function(R){if(_t(R))switch(R.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Pn={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},ha=function(Q,I){var R=To.parse(Q,I[0]),P=I[1];return P&&Mn(P)?{color:R,stop:P}:{color:R,stop:null}},Wi=function(Q,I){var R=Q[0],P=Q[Q.length-1];R.stop===null&&(R.stop=GA),P.stop===null&&(P.stop=io);for(var ee=[],fe=0,Se=0;Se<Q.length;Se++){var Re=Q[Se].stop;if(Re!==null){var Ne=Rn(Re,I);Ne>fe?ee.push(Ne):ee.push(fe),fe=Ne}else ee.push(null)}for(var Ze=null,Se=0;Se<ee.length;Se++){var tt=ee[Se];if(tt===null)Ze===null&&(Ze=Se);else if(Ze!==null){for(var ft=Se-Ze,It=ee[Ze-1],er=(tt-It)/(ft+1),Gt=1;Gt<=ft;Gt++)ee[Ze+Gt-1]=er*Gt;Ze=null}}return Q.map(function(Jt,Wr){var yr=Jt.color;return{color:yr,stop:Math.max(Math.min(1,ee[Wr]/I),0)}})},Lo=function(Q,I,R){var P=I/2,ee=R/2,fe=Rn(Q[0],I)-P,Se=ee-Rn(Q[1],R);return(Math.atan2(Se,fe)+Math.PI*2)%(Math.PI*2)},Wc=function(Q,I,R){var P=typeof Q=="number"?Q:Lo(Q,I,R),ee=Math.abs(I*Math.sin(P))+Math.abs(R*Math.cos(P)),fe=I/2,Se=R/2,Re=ee/2,Ne=Math.sin(P-Math.PI/2)*Re,Ze=Math.cos(P-Math.PI/2)*Re;return[ee,fe-Ze,fe+Ze,Se-Ne,Se+Ne]},ks=function(Q,I){return Math.sqrt(Q*Q+I*I)},rc=function(Q,I,R,P,ee){var fe=[[0,0],[0,I],[Q,0],[Q,I]];return fe.reduce(function(Se,Re){var Ne=Re[0],Ze=Re[1],tt=ks(R-Ne,P-Ze);return(ee?tt<Se.optimumDistance:tt>Se.optimumDistance)?{optimumCorner:Re,optimumDistance:tt}:Se},{optimumDistance:ee?1/0:-1/0,optimumCorner:null}).optimumCorner},$c=function(Q,I,R,P,ee){var fe=0,Se=0;switch(Q.size){case 0:Q.shape===0?fe=Se=Math.min(Math.abs(I),Math.abs(I-P),Math.abs(R),Math.abs(R-ee)):Q.shape===1&&(fe=Math.min(Math.abs(I),Math.abs(I-P)),Se=Math.min(Math.abs(R),Math.abs(R-ee)));break;case 2:if(Q.shape===0)fe=Se=Math.min(ks(I,R),ks(I,R-ee),ks(I-P,R),ks(I-P,R-ee));else if(Q.shape===1){var Re=Math.min(Math.abs(R),Math.abs(R-ee))/Math.min(Math.abs(I),Math.abs(I-P)),Ne=rc(P,ee,I,R,!0),Ze=Ne[0],tt=Ne[1];fe=ks(Ze-I,(tt-R)/Re),Se=Re*fe}break;case 1:Q.shape===0?fe=Se=Math.max(Math.abs(I),Math.abs(I-P),Math.abs(R),Math.abs(R-ee)):Q.shape===1&&(fe=Math.max(Math.abs(I),Math.abs(I-P)),Se=Math.max(Math.abs(R),Math.abs(R-ee)));break;case 3:if(Q.shape===0)fe=Se=Math.max(ks(I,R),ks(I,R-ee),ks(I-P,R),ks(I-P,R-ee));else if(Q.shape===1){var Re=Math.max(Math.abs(R),Math.abs(R-ee))/Math.max(Math.abs(I),Math.abs(I-P)),ft=rc(P,ee,I,R,!1),Ze=ft[0],tt=ft[1];fe=ks(Ze-I,(tt-R)/Re),Se=Re*fe}break}return Array.isArray(Q.size)&&(fe=Rn(Q.size[0],P),Se=Q.size.length===2?Rn(Q.size[1],ee):fe),[fe,Se]},Xc=function(Q,I){var R=lA(180),P=[];return rn(I).forEach(function(ee,fe){if(fe===0){var Se=ee[0];if(Se.type===20&&Se.value==="to"){R=ud(ee);return}else if(Ul(Se)){R=xl.parse(Q,Se);return}}var Re=ha(Q,ee);P.push(Re)}),{angle:R,stops:P,type:1}},vs=function(Q,I){var R=lA(180),P=[];return rn(I).forEach(function(ee,fe){if(fe===0){var Se=ee[0];if(Se.type===20&&["top","left","right","bottom"].indexOf(Se.value)!==-1){R=ud(ee);return}else if(Ul(Se)){R=(xl.parse(Q,Se)+lA(270))%lA(360);return}}var Re=ha(Q,ee);P.push(Re)}),{angle:R,stops:P,type:1}},lu=function(Q,I){var R=lA(180),P=[],ee=1,fe=0,Se=3,Re=[];return rn(I).forEach(function(Ne,Ze){var tt=Ne[0];if(Ze===0){if(_t(tt)&&tt.value==="linear"){ee=1;return}else if(_t(tt)&&tt.value==="radial"){ee=2;return}}if(tt.type===18){if(tt.name==="from"){var ft=To.parse(Q,tt.values[0]);P.push({stop:GA,color:ft})}else if(tt.name==="to"){var ft=To.parse(Q,tt.values[0]);P.push({stop:io,color:ft})}else if(tt.name==="color-stop"){var It=tt.values.filter(ln);if(It.length===2){var ft=To.parse(Q,It[1]),er=It[0];dt(er)&&P.push({stop:{type:16,number:er.number*100,flags:er.flags},color:ft})}}}}),ee===1?{angle:(R+lA(180))%lA(360),stops:P,type:ee}:{size:Se,shape:fe,stops:P,position:Re,type:ee}},za="closest-side",Tl="farthest-side",Ql="closest-corner",uu="farthest-corner",Qi="circle",Ds="ellipse",eA="cover",Hn="contain",zA=function(Q,I){var R=0,P=3,ee=[],fe=[];return rn(I).forEach(function(Se,Re){var Ne=!0;if(Re===0){var Ze=!1;Ne=Se.reduce(function(ft,It){if(Ze)if(_t(It))switch(It.value){case"center":return fe.push(tc),ft;case"top":case"left":return fe.push(GA),ft;case"right":case"bottom":return fe.push(io),ft}else(Mn(It)||SA(It))&&fe.push(It);else if(_t(It))switch(It.value){case Qi:return R=0,!1;case Ds:return R=1,!1;case"at":return Ze=!0,!1;case za:return P=0,!1;case eA:case Tl:return P=1,!1;case Hn:case Ql:return P=2,!1;case uu:return P=3,!1}else if(SA(It)||Mn(It))return Array.isArray(P)||(P=[]),P.push(It),!1;return ft},Ne)}if(Ne){var tt=ha(Q,Se);ee.push(tt)}}),{size:P,shape:R,stops:ee,position:fe,type:2}},OA=function(Q,I){var R=0,P=3,ee=[],fe=[];return rn(I).forEach(function(Se,Re){var Ne=!0;if(Re===0?Ne=Se.reduce(function(tt,ft){if(_t(ft))switch(ft.value){case"center":return fe.push(tc),!1;case"top":case"left":return fe.push(GA),!1;case"right":case"bottom":return fe.push(io),!1}else if(Mn(ft)||SA(ft))return fe.push(ft),!1;return tt},Ne):Re===1&&(Ne=Se.reduce(function(tt,ft){if(_t(ft))switch(ft.value){case Qi:return R=0,!1;case Ds:return R=1,!1;case Hn:case za:return P=0,!1;case Tl:return P=1,!1;case Ql:return P=2,!1;case eA:case uu:return P=3,!1}else if(SA(ft)||Mn(ft))return Array.isArray(P)||(P=[]),P.push(ft),!1;return tt},Ne)),Ne){var Ze=ha(Q,Se);ee.push(Ze)}}),{size:P,shape:R,stops:ee,position:fe,type:2}},Ll=function(Q){return Q.type===1},Zh=function(Q){return Q.type===2},cu={name:"image",parse:function(Q,I){if(I.type===22){var R={url:I.value,type:0};return Q.cache.addImage(I.value),R}if(I.type===18){var P=qa[I.name];if(typeof P>"u")throw new Error('Attempting to parse an unsupported image function "'+I.name+'"');return P(Q,I.values)}throw new Error("Unsupported image type "+I.type)}};function cd(Q){return!(Q.type===20&&Q.value==="none")&&(Q.type!==18||!!qa[Q.name])}var qa={"linear-gradient":Xc,"-moz-linear-gradient":vs,"-ms-linear-gradient":vs,"-o-linear-gradient":vs,"-webkit-linear-gradient":vs,"radial-gradient":zA,"-moz-radial-gradient":OA,"-ms-radial-gradient":OA,"-o-radial-gradient":OA,"-webkit-radial-gradient":OA,"-webkit-gradient":lu},ef={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(Q,I){if(I.length===0)return[];var R=I[0];return R.type===20&&R.value==="none"?[]:I.filter(function(P){return ln(P)&&cd(P)}).map(function(P){return cu.parse(Q,P)})}},Ms={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(Q,I){return I.map(function(R){if(_t(R))switch(R.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},fa={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(Q,I){return rn(I).map(function(R){return R.filter(Mn)}).map(ua)}},Hp={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(Q,I){return rn(I).map(function(R){return R.filter(_t).map(function(P){return P.value}).join(" ")}).map(nc)}},nc=function(Q){switch(Q){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Yc;(function(Q){Q.AUTO="auto",Q.CONTAIN="contain",Q.COVER="cover"})(Yc||(Yc={}));var hd={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(Q,I){return rn(I).map(function(R){return R.filter(fd)})}},fd=function(Q){return _t(Q)||Mn(Q)},jn=function(Q){return{name:"border-"+Q+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},jp=jn("top"),tf=jn("right"),Jc=jn("bottom"),dd=jn("left"),Ac=function(Q){return{name:"border-radius-"+Q,initialValue:"0 0",prefix:!1,type:1,parse:function(I,R){return ua(R.filter(Mn))}}},pd=Ac("top-left"),Vp=Ac("top-right"),Zc=Ac("bottom-right"),vw=Ac("bottom-left"),Kp=function(Q){return{name:"border-"+Q+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(I,R){switch(R){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},w1=Kp("top"),yw=Kp("right"),Gp=Kp("bottom"),rf=Kp("left"),ic=function(Q){return{name:"border-"+Q+"-width",initialValue:"0",type:0,prefix:!1,parse:function(I,R){return rt(R)?R.number:0}}},eh=ic("top"),qm=ic("right"),Wm=ic("bottom"),ww=ic("left"),Bw={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},B1={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(Q,I){switch(I){case"rtl":return 1;case"ltr":default:return 0}}},C1={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(Q,I){return I.filter(_t).reduce(function(R,P){return R|$m(P.value)},0)}},$m=function(Q){switch(Q){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Hs={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(Q,I){switch(I){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},da={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(Q,I){return I.type===20&&I.value==="normal"?0:I.type===17||I.type===15?I.number:0}},$i;(function(Q){Q.NORMAL="normal",Q.STRICT="strict"})($i||($i={}));var Nl={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(Q,I){switch(I){case"strict":return $i.STRICT;case"normal":default:return $i.NORMAL}}},nf={name:"line-height",initialValue:"normal",prefix:!1,type:4},Xi=function(Q,I){return _t(Q)&&Q.value==="normal"?1.2*I:Q.type===17?I*Q.number:Mn(Q)?Rn(Q,I):I},oo={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(Q,I){return I.type===20&&I.value==="none"?null:cu.parse(Q,I)}},b1={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(Q,I){switch(I){case"inside":return 0;case"outside":default:return 1}}},Xm={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(Q,I){switch(I){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Wa=function(Q){return{name:"margin-"+Q,initialValue:"0",prefix:!1,type:4}},Af=Wa("top"),th=Wa("right"),gd=Wa("bottom"),Ym=Wa("left"),hu={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(Q,I){return I.filter(_t).map(function(R){switch(R.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},$a={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(Q,I){switch(I){case"break-word":return"break-word";case"normal":default:return"normal"}}},Sn=function(Q){return{name:"padding-"+Q,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},tA=Sn("top"),sc=Sn("right"),Yi=Sn("bottom"),ao=Sn("left"),rh={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(Q,I){switch(I){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},sf={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(Q,I){switch(I){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},lo={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(Q,I){return I.length===1&&tn(I[0],"none")?[]:rn(I).map(function(R){for(var P={color:so.TRANSPARENT,offsetX:GA,offsetY:GA,blur:GA},ee=0,fe=0;fe<R.length;fe++){var Se=R[fe];SA(Se)?(ee===0?P.offsetX=Se:ee===1?P.offsetY=Se:P.blur=Se,ee++):P.color=To.parse(Q,Se)}return P})}},zp={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(Q,I){switch(I){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Cw={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(Q,I){if(I.type===20&&I.value==="none")return null;if(I.type===18){var R=bw[I.name];if(typeof R>"u")throw new Error('Attempting to parse an unsupported transform function "'+I.name+'"');return R(I.values)}return null}},Jm=function(Q){var I=Q.filter(function(R){return R.type===17}).map(function(R){return R.number});return I.length===6?I:null},nh=function(Q){var I=Q.filter(function(Ne){return Ne.type===17}).map(function(Ne){return Ne.number}),R=I[0],P=I[1];I[2],I[3];var ee=I[4],fe=I[5];I[6],I[7],I[8],I[9],I[10],I[11];var Se=I[12],Re=I[13];return I[14],I[15],I.length===16?[R,P,ee,fe,Se,Re]:null},bw={matrix:Jm,matrix3d:nh},Rl={type:16,number:50,flags:Zn},md=[Rl,Rl],S={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(Q,I){var R=I.filter(Mn);return R.length!==2?md:[R[0],R[1]]}},j={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(Q,I){switch(I){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},W;(function(Q){Q.NORMAL="normal",Q.BREAK_ALL="break-all",Q.KEEP_ALL="keep-all"})(W||(W={}));for(var ue={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(Q,I){switch(I){case"break-all":return W.BREAK_ALL;case"keep-all":return W.KEEP_ALL;case"normal":default:return W.NORMAL}}},ve={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(Q,I){if(I.type===20)return{auto:!0,order:0};if(dt(I))return{auto:!1,order:I.number};throw new Error("Invalid z-index number parsed")}},Ee={name:"time",parse:function(Q,I){if(I.type===15)switch(I.unit.toLowerCase()){case"s":return 1e3*I.number;case"ms":return I.number}throw new Error("Unsupported time type")}},Fe={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(Q,I){return dt(I)?I.number:1}},Ue={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Te={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(Q,I){return I.filter(_t).map(function(R){switch(R.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(R){return R!==0})}},Pe={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(Q,I){var R=[],P=[];return I.forEach(function(ee){switch(ee.type){case 20:case 0:R.push(ee.value);break;case 17:R.push(ee.number.toString());break;case 4:P.push(R.join(" ")),R.length=0;break}}),R.length&&P.push(R.join(" ")),P.map(function(ee){return ee.indexOf(" ")===-1?ee:"'"+ee+"'"})}},We={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},ct={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(Q,I){if(dt(I))return I.number;if(_t(I))switch(I.value){case"bold":return 700;case"normal":default:return 400}return 400}},ht={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(Q,I){return I.filter(_t).map(function(R){return R.value})}},ot={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(Q,I){switch(I){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},bt=function(Q,I){return(Q&I)!==0},wt={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(Q,I){if(I.length===0)return[];var R=I[0];return R.type===20&&R.value==="none"?[]:I}},Ye={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(Q,I){if(I.length===0)return null;var R=I[0];if(R.type===20&&R.value==="none")return null;for(var P=[],ee=I.filter(Mr),fe=0;fe<ee.length;fe++){var Se=ee[fe],Re=ee[fe+1];if(Se.type===20){var Ne=Re&&dt(Re)?Re.number:1;P.push({counter:Se.value,increment:Ne})}}return P}},Je={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(Q,I){if(I.length===0)return[];for(var R=[],P=I.filter(Mr),ee=0;ee<P.length;ee++){var fe=P[ee],Se=P[ee+1];if(_t(fe)&&fe.value!=="none"){var Re=Se&&dt(Se)?Se.number:0;R.push({counter:fe.value,reset:Re})}}return R}},Ft={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(Q,I){return I.filter(rt).map(function(R){return Ee.parse(Q,R)})}},St={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(Q,I){if(I.length===0)return null;var R=I[0];if(R.type===20&&R.value==="none")return null;var P=[],ee=I.filter(Kr);if(ee.length%2!==0)return null;for(var fe=0;fe<ee.length;fe+=2){var Se=ee[fe].value,Re=ee[fe+1].value;P.push({open:Se,close:Re})}return P}},xt=function(Q,I,R){if(!Q)return"";var P=Q[Math.min(I,Q.length-1)];return P?R?P.open:P.close:""},Ar={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(Q,I){return I.length===1&&tn(I[0],"none")?[]:rn(I).map(function(R){for(var P={color:255,offsetX:GA,offsetY:GA,blur:GA,spread:GA,inset:!1},ee=0,fe=0;fe<R.length;fe++){var Se=R[fe];tn(Se,"inset")?P.inset=!0:SA(Se)?(ee===0?P.offsetX=Se:ee===1?P.offsetY=Se:ee===2?P.blur=Se:P.spread=Se,ee++):P.color=To.parse(Q,Se)}return P})}},Yt={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(Q,I){var R=[0,1,2],P=[];return I.filter(_t).forEach(function(ee){switch(ee.value){case"stroke":P.push(1);break;case"fill":P.push(0);break;case"markers":P.push(2);break}}),R.forEach(function(ee){P.indexOf(ee)===-1&&P.push(ee)}),P}},Fr={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Zt={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(Q,I){return rt(I)?I.number:0}},Fn=function(){function Q(I,R){var P,ee;this.animationDuration=Lt(I,Ft,R.animationDuration),this.backgroundClip=Lt(I,au,R.backgroundClip),this.backgroundColor=Lt(I,Pn,R.backgroundColor),this.backgroundImage=Lt(I,ef,R.backgroundImage),this.backgroundOrigin=Lt(I,Ms,R.backgroundOrigin),this.backgroundPosition=Lt(I,fa,R.backgroundPosition),this.backgroundRepeat=Lt(I,Hp,R.backgroundRepeat),this.backgroundSize=Lt(I,hd,R.backgroundSize),this.borderTopColor=Lt(I,jp,R.borderTopColor),this.borderRightColor=Lt(I,tf,R.borderRightColor),this.borderBottomColor=Lt(I,Jc,R.borderBottomColor),this.borderLeftColor=Lt(I,dd,R.borderLeftColor),this.borderTopLeftRadius=Lt(I,pd,R.borderTopLeftRadius),this.borderTopRightRadius=Lt(I,Vp,R.borderTopRightRadius),this.borderBottomRightRadius=Lt(I,Zc,R.borderBottomRightRadius),this.borderBottomLeftRadius=Lt(I,vw,R.borderBottomLeftRadius),this.borderTopStyle=Lt(I,w1,R.borderTopStyle),this.borderRightStyle=Lt(I,yw,R.borderRightStyle),this.borderBottomStyle=Lt(I,Gp,R.borderBottomStyle),this.borderLeftStyle=Lt(I,rf,R.borderLeftStyle),this.borderTopWidth=Lt(I,eh,R.borderTopWidth),this.borderRightWidth=Lt(I,qm,R.borderRightWidth),this.borderBottomWidth=Lt(I,Wm,R.borderBottomWidth),this.borderLeftWidth=Lt(I,ww,R.borderLeftWidth),this.boxShadow=Lt(I,Ar,R.boxShadow),this.color=Lt(I,Bw,R.color),this.direction=Lt(I,B1,R.direction),this.display=Lt(I,C1,R.display),this.float=Lt(I,Hs,R.cssFloat),this.fontFamily=Lt(I,Pe,R.fontFamily),this.fontSize=Lt(I,We,R.fontSize),this.fontStyle=Lt(I,ot,R.fontStyle),this.fontVariant=Lt(I,ht,R.fontVariant),this.fontWeight=Lt(I,ct,R.fontWeight),this.letterSpacing=Lt(I,da,R.letterSpacing),this.lineBreak=Lt(I,Nl,R.lineBreak),this.lineHeight=Lt(I,nf,R.lineHeight),this.listStyleImage=Lt(I,oo,R.listStyleImage),this.listStylePosition=Lt(I,b1,R.listStylePosition),this.listStyleType=Lt(I,Xm,R.listStyleType),this.marginTop=Lt(I,Af,R.marginTop),this.marginRight=Lt(I,th,R.marginRight),this.marginBottom=Lt(I,gd,R.marginBottom),this.marginLeft=Lt(I,Ym,R.marginLeft),this.opacity=Lt(I,Fe,R.opacity);var fe=Lt(I,hu,R.overflow);this.overflowX=fe[0],this.overflowY=fe[fe.length>1?1:0],this.overflowWrap=Lt(I,$a,R.overflowWrap),this.paddingTop=Lt(I,tA,R.paddingTop),this.paddingRight=Lt(I,sc,R.paddingRight),this.paddingBottom=Lt(I,Yi,R.paddingBottom),this.paddingLeft=Lt(I,ao,R.paddingLeft),this.paintOrder=Lt(I,Yt,R.paintOrder),this.position=Lt(I,sf,R.position),this.textAlign=Lt(I,rh,R.textAlign),this.textDecorationColor=Lt(I,Ue,(P=R.textDecorationColor)!==null&&P!==void 0?P:R.color),this.textDecorationLine=Lt(I,Te,(ee=R.textDecorationLine)!==null&&ee!==void 0?ee:R.textDecoration),this.textShadow=Lt(I,lo,R.textShadow),this.textTransform=Lt(I,zp,R.textTransform),this.transform=Lt(I,Cw,R.transform),this.transformOrigin=Lt(I,S,R.transformOrigin),this.visibility=Lt(I,j,R.visibility),this.webkitTextStrokeColor=Lt(I,Fr,R.webkitTextStrokeColor),this.webkitTextStrokeWidth=Lt(I,Zt,R.webkitTextStrokeWidth),this.wordBreak=Lt(I,ue,R.wordBreak),this.zIndex=Lt(I,ve,R.zIndex)}return Q.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},Q.prototype.isTransparent=function(){return ca(this.backgroundColor)},Q.prototype.isTransformed=function(){return this.transform!==null},Q.prototype.isPositioned=function(){return this.position!==0},Q.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},Q.prototype.isFloating=function(){return this.float!==0},Q.prototype.isInlineLevel=function(){return bt(this.display,4)||bt(this.display,33554432)||bt(this.display,268435456)||bt(this.display,536870912)||bt(this.display,67108864)||bt(this.display,134217728)},Q}(),In=function(){function Q(I,R){this.content=Lt(I,wt,R.content),this.quotes=Lt(I,St,R.quotes)}return Q}(),un=function(){function Q(I,R){this.counterIncrement=Lt(I,Ye,R.counterIncrement),this.counterReset=Lt(I,Je,R.counterReset)}return Q}(),Lt=function(Q,I,R){var P=new ce,ee=R!==null&&typeof R<"u"?R.toString():I.initialValue;P.write(ee);var fe=new xe(P.read());switch(I.type){case 2:var Se=fe.parseComponentValue();return I.parse(Q,_t(Se)?Se.value:I.initialValue);case 0:return I.parse(Q,fe.parseComponentValue());case 1:return I.parse(Q,fe.parseComponentValues());case 4:return fe.parseComponentValue();case 3:switch(I.format){case"angle":return xl.parse(Q,fe.parseComponentValue());case"color":return To.parse(Q,fe.parseComponentValue());case"image":return cu.parse(Q,fe.parseComponentValue());case"length":var Re=fe.parseComponentValue();return SA(Re)?Re:GA;case"length-percentage":var Ne=fe.parseComponentValue();return Mn(Ne)?Ne:GA;case"time":return Ee.parse(Q,fe.parseComponentValue())}break}},$n="data-html2canvas-debug",rA=function(Q){var I=Q.getAttribute($n);switch(I){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Nr=function(Q,I){var R=rA(Q);return R===1||I===R},xn=function(){function Q(I,R){if(this.context=I,this.textNodes=[],this.elements=[],this.flags=0,Nr(R,3))debugger;this.styles=new Fn(I,window.getComputedStyle(R,null)),sv(R)&&(this.styles.animationDuration.some(function(P){return P>0})&&(R.style.animationDuration="0s"),this.styles.transform!==null&&(R.style.transform="none")),this.bounds=u(this.context,R),Nr(R,4)&&(this.flags|=16)}return Q}(),js="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",qA="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",kA=typeof Uint8Array>"u"?[]:new Uint8Array(256),wn=0;wn<qA.length;wn++)kA[qA.charCodeAt(wn)]=wn;for(var ys=function(Q){var I=Q.length*.75,R=Q.length,P,ee=0,fe,Se,Re,Ne;Q[Q.length-1]==="="&&(I--,Q[Q.length-2]==="="&&I--);var Ze=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(I):new Array(I),tt=Array.isArray(Ze)?Ze:new Uint8Array(Ze);for(P=0;P<R;P+=4)fe=kA[Q.charCodeAt(P)],Se=kA[Q.charCodeAt(P+1)],Re=kA[Q.charCodeAt(P+2)],Ne=kA[Q.charCodeAt(P+3)],tt[ee++]=fe<<2|Se>>4,tt[ee++]=(Se&15)<<4|Re>>2,tt[ee++]=(Re&3)<<6|Ne&63;return Ze},ws=function(Q){for(var I=Q.length,R=[],P=0;P<I;P+=2)R.push(Q[P+1]<<8|Q[P]);return R},DA=function(Q){for(var I=Q.length,R=[],P=0;P<I;P+=4)R.push(Q[P+3]<<24|Q[P+2]<<16|Q[P+1]<<8|Q[P]);return R},mA=5,wi=11,Bs=2,pa=wi-mA,FA=65536>>mA,ui=1<<mA,Vs=ui-1,oc=1024>>mA,fu=FA+oc,Vn=fu,Pl=32,qp=Vn+Pl,Zm=65536>>wi,ga=1<<pa,ma=ga-1,ac=function(Q,I,R){return Q.slice?Q.slice(I,R):new Uint16Array(Array.prototype.slice.call(Q,I,R))},va=function(Q,I,R){return Q.slice?Q.slice(I,R):new Uint32Array(Array.prototype.slice.call(Q,I,R))},du=function(Q,I){var R=ys(Q),P=Array.isArray(R)?DA(R):new Uint32Array(R),ee=Array.isArray(R)?ws(R):new Uint16Array(R),fe=24,Se=ac(ee,fe/2,P[4]/2),Re=P[5]===2?ac(ee,(fe+P[4])/2):va(P,Math.ceil((fe+P[4])/4));return new Ah(P[0],P[1],P[2],P[3],Se,Re)},Ah=function(){function Q(I,R,P,ee,fe,Se){this.initialValue=I,this.errorValue=R,this.highStart=P,this.highValueIndex=ee,this.index=fe,this.data=Se}return Q.prototype.get=function(I){var R;if(I>=0){if(I<55296||I>56319&&I<=65535)return R=this.index[I>>mA],R=(R<<Bs)+(I&Vs),this.data[R];if(I<=65535)return R=this.index[FA+(I-55296>>mA)],R=(R<<Bs)+(I&Vs),this.data[R];if(I<this.highStart)return R=qp-Zm+(I>>wi),R=this.index[R],R+=I>>mA&ma,R=this.index[R],R=(R<<Bs)+(I&Vs),this.data[R];if(I<=1114111)return this.data[this.highValueIndex]}return this.errorValue},Q}(),ih="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",No=typeof Uint8Array>"u"?[]:new Uint8Array(256),pu=0;pu<ih.length;pu++)No[ih.charCodeAt(pu)]=pu;var lc=1,Xa=2,uc=3,Ya=4,ev=5,tv=7,uA=8,Ro=9,vd=10,Wp=11,yd=12,wd=13,Ja=14,cA=15,ci=function(Q){for(var I=[],R=0,P=Q.length;R<P;){var ee=Q.charCodeAt(R++);if(ee>=55296&&ee<=56319&&R<P){var fe=Q.charCodeAt(R++);(fe&64512)===56320?I.push(((ee&1023)<<10)+(fe&1023)+65536):(I.push(ee),R--)}else I.push(ee)}return I},ni=function(){for(var Q=[],I=0;I<arguments.length;I++)Q[I]=arguments[I];if(String.fromCodePoint)return String.fromCodePoint.apply(String,Q);var R=Q.length;if(!R)return"";for(var P=[],ee=-1,fe="";++ee<R;){var Se=Q[ee];Se<=65535?P.push(Se):(Se-=65536,P.push((Se>>10)+55296,Se%1024+56320)),(ee+1===R||P.length>16384)&&(fe+=String.fromCharCode.apply(String,P),P.length=0)}return fe},of=du(js),hi="",cc="",E1=function(Q){return of.get(Q)},Bi=function(Q,I,R){var P=R-2,ee=I[P],fe=I[R-1],Se=I[R];if(fe===Xa&&Se===uc)return hi;if(fe===Xa||fe===uc||fe===Ya||Se===Xa||Se===uc||Se===Ya)return cc;if(fe===uA&&[uA,Ro,Wp,yd].indexOf(Se)!==-1||(fe===Wp||fe===Ro)&&(Se===Ro||Se===vd)||(fe===yd||fe===vd)&&Se===vd||Se===wd||Se===ev||Se===tv||fe===lc)return hi;if(fe===wd&&Se===Ja){for(;ee===ev;)ee=I[--P];if(ee===Ja)return hi}if(fe===cA&&Se===cA){for(var Re=0;ee===cA;)Re++,ee=I[--P];if(Re%2===0)return hi}return cc},$p=function(Q){var I=ci(Q),R=I.length,P=0,ee=0,fe=I.map(E1);return{next:function(){if(P>=R)return{done:!0,value:null};for(var Se=hi;P<R&&(Se=Bi(I,fe,++P))===hi;);if(Se!==hi||P===R){var Re=ni.apply(null,I.slice(ee,P));return ee=P,{value:Re,done:!1}}return{done:!0,value:null}}}},Bd=function(Q){for(var I=$p(Q),R=[],P;!(P=I.next()).done;)P.value&&R.push(P.value.slice());return R},Ol=function(Q){var I=123;if(Q.createRange){var R=Q.createRange();if(R.getBoundingClientRect){var P=Q.createElement("boundtest");P.style.height=I+"px",P.style.display="block",Q.body.appendChild(P),R.selectNode(P);var ee=R.getBoundingClientRect(),fe=Math.round(ee.height);if(Q.body.removeChild(P),fe===I)return!0}}return!1},Za=function(Q){var I=Q.createElement("boundtest");I.style.width="50px",I.style.display="block",I.style.fontSize="12px",I.style.letterSpacing="0px",I.style.wordSpacing="0px",Q.body.appendChild(I);var R=Q.createRange();I.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var P=I.firstChild,ee=c(P.data).map(function(Ne){return h(Ne)}),fe=0,Se={},Re=ee.every(function(Ne,Ze){R.setStart(P,fe),R.setEnd(P,fe+Ne.length);var tt=R.getBoundingClientRect();fe+=Ne.length;var ft=tt.x>Se.x||tt.y>Se.y;return Se=tt,Ze===0?!0:ft});return Q.body.removeChild(I),Re},Po=function(){return typeof new Image().crossOrigin<"u"},Cd=function(){return typeof new XMLHttpRequest().responseType=="string"},Xp=function(Q){var I=new Image,R=Q.createElement("canvas"),P=R.getContext("2d");if(!P)return!1;I.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{P.drawImage(I,0,0),R.toDataURL()}catch{return!1}return!0},gu=function(Q){return Q[0]===0&&Q[1]===255&&Q[2]===0&&Q[3]===255},Ew=function(Q){var I=Q.createElement("canvas"),R=100;I.width=R,I.height=R;var P=I.getContext("2d");if(!P)return Promise.reject(!1);P.fillStyle="rgb(0, 255, 0)",P.fillRect(0,0,R,R);var ee=new Image,fe=I.toDataURL();ee.src=fe;var Se=bd(R,R,0,0,ee);return P.fillStyle="red",P.fillRect(0,0,R,R),rv(Se).then(function(Re){P.drawImage(Re,0,0);var Ne=P.getImageData(0,0,R,R).data;P.fillStyle="red",P.fillRect(0,0,R,R);var Ze=Q.createElement("div");return Ze.style.backgroundImage="url("+fe+")",Ze.style.height=R+"px",gu(Ne)?rv(bd(R,R,0,0,Ze)):Promise.reject(!1)}).then(function(Re){return P.drawImage(Re,0,0),gu(P.getImageData(0,0,R,R).data)}).catch(function(){return!1})},bd=function(Q,I,R,P,ee){var fe="http://www.w3.org/2000/svg",Se=document.createElementNS(fe,"svg"),Re=document.createElementNS(fe,"foreignObject");return Se.setAttributeNS(null,"width",Q.toString()),Se.setAttributeNS(null,"height",I.toString()),Re.setAttributeNS(null,"width","100%"),Re.setAttributeNS(null,"height","100%"),Re.setAttributeNS(null,"x",R.toString()),Re.setAttributeNS(null,"y",P.toString()),Re.setAttributeNS(null,"externalResourcesRequired","true"),Se.appendChild(Re),Re.appendChild(ee),Se},rv=function(Q){return new Promise(function(I,R){var P=new Image;P.onload=function(){return I(P)},P.onerror=R,P.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(Q))})},Ci={get SUPPORT_RANGE_BOUNDS(){var Q=Ol(document);return Object.defineProperty(Ci,"SUPPORT_RANGE_BOUNDS",{value:Q}),Q},get SUPPORT_WORD_BREAKING(){var Q=Ci.SUPPORT_RANGE_BOUNDS&&Za(document);return Object.defineProperty(Ci,"SUPPORT_WORD_BREAKING",{value:Q}),Q},get SUPPORT_SVG_DRAWING(){var Q=Xp(document);return Object.defineProperty(Ci,"SUPPORT_SVG_DRAWING",{value:Q}),Q},get SUPPORT_FOREIGNOBJECT_DRAWING(){var Q=typeof Array.from=="function"&&typeof window.fetch=="function"?Ew(document):Promise.resolve(!1);return Object.defineProperty(Ci,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:Q}),Q},get SUPPORT_CORS_IMAGES(){var Q=Po();return Object.defineProperty(Ci,"SUPPORT_CORS_IMAGES",{value:Q}),Q},get SUPPORT_RESPONSE_TYPE(){var Q=Cd();return Object.defineProperty(Ci,"SUPPORT_RESPONSE_TYPE",{value:Q}),Q},get SUPPORT_CORS_XHR(){var Q="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Ci,"SUPPORT_CORS_XHR",{value:Q}),Q},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var Q=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Ci,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:Q}),Q}},af=function(){function Q(I,R){this.text=I,this.bounds=R}return Q}(),lf=function(Q,I,R,P){var ee=el(I,R),fe=[],Se=0;return ee.forEach(function(Re){if(R.textDecorationLine.length||Re.trim().length>0)if(Ci.SUPPORT_RANGE_BOUNDS){var Ne=uf(P,Se,Re.length).getClientRects();if(Ne.length>1){var Ze=Ks(Re),tt=0;Ze.forEach(function(It){fe.push(new af(It,a.fromDOMRectList(Q,uf(P,tt+Se,It.length).getClientRects()))),tt+=It.length})}else fe.push(new af(Re,a.fromDOMRectList(Q,Ne)))}else{var ft=P.splitText(Re.length);fe.push(new af(Re,Yp(Q,P))),P=ft}else Ci.SUPPORT_RANGE_BOUNDS||(P=P.splitText(Re.length));Se+=Re.length}),fe},Yp=function(Q,I){var R=I.ownerDocument;if(R){var P=R.createElement("html2canvaswrapper");P.appendChild(I.cloneNode(!0));var ee=I.parentNode;if(ee){ee.replaceChild(P,I);var fe=u(Q,P);return P.firstChild&&ee.replaceChild(P.firstChild,P),fe}}return a.EMPTY},uf=function(Q,I,R){var P=Q.ownerDocument;if(!P)throw new Error("Node has no owner document");var ee=P.createRange();return ee.setStart(Q,I),ee.setEnd(Q,I+R),ee},Ks=function(Q){if(Ci.SUPPORT_NATIVE_TEXT_SEGMENTATION){var I=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(I.segment(Q)).map(function(R){return R.segment})}return Bd(Q)},mu=function(Q,I){if(Ci.SUPPORT_NATIVE_TEXT_SEGMENTATION){var R=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(R.segment(Q)).map(function(P){return P.segment})}return Jp(Q,I)},el=function(Q,I){return I.letterSpacing!==0?Ks(Q):mu(Q,I)},sh=[32,160,4961,65792,65793,4153,4241],Jp=function(Q,I){for(var R=pA(Q,{lineBreak:I.lineBreak,wordBreak:I.overflowWrap==="break-word"?"break-word":I.wordBreak}),P=[],ee,fe=function(){if(ee.value){var Se=ee.value.slice(),Re=c(Se),Ne="";Re.forEach(function(Ze){sh.indexOf(Ze)===-1?Ne+=h(Ze):(Ne.length&&P.push(Ne),P.push(h(Ze)),Ne="")}),Ne.length&&P.push(Ne)}};!(ee=R.next()).done;)fe();return P},Zp=function(){function Q(I,R,P){this.text=_w(R.data,P.textTransform),this.textBounds=lf(I,this.text,P,R)}return Q}(),_w=function(Q,I){switch(I){case 1:return Q.toLowerCase();case 3:return Q.replace(eg,tg);case 2:return Q.toUpperCase();default:return Q}},eg=/(^|\s|:|-|\(|\))([a-z])/g,tg=function(Q,I,R){return Q.length>0?I+R.toUpperCase():Q},_1=function(Q){n(I,Q);function I(R,P){var ee=Q.call(this,R,P)||this;return ee.src=P.currentSrc||P.src,ee.intrinsicWidth=P.naturalWidth,ee.intrinsicHeight=P.naturalHeight,ee.context.cache.addImage(ee.src),ee}return I}(xn),Sw=function(Q){n(I,Q);function I(R,P){var ee=Q.call(this,R,P)||this;return ee.canvas=P,ee.intrinsicWidth=P.width,ee.intrinsicHeight=P.height,ee}return I}(xn),S1=function(Q){n(I,Q);function I(R,P){var ee=Q.call(this,R,P)||this,fe=new XMLSerializer,Se=u(R,P);return P.setAttribute("width",Se.width+"px"),P.setAttribute("height",Se.height+"px"),ee.svg="data:image/svg+xml,"+encodeURIComponent(fe.serializeToString(P)),ee.intrinsicWidth=P.width.baseVal.value,ee.intrinsicHeight=P.height.baseVal.value,ee.context.cache.addImage(ee.svg),ee}return I}(xn),F1=function(Q){n(I,Q);function I(R,P){var ee=Q.call(this,R,P)||this;return ee.value=P.value,ee}return I}(xn),Fw=function(Q){n(I,Q);function I(R,P){var ee=Q.call(this,R,P)||this;return ee.start=P.start,ee.reversed=typeof P.reversed=="boolean"&&P.reversed===!0,ee}return I}(xn),CU=[{type:15,flags:0,unit:"px",number:3}],i2=[{type:16,flags:0,number:50}],bU=function(Q){return Q.width>Q.height?new a(Q.left+(Q.width-Q.height)/2,Q.top,Q.height,Q.height):Q.width<Q.height?new a(Q.left,Q.top+(Q.height-Q.width)/2,Q.width,Q.width):Q},EU=function(Q){var I=Q.type===s2?new Array(Q.value.length+1).join(""):Q.value;return I.length===0?Q.placeholder||"":I},nv="checkbox",Av="radio",s2="password",iv=707406591,I1=function(Q){n(I,Q);function I(R,P){var ee=Q.call(this,R,P)||this;switch(ee.type=P.type.toLowerCase(),ee.checked=P.checked,ee.value=EU(P),(ee.type===nv||ee.type===Av)&&(ee.styles.backgroundColor=3739148031,ee.styles.borderTopColor=ee.styles.borderRightColor=ee.styles.borderBottomColor=ee.styles.borderLeftColor=2779096575,ee.styles.borderTopWidth=ee.styles.borderRightWidth=ee.styles.borderBottomWidth=ee.styles.borderLeftWidth=1,ee.styles.borderTopStyle=ee.styles.borderRightStyle=ee.styles.borderBottomStyle=ee.styles.borderLeftStyle=1,ee.styles.backgroundClip=[0],ee.styles.backgroundOrigin=[0],ee.bounds=bU(ee.bounds)),ee.type){case nv:ee.styles.borderTopRightRadius=ee.styles.borderTopLeftRadius=ee.styles.borderBottomRightRadius=ee.styles.borderBottomLeftRadius=CU;break;case Av:ee.styles.borderTopRightRadius=ee.styles.borderTopLeftRadius=ee.styles.borderBottomRightRadius=ee.styles.borderBottomLeftRadius=i2;break}return ee}return I}(xn),o2=function(Q){n(I,Q);function I(R,P){var ee=Q.call(this,R,P)||this,fe=P.options[P.selectedIndex||0];return ee.value=fe&&fe.text||"",ee}return I}(xn),a2=function(Q){n(I,Q);function I(R,P){var ee=Q.call(this,R,P)||this;return ee.value=P.value,ee}return I}(xn),kl=function(Q){n(I,Q);function I(R,P){var ee=Q.call(this,R,P)||this;ee.src=P.src,ee.width=parseInt(P.width,10)||0,ee.height=parseInt(P.height,10)||0,ee.backgroundColor=ee.styles.backgroundColor;try{if(P.contentWindow&&P.contentWindow.document&&P.contentWindow.document.documentElement){ee.tree=T1(R,P.contentWindow.document.documentElement);var fe=P.contentWindow.document.documentElement?Qo(R,getComputedStyle(P.contentWindow.document.documentElement).backgroundColor):so.TRANSPARENT,Se=P.contentWindow.document.body?Qo(R,getComputedStyle(P.contentWindow.document.body).backgroundColor):so.TRANSPARENT;ee.backgroundColor=ca(fe)?ca(Se)?ee.styles.backgroundColor:Se:fe}}catch{}return ee}return I}(xn),x1=["OL","UL","MENU"],Ed=function(Q,I,R,P){for(var ee=I.firstChild,fe=void 0;ee;ee=fe)if(fe=ee.nextSibling,_d(ee)&&ee.data.trim().length>0)R.textNodes.push(new Zp(Q,ee,R.styles));else if(cf(ee))if(O1(ee)&&ee.assignedNodes)ee.assignedNodes().forEach(function(Re){return Ed(Q,Re,R,P)});else{var Se=U1(Q,ee);Se.styles.isVisible()&&(l2(ee,Se,P)?Se.flags|=4:Q1(Se.styles)&&(Se.flags|=2),x1.indexOf(ee.tagName)!==-1&&(Se.flags|=8),R.elements.push(Se),ee.slot,ee.shadowRoot?Ed(Q,ee.shadowRoot,Se,P):!ov(ee)&&!L1(ee)&&!rg(ee)&&Ed(Q,ee,Se,P))}},U1=function(Q,I){return xw(I)?new _1(Q,I):Oo(I)?new Sw(Q,I):L1(I)?new S1(Q,I):u2(I)?new F1(Q,I):c2(I)?new Fw(Q,I):h2(I)?new I1(Q,I):rg(I)?new o2(Q,I):ov(I)?new a2(Q,I):R1(I)?new kl(Q,I):new xn(Q,I)},T1=function(Q,I){var R=U1(Q,I);return R.flags|=4,Ed(Q,I,R,R),R},l2=function(Q,I,R){return I.styles.isPositionedWithZIndex()||I.styles.opacity<1||I.styles.isTransformed()||N1(Q)&&R.styles.isTransparent()},Q1=function(Q){return Q.isPositioned()||Q.isFloating()},_d=function(Q){return Q.nodeType===Node.TEXT_NODE},cf=function(Q){return Q.nodeType===Node.ELEMENT_NODE},sv=function(Q){return cf(Q)&&typeof Q.style<"u"&&!Iw(Q)},Iw=function(Q){return typeof Q.className=="object"},u2=function(Q){return Q.tagName==="LI"},c2=function(Q){return Q.tagName==="OL"},h2=function(Q){return Q.tagName==="INPUT"},f2=function(Q){return Q.tagName==="HTML"},L1=function(Q){return Q.tagName==="svg"},N1=function(Q){return Q.tagName==="BODY"},Oo=function(Q){return Q.tagName==="CANVAS"},uo=function(Q){return Q.tagName==="VIDEO"},xw=function(Q){return Q.tagName==="IMG"},R1=function(Q){return Q.tagName==="IFRAME"},P1=function(Q){return Q.tagName==="STYLE"},d2=function(Q){return Q.tagName==="SCRIPT"},ov=function(Q){return Q.tagName==="TEXTAREA"},rg=function(Q){return Q.tagName==="SELECT"},O1=function(Q){return Q.tagName==="SLOT"},Uw=function(Q){return Q.tagName.indexOf("-")>0},p2=function(){function Q(){this.counters={}}return Q.prototype.getCounterValue=function(I){var R=this.counters[I];return R&&R.length?R[R.length-1]:1},Q.prototype.getCounterValues=function(I){var R=this.counters[I];return R||[]},Q.prototype.pop=function(I){var R=this;I.forEach(function(P){return R.counters[P].pop()})},Q.prototype.parse=function(I){var R=this,P=I.counterIncrement,ee=I.counterReset,fe=!0;P!==null&&P.forEach(function(Re){var Ne=R.counters[Re.counter];Ne&&Re.increment!==0&&(fe=!1,Ne.length||Ne.push(1),Ne[Math.max(0,Ne.length-1)]+=Re.increment)});var Se=[];return fe&&ee.forEach(function(Re){var Ne=R.counters[Re.counter];Se.push(Re.counter),Ne||(Ne=R.counters[Re.counter]=[]),Ne.push(Re.reset)}),Se},Q}(),k1={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Tw={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},D1={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},g2={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},hf=function(Q,I,R,P,ee,fe){return Q<I||Q>R?lh(Q,ee,fe.length>0):P.integers.reduce(function(Se,Re,Ne){for(;Q>=Re;)Q-=Re,Se+=P.values[Ne];return Se},"")+fe},av=function(Q,I,R,P){var ee="";do R||Q--,ee=P(Q)+ee,Q/=I;while(Q*I>=I);return ee},bi=function(Q,I,R,P,ee){var fe=R-I+1;return(Q<0?"-":"")+(av(Math.abs(Q),fe,P,function(Se){return h(Math.floor(Se%fe)+I)})+ee)},ff=function(Q,I,R){R===void 0&&(R=". ");var P=I.length;return av(Math.abs(Q),P,!1,function(ee){return I[Math.floor(ee%P)]})+R},df=1,oh=2,vu=4,tl=8,ah=function(Q,I,R,P,ee,fe){if(Q<-9999||Q>9999)return lh(Q,4,ee.length>0);var Se=Math.abs(Q),Re=ee;if(Se===0)return I[0]+Re;for(var Ne=0;Se>0&&Ne<=4;Ne++){var Ze=Se%10;Ze===0&&bt(fe,df)&&Re!==""?Re=I[Ze]+Re:Ze>1||Ze===1&&Ne===0||Ze===1&&Ne===1&&bt(fe,oh)||Ze===1&&Ne===1&&bt(fe,vu)&&Q>100||Ze===1&&Ne>1&&bt(fe,tl)?Re=I[Ze]+(Ne>0?R[Ne-1]:"")+Re:Ze===1&&Ne>0&&(Re=R[Ne-1]+Re),Se=Math.floor(Se/10)}return(Q<0?P:"")+Re},M1="",Qw="",H1="",Lw="",lh=function(Q,I,R){var P=R?". ":"",ee=R?"":"",fe=R?", ":"",Se=R?" ":"";switch(I){case 0:return""+Se;case 1:return""+Se;case 2:return""+Se;case 5:var Re=bi(Q,48,57,!0,P);return Re.length<4?"0"+Re:Re;case 4:return ff(Q,"",ee);case 6:return hf(Q,1,3999,k1,3,P).toLowerCase();case 7:return hf(Q,1,3999,k1,3,P);case 8:return bi(Q,945,969,!1,P);case 9:return bi(Q,97,122,!1,P);case 10:return bi(Q,65,90,!1,P);case 11:return bi(Q,1632,1641,!0,P);case 12:case 49:return hf(Q,1,9999,Tw,3,P);case 35:return hf(Q,1,9999,Tw,3,P).toLowerCase();case 13:return bi(Q,2534,2543,!0,P);case 14:case 30:return bi(Q,6112,6121,!0,P);case 15:return ff(Q,"",ee);case 16:return ff(Q,"",ee);case 17:case 48:return ah(Q,"",M1,"",ee,oh|vu|tl);case 47:return ah(Q,"",Qw,"",ee,df|oh|vu|tl);case 42:return ah(Q,"",M1,"",ee,oh|vu|tl);case 41:return ah(Q,"",Qw,"",ee,df|oh|vu|tl);case 26:return ah(Q,"","",H1,ee,0);case 25:return ah(Q,"","",H1,ee,df|oh|vu);case 31:return ah(Q,"","",Lw,fe,df|oh|vu);case 33:return ah(Q,"","",Lw,fe,0);case 32:return ah(Q,"","",Lw,fe,df|oh|vu);case 18:return bi(Q,2406,2415,!0,P);case 20:return hf(Q,1,19999,g2,3,P);case 21:return bi(Q,2790,2799,!0,P);case 22:return bi(Q,2662,2671,!0,P);case 22:return hf(Q,1,10999,D1,3,P);case 23:return ff(Q,"");case 24:return ff(Q,"");case 27:return bi(Q,3302,3311,!0,P);case 28:return ff(Q,"",ee);case 29:return ff(Q,"",ee);case 34:return bi(Q,3792,3801,!0,P);case 37:return bi(Q,6160,6169,!0,P);case 38:return bi(Q,4160,4169,!0,P);case 39:return bi(Q,2918,2927,!0,P);case 40:return bi(Q,1776,1785,!0,P);case 43:return bi(Q,3046,3055,!0,P);case 44:return bi(Q,3174,3183,!0,P);case 45:return bi(Q,3664,3673,!0,P);case 46:return bi(Q,3872,3881,!0,P);case 3:default:return bi(Q,48,57,!0,P)}},Gs="data-html2canvas-ignore",m2=function(){function Q(I,R,P){if(this.context=I,this.options=P,this.scrolledElements=[],this.referenceElement=R,this.counters=new p2,this.quoteDepth=0,!R.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(R.ownerDocument.documentElement,!1)}return Q.prototype.toIFrame=function(I,R){var P=this,ee=Nw(I,R);if(!ee.contentWindow)return Promise.reject("Unable to find iframe window");var fe=I.defaultView.pageXOffset,Se=I.defaultView.pageYOffset,Re=ee.contentWindow,Ne=Re.document,Ze=fr(ee).then(function(){return i(P,void 0,void 0,function(){var tt,ft;return s(this,function(It){switch(It.label){case 0:return this.scrolledElements.forEach(cv),Re&&(Re.scrollTo(R.left,R.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(Re.scrollY!==R.top||Re.scrollX!==R.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(Re.scrollX-R.left,Re.scrollY-R.top,0,0))),tt=this.options.onclone,ft=this.clonedReferenceElement,typeof ft>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:Ne.fonts&&Ne.fonts.ready?[4,Ne.fonts.ready]:[3,2];case 1:It.sent(),It.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,_U(Ne)]:[3,4];case 3:It.sent(),It.label=4;case 4:return typeof tt=="function"?[2,Promise.resolve().then(function(){return tt(Ne,ft)}).then(function(){return ee})]:[2,ee]}})})});return Ne.open(),Ne.write(v2(document.doctype)+"<html></html>"),SU(this.referenceElement.ownerDocument,fe,Se),Ne.replaceChild(Ne.adoptNode(this.documentElement),Ne.documentElement),Ne.close(),Ze},Q.prototype.createElementClone=function(I){if(Nr(I,2))debugger;if(Oo(I))return this.createCanvasClone(I);if(uo(I))return this.createVideoClone(I);if(P1(I))return this.createStyleClone(I);var R=I.cloneNode(!1);return xw(R)&&(xw(I)&&I.currentSrc&&I.currentSrc!==I.src&&(R.src=I.currentSrc,R.srcset=""),R.loading==="lazy"&&(R.loading="eager")),Uw(R)?this.createCustomElementClone(R):R},Q.prototype.createCustomElementClone=function(I){var R=document.createElement("html2canvascustomelement");return uv(I.style,R),R},Q.prototype.createStyleClone=function(I){try{var R=I.sheet;if(R&&R.cssRules){var P=[].slice.call(R.cssRules,0).reduce(function(fe,Se){return Se&&typeof Se.cssText=="string"?fe+Se.cssText:fe},""),ee=I.cloneNode(!1);return ee.textContent=P,ee}}catch(fe){if(this.context.logger.error("Unable to access cssRules property",fe),fe.name!=="SecurityError")throw fe}return I.cloneNode(!1)},Q.prototype.createCanvasClone=function(I){var R;if(this.options.inlineImages&&I.ownerDocument){var P=I.ownerDocument.createElement("img");try{return P.src=I.toDataURL(),P}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",I)}}var ee=I.cloneNode(!1);try{ee.width=I.width,ee.height=I.height;var fe=I.getContext("2d"),Se=ee.getContext("2d");if(Se)if(!this.options.allowTaint&&fe)Se.putImageData(fe.getImageData(0,0,I.width,I.height),0,0);else{var Re=(R=I.getContext("webgl2"))!==null&&R!==void 0?R:I.getContext("webgl");if(Re){var Ne=Re.getContextAttributes();(Ne==null?void 0:Ne.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",I)}Se.drawImage(I,0,0)}return ee}catch{this.context.logger.info("Unable to clone canvas as it is tainted",I)}return ee},Q.prototype.createVideoClone=function(I){var R=I.ownerDocument.createElement("canvas");R.width=I.offsetWidth,R.height=I.offsetHeight;var P=R.getContext("2d");try{return P&&(P.drawImage(I,0,0,R.width,R.height),this.options.allowTaint||P.getImageData(0,0,R.width,R.height)),R}catch{this.context.logger.info("Unable to clone video as it is tainted",I)}var ee=I.ownerDocument.createElement("canvas");return ee.width=I.offsetWidth,ee.height=I.offsetHeight,ee},Q.prototype.appendChildNode=function(I,R,P){(!cf(R)||!d2(R)&&!R.hasAttribute(Gs)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(R)))&&(!this.options.copyStyles||!cf(R)||!P1(R))&&I.appendChild(this.cloneNode(R,P))},Q.prototype.cloneChildNodes=function(I,R,P){for(var ee=this,fe=I.shadowRoot?I.shadowRoot.firstChild:I.firstChild;fe;fe=fe.nextSibling)if(cf(fe)&&O1(fe)&&typeof fe.assignedNodes=="function"){var Se=fe.assignedNodes();Se.length&&Se.forEach(function(Re){return ee.appendChildNode(R,Re,P)})}else this.appendChildNode(R,fe,P)},Q.prototype.cloneNode=function(I,R){if(_d(I))return document.createTextNode(I.data);if(!I.ownerDocument)return I.cloneNode(!1);var P=I.ownerDocument.defaultView;if(P&&cf(I)&&(sv(I)||Iw(I))){var ee=this.createElementClone(I);ee.style.transitionProperty="none";var fe=P.getComputedStyle(I),Se=P.getComputedStyle(I,":before"),Re=P.getComputedStyle(I,":after");this.referenceElement===I&&sv(ee)&&(this.clonedReferenceElement=ee),N1(ee)&&K1(ee);var Ne=this.counters.parse(new un(this.context,fe)),Ze=this.resolvePseudoContent(I,ee,Se,lv.BEFORE);Uw(I)&&(R=!0),uo(I)||this.cloneChildNodes(I,ee,R),Ze&&ee.insertBefore(Ze,ee.firstChild);var tt=this.resolvePseudoContent(I,ee,Re,lv.AFTER);return tt&&ee.appendChild(tt),this.counters.pop(Ne),(fe&&(this.options.copyStyles||Iw(I))&&!R1(I)||R)&&uv(fe,ee),(I.scrollTop!==0||I.scrollLeft!==0)&&this.scrolledElements.push([ee,I.scrollLeft,I.scrollTop]),(ov(I)||rg(I))&&(ov(ee)||rg(ee))&&(ee.value=I.value),ee}return I.cloneNode(!1)},Q.prototype.resolvePseudoContent=function(I,R,P,ee){var fe=this;if(P){var Se=P.content,Re=R.ownerDocument;if(!(!Re||!Se||Se==="none"||Se==="-moz-alt-content"||P.display==="none")){this.counters.parse(new un(this.context,P));var Ne=new In(this.context,P),Ze=Re.createElement("html2canvaspseudoelement");uv(P,Ze),Ne.content.forEach(function(ft){if(ft.type===0)Ze.appendChild(Re.createTextNode(ft.value));else if(ft.type===22){var It=Re.createElement("img");It.src=ft.value,It.style.opacity="1",Ze.appendChild(It)}else if(ft.type===18){if(ft.name==="attr"){var er=ft.values.filter(_t);er.length&&Ze.appendChild(Re.createTextNode(I.getAttribute(er[0].value)||""))}else if(ft.name==="counter"){var Gt=ft.values.filter(ln),Jt=Gt[0],Wr=Gt[1];if(Jt&&_t(Jt)){var yr=fe.counters.getCounterValue(Jt.value),dr=Wr&&_t(Wr)?Xm.parse(fe.context,Wr.value):3;Ze.appendChild(Re.createTextNode(lh(yr,dr,!1)))}}else if(ft.name==="counters"){var Gn=ft.values.filter(ln),Jt=Gn[0],Yr=Gn[1],Wr=Gn[2];if(Jt&&_t(Jt)){var Hr=fe.counters.getCounterValues(Jt.value),sr=Wr&&_t(Wr)?Xm.parse(fe.context,Wr.value):3,Cn=Yr&&Yr.type===0?Yr.value:"",cn=Hr.map(function(fo){return lh(fo,sr,!1)}).join(Cn);Ze.appendChild(Re.createTextNode(cn))}}}else if(ft.type===20)switch(ft.value){case"open-quote":Ze.appendChild(Re.createTextNode(xt(Ne.quotes,fe.quoteDepth++,!0)));break;case"close-quote":Ze.appendChild(Re.createTextNode(xt(Ne.quotes,--fe.quoteDepth,!1)));break;default:Ze.appendChild(Re.createTextNode(ft.value))}}),Ze.className=Pw+" "+Ow;var tt=ee===lv.BEFORE?" "+Pw:" "+Ow;return Iw(R)?R.className.baseValue+=tt:R.className+=tt,Ze}}},Q.destroy=function(I){return I.parentNode?(I.parentNode.removeChild(I),!0):!1},Q}(),lv;(function(Q){Q[Q.BEFORE=0]="BEFORE",Q[Q.AFTER=1]="AFTER"})(lv||(lv={}));var Nw=function(Q,I){var R=Q.createElement("iframe");return R.className="html2canvas-container",R.style.visibility="hidden",R.style.position="fixed",R.style.left="-10000px",R.style.top="0px",R.style.border="0",R.width=I.width.toString(),R.height=I.height.toString(),R.scrolling="no",R.setAttribute(Gs,"true"),Q.body.appendChild(R),R},co=function(Q){return new Promise(function(I){if(Q.complete){I();return}if(!Q.src){I();return}Q.onload=I,Q.onerror=I})},_U=function(Q){return Promise.all([].slice.call(Q.images,0).map(co))},fr=function(Q){return new Promise(function(I,R){var P=Q.contentWindow;if(!P)return R("No window assigned for iframe");var ee=P.document;P.onload=Q.onload=function(){P.onload=Q.onload=null;var fe=setInterval(function(){ee.body.childNodes.length>0&&ee.readyState==="complete"&&(clearInterval(fe),I(Q))},50)}})},ng=["all","d","content"],uv=function(Q,I){for(var R=Q.length-1;R>=0;R--){var P=Q.item(R);ng.indexOf(P)===-1&&I.style.setProperty(P,Q.getPropertyValue(P))}return I},v2=function(Q){var I="";return Q&&(I+="<!DOCTYPE ",Q.name&&(I+=Q.name),Q.internalSubset&&(I+=Q.internalSubset),Q.publicId&&(I+='"'+Q.publicId+'"'),Q.systemId&&(I+='"'+Q.systemId+'"'),I+=">"),I},SU=function(Q,I,R){Q&&Q.defaultView&&(I!==Q.defaultView.pageXOffset||R!==Q.defaultView.pageYOffset)&&Q.defaultView.scrollTo(I,R)},cv=function(Q){var I=Q[0],R=Q[1],P=Q[2];I.scrollLeft=R,I.scrollTop=P},Rw=":before",j1=":after",Pw="___html2canvas___pseudoelement_before",Ow="___html2canvas___pseudoelement_after",V1=`{
    content: "" !important;
    display: none !important;
}`,K1=function(Q){G1(Q,"."+Pw+Rw+V1+`
         .`+Ow+j1+V1)},G1=function(Q,I){var R=Q.ownerDocument;if(R){var P=R.createElement("style");P.textContent=I,Q.appendChild(P)}},Cs=function(){function Q(){}return Q.getOrigin=function(I){var R=Q._link;return R?(R.href=I,R.href=R.href,R.protocol+R.hostname+R.port):"about:blank"},Q.isSameOrigin=function(I){return Q.getOrigin(I)===Q._origin},Q.setContext=function(I){Q._link=I.document.createElement("a"),Q._origin=Q.getOrigin(I.location.href)},Q._origin="about:blank",Q}(),yu=function(){function Q(I,R){this.context=I,this._options=R,this._cache={}}return Q.prototype.addImage=function(I){var R=Promise.resolve();return this.has(I)||(z1(I)||wu(I))&&(this._cache[I]=this.loadImage(I)).catch(function(){}),R},Q.prototype.match=function(I){return this._cache[I]},Q.prototype.loadImage=function(I){return i(this,void 0,void 0,function(){var R,P,ee,fe,Se=this;return s(this,function(Re){switch(Re.label){case 0:return R=Cs.isSameOrigin(I),P=!kw(I)&&this._options.useCORS===!0&&Ci.SUPPORT_CORS_IMAGES&&!R,ee=!kw(I)&&!R&&!z1(I)&&typeof this._options.proxy=="string"&&Ci.SUPPORT_CORS_XHR&&!P,!R&&this._options.allowTaint===!1&&!kw(I)&&!z1(I)&&!ee&&!P?[2]:(fe=I,ee?[4,this.proxy(fe)]:[3,2]);case 1:fe=Re.sent(),Re.label=2;case 2:return this.context.logger.debug("Added image "+I.substring(0,256)),[4,new Promise(function(Ne,Ze){var tt=new Image;tt.onload=function(){return Ne(tt)},tt.onerror=Ze,(hc(fe)||P)&&(tt.crossOrigin="anonymous"),tt.src=fe,tt.complete===!0&&setTimeout(function(){return Ne(tt)},500),Se._options.imageTimeout>0&&setTimeout(function(){return Ze("Timed out ("+Se._options.imageTimeout+"ms) loading image")},Se._options.imageTimeout)})];case 3:return[2,Re.sent()]}})})},Q.prototype.has=function(I){return typeof this._cache[I]<"u"},Q.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},Q.prototype.proxy=function(I){var R=this,P=this._options.proxy;if(!P)throw new Error("No proxy defined");var ee=I.substring(0,256);return new Promise(function(fe,Se){var Re=Ci.SUPPORT_RESPONSE_TYPE?"blob":"text",Ne=new XMLHttpRequest;Ne.onload=function(){if(Ne.status===200)if(Re==="text")fe(Ne.response);else{var ft=new FileReader;ft.addEventListener("load",function(){return fe(ft.result)},!1),ft.addEventListener("error",function(It){return Se(It)},!1),ft.readAsDataURL(Ne.response)}else Se("Failed to proxy resource "+ee+" with status code "+Ne.status)},Ne.onerror=Se;var Ze=P.indexOf("?")>-1?"&":"?";if(Ne.open("GET",""+P+Ze+"url="+encodeURIComponent(I)+"&responseType="+Re),Re!=="text"&&Ne instanceof XMLHttpRequest&&(Ne.responseType=Re),R._options.imageTimeout){var tt=R._options.imageTimeout;Ne.timeout=tt,Ne.ontimeout=function(){return Se("Timed out ("+tt+"ms) proxying "+ee)}}Ne.send()})},Q}(),pf=/^data:image\/svg\+xml/i,y2=/^data:image\/.*;base64,/i,w2=/^data:image\/.*/i,wu=function(Q){return Ci.SUPPORT_SVG_DRAWING||!B2(Q)},kw=function(Q){return w2.test(Q)},hc=function(Q){return y2.test(Q)},z1=function(Q){return Q.substr(0,4)==="blob"},B2=function(Q){return Q.substr(-3).toLowerCase()==="svg"||pf.test(Q)},ir=function(){function Q(I,R){this.type=0,this.x=I,this.y=R}return Q.prototype.add=function(I,R){return new Q(this.x+I,this.y+R)},Q}(),Sd=function(Q,I,R){return new ir(Q.x+(I.x-Q.x)*R,Q.y+(I.y-Q.y)*R)},hv=function(){function Q(I,R,P,ee){this.type=1,this.start=I,this.startControl=R,this.endControl=P,this.end=ee}return Q.prototype.subdivide=function(I,R){var P=Sd(this.start,this.startControl,I),ee=Sd(this.startControl,this.endControl,I),fe=Sd(this.endControl,this.end,I),Se=Sd(P,ee,I),Re=Sd(ee,fe,I),Ne=Sd(Se,Re,I);return R?new Q(this.start,P,Se,Ne):new Q(Ne,Re,fe,this.end)},Q.prototype.add=function(I,R){return new Q(this.start.add(I,R),this.startControl.add(I,R),this.endControl.add(I,R),this.end.add(I,R))},Q.prototype.reverse=function(){return new Q(this.end,this.endControl,this.startControl,this.start)},Q}(),Dl=function(Q){return Q.type===1},Dw=function(){function Q(I){var R=I.styles,P=I.bounds,ee=aA(R.borderTopLeftRadius,P.width,P.height),fe=ee[0],Se=ee[1],Re=aA(R.borderTopRightRadius,P.width,P.height),Ne=Re[0],Ze=Re[1],tt=aA(R.borderBottomRightRadius,P.width,P.height),ft=tt[0],It=tt[1],er=aA(R.borderBottomLeftRadius,P.width,P.height),Gt=er[0],Jt=er[1],Wr=[];Wr.push((fe+Ne)/P.width),Wr.push((Gt+ft)/P.width),Wr.push((Se+Jt)/P.height),Wr.push((Ze+It)/P.height);var yr=Math.max.apply(Math,Wr);yr>1&&(fe/=yr,Se/=yr,Ne/=yr,Ze/=yr,ft/=yr,It/=yr,Gt/=yr,Jt/=yr);var dr=P.width-Ne,Gn=P.height-It,Yr=P.width-ft,Hr=P.height-Jt,sr=R.borderTopWidth,Cn=R.borderRightWidth,cn=R.borderBottomWidth,kr=R.borderLeftWidth,Ei=Rn(R.paddingTop,I.bounds.width),fo=Rn(R.paddingRight,I.bounds.width),nl=Rn(R.paddingBottom,I.bounds.width),iA=Rn(R.paddingLeft,I.bounds.width);this.topLeftBorderDoubleOuterBox=fe>0||Se>0?Bn(P.left+kr/3,P.top+sr/3,fe-kr/3,Se-sr/3,Kn.TOP_LEFT):new ir(P.left+kr/3,P.top+sr/3),this.topRightBorderDoubleOuterBox=fe>0||Se>0?Bn(P.left+dr,P.top+sr/3,Ne-Cn/3,Ze-sr/3,Kn.TOP_RIGHT):new ir(P.left+P.width-Cn/3,P.top+sr/3),this.bottomRightBorderDoubleOuterBox=ft>0||It>0?Bn(P.left+Yr,P.top+Gn,ft-Cn/3,It-cn/3,Kn.BOTTOM_RIGHT):new ir(P.left+P.width-Cn/3,P.top+P.height-cn/3),this.bottomLeftBorderDoubleOuterBox=Gt>0||Jt>0?Bn(P.left+kr/3,P.top+Hr,Gt-kr/3,Jt-cn/3,Kn.BOTTOM_LEFT):new ir(P.left+kr/3,P.top+P.height-cn/3),this.topLeftBorderDoubleInnerBox=fe>0||Se>0?Bn(P.left+kr*2/3,P.top+sr*2/3,fe-kr*2/3,Se-sr*2/3,Kn.TOP_LEFT):new ir(P.left+kr*2/3,P.top+sr*2/3),this.topRightBorderDoubleInnerBox=fe>0||Se>0?Bn(P.left+dr,P.top+sr*2/3,Ne-Cn*2/3,Ze-sr*2/3,Kn.TOP_RIGHT):new ir(P.left+P.width-Cn*2/3,P.top+sr*2/3),this.bottomRightBorderDoubleInnerBox=ft>0||It>0?Bn(P.left+Yr,P.top+Gn,ft-Cn*2/3,It-cn*2/3,Kn.BOTTOM_RIGHT):new ir(P.left+P.width-Cn*2/3,P.top+P.height-cn*2/3),this.bottomLeftBorderDoubleInnerBox=Gt>0||Jt>0?Bn(P.left+kr*2/3,P.top+Hr,Gt-kr*2/3,Jt-cn*2/3,Kn.BOTTOM_LEFT):new ir(P.left+kr*2/3,P.top+P.height-cn*2/3),this.topLeftBorderStroke=fe>0||Se>0?Bn(P.left+kr/2,P.top+sr/2,fe-kr/2,Se-sr/2,Kn.TOP_LEFT):new ir(P.left+kr/2,P.top+sr/2),this.topRightBorderStroke=fe>0||Se>0?Bn(P.left+dr,P.top+sr/2,Ne-Cn/2,Ze-sr/2,Kn.TOP_RIGHT):new ir(P.left+P.width-Cn/2,P.top+sr/2),this.bottomRightBorderStroke=ft>0||It>0?Bn(P.left+Yr,P.top+Gn,ft-Cn/2,It-cn/2,Kn.BOTTOM_RIGHT):new ir(P.left+P.width-Cn/2,P.top+P.height-cn/2),this.bottomLeftBorderStroke=Gt>0||Jt>0?Bn(P.left+kr/2,P.top+Hr,Gt-kr/2,Jt-cn/2,Kn.BOTTOM_LEFT):new ir(P.left+kr/2,P.top+P.height-cn/2),this.topLeftBorderBox=fe>0||Se>0?Bn(P.left,P.top,fe,Se,Kn.TOP_LEFT):new ir(P.left,P.top),this.topRightBorderBox=Ne>0||Ze>0?Bn(P.left+dr,P.top,Ne,Ze,Kn.TOP_RIGHT):new ir(P.left+P.width,P.top),this.bottomRightBorderBox=ft>0||It>0?Bn(P.left+Yr,P.top+Gn,ft,It,Kn.BOTTOM_RIGHT):new ir(P.left+P.width,P.top+P.height),this.bottomLeftBorderBox=Gt>0||Jt>0?Bn(P.left,P.top+Hr,Gt,Jt,Kn.BOTTOM_LEFT):new ir(P.left,P.top+P.height),this.topLeftPaddingBox=fe>0||Se>0?Bn(P.left+kr,P.top+sr,Math.max(0,fe-kr),Math.max(0,Se-sr),Kn.TOP_LEFT):new ir(P.left+kr,P.top+sr),this.topRightPaddingBox=Ne>0||Ze>0?Bn(P.left+Math.min(dr,P.width-Cn),P.top+sr,dr>P.width+Cn?0:Math.max(0,Ne-Cn),Math.max(0,Ze-sr),Kn.TOP_RIGHT):new ir(P.left+P.width-Cn,P.top+sr),this.bottomRightPaddingBox=ft>0||It>0?Bn(P.left+Math.min(Yr,P.width-kr),P.top+Math.min(Gn,P.height-cn),Math.max(0,ft-Cn),Math.max(0,It-cn),Kn.BOTTOM_RIGHT):new ir(P.left+P.width-Cn,P.top+P.height-cn),this.bottomLeftPaddingBox=Gt>0||Jt>0?Bn(P.left+kr,P.top+Math.min(Hr,P.height-cn),Math.max(0,Gt-kr),Math.max(0,Jt-cn),Kn.BOTTOM_LEFT):new ir(P.left+kr,P.top+P.height-cn),this.topLeftContentBox=fe>0||Se>0?Bn(P.left+kr+iA,P.top+sr+Ei,Math.max(0,fe-(kr+iA)),Math.max(0,Se-(sr+Ei)),Kn.TOP_LEFT):new ir(P.left+kr+iA,P.top+sr+Ei),this.topRightContentBox=Ne>0||Ze>0?Bn(P.left+Math.min(dr,P.width+kr+iA),P.top+sr+Ei,dr>P.width+kr+iA?0:Ne-kr+iA,Ze-(sr+Ei),Kn.TOP_RIGHT):new ir(P.left+P.width-(Cn+fo),P.top+sr+Ei),this.bottomRightContentBox=ft>0||It>0?Bn(P.left+Math.min(Yr,P.width-(kr+iA)),P.top+Math.min(Gn,P.height+sr+Ei),Math.max(0,ft-(Cn+fo)),It-(cn+nl),Kn.BOTTOM_RIGHT):new ir(P.left+P.width-(Cn+fo),P.top+P.height-(cn+nl)),this.bottomLeftContentBox=Gt>0||Jt>0?Bn(P.left+kr+iA,P.top+Hr,Math.max(0,Gt-(kr+iA)),Jt-(cn+nl),Kn.BOTTOM_LEFT):new ir(P.left+kr+iA,P.top+P.height-(cn+nl))}return Q}(),Kn;(function(Q){Q[Q.TOP_LEFT=0]="TOP_LEFT",Q[Q.TOP_RIGHT=1]="TOP_RIGHT",Q[Q.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",Q[Q.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Kn||(Kn={}));var Bn=function(Q,I,R,P,ee){var fe=4*((Math.sqrt(2)-1)/3),Se=R*fe,Re=P*fe,Ne=Q+R,Ze=I+P;switch(ee){case Kn.TOP_LEFT:return new hv(new ir(Q,Ze),new ir(Q,Ze-Re),new ir(Ne-Se,I),new ir(Ne,I));case Kn.TOP_RIGHT:return new hv(new ir(Q,I),new ir(Q+Se,I),new ir(Ne,Ze-Re),new ir(Ne,Ze));case Kn.BOTTOM_RIGHT:return new hv(new ir(Ne,I),new ir(Ne,I+Re),new ir(Q+Se,Ze),new ir(Q,Ze));case Kn.BOTTOM_LEFT:default:return new hv(new ir(Ne,Ze),new ir(Ne-Se,Ze),new ir(Q,I+Re),new ir(Q,I))}},dn=function(Q){return[Q.topLeftBorderBox,Q.topRightBorderBox,Q.bottomRightBorderBox,Q.bottomLeftBorderBox]},bs=function(Q){return[Q.topLeftContentBox,Q.topRightContentBox,Q.bottomRightContentBox,Q.bottomLeftContentBox]},Ai=function(Q){return[Q.topLeftPaddingBox,Q.topRightPaddingBox,Q.bottomRightPaddingBox,Q.bottomLeftPaddingBox]},zs=function(){function Q(I,R,P){this.offsetX=I,this.offsetY=R,this.matrix=P,this.type=0,this.target=6}return Q}(),ho=function(){function Q(I,R){this.path=I,this.target=R,this.type=1}return Q}(),Ag=function(){function Q(I){this.opacity=I,this.type=2,this.target=6}return Q}(),Ji=function(Q){return Q.type===0},ig=function(Q){return Q.type===1},Fd=function(Q){return Q.type===2},fv=function(Q,I){return Q.length===I.length?Q.some(function(R,P){return R===I[P]}):!1},q1=function(Q,I,R,P,ee){return Q.map(function(fe,Se){switch(Se){case 0:return fe.add(I,R);case 1:return fe.add(I+P,R);case 2:return fe.add(I+P,R+ee);case 3:return fe.add(I,R+ee)}return fe})},sg=function(){function Q(I){this.element=I,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return Q}(),ko=function(){function Q(I,R){if(this.container=I,this.parent=R,this.effects=[],this.curves=new Dw(this.container),this.container.styles.opacity<1&&this.effects.push(new Ag(this.container.styles.opacity)),this.container.styles.transform!==null){var P=this.container.bounds.left+this.container.styles.transformOrigin[0].number,ee=this.container.bounds.top+this.container.styles.transformOrigin[1].number,fe=this.container.styles.transform;this.effects.push(new zs(P,ee,fe))}if(this.container.styles.overflowX!==0){var Se=dn(this.curves),Re=Ai(this.curves);fv(Se,Re)?this.effects.push(new ho(Se,6)):(this.effects.push(new ho(Se,2)),this.effects.push(new ho(Re,4)))}}return Q.prototype.getEffects=function(I){for(var R=[2,3].indexOf(this.container.styles.position)===-1,P=this.parent,ee=this.effects.slice(0);P;){var fe=P.effects.filter(function(Ne){return!ig(Ne)});if(R||P.container.styles.position!==0||!P.parent){if(ee.unshift.apply(ee,fe),R=[2,3].indexOf(P.container.styles.position)===-1,P.container.styles.overflowX!==0){var Se=dn(P.curves),Re=Ai(P.curves);fv(Se,Re)||ee.unshift(new ho(Re,6))}}else ee.unshift.apply(ee,fe);P=P.parent}return ee.filter(function(Ne){return bt(Ne.target,I)})},Q}(),dv=function(Q,I,R,P){Q.container.elements.forEach(function(ee){var fe=bt(ee.flags,4),Se=bt(ee.flags,2),Re=new ko(ee,Q);bt(ee.styles.display,2048)&&P.push(Re);var Ne=bt(ee.flags,8)?[]:P;if(fe||Se){var Ze=fe||ee.styles.isPositioned()?R:I,tt=new sg(Re);if(ee.styles.isPositioned()||ee.styles.opacity<1||ee.styles.isTransformed()){var ft=ee.styles.zIndex.order;if(ft<0){var It=0;Ze.negativeZIndex.some(function(Gt,Jt){return ft>Gt.element.container.styles.zIndex.order?(It=Jt,!1):It>0}),Ze.negativeZIndex.splice(It,0,tt)}else if(ft>0){var er=0;Ze.positiveZIndex.some(function(Gt,Jt){return ft>=Gt.element.container.styles.zIndex.order?(er=Jt+1,!1):er>0}),Ze.positiveZIndex.splice(er,0,tt)}else Ze.zeroOrAutoZIndexOrTransformedOrOpacity.push(tt)}else ee.styles.isFloating()?Ze.nonPositionedFloats.push(tt):Ze.nonPositionedInlineLevel.push(tt);dv(Re,tt,fe?tt:R,Ne)}else ee.styles.isInlineLevel()?I.inlineLevel.push(Re):I.nonInlineLevel.push(Re),dv(Re,I,R,Ne);bt(ee.flags,8)&&Id(ee,Ne)})},Id=function(Q,I){for(var R=Q instanceof Fw?Q.start:1,P=Q instanceof Fw?Q.reversed:!1,ee=0;ee<I.length;ee++){var fe=I[ee];fe.container instanceof F1&&typeof fe.container.value=="number"&&fe.container.value!==0&&(R=fe.container.value),fe.listValue=lh(R,fe.container.styles.listStyleType,!0),R+=P?-1:1}},uh=function(Q){var I=new ko(Q,null),R=new sg(I),P=[];return dv(I,R,R,P),Id(I.container,P),R},pv=function(Q,I){switch(I){case 0:return Do(Q.topLeftBorderBox,Q.topLeftPaddingBox,Q.topRightBorderBox,Q.topRightPaddingBox);case 1:return Do(Q.topRightBorderBox,Q.topRightPaddingBox,Q.bottomRightBorderBox,Q.bottomRightPaddingBox);case 2:return Do(Q.bottomRightBorderBox,Q.bottomRightPaddingBox,Q.bottomLeftBorderBox,Q.bottomLeftPaddingBox);case 3:default:return Do(Q.bottomLeftBorderBox,Q.bottomLeftPaddingBox,Q.topLeftBorderBox,Q.topLeftPaddingBox)}},W1=function(Q,I){switch(I){case 0:return Do(Q.topLeftBorderBox,Q.topLeftBorderDoubleOuterBox,Q.topRightBorderBox,Q.topRightBorderDoubleOuterBox);case 1:return Do(Q.topRightBorderBox,Q.topRightBorderDoubleOuterBox,Q.bottomRightBorderBox,Q.bottomRightBorderDoubleOuterBox);case 2:return Do(Q.bottomRightBorderBox,Q.bottomRightBorderDoubleOuterBox,Q.bottomLeftBorderBox,Q.bottomLeftBorderDoubleOuterBox);case 3:default:return Do(Q.bottomLeftBorderBox,Q.bottomLeftBorderDoubleOuterBox,Q.topLeftBorderBox,Q.topLeftBorderDoubleOuterBox)}},gf=function(Q,I){switch(I){case 0:return Do(Q.topLeftBorderDoubleInnerBox,Q.topLeftPaddingBox,Q.topRightBorderDoubleInnerBox,Q.topRightPaddingBox);case 1:return Do(Q.topRightBorderDoubleInnerBox,Q.topRightPaddingBox,Q.bottomRightBorderDoubleInnerBox,Q.bottomRightPaddingBox);case 2:return Do(Q.bottomRightBorderDoubleInnerBox,Q.bottomRightPaddingBox,Q.bottomLeftBorderDoubleInnerBox,Q.bottomLeftPaddingBox);case 3:default:return Do(Q.bottomLeftBorderDoubleInnerBox,Q.bottomLeftPaddingBox,Q.topLeftBorderDoubleInnerBox,Q.topLeftPaddingBox)}},Mw=function(Q,I){switch(I){case 0:return Bu(Q.topLeftBorderStroke,Q.topRightBorderStroke);case 1:return Bu(Q.topRightBorderStroke,Q.bottomRightBorderStroke);case 2:return Bu(Q.bottomRightBorderStroke,Q.bottomLeftBorderStroke);case 3:default:return Bu(Q.bottomLeftBorderStroke,Q.topLeftBorderStroke)}},Bu=function(Q,I){var R=[];return Dl(Q)?R.push(Q.subdivide(.5,!1)):R.push(Q),Dl(I)?R.push(I.subdivide(.5,!0)):R.push(I),R},Do=function(Q,I,R,P){var ee=[];return Dl(Q)?ee.push(Q.subdivide(.5,!1)):ee.push(Q),Dl(R)?ee.push(R.subdivide(.5,!0)):ee.push(R),Dl(P)?ee.push(P.subdivide(.5,!0).reverse()):ee.push(P),Dl(I)?ee.push(I.subdivide(.5,!1).reverse()):ee.push(I),ee},og=function(Q){var I=Q.bounds,R=Q.styles;return I.add(R.borderLeftWidth,R.borderTopWidth,-(R.borderRightWidth+R.borderLeftWidth),-(R.borderTopWidth+R.borderBottomWidth))},ag=function(Q){var I=Q.styles,R=Q.bounds,P=Rn(I.paddingLeft,R.width),ee=Rn(I.paddingRight,R.width),fe=Rn(I.paddingTop,R.width),Se=Rn(I.paddingBottom,R.width);return R.add(P+I.borderLeftWidth,fe+I.borderTopWidth,-(I.borderRightWidth+I.borderLeftWidth+P+ee),-(I.borderTopWidth+I.borderBottomWidth+fe+Se))},Hw=function(Q,I){return Q===0?I.bounds:Q===2?ag(I):og(I)},jw=function(Q,I){return Q===0?I.bounds:Q===2?ag(I):og(I)},qs=function(Q,I,R){var P=Hw(xd(Q.styles.backgroundOrigin,I),Q),ee=jw(xd(Q.styles.backgroundClip,I),Q),fe=wa(xd(Q.styles.backgroundSize,I),R,P),Se=fe[0],Re=fe[1],Ne=aA(xd(Q.styles.backgroundPosition,I),P.width-Se,P.height-Re),Ze=$1(xd(Q.styles.backgroundRepeat,I),Ne,fe,P,ee),tt=Math.round(P.left+Ne[0]),ft=Math.round(P.top+Ne[1]);return[Ze,tt,ft,Se,Re]},rl=function(Q){return _t(Q)&&Q.value===Yc.AUTO},ya=function(Q){return typeof Q=="number"},wa=function(Q,I,R){var P=I[0],ee=I[1],fe=I[2],Se=Q[0],Re=Q[1];if(!Se)return[0,0];if(Mn(Se)&&Re&&Mn(Re))return[Rn(Se,R.width),Rn(Re,R.height)];var Ne=ya(fe);if(_t(Se)&&(Se.value===Yc.CONTAIN||Se.value===Yc.COVER)){if(ya(fe)){var Ze=R.width/R.height;return Ze<fe!=(Se.value===Yc.COVER)?[R.width,R.width/fe]:[R.height*fe,R.height]}return[R.width,R.height]}var tt=ya(P),ft=ya(ee),It=tt||ft;if(rl(Se)&&(!Re||rl(Re))){if(tt&&ft)return[P,ee];if(!Ne&&!It)return[R.width,R.height];if(It&&Ne){var er=tt?P:ee*fe,Gt=ft?ee:P/fe;return[er,Gt]}var Jt=tt?P:R.width,Wr=ft?ee:R.height;return[Jt,Wr]}if(Ne){var yr=0,dr=0;return Mn(Se)?yr=Rn(Se,R.width):Mn(Re)&&(dr=Rn(Re,R.height)),rl(Se)?yr=dr*fe:(!Re||rl(Re))&&(dr=yr/fe),[yr,dr]}var Gn=null,Yr=null;if(Mn(Se)?Gn=Rn(Se,R.width):Re&&Mn(Re)&&(Yr=Rn(Re,R.height)),Gn!==null&&(!Re||rl(Re))&&(Yr=tt&&ft?Gn/P*ee:R.height),Yr!==null&&rl(Se)&&(Gn=tt&&ft?Yr/ee*P:R.width),Gn!==null&&Yr!==null)return[Gn,Yr];throw new Error("Unable to calculate background-size for element")},xd=function(Q,I){var R=Q[I];return typeof R>"u"?Q[0]:R},$1=function(Q,I,R,P,ee){var fe=I[0],Se=I[1],Re=R[0],Ne=R[1];switch(Q){case 2:return[new ir(Math.round(P.left),Math.round(P.top+Se)),new ir(Math.round(P.left+P.width),Math.round(P.top+Se)),new ir(Math.round(P.left+P.width),Math.round(Ne+P.top+Se)),new ir(Math.round(P.left),Math.round(Ne+P.top+Se))];case 3:return[new ir(Math.round(P.left+fe),Math.round(P.top)),new ir(Math.round(P.left+fe+Re),Math.round(P.top)),new ir(Math.round(P.left+fe+Re),Math.round(P.height+P.top)),new ir(Math.round(P.left+fe),Math.round(P.height+P.top))];case 1:return[new ir(Math.round(P.left+fe),Math.round(P.top+Se)),new ir(Math.round(P.left+fe+Re),Math.round(P.top+Se)),new ir(Math.round(P.left+fe+Re),Math.round(P.top+Se+Ne)),new ir(Math.round(P.left+fe),Math.round(P.top+Se+Ne))];default:return[new ir(Math.round(ee.left),Math.round(ee.top)),new ir(Math.round(ee.left+ee.width),Math.round(ee.top)),new ir(Math.round(ee.left+ee.width),Math.round(ee.height+ee.top)),new ir(Math.round(ee.left),Math.round(ee.height+ee.top))]}},X1="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",C2="Hidden Text",mf=function(){function Q(I){this._data={},this._document=I}return Q.prototype.parseMetrics=function(I,R){var P=this._document.createElement("div"),ee=this._document.createElement("img"),fe=this._document.createElement("span"),Se=this._document.body;P.style.visibility="hidden",P.style.fontFamily=I,P.style.fontSize=R,P.style.margin="0",P.style.padding="0",P.style.whiteSpace="nowrap",Se.appendChild(P),ee.src=X1,ee.width=1,ee.height=1,ee.style.margin="0",ee.style.padding="0",ee.style.verticalAlign="baseline",fe.style.fontFamily=I,fe.style.fontSize=R,fe.style.margin="0",fe.style.padding="0",fe.appendChild(this._document.createTextNode(C2)),P.appendChild(fe),P.appendChild(ee);var Re=ee.offsetTop-fe.offsetTop+2;P.removeChild(fe),P.appendChild(this._document.createTextNode(C2)),P.style.lineHeight="normal",ee.style.verticalAlign="super";var Ne=ee.offsetTop-P.offsetTop+2;return Se.removeChild(P),{baseline:Re,middle:Ne}},Q.prototype.getMetrics=function(I,R){var P=I+" "+R;return typeof this._data[P]>"u"&&(this._data[P]=this.parseMetrics(I,R)),this._data[P]},Q}(),Y1=function(){function Q(I,R){this.context=I,this.options=R}return Q}(),J1=1e4,Ud=function(Q){n(I,Q);function I(R,P){var ee=Q.call(this,R,P)||this;return ee._activeEffects=[],ee.canvas=P.canvas?P.canvas:document.createElement("canvas"),ee.ctx=ee.canvas.getContext("2d"),P.canvas||(ee.canvas.width=Math.floor(P.width*P.scale),ee.canvas.height=Math.floor(P.height*P.scale),ee.canvas.style.width=P.width+"px",ee.canvas.style.height=P.height+"px"),ee.fontMetrics=new mf(document),ee.ctx.scale(ee.options.scale,ee.options.scale),ee.ctx.translate(-P.x,-P.y),ee.ctx.textBaseline="bottom",ee._activeEffects=[],ee.context.logger.debug("Canvas renderer initialized ("+P.width+"x"+P.height+") with scale "+P.scale),ee}return I.prototype.applyEffects=function(R){for(var P=this;this._activeEffects.length;)this.popEffect();R.forEach(function(ee){return P.applyEffect(ee)})},I.prototype.applyEffect=function(R){this.ctx.save(),Fd(R)&&(this.ctx.globalAlpha=R.opacity),Ji(R)&&(this.ctx.translate(R.offsetX,R.offsetY),this.ctx.transform(R.matrix[0],R.matrix[1],R.matrix[2],R.matrix[3],R.matrix[4],R.matrix[5]),this.ctx.translate(-R.offsetX,-R.offsetY)),ig(R)&&(this.path(R.path),this.ctx.clip()),this._activeEffects.push(R)},I.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},I.prototype.renderStack=function(R){return i(this,void 0,void 0,function(){var P;return s(this,function(ee){switch(ee.label){case 0:return P=R.element.container.styles,P.isVisible()?[4,this.renderStackContent(R)]:[3,2];case 1:ee.sent(),ee.label=2;case 2:return[2]}})})},I.prototype.renderNode=function(R){return i(this,void 0,void 0,function(){return s(this,function(P){switch(P.label){case 0:if(bt(R.container.flags,16))debugger;return R.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(R)]:[3,3];case 1:return P.sent(),[4,this.renderNodeContent(R)];case 2:P.sent(),P.label=3;case 3:return[2]}})})},I.prototype.renderTextWithLetterSpacing=function(R,P,ee){var fe=this;if(P===0)this.ctx.fillText(R.text,R.bounds.left,R.bounds.top+ee);else{var Se=Ks(R.text);Se.reduce(function(Re,Ne){return fe.ctx.fillText(Ne,Re,R.bounds.top+ee),Re+fe.ctx.measureText(Ne).width},R.bounds.left)}},I.prototype.createFontStyle=function(R){var P=R.fontVariant.filter(function(Se){return Se==="normal"||Se==="small-caps"}).join(""),ee=eC(R.fontFamily).join(", "),fe=rt(R.fontSize)?""+R.fontSize.number+R.fontSize.unit:R.fontSize.number+"px";return[[R.fontStyle,P,R.fontWeight,fe,ee].join(" "),ee,fe]},I.prototype.renderTextNode=function(R,P){return i(this,void 0,void 0,function(){var ee,fe,Se,Re,Ne,Ze,tt,ft,It=this;return s(this,function(er){return ee=this.createFontStyle(P),fe=ee[0],Se=ee[1],Re=ee[2],this.ctx.font=fe,this.ctx.direction=P.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",Ne=this.fontMetrics.getMetrics(Se,Re),Ze=Ne.baseline,tt=Ne.middle,ft=P.paintOrder,R.textBounds.forEach(function(Gt){ft.forEach(function(Jt){switch(Jt){case 0:It.ctx.fillStyle=PA(P.color),It.renderTextWithLetterSpacing(Gt,P.letterSpacing,Ze);var Wr=P.textShadow;Wr.length&&Gt.text.trim().length&&(Wr.slice(0).reverse().forEach(function(yr){It.ctx.shadowColor=PA(yr.color),It.ctx.shadowOffsetX=yr.offsetX.number*It.options.scale,It.ctx.shadowOffsetY=yr.offsetY.number*It.options.scale,It.ctx.shadowBlur=yr.blur.number,It.renderTextWithLetterSpacing(Gt,P.letterSpacing,Ze)}),It.ctx.shadowColor="",It.ctx.shadowOffsetX=0,It.ctx.shadowOffsetY=0,It.ctx.shadowBlur=0),P.textDecorationLine.length&&(It.ctx.fillStyle=PA(P.textDecorationColor||P.color),P.textDecorationLine.forEach(function(yr){switch(yr){case 1:It.ctx.fillRect(Gt.bounds.left,Math.round(Gt.bounds.top+Ze),Gt.bounds.width,1);break;case 2:It.ctx.fillRect(Gt.bounds.left,Math.round(Gt.bounds.top),Gt.bounds.width,1);break;case 3:It.ctx.fillRect(Gt.bounds.left,Math.ceil(Gt.bounds.top+tt),Gt.bounds.width,1);break}}));break;case 1:P.webkitTextStrokeWidth&&Gt.text.trim().length&&(It.ctx.strokeStyle=PA(P.webkitTextStrokeColor),It.ctx.lineWidth=P.webkitTextStrokeWidth,It.ctx.lineJoin=window.chrome?"miter":"round",It.ctx.strokeText(Gt.text,Gt.bounds.left,Gt.bounds.top+Ze)),It.ctx.strokeStyle="",It.ctx.lineWidth=0,It.ctx.lineJoin="miter";break}})}),[2]})})},I.prototype.renderReplacedElement=function(R,P,ee){if(ee&&R.intrinsicWidth>0&&R.intrinsicHeight>0){var fe=ag(R),Se=Ai(P);this.path(Se),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(ee,0,0,R.intrinsicWidth,R.intrinsicHeight,fe.left,fe.top,fe.width,fe.height),this.ctx.restore()}},I.prototype.renderNodeContent=function(R){return i(this,void 0,void 0,function(){var P,ee,fe,Se,Re,Ne,dr,dr,Ze,tt,ft,It,Yr,er,Gt,Hr,Jt,Wr,yr,dr,Gn,Yr,Hr;return s(this,function(sr){switch(sr.label){case 0:this.applyEffects(R.getEffects(4)),P=R.container,ee=R.curves,fe=P.styles,Se=0,Re=P.textNodes,sr.label=1;case 1:return Se<Re.length?(Ne=Re[Se],[4,this.renderTextNode(Ne,fe)]):[3,4];case 2:sr.sent(),sr.label=3;case 3:return Se++,[3,1];case 4:if(!(P instanceof _1))return[3,8];sr.label=5;case 5:return sr.trys.push([5,7,,8]),[4,this.context.cache.match(P.src)];case 6:return dr=sr.sent(),this.renderReplacedElement(P,ee,dr),[3,8];case 7:return sr.sent(),this.context.logger.error("Error loading image "+P.src),[3,8];case 8:if(P instanceof Sw&&this.renderReplacedElement(P,ee,P.canvas),!(P instanceof S1))return[3,12];sr.label=9;case 9:return sr.trys.push([9,11,,12]),[4,this.context.cache.match(P.svg)];case 10:return dr=sr.sent(),this.renderReplacedElement(P,ee,dr),[3,12];case 11:return sr.sent(),this.context.logger.error("Error loading svg "+P.svg.substring(0,255)),[3,12];case 12:return P instanceof kl&&P.tree?(Ze=new I(this.context,{scale:this.options.scale,backgroundColor:P.backgroundColor,x:0,y:0,width:P.width,height:P.height}),[4,Ze.render(P.tree)]):[3,14];case 13:tt=sr.sent(),P.width&&P.height&&this.ctx.drawImage(tt,0,0,P.width,P.height,P.bounds.left,P.bounds.top,P.bounds.width,P.bounds.height),sr.label=14;case 14:if(P instanceof I1&&(ft=Math.min(P.bounds.width,P.bounds.height),P.type===nv?P.checked&&(this.ctx.save(),this.path([new ir(P.bounds.left+ft*.39363,P.bounds.top+ft*.79),new ir(P.bounds.left+ft*.16,P.bounds.top+ft*.5549),new ir(P.bounds.left+ft*.27347,P.bounds.top+ft*.44071),new ir(P.bounds.left+ft*.39694,P.bounds.top+ft*.5649),new ir(P.bounds.left+ft*.72983,P.bounds.top+ft*.23),new ir(P.bounds.left+ft*.84,P.bounds.top+ft*.34085),new ir(P.bounds.left+ft*.39363,P.bounds.top+ft*.79)]),this.ctx.fillStyle=PA(iv),this.ctx.fill(),this.ctx.restore()):P.type===Av&&P.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(P.bounds.left+ft/2,P.bounds.top+ft/2,ft/4,0,Math.PI*2,!0),this.ctx.fillStyle=PA(iv),this.ctx.fill(),this.ctx.restore())),Z1(P)&&P.value.length){switch(It=this.createFontStyle(fe),Yr=It[0],er=It[1],Gt=this.fontMetrics.getMetrics(Yr,er).baseline,this.ctx.font=Yr,this.ctx.fillStyle=PA(fe.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=b2(P.styles.textAlign),Hr=ag(P),Jt=0,P.styles.textAlign){case 1:Jt+=Hr.width/2;break;case 2:Jt+=Hr.width;break}Wr=Hr.add(Jt,0,0,-Hr.height/2+1),this.ctx.save(),this.path([new ir(Hr.left,Hr.top),new ir(Hr.left+Hr.width,Hr.top),new ir(Hr.left+Hr.width,Hr.top+Hr.height),new ir(Hr.left,Hr.top+Hr.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new af(P.value,Wr),fe.letterSpacing,Gt),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!bt(P.styles.display,2048))return[3,20];if(P.styles.listStyleImage===null)return[3,19];if(yr=P.styles.listStyleImage,yr.type!==0)return[3,18];dr=void 0,Gn=yr.url,sr.label=15;case 15:return sr.trys.push([15,17,,18]),[4,this.context.cache.match(Gn)];case 16:return dr=sr.sent(),this.ctx.drawImage(dr,P.bounds.left-(dr.width+10),P.bounds.top),[3,18];case 17:return sr.sent(),this.context.logger.error("Error loading list-style-image "+Gn),[3,18];case 18:return[3,20];case 19:R.listValue&&P.styles.listStyleType!==-1&&(Yr=this.createFontStyle(fe)[0],this.ctx.font=Yr,this.ctx.fillStyle=PA(fe.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",Hr=new a(P.bounds.left,P.bounds.top+Rn(P.styles.paddingTop,P.bounds.width),P.bounds.width,Xi(fe.lineHeight,fe.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new af(R.listValue,Hr),fe.letterSpacing,Xi(fe.lineHeight,fe.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),sr.label=20;case 20:return[2]}})})},I.prototype.renderStackContent=function(R){return i(this,void 0,void 0,function(){var P,ee,yr,fe,Se,yr,Re,Ne,yr,Ze,tt,yr,ft,It,yr,er,Gt,yr,Jt,Wr,yr;return s(this,function(dr){switch(dr.label){case 0:if(bt(R.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(R.element)];case 1:dr.sent(),P=0,ee=R.negativeZIndex,dr.label=2;case 2:return P<ee.length?(yr=ee[P],[4,this.renderStack(yr)]):[3,5];case 3:dr.sent(),dr.label=4;case 4:return P++,[3,2];case 5:return[4,this.renderNodeContent(R.element)];case 6:dr.sent(),fe=0,Se=R.nonInlineLevel,dr.label=7;case 7:return fe<Se.length?(yr=Se[fe],[4,this.renderNode(yr)]):[3,10];case 8:dr.sent(),dr.label=9;case 9:return fe++,[3,7];case 10:Re=0,Ne=R.nonPositionedFloats,dr.label=11;case 11:return Re<Ne.length?(yr=Ne[Re],[4,this.renderStack(yr)]):[3,14];case 12:dr.sent(),dr.label=13;case 13:return Re++,[3,11];case 14:Ze=0,tt=R.nonPositionedInlineLevel,dr.label=15;case 15:return Ze<tt.length?(yr=tt[Ze],[4,this.renderStack(yr)]):[3,18];case 16:dr.sent(),dr.label=17;case 17:return Ze++,[3,15];case 18:ft=0,It=R.inlineLevel,dr.label=19;case 19:return ft<It.length?(yr=It[ft],[4,this.renderNode(yr)]):[3,22];case 20:dr.sent(),dr.label=21;case 21:return ft++,[3,19];case 22:er=0,Gt=R.zeroOrAutoZIndexOrTransformedOrOpacity,dr.label=23;case 23:return er<Gt.length?(yr=Gt[er],[4,this.renderStack(yr)]):[3,26];case 24:dr.sent(),dr.label=25;case 25:return er++,[3,23];case 26:Jt=0,Wr=R.positiveZIndex,dr.label=27;case 27:return Jt<Wr.length?(yr=Wr[Jt],[4,this.renderStack(yr)]):[3,30];case 28:dr.sent(),dr.label=29;case 29:return Jt++,[3,27];case 30:return[2]}})})},I.prototype.mask=function(R){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(R.slice(0).reverse()),this.ctx.closePath()},I.prototype.path=function(R){this.ctx.beginPath(),this.formatPath(R),this.ctx.closePath()},I.prototype.formatPath=function(R){var P=this;R.forEach(function(ee,fe){var Se=Dl(ee)?ee.start:ee;fe===0?P.ctx.moveTo(Se.x,Se.y):P.ctx.lineTo(Se.x,Se.y),Dl(ee)&&P.ctx.bezierCurveTo(ee.startControl.x,ee.startControl.y,ee.endControl.x,ee.endControl.y,ee.end.x,ee.end.y)})},I.prototype.renderRepeat=function(R,P,ee,fe){this.path(R),this.ctx.fillStyle=P,this.ctx.translate(ee,fe),this.ctx.fill(),this.ctx.translate(-ee,-fe)},I.prototype.resizeImage=function(R,P,ee){var fe;if(R.width===P&&R.height===ee)return R;var Se=(fe=this.canvas.ownerDocument)!==null&&fe!==void 0?fe:document,Re=Se.createElement("canvas");Re.width=Math.max(1,P),Re.height=Math.max(1,ee);var Ne=Re.getContext("2d");return Ne.drawImage(R,0,0,R.width,R.height,0,0,P,ee),Re},I.prototype.renderBackgroundImage=function(R){return i(this,void 0,void 0,function(){var P,ee,fe,Se,Re,Ne;return s(this,function(Ze){switch(Ze.label){case 0:P=R.styles.backgroundImage.length-1,ee=function(tt){var ft,It,er,Ei,po,Ws,iA,Zi,cn,Gt,Ei,po,Ws,iA,Zi,Jt,Wr,yr,dr,Gn,Yr,Hr,sr,Cn,cn,kr,Ei,fo,nl,iA,Zi,Cu,po,Ws,vf,fc,bu,Ld,Eu,ch,dc,f;return s(this,function(p){switch(p.label){case 0:if(tt.type!==0)return[3,5];ft=void 0,It=tt.url,p.label=1;case 1:return p.trys.push([1,3,,4]),[4,fe.context.cache.match(It)];case 2:return ft=p.sent(),[3,4];case 3:return p.sent(),fe.context.logger.error("Error loading background-image "+It),[3,4];case 4:return ft&&(er=qs(R,P,[ft.width,ft.height,ft.width/ft.height]),Ei=er[0],po=er[1],Ws=er[2],iA=er[3],Zi=er[4],cn=fe.ctx.createPattern(fe.resizeImage(ft,iA,Zi),"repeat"),fe.renderRepeat(Ei,cn,po,Ws)),[3,6];case 5:Ll(tt)?(Gt=qs(R,P,[null,null,null]),Ei=Gt[0],po=Gt[1],Ws=Gt[2],iA=Gt[3],Zi=Gt[4],Jt=Wc(tt.angle,iA,Zi),Wr=Jt[0],yr=Jt[1],dr=Jt[2],Gn=Jt[3],Yr=Jt[4],Hr=document.createElement("canvas"),Hr.width=iA,Hr.height=Zi,sr=Hr.getContext("2d"),Cn=sr.createLinearGradient(yr,Gn,dr,Yr),Wi(tt.stops,Wr).forEach(function(E){return Cn.addColorStop(E.stop,PA(E.color))}),sr.fillStyle=Cn,sr.fillRect(0,0,iA,Zi),iA>0&&Zi>0&&(cn=fe.ctx.createPattern(Hr,"repeat"),fe.renderRepeat(Ei,cn,po,Ws))):Zh(tt)&&(kr=qs(R,P,[null,null,null]),Ei=kr[0],fo=kr[1],nl=kr[2],iA=kr[3],Zi=kr[4],Cu=tt.position.length===0?[tc]:tt.position,po=Rn(Cu[0],iA),Ws=Rn(Cu[Cu.length-1],Zi),vf=$c(tt,po,Ws,iA,Zi),fc=vf[0],bu=vf[1],fc>0&&bu>0&&(Ld=fe.ctx.createRadialGradient(fo+po,nl+Ws,0,fo+po,nl+Ws,fc),Wi(tt.stops,fc*2).forEach(function(E){return Ld.addColorStop(E.stop,PA(E.color))}),fe.path(Ei),fe.ctx.fillStyle=Ld,fc!==bu?(Eu=R.bounds.left+.5*R.bounds.width,ch=R.bounds.top+.5*R.bounds.height,dc=bu/fc,f=1/dc,fe.ctx.save(),fe.ctx.translate(Eu,ch),fe.ctx.transform(1,0,0,dc,0,0),fe.ctx.translate(-Eu,-ch),fe.ctx.fillRect(fo,f*(nl-ch)+ch,iA,Zi*f),fe.ctx.restore()):fe.ctx.fill())),p.label=6;case 6:return P--,[2]}})},fe=this,Se=0,Re=R.styles.backgroundImage.slice(0).reverse(),Ze.label=1;case 1:return Se<Re.length?(Ne=Re[Se],[5,ee(Ne)]):[3,4];case 2:Ze.sent(),Ze.label=3;case 3:return Se++,[3,1];case 4:return[2]}})})},I.prototype.renderSolidBorder=function(R,P,ee){return i(this,void 0,void 0,function(){return s(this,function(fe){return this.path(pv(ee,P)),this.ctx.fillStyle=PA(R),this.ctx.fill(),[2]})})},I.prototype.renderDoubleBorder=function(R,P,ee,fe){return i(this,void 0,void 0,function(){var Se,Re;return s(this,function(Ne){switch(Ne.label){case 0:return P<3?[4,this.renderSolidBorder(R,ee,fe)]:[3,2];case 1:return Ne.sent(),[2];case 2:return Se=W1(fe,ee),this.path(Se),this.ctx.fillStyle=PA(R),this.ctx.fill(),Re=gf(fe,ee),this.path(Re),this.ctx.fill(),[2]}})})},I.prototype.renderNodeBackgroundAndBorders=function(R){return i(this,void 0,void 0,function(){var P,ee,fe,Se,Re,Ne,Ze,tt,ft=this;return s(this,function(It){switch(It.label){case 0:return this.applyEffects(R.getEffects(2)),P=R.container.styles,ee=!ca(P.backgroundColor)||P.backgroundImage.length,fe=[{style:P.borderTopStyle,color:P.borderTopColor,width:P.borderTopWidth},{style:P.borderRightStyle,color:P.borderRightColor,width:P.borderRightWidth},{style:P.borderBottomStyle,color:P.borderBottomColor,width:P.borderBottomWidth},{style:P.borderLeftStyle,color:P.borderLeftColor,width:P.borderLeftWidth}],Se=Td(xd(P.backgroundClip,0),R.curves),ee||P.boxShadow.length?(this.ctx.save(),this.path(Se),this.ctx.clip(),ca(P.backgroundColor)||(this.ctx.fillStyle=PA(P.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(R.container)]):[3,2];case 1:It.sent(),this.ctx.restore(),P.boxShadow.slice(0).reverse().forEach(function(er){ft.ctx.save();var Gt=dn(R.curves),Jt=er.inset?0:J1,Wr=q1(Gt,-Jt+(er.inset?1:-1)*er.spread.number,(er.inset?1:-1)*er.spread.number,er.spread.number*(er.inset?-2:2),er.spread.number*(er.inset?-2:2));er.inset?(ft.path(Gt),ft.ctx.clip(),ft.mask(Wr)):(ft.mask(Gt),ft.ctx.clip(),ft.path(Wr)),ft.ctx.shadowOffsetX=er.offsetX.number+Jt,ft.ctx.shadowOffsetY=er.offsetY.number,ft.ctx.shadowColor=PA(er.color),ft.ctx.shadowBlur=er.blur.number,ft.ctx.fillStyle=er.inset?PA(er.color):"rgba(0,0,0,1)",ft.ctx.fill(),ft.ctx.restore()}),It.label=2;case 2:Re=0,Ne=0,Ze=fe,It.label=3;case 3:return Ne<Ze.length?(tt=Ze[Ne],tt.style!==0&&!ca(tt.color)&&tt.width>0?tt.style!==2?[3,5]:[4,this.renderDashedDottedBorder(tt.color,tt.width,Re,R.curves,2)]:[3,11]):[3,13];case 4:return It.sent(),[3,11];case 5:return tt.style!==3?[3,7]:[4,this.renderDashedDottedBorder(tt.color,tt.width,Re,R.curves,3)];case 6:return It.sent(),[3,11];case 7:return tt.style!==4?[3,9]:[4,this.renderDoubleBorder(tt.color,tt.width,Re,R.curves)];case 8:return It.sent(),[3,11];case 9:return[4,this.renderSolidBorder(tt.color,Re,R.curves)];case 10:It.sent(),It.label=11;case 11:Re++,It.label=12;case 12:return Ne++,[3,3];case 13:return[2]}})})},I.prototype.renderDashedDottedBorder=function(R,P,ee,fe,Se){return i(this,void 0,void 0,function(){var Re,Ne,Ze,tt,ft,It,er,Gt,Jt,Wr,yr,dr,Gn,Yr,Hr,sr,Hr,sr;return s(this,function(Cn){return this.ctx.save(),Re=Mw(fe,ee),Ne=pv(fe,ee),Se===2&&(this.path(Ne),this.ctx.clip()),Dl(Ne[0])?(Ze=Ne[0].start.x,tt=Ne[0].start.y):(Ze=Ne[0].x,tt=Ne[0].y),Dl(Ne[1])?(ft=Ne[1].end.x,It=Ne[1].end.y):(ft=Ne[1].x,It=Ne[1].y),ee===0||ee===2?er=Math.abs(Ze-ft):er=Math.abs(tt-It),this.ctx.beginPath(),Se===3?this.formatPath(Re):this.formatPath(Ne.slice(0,2)),Gt=P<3?P*3:P*2,Jt=P<3?P*2:P,Se===3&&(Gt=P,Jt=P),Wr=!0,er<=Gt*2?Wr=!1:er<=Gt*2+Jt?(yr=er/(2*Gt+Jt),Gt*=yr,Jt*=yr):(dr=Math.floor((er+Jt)/(Gt+Jt)),Gn=(er-dr*Gt)/(dr-1),Yr=(er-(dr+1)*Gt)/dr,Jt=Yr<=0||Math.abs(Jt-Gn)<Math.abs(Jt-Yr)?Gn:Yr),Wr&&(Se===3?this.ctx.setLineDash([0,Gt+Jt]):this.ctx.setLineDash([Gt,Jt])),Se===3?(this.ctx.lineCap="round",this.ctx.lineWidth=P):this.ctx.lineWidth=P*2+1.1,this.ctx.strokeStyle=PA(R),this.ctx.stroke(),this.ctx.setLineDash([]),Se===2&&(Dl(Ne[0])&&(Hr=Ne[3],sr=Ne[0],this.ctx.beginPath(),this.formatPath([new ir(Hr.end.x,Hr.end.y),new ir(sr.start.x,sr.start.y)]),this.ctx.stroke()),Dl(Ne[1])&&(Hr=Ne[1],sr=Ne[2],this.ctx.beginPath(),this.formatPath([new ir(Hr.end.x,Hr.end.y),new ir(sr.start.x,sr.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},I.prototype.render=function(R){return i(this,void 0,void 0,function(){var P;return s(this,function(ee){switch(ee.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=PA(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),P=uh(R),[4,this.renderStack(P)];case 1:return ee.sent(),this.applyEffects([]),[2,this.canvas]}})})},I}(Y1),Z1=function(Q){return Q instanceof a2||Q instanceof o2?!0:Q instanceof I1&&Q.type!==Av&&Q.type!==nv},Td=function(Q,I){switch(Q){case 0:return dn(I);case 2:return bs(I);case 1:default:return Ai(I)}},b2=function(Q){switch(Q){case 1:return"center";case 2:return"right";case 0:default:return"left"}},E2=["-apple-system","system-ui"],eC=function(Q){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?Q.filter(function(I){return E2.indexOf(I)===-1}):Q},Vw=function(Q){n(I,Q);function I(R,P){var ee=Q.call(this,R,P)||this;return ee.canvas=P.canvas?P.canvas:document.createElement("canvas"),ee.ctx=ee.canvas.getContext("2d"),ee.options=P,ee.canvas.width=Math.floor(P.width*P.scale),ee.canvas.height=Math.floor(P.height*P.scale),ee.canvas.style.width=P.width+"px",ee.canvas.style.height=P.height+"px",ee.ctx.scale(ee.options.scale,ee.options.scale),ee.ctx.translate(-P.x,-P.y),ee.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+P.width+"x"+P.height+" at "+P.x+","+P.y+") with scale "+P.scale),ee}return I.prototype.render=function(R){return i(this,void 0,void 0,function(){var P,ee;return s(this,function(fe){switch(fe.label){case 0:return P=bd(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,R),[4,FU(P)];case 1:return ee=fe.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=PA(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(ee,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},I}(Y1),FU=function(Q){return new Promise(function(I,R){var P=new Image;P.onload=function(){I(P)},P.onerror=R,P.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(Q))})},IU=function(){function Q(I){var R=I.id,P=I.enabled;this.id=R,this.enabled=P,this.start=Date.now()}return Q.prototype.debug=function(){for(var I=[],R=0;R<arguments.length;R++)I[R]=arguments[R];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,o([this.id,this.getTime()+"ms"],I)):this.info.apply(this,I))},Q.prototype.getTime=function(){return Date.now()-this.start},Q.prototype.info=function(){for(var I=[],R=0;R<arguments.length;R++)I[R]=arguments[R];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,o([this.id,this.getTime()+"ms"],I))},Q.prototype.warn=function(){for(var I=[],R=0;R<arguments.length;R++)I[R]=arguments[R];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,o([this.id,this.getTime()+"ms"],I)):this.info.apply(this,I))},Q.prototype.error=function(){for(var I=[],R=0;R<arguments.length;R++)I[R]=arguments[R];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,o([this.id,this.getTime()+"ms"],I)):this.info.apply(this,I))},Q.instances={},Q}(),_2=function(){function Q(I,R){var P;this.windowBounds=R,this.instanceName="#"+Q.instanceCount++,this.logger=new IU({id:this.instanceName,enabled:I.logging}),this.cache=(P=I.cache)!==null&&P!==void 0?P:new yu(this,I)}return Q.instanceCount=1,Q}(),S2=function(Q,I){return I===void 0&&(I={}),Qd(Q,I)};typeof window<"u"&&Cs.setContext(window);var Qd=function(Q,I){return i(void 0,void 0,void 0,function(){var R,P,ee,fe,Se,Re,Ne,Ze,tt,ft,It,er,Gt,Jt,Wr,yr,dr,Gn,Yr,Hr,Cn,sr,Cn,cn,kr,Ei,fo,nl,iA,Zi,Cu,po,Ws,vf,fc,bu,Ld,Eu,ch,dc;return s(this,function(f){switch(f.label){case 0:if(!Q||typeof Q!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(R=Q.ownerDocument,!R)throw new Error("Element is not attached to a Document");if(P=R.defaultView,!P)throw new Error("Document is not attached to a Window");return ee={allowTaint:(cn=I.allowTaint)!==null&&cn!==void 0?cn:!1,imageTimeout:(kr=I.imageTimeout)!==null&&kr!==void 0?kr:15e3,proxy:I.proxy,useCORS:(Ei=I.useCORS)!==null&&Ei!==void 0?Ei:!1},fe=A({logging:(fo=I.logging)!==null&&fo!==void 0?fo:!0,cache:I.cache},ee),Se={windowWidth:(nl=I.windowWidth)!==null&&nl!==void 0?nl:P.innerWidth,windowHeight:(iA=I.windowHeight)!==null&&iA!==void 0?iA:P.innerHeight,scrollX:(Zi=I.scrollX)!==null&&Zi!==void 0?Zi:P.pageXOffset,scrollY:(Cu=I.scrollY)!==null&&Cu!==void 0?Cu:P.pageYOffset},Re=new a(Se.scrollX,Se.scrollY,Se.windowWidth,Se.windowHeight),Ne=new _2(fe,Re),Ze=(po=I.foreignObjectRendering)!==null&&po!==void 0?po:!1,tt={allowTaint:(Ws=I.allowTaint)!==null&&Ws!==void 0?Ws:!1,onclone:I.onclone,ignoreElements:I.ignoreElements,inlineImages:Ze,copyStyles:Ze},Ne.logger.debug("Starting document clone with size "+Re.width+"x"+Re.height+" scrolled to "+-Re.left+","+-Re.top),ft=new m2(Ne,Q,tt),It=ft.clonedReferenceElement,It?[4,ft.toIFrame(R,Re)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return er=f.sent(),Gt=N1(It)||f2(It)?l(It.ownerDocument):u(Ne,It),Jt=Gt.width,Wr=Gt.height,yr=Gt.left,dr=Gt.top,Gn=xU(Ne,It,I.backgroundColor),Yr={canvas:I.canvas,backgroundColor:Gn,scale:(fc=(vf=I.scale)!==null&&vf!==void 0?vf:P.devicePixelRatio)!==null&&fc!==void 0?fc:1,x:((bu=I.x)!==null&&bu!==void 0?bu:0)+yr,y:((Ld=I.y)!==null&&Ld!==void 0?Ld:0)+dr,width:(Eu=I.width)!==null&&Eu!==void 0?Eu:Math.ceil(Jt),height:(ch=I.height)!==null&&ch!==void 0?ch:Math.ceil(Wr)},Ze?(Ne.logger.debug("Document cloned, using foreign object rendering"),Cn=new Vw(Ne,Yr),[4,Cn.render(It)]):[3,3];case 2:return Hr=f.sent(),[3,5];case 3:return Ne.logger.debug("Document cloned, element located at "+yr+","+dr+" with size "+Jt+"x"+Wr+" using computed rendering"),Ne.logger.debug("Starting DOM parsing"),sr=T1(Ne,It),Gn===sr.styles.backgroundColor&&(sr.styles.backgroundColor=so.TRANSPARENT),Ne.logger.debug("Starting renderer for element at "+Yr.x+","+Yr.y+" with size "+Yr.width+"x"+Yr.height),Cn=new Ud(Ne,Yr),[4,Cn.render(sr)];case 4:Hr=f.sent(),f.label=5;case 5:return(!((dc=I.removeContainer)!==null&&dc!==void 0)||dc)&&(m2.destroy(er)||Ne.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),Ne.logger.debug("Finished rendering"),[2,Hr]}})})},xU=function(Q,I,R){var P=I.ownerDocument,ee=P.documentElement?Qo(Q,getComputedStyle(P.documentElement).backgroundColor):so.TRANSPARENT,fe=P.body?Qo(Q,getComputedStyle(P.body).backgroundColor):so.TRANSPARENT,Se=typeof R=="string"?Qo(Q,R):R===null?so.TRANSPARENT:4294967295;return I===P.documentElement?ca(ee)?ca(fe)?Se:fe:ee:Se};return S2})}(GS)),GS.exports}var NM;function Bce(){return NM||(NM=1,function(r,e){(function(n,A){r.exports=A(vce,wce())})(self,function(t,n){return function(){var A={"./src/plugin/hyperlinks.js":function(a,u,l){l.r(u),l("./node_modules/core-js/modules/web.dom-collections.for-each.js"),l("./node_modules/core-js/modules/es.string.link.js");var c=l("./src/worker.js"),h=l("./src/utils.js"),d=[],m={toContainer:c.default.prototype.toContainer,toPdf:c.default.prototype.toPdf};c.default.prototype.toContainer=function(){return m.toContainer.call(this).then(function(){if(this.opt.enableLinks){var v=this.prop.container,w=v.querySelectorAll("a"),b=(0,h.unitConvert)(v.getBoundingClientRect(),this.prop.pageSize.k);d=[],Array.prototype.forEach.call(w,function(B){for(var F=B.getClientRects(),N=0;N<F.length;N++){var T=(0,h.unitConvert)(F[N],this.prop.pageSize.k);T.left-=b.left,T.top-=b.top;var U=Math.floor(T.top/this.prop.pageSize.inner.height)+1,k=this.opt.margin[0]+T.top%this.prop.pageSize.inner.height,D=this.opt.margin[1]+T.left;d.push({page:U,top:k,left:D,clientRect:T,link:B})}},this)}})},c.default.prototype.toPdf=function(){return m.toPdf.call(this).then(function(){if(this.opt.enableLinks){d.forEach(function(w){this.prop.pdf.setPage(w.page),this.prop.pdf.link(w.left,w.top,w.clientRect.width,w.clientRect.height,{url:w.link.href})},this);var v=this.prop.pdf.internal.getNumberOfPages();this.prop.pdf.setPage(v)}})}},"./src/plugin/jspdf-plugin.js":function(a,u,l){l.r(u),l("./node_modules/core-js/modules/es.symbol.js"),l("./node_modules/core-js/modules/es.symbol.description.js"),l("./node_modules/core-js/modules/es.object.to-string.js"),l("./node_modules/core-js/modules/es.symbol.iterator.js"),l("./node_modules/core-js/modules/es.array.iterator.js"),l("./node_modules/core-js/modules/es.string.iterator.js"),l("./node_modules/core-js/modules/web.dom-collections.iterator.js");var c=l("jspdf");function h(d){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?h=function(g){return typeof g}:h=function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},h(d)}c.jsPDF.getPageSize=function(d,m,g){if(h(d)==="object"){var y=d;d=y.orientation,m=y.unit||m,g=y.format||g}m=m||"mm",g=g||"a4",d=(""+(d||"P")).toLowerCase();var v=(""+g).toLowerCase(),w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(m){case"pt":var b=1;break;case"mm":var b=72/25.4;break;case"cm":var b=72/2.54;break;case"in":var b=72;break;case"px":var b=72/96;break;case"pc":var b=12;break;case"em":var b=12;break;case"ex":var b=6;break;default:throw"Invalid unit: "+m}if(w.hasOwnProperty(v))var B=w[v][1]/b,F=w[v][0]/b;else try{var B=g[1],F=g[0]}catch{throw new Error("Invalid format: "+g)}if(d==="p"||d==="portrait"){if(d="p",F>B){var N=F;F=B,B=N}}else if(d==="l"||d==="landscape"){if(d="l",B>F){var N=F;F=B,B=N}}else throw"Invalid orientation: "+d;var T={width:F,height:B,unit:m,k:b};return T},u.default=c.jsPDF},"./src/plugin/pagebreaks.js":function(a,u,l){l.r(u),l("./node_modules/core-js/modules/es.array.concat.js"),l("./node_modules/core-js/modules/es.array.slice.js"),l("./node_modules/core-js/modules/es.array.join.js"),l("./node_modules/core-js/modules/web.dom-collections.for-each.js"),l("./node_modules/core-js/modules/es.object.keys.js");var c=l("./src/worker.js"),h=l("./src/utils.js"),d={toContainer:c.default.prototype.toContainer};c.default.template.opt.pagebreak={mode:["css","legacy"],before:[],after:[],avoid:[]},c.default.prototype.toContainer=function(){return d.toContainer.call(this).then(function(){var y=this.prop.container,v=this.prop.pageSize.inner.px.height,w=[].concat(this.opt.pagebreak.mode),b={avoidAll:w.indexOf("avoid-all")!==-1,css:w.indexOf("css")!==-1,legacy:w.indexOf("legacy")!==-1},B={},F=this;["before","after","avoid"].forEach(function(U){var k=b.avoidAll&&U==="avoid";B[U]=k?[]:[].concat(F.opt.pagebreak[U]||[]),B[U].length>0&&(B[U]=Array.prototype.slice.call(y.querySelectorAll(B[U].join(", "))))});var N=y.querySelectorAll(".html2pdf__page-break");N=Array.prototype.slice.call(N);var T=y.querySelectorAll("*");Array.prototype.forEach.call(T,function(k){var D={before:!1,after:b.legacy&&N.indexOf(k)!==-1,avoid:b.avoidAll};if(b.css){var _=window.getComputedStyle(k),L=["always","page","left","right"],O=["avoid","avoid-page"];D={before:D.before||L.indexOf(_.breakBefore||_.pageBreakBefore)!==-1,after:D.after||L.indexOf(_.breakAfter||_.pageBreakAfter)!==-1,avoid:D.avoid||O.indexOf(_.breakInside||_.pageBreakInside)!==-1}}Object.keys(D).forEach(function(ne){D[ne]=D[ne]||B[ne].indexOf(k)!==-1});var V=k.getBoundingClientRect();if(D.avoid&&!D.before){var $=Math.floor(V.top/v),Y=Math.floor(V.bottom/v),re=Math.abs(V.bottom-V.top)/v;Y!==$&&re<=1&&(D.before=!0)}if(D.before){var le=(0,h.createElement)("div",{style:{display:"block",height:v-V.top%v+"px"}});k.parentNode.insertBefore(le,k)}if(D.after){var le=(0,h.createElement)("div",{style:{display:"block",height:v-V.bottom%v+"px"}});k.parentNode.insertBefore(le,k.nextSibling)}})})}},"./src/utils.js":function(a,u,l){l.r(u),l.d(u,{objType:function(){return h},createElement:function(){return d},cloneNode:function(){return m},unitConvert:function(){return g},toPx:function(){return y}}),l("./node_modules/core-js/modules/es.number.constructor.js"),l("./node_modules/core-js/modules/es.symbol.js"),l("./node_modules/core-js/modules/es.symbol.description.js"),l("./node_modules/core-js/modules/es.object.to-string.js"),l("./node_modules/core-js/modules/es.symbol.iterator.js"),l("./node_modules/core-js/modules/es.array.iterator.js"),l("./node_modules/core-js/modules/es.string.iterator.js"),l("./node_modules/core-js/modules/web.dom-collections.iterator.js");function c(v){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?c=function(b){return typeof b}:c=function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},c(v)}var h=function(w){var b=c(w);return b==="undefined"?"undefined":b==="string"||w instanceof String?"string":b==="number"||w instanceof Number?"number":b==="function"||w instanceof Function?"function":w&&w.constructor===Array?"array":w&&w.nodeType===1?"element":b==="object"?"object":"unknown"},d=function(w,b){var B=document.createElement(w);if(b.className&&(B.className=b.className),b.innerHTML){B.innerHTML=b.innerHTML;for(var F=B.getElementsByTagName("script"),N=F.length;N-- >0;null)F[N].parentNode.removeChild(F[N])}for(var T in b.style)B.style[T]=b.style[T];return B},m=function v(w,b){for(var B=w.nodeType===3?document.createTextNode(w.nodeValue):w.cloneNode(!1),F=w.firstChild;F;F=F.nextSibling)(b===!0||F.nodeType!==1||F.nodeName!=="SCRIPT")&&B.appendChild(v(F,b));return w.nodeType===1&&(w.nodeName==="CANVAS"?(B.width=w.width,B.height=w.height,B.getContext("2d").drawImage(w,0,0)):(w.nodeName==="TEXTAREA"||w.nodeName==="SELECT")&&(B.value=w.value),B.addEventListener("load",function(){B.scrollTop=w.scrollTop,B.scrollLeft=w.scrollLeft},!0)),B},g=function(w,b){if(h(w)==="number")return w*72/96/b;var B={};for(var F in w)B[F]=w[F]*72/96/b;return B},y=function(w,b){return Math.floor(w*b/72*96)}},"./src/worker.js":function(a,u,l){l.r(u),l("./node_modules/core-js/modules/es.object.assign.js"),l("./node_modules/core-js/modules/es.array.map.js"),l("./node_modules/core-js/modules/es.object.keys.js"),l("./node_modules/core-js/modules/es.array.concat.js"),l("./node_modules/core-js/modules/es.object.to-string.js"),l("./node_modules/core-js/modules/es.regexp.to-string.js"),l("./node_modules/core-js/modules/es.function.name.js"),l("./node_modules/core-js/modules/web.dom-collections.for-each.js");var c=l("jspdf"),h=l("html2canvas"),d=l("./src/utils.js"),m=l("./node_modules/es6-promise/dist/es6-promise.js"),g=l.n(m),y=g().Promise,v=function w(b){var B=Object.assign(w.convert(y.resolve()),JSON.parse(JSON.stringify(w.template))),F=w.convert(y.resolve(),B);return F=F.setProgress(1,w,1,[w]),F=F.set(b),F};v.prototype=Object.create(y.prototype),v.prototype.constructor=v,v.convert=function(b,B){return b.__proto__=B||v.prototype,b},v.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],image:{type:"jpeg",quality:.95},enableLinks:!0,html2canvas:{},jsPDF:{}}},v.prototype.from=function(b,B){function F(N){switch((0,d.objType)(N)){case"string":return"string";case"element":return N.nodeName.toLowerCase&&N.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}return this.then(function(){switch(B=B||F(b),B){case"string":return this.set({src:(0,d.createElement)("div",{innerHTML:b})});case"element":return this.set({src:b});case"canvas":return this.set({canvas:b});case"img":return this.set({img:b});default:return this.error("Unknown source type.")}})},v.prototype.to=function(b){switch(b){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},v.prototype.toContainer=function(){var b=[function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(b).then(function(){var F={position:"fixed",overflow:"hidden",zIndex:1e3,left:0,right:0,bottom:0,top:0,backgroundColor:"rgba(0,0,0,0.8)"},N={position:"absolute",width:this.prop.pageSize.inner.width+this.prop.pageSize.unit,left:0,right:0,top:0,height:"auto",margin:"auto",backgroundColor:"white"};F.opacity=0;var T=(0,d.cloneNode)(this.prop.src,this.opt.html2canvas.javascriptEnabled);this.prop.overlay=(0,d.createElement)("div",{className:"html2pdf__overlay",style:F}),this.prop.container=(0,d.createElement)("div",{className:"html2pdf__container",style:N}),this.prop.container.appendChild(T),this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay)})},v.prototype.toCanvas=function(){var b=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(b).then(function(){var F=Object.assign({},this.opt.html2canvas);return delete F.onrendered,h(this.prop.container,F)}).then(function(F){var N=this.opt.html2canvas.onrendered||function(){};N(F),this.prop.canvas=F,document.body.removeChild(this.prop.overlay)})},v.prototype.toImg=function(){var b=[function(){return this.prop.canvas||this.toCanvas()}];return this.thenList(b).then(function(){var F=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=F})},v.prototype.toPdf=function(){var b=[function(){return this.prop.canvas||this.toCanvas()},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(b).then(function(){var F=this.prop.canvas,N=this.opt,T=F.height,U=Math.floor(F.width*this.prop.pageSize.inner.ratio),k=Math.ceil(T/U),D=this.prop.pageSize.inner.height,_=document.createElement("canvas"),L=_.getContext("2d");_.width=F.width,_.height=U,this.prop.pdf=this.prop.pdf||new c.jsPDF(N.jsPDF);for(var O=0;O<k;O++){O===k-1&&T%U!==0&&(_.height=T%U,D=_.height*this.prop.pageSize.inner.width/_.width);var V=_.width,$=_.height;L.fillStyle="white",L.fillRect(0,0,V,$),L.drawImage(F,0,O*U,V,$,0,0,V,$),O&&this.prop.pdf.addPage();var Y=_.toDataURL("image/"+N.image.type,N.image.quality);this.prop.pdf.addImage(Y,N.image.type,N.margin[1],N.margin[0],this.prop.pageSize.inner.width,D)}})},v.prototype.output=function(b,B,F){return F=F||"pdf",F.toLowerCase()==="img"||F.toLowerCase()==="image"?this.outputImg(b,B):this.outputPdf(b,B)},v.prototype.outputPdf=function(b,B){var F=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(F).then(function(){return this.prop.pdf.output(b,B)})},v.prototype.outputImg=function(b,B){var F=[function(){return this.prop.img||this.toImg()}];return this.thenList(F).then(function(){switch(b){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+b+'" is not supported.'}})},v.prototype.save=function(b){var B=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(B).set(b?{filename:b}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},v.prototype.set=function(b){if((0,d.objType)(b)!=="object")return this;var B=Object.keys(b||{}).map(function(F){switch(F){case"margin":return this.setMargin.bind(this,b.margin);case"jsPDF":return function(){return this.opt.jsPDF=b.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,b.pageSize);default:return F in v.template.prop?function(){this.prop[F]=b[F]}:function(){this.opt[F]=b[F]}}},this);return this.then(function(){return this.thenList(B)})},v.prototype.get=function(b,B){return this.then(function(){var N=b in v.template.prop?this.prop[b]:this.opt[b];return B?B(N):N})},v.prototype.setMargin=function(b){return this.then(function(){switch((0,d.objType)(b)){case"number":b=[b,b,b,b];case"array":if(b.length===2&&(b=[b[0],b[1],b[0],b[1]]),b.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=b}).then(this.setPageSize)},v.prototype.setPageSize=function(b){return this.then(function(){b=b||c.jsPDF.getPageSize(this.opt.jsPDF),b.hasOwnProperty("inner")||(b.inner={width:b.width-this.opt.margin[1]-this.opt.margin[3],height:b.height-this.opt.margin[0]-this.opt.margin[2]},b.inner.px={width:(0,d.toPx)(b.inner.width,b.k),height:(0,d.toPx)(b.inner.height,b.k)},b.inner.ratio=b.inner.height/b.inner.width),this.prop.pageSize=b})},v.prototype.setProgress=function(b,B,F,N){return b!=null&&(this.progress.val=b),B!=null&&(this.progress.state=B),F!=null&&(this.progress.n=F),N!=null&&(this.progress.stack=N),this.progress.ratio=this.progress.val/this.progress.state,this},v.prototype.updateProgress=function(b,B,F,N){return this.setProgress(b?this.progress.val+b:null,B||null,F?this.progress.n+F:null,N?this.progress.stack.concat(N):null)},v.prototype.then=function(b,B){var F=this;return this.thenCore(b,B,function(T,U){return F.updateProgress(null,null,1,[T]),y.prototype.then.call(this,function(D){return F.updateProgress(null,T),D}).then(T,U).then(function(D){return F.updateProgress(1),D})})},v.prototype.thenCore=function(b,B,F){F=F||y.prototype.then;var N=this;b&&(b=b.bind(N)),B&&(B=B.bind(N));var T=y.toString().indexOf("[native code]")!==-1&&y.name==="Promise",U=T?N:v.convert(Object.assign({},N),y.prototype),k=F.call(U,b,B);return v.convert(k,N.__proto__)},v.prototype.thenExternal=function(b,B){return y.prototype.then.call(this,b,B)},v.prototype.thenList=function(b){var B=this;return b.forEach(function(N){B=B.thenCore(N)}),B},v.prototype.catch=function(w){w&&(w=w.bind(this));var b=y.prototype.catch.call(this,w);return v.convert(b,this)},v.prototype.catchExternal=function(b){return y.prototype.catch.call(this,b)},v.prototype.error=function(b){return this.then(function(){throw new Error(b)})},v.prototype.using=v.prototype.set,v.prototype.saveAs=v.prototype.save,v.prototype.export=v.prototype.output,v.prototype.run=v.prototype.then,u.default=v},"./node_modules/core-js/internals/a-function.js":function(a){a.exports=function(u){if(typeof u!="function")throw TypeError(String(u)+" is not a function");return u}},"./node_modules/core-js/internals/a-possible-prototype.js":function(a,u,l){var c=l("./node_modules/core-js/internals/is-object.js");a.exports=function(h){if(!c(h)&&h!==null)throw TypeError("Can't set "+String(h)+" as a prototype");return h}},"./node_modules/core-js/internals/add-to-unscopables.js":function(a,u,l){var c=l("./node_modules/core-js/internals/well-known-symbol.js"),h=l("./node_modules/core-js/internals/object-create.js"),d=l("./node_modules/core-js/internals/object-define-property.js"),m=c("unscopables"),g=Array.prototype;g[m]==null&&d.f(g,m,{configurable:!0,value:h(null)}),a.exports=function(y){g[m][y]=!0}},"./node_modules/core-js/internals/an-object.js":function(a,u,l){var c=l("./node_modules/core-js/internals/is-object.js");a.exports=function(h){if(!c(h))throw TypeError(String(h)+" is not an object");return h}},"./node_modules/core-js/internals/array-for-each.js":function(a,u,l){var c=l("./node_modules/core-js/internals/array-iteration.js").forEach,h=l("./node_modules/core-js/internals/array-method-is-strict.js"),d=h("forEach");a.exports=d?[].forEach:function(g){return c(this,g,arguments.length>1?arguments[1]:void 0)}},"./node_modules/core-js/internals/array-includes.js":function(a,u,l){var c=l("./node_modules/core-js/internals/to-indexed-object.js"),h=l("./node_modules/core-js/internals/to-length.js"),d=l("./node_modules/core-js/internals/to-absolute-index.js"),m=function(g){return function(y,v,w){var b=c(y),B=h(b.length),F=d(w,B),N;if(g&&v!=v){for(;B>F;)if(N=b[F++],N!=N)return!0}else for(;B>F;F++)if((g||F in b)&&b[F]===v)return g||F||0;return!g&&-1}};a.exports={includes:m(!0),indexOf:m(!1)}},"./node_modules/core-js/internals/array-iteration.js":function(a,u,l){var c=l("./node_modules/core-js/internals/function-bind-context.js"),h=l("./node_modules/core-js/internals/indexed-object.js"),d=l("./node_modules/core-js/internals/to-object.js"),m=l("./node_modules/core-js/internals/to-length.js"),g=l("./node_modules/core-js/internals/array-species-create.js"),y=[].push,v=function(w){var b=w==1,B=w==2,F=w==3,N=w==4,T=w==6,U=w==7,k=w==5||T;return function(D,_,L,O){for(var V=d(D),$=h(V),Y=c(_,L,3),re=m($.length),le=0,ne=O||g,te=b?ne(D,re):B||U?ne(D,0):void 0,G,H;re>le;le++)if((k||le in $)&&(G=$[le],H=Y(G,le,V),w))if(b)te[le]=H;else if(H)switch(w){case 3:return!0;case 5:return G;case 6:return le;case 2:y.call(te,G)}else switch(w){case 4:return!1;case 7:y.call(te,G)}return T?-1:F||N?N:te}};a.exports={forEach:v(0),map:v(1),filter:v(2),some:v(3),every:v(4),find:v(5),findIndex:v(6),filterReject:v(7)}},"./node_modules/core-js/internals/array-method-has-species-support.js":function(a,u,l){var c=l("./node_modules/core-js/internals/fails.js"),h=l("./node_modules/core-js/internals/well-known-symbol.js"),d=l("./node_modules/core-js/internals/engine-v8-version.js"),m=h("species");a.exports=function(g){return d>=51||!c(function(){var y=[],v=y.constructor={};return v[m]=function(){return{foo:1}},y[g](Boolean).foo!==1})}},"./node_modules/core-js/internals/array-method-is-strict.js":function(a,u,l){var c=l("./node_modules/core-js/internals/fails.js");a.exports=function(h,d){var m=[][h];return!!m&&c(function(){m.call(null,d||function(){throw 1},1)})}},"./node_modules/core-js/internals/array-species-constructor.js":function(a,u,l){var c=l("./node_modules/core-js/internals/is-object.js"),h=l("./node_modules/core-js/internals/is-array.js"),d=l("./node_modules/core-js/internals/well-known-symbol.js"),m=d("species");a.exports=function(g){var y;return h(g)&&(y=g.constructor,typeof y=="function"&&(y===Array||h(y.prototype))?y=void 0:c(y)&&(y=y[m],y===null&&(y=void 0))),y===void 0?Array:y}},"./node_modules/core-js/internals/array-species-create.js":function(a,u,l){var c=l("./node_modules/core-js/internals/array-species-constructor.js");a.exports=function(h,d){return new(c(h))(d===0?0:d)}},"./node_modules/core-js/internals/classof-raw.js":function(a){var u={}.toString;a.exports=function(l){return u.call(l).slice(8,-1)}},"./node_modules/core-js/internals/classof.js":function(a,u,l){var c=l("./node_modules/core-js/internals/to-string-tag-support.js"),h=l("./node_modules/core-js/internals/classof-raw.js"),d=l("./node_modules/core-js/internals/well-known-symbol.js"),m=d("toStringTag"),g=h(function(){return arguments}())=="Arguments",y=function(v,w){try{return v[w]}catch{}};a.exports=c?h:function(v){var w,b,B;return v===void 0?"Undefined":v===null?"Null":typeof(b=y(w=Object(v),m))=="string"?b:g?h(w):(B=h(w))=="Object"&&typeof w.callee=="function"?"Arguments":B}},"./node_modules/core-js/internals/copy-constructor-properties.js":function(a,u,l){var c=l("./node_modules/core-js/internals/has.js"),h=l("./node_modules/core-js/internals/own-keys.js"),d=l("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),m=l("./node_modules/core-js/internals/object-define-property.js");a.exports=function(g,y){for(var v=h(y),w=m.f,b=d.f,B=0;B<v.length;B++){var F=v[B];c(g,F)||w(g,F,b(y,F))}}},"./node_modules/core-js/internals/correct-prototype-getter.js":function(a,u,l){var c=l("./node_modules/core-js/internals/fails.js");a.exports=!c(function(){function h(){}return h.prototype.constructor=null,Object.getPrototypeOf(new h)!==h.prototype})},"./node_modules/core-js/internals/create-html.js":function(a,u,l){var c=l("./node_modules/core-js/internals/require-object-coercible.js"),h=l("./node_modules/core-js/internals/to-string.js"),d=/"/g;a.exports=function(m,g,y,v){var w=h(c(m)),b="<"+g;return y!==""&&(b+=" "+y+'="'+h(v).replace(d,"&quot;")+'"'),b+">"+w+"</"+g+">"}},"./node_modules/core-js/internals/create-iterator-constructor.js":function(a,u,l){var c=l("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,h=l("./node_modules/core-js/internals/object-create.js"),d=l("./node_modules/core-js/internals/create-property-descriptor.js"),m=l("./node_modules/core-js/internals/set-to-string-tag.js"),g=l("./node_modules/core-js/internals/iterators.js"),y=function(){return this};a.exports=function(v,w,b){var B=w+" Iterator";return v.prototype=h(c,{next:d(1,b)}),m(v,B,!1,!0),g[B]=y,v}},"./node_modules/core-js/internals/create-non-enumerable-property.js":function(a,u,l){var c=l("./node_modules/core-js/internals/descriptors.js"),h=l("./node_modules/core-js/internals/object-define-property.js"),d=l("./node_modules/core-js/internals/create-property-descriptor.js");a.exports=c?function(m,g,y){return h.f(m,g,d(1,y))}:function(m,g,y){return m[g]=y,m}},"./node_modules/core-js/internals/create-property-descriptor.js":function(a){a.exports=function(u,l){return{enumerable:!(u&1),configurable:!(u&2),writable:!(u&4),value:l}}},"./node_modules/core-js/internals/create-property.js":function(a,u,l){var c=l("./node_modules/core-js/internals/to-property-key.js"),h=l("./node_modules/core-js/internals/object-define-property.js"),d=l("./node_modules/core-js/internals/create-property-descriptor.js");a.exports=function(m,g,y){var v=c(g);v in m?h.f(m,v,d(0,y)):m[v]=y}},"./node_modules/core-js/internals/define-iterator.js":function(a,u,l){var c=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/create-iterator-constructor.js"),d=l("./node_modules/core-js/internals/object-get-prototype-of.js"),m=l("./node_modules/core-js/internals/object-set-prototype-of.js"),g=l("./node_modules/core-js/internals/set-to-string-tag.js"),y=l("./node_modules/core-js/internals/create-non-enumerable-property.js"),v=l("./node_modules/core-js/internals/redefine.js"),w=l("./node_modules/core-js/internals/well-known-symbol.js"),b=l("./node_modules/core-js/internals/is-pure.js"),B=l("./node_modules/core-js/internals/iterators.js"),F=l("./node_modules/core-js/internals/iterators-core.js"),N=F.IteratorPrototype,T=F.BUGGY_SAFARI_ITERATORS,U=w("iterator"),k="keys",D="values",_="entries",L=function(){return this};a.exports=function(O,V,$,Y,re,le,ne){h($,V,Y);var te=function(Qe){if(Qe===re&&ae)return ae;if(!T&&Qe in z)return z[Qe];switch(Qe){case k:return function(){return new $(this,Qe)};case D:return function(){return new $(this,Qe)};case _:return function(){return new $(this,Qe)}}return function(){return new $(this)}},G=V+" Iterator",H=!1,z=O.prototype,oe=z[U]||z["@@iterator"]||re&&z[re],ae=!T&&oe||te(re),ie=V=="Array"&&z.entries||oe,pe,Ce,Ie;if(ie&&(pe=d(ie.call(new O)),N!==Object.prototype&&pe.next&&(!b&&d(pe)!==N&&(m?m(pe,N):typeof pe[U]!="function"&&y(pe,U,L)),g(pe,G,!0,!0),b&&(B[G]=L))),re==D&&oe&&oe.name!==D&&(H=!0,ae=function(){return oe.call(this)}),(!b||ne)&&z[U]!==ae&&y(z,U,ae),B[V]=ae,re)if(Ce={values:te(D),keys:le?ae:te(k),entries:te(_)},ne)for(Ie in Ce)(T||H||!(Ie in z))&&v(z,Ie,Ce[Ie]);else c({target:V,proto:!0,forced:T||H},Ce);return Ce}},"./node_modules/core-js/internals/define-well-known-symbol.js":function(a,u,l){var c=l("./node_modules/core-js/internals/path.js"),h=l("./node_modules/core-js/internals/has.js"),d=l("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),m=l("./node_modules/core-js/internals/object-define-property.js").f;a.exports=function(g){var y=c.Symbol||(c.Symbol={});h(y,g)||m(y,g,{value:d.f(g)})}},"./node_modules/core-js/internals/descriptors.js":function(a,u,l){var c=l("./node_modules/core-js/internals/fails.js");a.exports=!c(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},"./node_modules/core-js/internals/document-create-element.js":function(a,u,l){var c=l("./node_modules/core-js/internals/global.js"),h=l("./node_modules/core-js/internals/is-object.js"),d=c.document,m=h(d)&&h(d.createElement);a.exports=function(g){return m?d.createElement(g):{}}},"./node_modules/core-js/internals/dom-iterables.js":function(a){a.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},"./node_modules/core-js/internals/engine-user-agent.js":function(a,u,l){var c=l("./node_modules/core-js/internals/get-built-in.js");a.exports=c("navigator","userAgent")||""},"./node_modules/core-js/internals/engine-v8-version.js":function(a,u,l){var c=l("./node_modules/core-js/internals/global.js"),h=l("./node_modules/core-js/internals/engine-user-agent.js"),d=c.process,m=c.Deno,g=d&&d.versions||m&&m.version,y=g&&g.v8,v,w;y?(v=y.split("."),w=v[0]<4?1:v[0]+v[1]):h&&(v=h.match(/Edge\/(\d+)/),(!v||v[1]>=74)&&(v=h.match(/Chrome\/(\d+)/),v&&(w=v[1]))),a.exports=w&&+w},"./node_modules/core-js/internals/enum-bug-keys.js":function(a){a.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"./node_modules/core-js/internals/export.js":function(a,u,l){var c=l("./node_modules/core-js/internals/global.js"),h=l("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,d=l("./node_modules/core-js/internals/create-non-enumerable-property.js"),m=l("./node_modules/core-js/internals/redefine.js"),g=l("./node_modules/core-js/internals/set-global.js"),y=l("./node_modules/core-js/internals/copy-constructor-properties.js"),v=l("./node_modules/core-js/internals/is-forced.js");a.exports=function(w,b){var B=w.target,F=w.global,N=w.stat,T,U,k,D,_,L;if(F?U=c:N?U=c[B]||g(B,{}):U=(c[B]||{}).prototype,U)for(k in b){if(_=b[k],w.noTargetGet?(L=h(U,k),D=L&&L.value):D=U[k],T=v(F?k:B+(N?".":"#")+k,w.forced),!T&&D!==void 0){if(typeof _==typeof D)continue;y(_,D)}(w.sham||D&&D.sham)&&d(_,"sham",!0),m(U,k,_,w)}}},"./node_modules/core-js/internals/fails.js":function(a){a.exports=function(u){try{return!!u()}catch{return!0}}},"./node_modules/core-js/internals/function-bind-context.js":function(a,u,l){var c=l("./node_modules/core-js/internals/a-function.js");a.exports=function(h,d,m){if(c(h),d===void 0)return h;switch(m){case 0:return function(){return h.call(d)};case 1:return function(g){return h.call(d,g)};case 2:return function(g,y){return h.call(d,g,y)};case 3:return function(g,y,v){return h.call(d,g,y,v)}}return function(){return h.apply(d,arguments)}}},"./node_modules/core-js/internals/get-built-in.js":function(a,u,l){var c=l("./node_modules/core-js/internals/global.js"),h=function(d){return typeof d=="function"?d:void 0};a.exports=function(d,m){return arguments.length<2?h(c[d]):c[d]&&c[d][m]}},"./node_modules/core-js/internals/global.js":function(a){var u=function(l){return l&&l.Math==Math&&l};a.exports=u(typeof globalThis=="object"&&globalThis)||u(typeof window=="object"&&window)||u(typeof self=="object"&&self)||u(typeof window=="object"&&window)||function(){return this}()||Function("return this")()},"./node_modules/core-js/internals/has.js":function(a,u,l){var c=l("./node_modules/core-js/internals/to-object.js"),h={}.hasOwnProperty;a.exports=Object.hasOwn||function(m,g){return h.call(c(m),g)}},"./node_modules/core-js/internals/hidden-keys.js":function(a){a.exports={}},"./node_modules/core-js/internals/html.js":function(a,u,l){var c=l("./node_modules/core-js/internals/get-built-in.js");a.exports=c("document","documentElement")},"./node_modules/core-js/internals/ie8-dom-define.js":function(a,u,l){var c=l("./node_modules/core-js/internals/descriptors.js"),h=l("./node_modules/core-js/internals/fails.js"),d=l("./node_modules/core-js/internals/document-create-element.js");a.exports=!c&&!h(function(){return Object.defineProperty(d("div"),"a",{get:function(){return 7}}).a!=7})},"./node_modules/core-js/internals/indexed-object.js":function(a,u,l){var c=l("./node_modules/core-js/internals/fails.js"),h=l("./node_modules/core-js/internals/classof-raw.js"),d="".split;a.exports=c(function(){return!Object("z").propertyIsEnumerable(0)})?function(m){return h(m)=="String"?d.call(m,""):Object(m)}:Object},"./node_modules/core-js/internals/inherit-if-required.js":function(a,u,l){var c=l("./node_modules/core-js/internals/is-object.js"),h=l("./node_modules/core-js/internals/object-set-prototype-of.js");a.exports=function(d,m,g){var y,v;return h&&typeof(y=m.constructor)=="function"&&y!==g&&c(v=y.prototype)&&v!==g.prototype&&h(d,v),d}},"./node_modules/core-js/internals/inspect-source.js":function(a,u,l){var c=l("./node_modules/core-js/internals/shared-store.js"),h=Function.toString;typeof c.inspectSource!="function"&&(c.inspectSource=function(d){return h.call(d)}),a.exports=c.inspectSource},"./node_modules/core-js/internals/internal-state.js":function(a,u,l){var c=l("./node_modules/core-js/internals/native-weak-map.js"),h=l("./node_modules/core-js/internals/global.js"),d=l("./node_modules/core-js/internals/is-object.js"),m=l("./node_modules/core-js/internals/create-non-enumerable-property.js"),g=l("./node_modules/core-js/internals/has.js"),y=l("./node_modules/core-js/internals/shared-store.js"),v=l("./node_modules/core-js/internals/shared-key.js"),w=l("./node_modules/core-js/internals/hidden-keys.js"),b="Object already initialized",B=h.WeakMap,F,N,T,U=function($){return T($)?N($):F($,{})},k=function($){return function(Y){var re;if(!d(Y)||(re=N(Y)).type!==$)throw TypeError("Incompatible receiver, "+$+" required");return re}};if(c||y.state){var D=y.state||(y.state=new B),_=D.get,L=D.has,O=D.set;F=function($,Y){if(L.call(D,$))throw new TypeError(b);return Y.facade=$,O.call(D,$,Y),Y},N=function($){return _.call(D,$)||{}},T=function($){return L.call(D,$)}}else{var V=v("state");w[V]=!0,F=function($,Y){if(g($,V))throw new TypeError(b);return Y.facade=$,m($,V,Y),Y},N=function($){return g($,V)?$[V]:{}},T=function($){return g($,V)}}a.exports={set:F,get:N,has:T,enforce:U,getterFor:k}},"./node_modules/core-js/internals/is-array.js":function(a,u,l){var c=l("./node_modules/core-js/internals/classof-raw.js");a.exports=Array.isArray||function(d){return c(d)=="Array"}},"./node_modules/core-js/internals/is-forced.js":function(a,u,l){var c=l("./node_modules/core-js/internals/fails.js"),h=/#|\.prototype\./,d=function(w,b){var B=g[m(w)];return B==v?!0:B==y?!1:typeof b=="function"?c(b):!!b},m=d.normalize=function(w){return String(w).replace(h,".").toLowerCase()},g=d.data={},y=d.NATIVE="N",v=d.POLYFILL="P";a.exports=d},"./node_modules/core-js/internals/is-object.js":function(a){a.exports=function(u){return typeof u=="object"?u!==null:typeof u=="function"}},"./node_modules/core-js/internals/is-pure.js":function(a){a.exports=!1},"./node_modules/core-js/internals/is-symbol.js":function(a,u,l){var c=l("./node_modules/core-js/internals/get-built-in.js"),h=l("./node_modules/core-js/internals/use-symbol-as-uid.js");a.exports=h?function(d){return typeof d=="symbol"}:function(d){var m=c("Symbol");return typeof m=="function"&&Object(d)instanceof m}},"./node_modules/core-js/internals/iterators-core.js":function(a,u,l){var c=l("./node_modules/core-js/internals/fails.js"),h=l("./node_modules/core-js/internals/object-get-prototype-of.js"),d=l("./node_modules/core-js/internals/create-non-enumerable-property.js"),m=l("./node_modules/core-js/internals/has.js"),g=l("./node_modules/core-js/internals/well-known-symbol.js"),y=l("./node_modules/core-js/internals/is-pure.js"),v=g("iterator"),w=!1,b=function(){return this},B,F,N;[].keys&&(N=[].keys(),"next"in N?(F=h(h(N)),F!==Object.prototype&&(B=F)):w=!0);var T=B==null||c(function(){var U={};return B[v].call(U)!==U});T&&(B={}),(!y||T)&&!m(B,v)&&d(B,v,b),a.exports={IteratorPrototype:B,BUGGY_SAFARI_ITERATORS:w}},"./node_modules/core-js/internals/iterators.js":function(a){a.exports={}},"./node_modules/core-js/internals/native-symbol.js":function(a,u,l){var c=l("./node_modules/core-js/internals/engine-v8-version.js"),h=l("./node_modules/core-js/internals/fails.js");a.exports=!!Object.getOwnPropertySymbols&&!h(function(){var d=Symbol();return!String(d)||!(Object(d)instanceof Symbol)||!Symbol.sham&&c&&c<41})},"./node_modules/core-js/internals/native-weak-map.js":function(a,u,l){var c=l("./node_modules/core-js/internals/global.js"),h=l("./node_modules/core-js/internals/inspect-source.js"),d=c.WeakMap;a.exports=typeof d=="function"&&/native code/.test(h(d))},"./node_modules/core-js/internals/object-assign.js":function(a,u,l){var c=l("./node_modules/core-js/internals/descriptors.js"),h=l("./node_modules/core-js/internals/fails.js"),d=l("./node_modules/core-js/internals/object-keys.js"),m=l("./node_modules/core-js/internals/object-get-own-property-symbols.js"),g=l("./node_modules/core-js/internals/object-property-is-enumerable.js"),y=l("./node_modules/core-js/internals/to-object.js"),v=l("./node_modules/core-js/internals/indexed-object.js"),w=Object.assign,b=Object.defineProperty;a.exports=!w||h(function(){if(c&&w({b:1},w(b({},"a",{enumerable:!0,get:function(){b(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var B={},F={},N=Symbol(),T="abcdefghijklmnopqrst";return B[N]=7,T.split("").forEach(function(U){F[U]=U}),w({},B)[N]!=7||d(w({},F)).join("")!=T})?function(F,N){for(var T=y(F),U=arguments.length,k=1,D=m.f,_=g.f;U>k;)for(var L=v(arguments[k++]),O=D?d(L).concat(D(L)):d(L),V=O.length,$=0,Y;V>$;)Y=O[$++],(!c||_.call(L,Y))&&(T[Y]=L[Y]);return T}:w},"./node_modules/core-js/internals/object-create.js":function(a,u,l){var c=l("./node_modules/core-js/internals/an-object.js"),h=l("./node_modules/core-js/internals/object-define-properties.js"),d=l("./node_modules/core-js/internals/enum-bug-keys.js"),m=l("./node_modules/core-js/internals/hidden-keys.js"),g=l("./node_modules/core-js/internals/html.js"),y=l("./node_modules/core-js/internals/document-create-element.js"),v=l("./node_modules/core-js/internals/shared-key.js"),w=">",b="<",B="prototype",F="script",N=v("IE_PROTO"),T=function(){},U=function(O){return b+F+w+O+b+"/"+F+w},k=function(O){O.write(U("")),O.close();var V=O.parentWindow.Object;return O=null,V},D=function(){var O=y("iframe"),V="java"+F+":",$;if(O.style)return O.style.display="none",g.appendChild(O),O.src=String(V),$=O.contentWindow.document,$.open(),$.write(U("document.F=Object")),$.close(),$.F},_,L=function(){try{_=new ActiveXObject("htmlfile")}catch{}L=document.domain&&_?k(_):D()||k(_);for(var O=d.length;O--;)delete L[B][d[O]];return L()};m[N]=!0,a.exports=Object.create||function(V,$){var Y;return V!==null?(T[B]=c(V),Y=new T,T[B]=null,Y[N]=V):Y=L(),$===void 0?Y:h(Y,$)}},"./node_modules/core-js/internals/object-define-properties.js":function(a,u,l){var c=l("./node_modules/core-js/internals/descriptors.js"),h=l("./node_modules/core-js/internals/object-define-property.js"),d=l("./node_modules/core-js/internals/an-object.js"),m=l("./node_modules/core-js/internals/object-keys.js");a.exports=c?Object.defineProperties:function(y,v){d(y);for(var w=m(v),b=w.length,B=0,F;b>B;)h.f(y,F=w[B++],v[F]);return y}},"./node_modules/core-js/internals/object-define-property.js":function(a,u,l){var c=l("./node_modules/core-js/internals/descriptors.js"),h=l("./node_modules/core-js/internals/ie8-dom-define.js"),d=l("./node_modules/core-js/internals/an-object.js"),m=l("./node_modules/core-js/internals/to-property-key.js"),g=Object.defineProperty;u.f=c?g:function(v,w,b){if(d(v),w=m(w),d(b),h)try{return g(v,w,b)}catch{}if("get"in b||"set"in b)throw TypeError("Accessors not supported");return"value"in b&&(v[w]=b.value),v}},"./node_modules/core-js/internals/object-get-own-property-descriptor.js":function(a,u,l){var c=l("./node_modules/core-js/internals/descriptors.js"),h=l("./node_modules/core-js/internals/object-property-is-enumerable.js"),d=l("./node_modules/core-js/internals/create-property-descriptor.js"),m=l("./node_modules/core-js/internals/to-indexed-object.js"),g=l("./node_modules/core-js/internals/to-property-key.js"),y=l("./node_modules/core-js/internals/has.js"),v=l("./node_modules/core-js/internals/ie8-dom-define.js"),w=Object.getOwnPropertyDescriptor;u.f=c?w:function(B,F){if(B=m(B),F=g(F),v)try{return w(B,F)}catch{}if(y(B,F))return d(!h.f.call(B,F),B[F])}},"./node_modules/core-js/internals/object-get-own-property-names-external.js":function(a,u,l){var c=l("./node_modules/core-js/internals/to-indexed-object.js"),h=l("./node_modules/core-js/internals/object-get-own-property-names.js").f,d={}.toString,m=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],g=function(y){try{return h(y)}catch{return m.slice()}};a.exports.f=function(v){return m&&d.call(v)=="[object Window]"?g(v):h(c(v))}},"./node_modules/core-js/internals/object-get-own-property-names.js":function(a,u,l){var c=l("./node_modules/core-js/internals/object-keys-internal.js"),h=l("./node_modules/core-js/internals/enum-bug-keys.js"),d=h.concat("length","prototype");u.f=Object.getOwnPropertyNames||function(g){return c(g,d)}},"./node_modules/core-js/internals/object-get-own-property-symbols.js":function(a,u){u.f=Object.getOwnPropertySymbols},"./node_modules/core-js/internals/object-get-prototype-of.js":function(a,u,l){var c=l("./node_modules/core-js/internals/has.js"),h=l("./node_modules/core-js/internals/to-object.js"),d=l("./node_modules/core-js/internals/shared-key.js"),m=l("./node_modules/core-js/internals/correct-prototype-getter.js"),g=d("IE_PROTO"),y=Object.prototype;a.exports=m?Object.getPrototypeOf:function(v){return v=h(v),c(v,g)?v[g]:typeof v.constructor=="function"&&v instanceof v.constructor?v.constructor.prototype:v instanceof Object?y:null}},"./node_modules/core-js/internals/object-keys-internal.js":function(a,u,l){var c=l("./node_modules/core-js/internals/has.js"),h=l("./node_modules/core-js/internals/to-indexed-object.js"),d=l("./node_modules/core-js/internals/array-includes.js").indexOf,m=l("./node_modules/core-js/internals/hidden-keys.js");a.exports=function(g,y){var v=h(g),w=0,b=[],B;for(B in v)!c(m,B)&&c(v,B)&&b.push(B);for(;y.length>w;)c(v,B=y[w++])&&(~d(b,B)||b.push(B));return b}},"./node_modules/core-js/internals/object-keys.js":function(a,u,l){var c=l("./node_modules/core-js/internals/object-keys-internal.js"),h=l("./node_modules/core-js/internals/enum-bug-keys.js");a.exports=Object.keys||function(m){return c(m,h)}},"./node_modules/core-js/internals/object-property-is-enumerable.js":function(a,u){var l={}.propertyIsEnumerable,c=Object.getOwnPropertyDescriptor,h=c&&!l.call({1:2},1);u.f=h?function(m){var g=c(this,m);return!!g&&g.enumerable}:l},"./node_modules/core-js/internals/object-set-prototype-of.js":function(a,u,l){var c=l("./node_modules/core-js/internals/an-object.js"),h=l("./node_modules/core-js/internals/a-possible-prototype.js");a.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var d=!1,m={},g;try{g=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,g.call(m,[]),d=m instanceof Array}catch{}return function(v,w){return c(v),h(w),d?g.call(v,w):v.__proto__=w,v}}():void 0)},"./node_modules/core-js/internals/object-to-string.js":function(a,u,l){var c=l("./node_modules/core-js/internals/to-string-tag-support.js"),h=l("./node_modules/core-js/internals/classof.js");a.exports=c?{}.toString:function(){return"[object "+h(this)+"]"}},"./node_modules/core-js/internals/ordinary-to-primitive.js":function(a,u,l){var c=l("./node_modules/core-js/internals/is-object.js");a.exports=function(h,d){var m,g;if(d==="string"&&typeof(m=h.toString)=="function"&&!c(g=m.call(h))||typeof(m=h.valueOf)=="function"&&!c(g=m.call(h))||d!=="string"&&typeof(m=h.toString)=="function"&&!c(g=m.call(h)))return g;throw TypeError("Can't convert object to primitive value")}},"./node_modules/core-js/internals/own-keys.js":function(a,u,l){var c=l("./node_modules/core-js/internals/get-built-in.js"),h=l("./node_modules/core-js/internals/object-get-own-property-names.js"),d=l("./node_modules/core-js/internals/object-get-own-property-symbols.js"),m=l("./node_modules/core-js/internals/an-object.js");a.exports=c("Reflect","ownKeys")||function(y){var v=h.f(m(y)),w=d.f;return w?v.concat(w(y)):v}},"./node_modules/core-js/internals/path.js":function(a,u,l){var c=l("./node_modules/core-js/internals/global.js");a.exports=c},"./node_modules/core-js/internals/redefine.js":function(a,u,l){var c=l("./node_modules/core-js/internals/global.js"),h=l("./node_modules/core-js/internals/create-non-enumerable-property.js"),d=l("./node_modules/core-js/internals/has.js"),m=l("./node_modules/core-js/internals/set-global.js"),g=l("./node_modules/core-js/internals/inspect-source.js"),y=l("./node_modules/core-js/internals/internal-state.js"),v=y.get,w=y.enforce,b=String(String).split("String");(a.exports=function(B,F,N,T){var U=T?!!T.unsafe:!1,k=T?!!T.enumerable:!1,D=T?!!T.noTargetGet:!1,_;if(typeof N=="function"&&(typeof F=="string"&&!d(N,"name")&&h(N,"name",F),_=w(N),_.source||(_.source=b.join(typeof F=="string"?F:""))),B===c){k?B[F]=N:m(F,N);return}else U?!D&&B[F]&&(k=!0):delete B[F];k?B[F]=N:h(B,F,N)})(Function.prototype,"toString",function(){return typeof this=="function"&&v(this).source||g(this)})},"./node_modules/core-js/internals/regexp-flags.js":function(a,u,l){var c=l("./node_modules/core-js/internals/an-object.js");a.exports=function(){var h=c(this),d="";return h.global&&(d+="g"),h.ignoreCase&&(d+="i"),h.multiline&&(d+="m"),h.dotAll&&(d+="s"),h.unicode&&(d+="u"),h.sticky&&(d+="y"),d}},"./node_modules/core-js/internals/require-object-coercible.js":function(a){a.exports=function(u){if(u==null)throw TypeError("Can't call method on "+u);return u}},"./node_modules/core-js/internals/set-global.js":function(a,u,l){var c=l("./node_modules/core-js/internals/global.js");a.exports=function(h,d){try{Object.defineProperty(c,h,{value:d,configurable:!0,writable:!0})}catch{c[h]=d}return d}},"./node_modules/core-js/internals/set-to-string-tag.js":function(a,u,l){var c=l("./node_modules/core-js/internals/object-define-property.js").f,h=l("./node_modules/core-js/internals/has.js"),d=l("./node_modules/core-js/internals/well-known-symbol.js"),m=d("toStringTag");a.exports=function(g,y,v){g&&!h(g=v?g:g.prototype,m)&&c(g,m,{configurable:!0,value:y})}},"./node_modules/core-js/internals/shared-key.js":function(a,u,l){var c=l("./node_modules/core-js/internals/shared.js"),h=l("./node_modules/core-js/internals/uid.js"),d=c("keys");a.exports=function(m){return d[m]||(d[m]=h(m))}},"./node_modules/core-js/internals/shared-store.js":function(a,u,l){var c=l("./node_modules/core-js/internals/global.js"),h=l("./node_modules/core-js/internals/set-global.js"),d="__core-js_shared__",m=c[d]||h(d,{});a.exports=m},"./node_modules/core-js/internals/shared.js":function(a,u,l){var c=l("./node_modules/core-js/internals/is-pure.js"),h=l("./node_modules/core-js/internals/shared-store.js");(a.exports=function(d,m){return h[d]||(h[d]=m!==void 0?m:{})})("versions",[]).push({version:"3.16.0",mode:c?"pure":"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})},"./node_modules/core-js/internals/string-html-forced.js":function(a,u,l){var c=l("./node_modules/core-js/internals/fails.js");a.exports=function(h){return c(function(){var d=""[h]('"');return d!==d.toLowerCase()||d.split('"').length>3})}},"./node_modules/core-js/internals/string-multibyte.js":function(a,u,l){var c=l("./node_modules/core-js/internals/to-integer.js"),h=l("./node_modules/core-js/internals/to-string.js"),d=l("./node_modules/core-js/internals/require-object-coercible.js"),m=function(g){return function(y,v){var w=h(d(y)),b=c(v),B=w.length,F,N;return b<0||b>=B?g?"":void 0:(F=w.charCodeAt(b),F<55296||F>56319||b+1===B||(N=w.charCodeAt(b+1))<56320||N>57343?g?w.charAt(b):F:g?w.slice(b,b+2):(F-55296<<10)+(N-56320)+65536)}};a.exports={codeAt:m(!1),charAt:m(!0)}},"./node_modules/core-js/internals/string-trim.js":function(a,u,l){var c=l("./node_modules/core-js/internals/require-object-coercible.js"),h=l("./node_modules/core-js/internals/to-string.js"),d=l("./node_modules/core-js/internals/whitespaces.js"),m="["+d+"]",g=RegExp("^"+m+m+"*"),y=RegExp(m+m+"*$"),v=function(w){return function(b){var B=h(c(b));return w&1&&(B=B.replace(g,"")),w&2&&(B=B.replace(y,"")),B}};a.exports={start:v(1),end:v(2),trim:v(3)}},"./node_modules/core-js/internals/to-absolute-index.js":function(a,u,l){var c=l("./node_modules/core-js/internals/to-integer.js"),h=Math.max,d=Math.min;a.exports=function(m,g){var y=c(m);return y<0?h(y+g,0):d(y,g)}},"./node_modules/core-js/internals/to-indexed-object.js":function(a,u,l){var c=l("./node_modules/core-js/internals/indexed-object.js"),h=l("./node_modules/core-js/internals/require-object-coercible.js");a.exports=function(d){return c(h(d))}},"./node_modules/core-js/internals/to-integer.js":function(a){var u=Math.ceil,l=Math.floor;a.exports=function(c){return isNaN(c=+c)?0:(c>0?l:u)(c)}},"./node_modules/core-js/internals/to-length.js":function(a,u,l){var c=l("./node_modules/core-js/internals/to-integer.js"),h=Math.min;a.exports=function(d){return d>0?h(c(d),9007199254740991):0}},"./node_modules/core-js/internals/to-object.js":function(a,u,l){var c=l("./node_modules/core-js/internals/require-object-coercible.js");a.exports=function(h){return Object(c(h))}},"./node_modules/core-js/internals/to-primitive.js":function(a,u,l){var c=l("./node_modules/core-js/internals/is-object.js"),h=l("./node_modules/core-js/internals/is-symbol.js"),d=l("./node_modules/core-js/internals/ordinary-to-primitive.js"),m=l("./node_modules/core-js/internals/well-known-symbol.js"),g=m("toPrimitive");a.exports=function(y,v){if(!c(y)||h(y))return y;var w=y[g],b;if(w!==void 0){if(v===void 0&&(v="default"),b=w.call(y,v),!c(b)||h(b))return b;throw TypeError("Can't convert object to primitive value")}return v===void 0&&(v="number"),d(y,v)}},"./node_modules/core-js/internals/to-property-key.js":function(a,u,l){var c=l("./node_modules/core-js/internals/to-primitive.js"),h=l("./node_modules/core-js/internals/is-symbol.js");a.exports=function(d){var m=c(d,"string");return h(m)?m:String(m)}},"./node_modules/core-js/internals/to-string-tag-support.js":function(a,u,l){var c=l("./node_modules/core-js/internals/well-known-symbol.js"),h=c("toStringTag"),d={};d[h]="z",a.exports=String(d)==="[object z]"},"./node_modules/core-js/internals/to-string.js":function(a,u,l){var c=l("./node_modules/core-js/internals/is-symbol.js");a.exports=function(h){if(c(h))throw TypeError("Cannot convert a Symbol value to a string");return String(h)}},"./node_modules/core-js/internals/uid.js":function(a){var u=0,l=Math.random();a.exports=function(c){return"Symbol("+String(c===void 0?"":c)+")_"+(++u+l).toString(36)}},"./node_modules/core-js/internals/use-symbol-as-uid.js":function(a,u,l){var c=l("./node_modules/core-js/internals/native-symbol.js");a.exports=c&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},"./node_modules/core-js/internals/well-known-symbol-wrapped.js":function(a,u,l){var c=l("./node_modules/core-js/internals/well-known-symbol.js");u.f=c},"./node_modules/core-js/internals/well-known-symbol.js":function(a,u,l){var c=l("./node_modules/core-js/internals/global.js"),h=l("./node_modules/core-js/internals/shared.js"),d=l("./node_modules/core-js/internals/has.js"),m=l("./node_modules/core-js/internals/uid.js"),g=l("./node_modules/core-js/internals/native-symbol.js"),y=l("./node_modules/core-js/internals/use-symbol-as-uid.js"),v=h("wks"),w=c.Symbol,b=y?w:w&&w.withoutSetter||m;a.exports=function(B){return(!d(v,B)||!(g||typeof v[B]=="string"))&&(g&&d(w,B)?v[B]=w[B]:v[B]=b("Symbol."+B)),v[B]}},"./node_modules/core-js/internals/whitespaces.js":function(a){a.exports=`	
\v\f\r \u2028\u2029\uFEFF`},"./node_modules/core-js/modules/es.array.concat.js":function(a,u,l){var c=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/fails.js"),d=l("./node_modules/core-js/internals/is-array.js"),m=l("./node_modules/core-js/internals/is-object.js"),g=l("./node_modules/core-js/internals/to-object.js"),y=l("./node_modules/core-js/internals/to-length.js"),v=l("./node_modules/core-js/internals/create-property.js"),w=l("./node_modules/core-js/internals/array-species-create.js"),b=l("./node_modules/core-js/internals/array-method-has-species-support.js"),B=l("./node_modules/core-js/internals/well-known-symbol.js"),F=l("./node_modules/core-js/internals/engine-v8-version.js"),N=B("isConcatSpreadable"),T=9007199254740991,U="Maximum allowed index exceeded",k=F>=51||!h(function(){var O=[];return O[N]=!1,O.concat()[0]!==O}),D=b("concat"),_=function(O){if(!m(O))return!1;var V=O[N];return V!==void 0?!!V:d(O)},L=!k||!D;c({target:"Array",proto:!0,forced:L},{concat:function(V){var $=g(this),Y=w($,0),re=0,le,ne,te,G,H;for(le=-1,te=arguments.length;le<te;le++)if(H=le===-1?$:arguments[le],_(H)){if(G=y(H.length),re+G>T)throw TypeError(U);for(ne=0;ne<G;ne++,re++)ne in H&&v(Y,re,H[ne])}else{if(re>=T)throw TypeError(U);v(Y,re++,H)}return Y.length=re,Y}})},"./node_modules/core-js/modules/es.array.iterator.js":function(a,u,l){var c=l("./node_modules/core-js/internals/to-indexed-object.js"),h=l("./node_modules/core-js/internals/add-to-unscopables.js"),d=l("./node_modules/core-js/internals/iterators.js"),m=l("./node_modules/core-js/internals/internal-state.js"),g=l("./node_modules/core-js/internals/define-iterator.js"),y="Array Iterator",v=m.set,w=m.getterFor(y);a.exports=g(Array,"Array",function(b,B){v(this,{type:y,target:c(b),index:0,kind:B})},function(){var b=w(this),B=b.target,F=b.kind,N=b.index++;return!B||N>=B.length?(b.target=void 0,{value:void 0,done:!0}):F=="keys"?{value:N,done:!1}:F=="values"?{value:B[N],done:!1}:{value:[N,B[N]],done:!1}},"values"),d.Arguments=d.Array,h("keys"),h("values"),h("entries")},"./node_modules/core-js/modules/es.array.join.js":function(a,u,l){var c=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/indexed-object.js"),d=l("./node_modules/core-js/internals/to-indexed-object.js"),m=l("./node_modules/core-js/internals/array-method-is-strict.js"),g=[].join,y=h!=Object,v=m("join",",");c({target:"Array",proto:!0,forced:y||!v},{join:function(b){return g.call(d(this),b===void 0?",":b)}})},"./node_modules/core-js/modules/es.array.map.js":function(a,u,l){var c=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/array-iteration.js").map,d=l("./node_modules/core-js/internals/array-method-has-species-support.js"),m=d("map");c({target:"Array",proto:!0,forced:!m},{map:function(y){return h(this,y,arguments.length>1?arguments[1]:void 0)}})},"./node_modules/core-js/modules/es.array.slice.js":function(a,u,l){var c=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/is-object.js"),d=l("./node_modules/core-js/internals/is-array.js"),m=l("./node_modules/core-js/internals/to-absolute-index.js"),g=l("./node_modules/core-js/internals/to-length.js"),y=l("./node_modules/core-js/internals/to-indexed-object.js"),v=l("./node_modules/core-js/internals/create-property.js"),w=l("./node_modules/core-js/internals/well-known-symbol.js"),b=l("./node_modules/core-js/internals/array-method-has-species-support.js"),B=b("slice"),F=w("species"),N=[].slice,T=Math.max;c({target:"Array",proto:!0,forced:!B},{slice:function(k,D){var _=y(this),L=g(_.length),O=m(k,L),V=m(D===void 0?L:D,L),$,Y,re;if(d(_)&&($=_.constructor,typeof $=="function"&&($===Array||d($.prototype))?$=void 0:h($)&&($=$[F],$===null&&($=void 0)),$===Array||$===void 0))return N.call(_,O,V);for(Y=new($===void 0?Array:$)(T(V-O,0)),re=0;O<V;O++,re++)O in _&&v(Y,re,_[O]);return Y.length=re,Y}})},"./node_modules/core-js/modules/es.function.name.js":function(a,u,l){var c=l("./node_modules/core-js/internals/descriptors.js"),h=l("./node_modules/core-js/internals/object-define-property.js").f,d=Function.prototype,m=d.toString,g=/^\s*function ([^ (]*)/,y="name";c&&!(y in d)&&h(d,y,{configurable:!0,get:function(){try{return m.call(this).match(g)[1]}catch{return""}}})},"./node_modules/core-js/modules/es.number.constructor.js":function(a,u,l){var c=l("./node_modules/core-js/internals/descriptors.js"),h=l("./node_modules/core-js/internals/global.js"),d=l("./node_modules/core-js/internals/is-forced.js"),m=l("./node_modules/core-js/internals/redefine.js"),g=l("./node_modules/core-js/internals/has.js"),y=l("./node_modules/core-js/internals/classof-raw.js"),v=l("./node_modules/core-js/internals/inherit-if-required.js"),w=l("./node_modules/core-js/internals/is-symbol.js"),b=l("./node_modules/core-js/internals/to-primitive.js"),B=l("./node_modules/core-js/internals/fails.js"),F=l("./node_modules/core-js/internals/object-create.js"),N=l("./node_modules/core-js/internals/object-get-own-property-names.js").f,T=l("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,U=l("./node_modules/core-js/internals/object-define-property.js").f,k=l("./node_modules/core-js/internals/string-trim.js").trim,D="Number",_=h[D],L=_.prototype,O=y(F(L))==D,V=function(ne){if(w(ne))throw TypeError("Cannot convert a Symbol value to a number");var te=b(ne,"number"),G,H,z,oe,ae,ie,pe,Ce;if(typeof te=="string"&&te.length>2){if(te=k(te),G=te.charCodeAt(0),G===43||G===45){if(H=te.charCodeAt(2),H===88||H===120)return NaN}else if(G===48){switch(te.charCodeAt(1)){case 66:case 98:z=2,oe=49;break;case 79:case 111:z=8,oe=55;break;default:return+te}for(ae=te.slice(2),ie=ae.length,pe=0;pe<ie;pe++)if(Ce=ae.charCodeAt(pe),Ce<48||Ce>oe)return NaN;return parseInt(ae,z)}}return+te};if(d(D,!_(" 0o1")||!_("0b1")||_("+0x1"))){for(var $=function(te){var G=arguments.length<1?0:te,H=this;return H instanceof $&&(O?B(function(){L.valueOf.call(H)}):y(H)!=D)?v(new _(V(G)),H,$):V(G)},Y=c?N(_):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),re=0,le;Y.length>re;re++)g(_,le=Y[re])&&!g($,le)&&U($,le,T(_,le));$.prototype=L,L.constructor=$,m(h,D,$)}},"./node_modules/core-js/modules/es.object.assign.js":function(a,u,l){var c=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/object-assign.js");c({target:"Object",stat:!0,forced:Object.assign!==h},{assign:h})},"./node_modules/core-js/modules/es.object.keys.js":function(a,u,l){var c=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/to-object.js"),d=l("./node_modules/core-js/internals/object-keys.js"),m=l("./node_modules/core-js/internals/fails.js"),g=m(function(){d(1)});c({target:"Object",stat:!0,forced:g},{keys:function(v){return d(h(v))}})},"./node_modules/core-js/modules/es.object.to-string.js":function(a,u,l){var c=l("./node_modules/core-js/internals/to-string-tag-support.js"),h=l("./node_modules/core-js/internals/redefine.js"),d=l("./node_modules/core-js/internals/object-to-string.js");c||h(Object.prototype,"toString",d,{unsafe:!0})},"./node_modules/core-js/modules/es.regexp.to-string.js":function(a,u,l){var c=l("./node_modules/core-js/internals/redefine.js"),h=l("./node_modules/core-js/internals/an-object.js"),d=l("./node_modules/core-js/internals/to-string.js"),m=l("./node_modules/core-js/internals/fails.js"),g=l("./node_modules/core-js/internals/regexp-flags.js"),y="toString",v=RegExp.prototype,w=v[y],b=m(function(){return w.call({source:"a",flags:"b"})!="/a/b"}),B=w.name!=y;(b||B)&&c(RegExp.prototype,y,function(){var N=h(this),T=d(N.source),U=N.flags,k=d(U===void 0&&N instanceof RegExp&&!("flags"in v)?g.call(N):U);return"/"+T+"/"+k},{unsafe:!0})},"./node_modules/core-js/modules/es.string.iterator.js":function(a,u,l){var c=l("./node_modules/core-js/internals/string-multibyte.js").charAt,h=l("./node_modules/core-js/internals/to-string.js"),d=l("./node_modules/core-js/internals/internal-state.js"),m=l("./node_modules/core-js/internals/define-iterator.js"),g="String Iterator",y=d.set,v=d.getterFor(g);m(String,"String",function(w){y(this,{type:g,string:h(w),index:0})},function(){var b=v(this),B=b.string,F=b.index,N;return F>=B.length?{value:void 0,done:!0}:(N=c(B,F),b.index+=N.length,{value:N,done:!1})})},"./node_modules/core-js/modules/es.string.link.js":function(a,u,l){var c=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/create-html.js"),d=l("./node_modules/core-js/internals/string-html-forced.js");c({target:"String",proto:!0,forced:d("link")},{link:function(g){return h(this,"a","href",g)}})},"./node_modules/core-js/modules/es.symbol.description.js":function(a,u,l){var c=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/descriptors.js"),d=l("./node_modules/core-js/internals/global.js"),m=l("./node_modules/core-js/internals/has.js"),g=l("./node_modules/core-js/internals/is-object.js"),y=l("./node_modules/core-js/internals/object-define-property.js").f,v=l("./node_modules/core-js/internals/copy-constructor-properties.js"),w=d.Symbol;if(h&&typeof w=="function"&&(!("description"in w.prototype)||w().description!==void 0)){var b={},B=function(){var D=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),_=this instanceof B?new w(D):D===void 0?w():w(D);return D===""&&(b[_]=!0),_};v(B,w);var F=B.prototype=w.prototype;F.constructor=B;var N=F.toString,T=String(w("test"))=="Symbol(test)",U=/^Symbol\((.*)\)[^)]+$/;y(F,"description",{configurable:!0,get:function(){var D=g(this)?this.valueOf():this,_=N.call(D);if(m(b,D))return"";var L=T?_.slice(7,-1):_.replace(U,"$1");return L===""?void 0:L}}),c({global:!0,forced:!0},{Symbol:B})}},"./node_modules/core-js/modules/es.symbol.iterator.js":function(a,u,l){var c=l("./node_modules/core-js/internals/define-well-known-symbol.js");c("iterator")},"./node_modules/core-js/modules/es.symbol.js":function(a,u,l){var c=l("./node_modules/core-js/internals/export.js"),h=l("./node_modules/core-js/internals/global.js"),d=l("./node_modules/core-js/internals/get-built-in.js"),m=l("./node_modules/core-js/internals/is-pure.js"),g=l("./node_modules/core-js/internals/descriptors.js"),y=l("./node_modules/core-js/internals/native-symbol.js"),v=l("./node_modules/core-js/internals/fails.js"),w=l("./node_modules/core-js/internals/has.js"),b=l("./node_modules/core-js/internals/is-array.js"),B=l("./node_modules/core-js/internals/is-object.js"),F=l("./node_modules/core-js/internals/is-symbol.js"),N=l("./node_modules/core-js/internals/an-object.js"),T=l("./node_modules/core-js/internals/to-object.js"),U=l("./node_modules/core-js/internals/to-indexed-object.js"),k=l("./node_modules/core-js/internals/to-property-key.js"),D=l("./node_modules/core-js/internals/to-string.js"),_=l("./node_modules/core-js/internals/create-property-descriptor.js"),L=l("./node_modules/core-js/internals/object-create.js"),O=l("./node_modules/core-js/internals/object-keys.js"),V=l("./node_modules/core-js/internals/object-get-own-property-names.js"),$=l("./node_modules/core-js/internals/object-get-own-property-names-external.js"),Y=l("./node_modules/core-js/internals/object-get-own-property-symbols.js"),re=l("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),le=l("./node_modules/core-js/internals/object-define-property.js"),ne=l("./node_modules/core-js/internals/object-property-is-enumerable.js"),te=l("./node_modules/core-js/internals/create-non-enumerable-property.js"),G=l("./node_modules/core-js/internals/redefine.js"),H=l("./node_modules/core-js/internals/shared.js"),z=l("./node_modules/core-js/internals/shared-key.js"),oe=l("./node_modules/core-js/internals/hidden-keys.js"),ae=l("./node_modules/core-js/internals/uid.js"),ie=l("./node_modules/core-js/internals/well-known-symbol.js"),pe=l("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),Ce=l("./node_modules/core-js/internals/define-well-known-symbol.js"),Ie=l("./node_modules/core-js/internals/set-to-string-tag.js"),Qe=l("./node_modules/core-js/internals/internal-state.js"),qe=l("./node_modules/core-js/internals/array-iteration.js").forEach,et=z("hidden"),nt="Symbol",pt="prototype",Ke=ie("toPrimitive"),Le=Qe.set,Ut=Qe.getterFor(nt),ke=Object[pt],Me=h.Symbol,it=d("JSON","stringify"),ut=re.f,ze=le.f,Ve=$.f,At=ne.f,lt=H("symbols"),yt=H("op-symbols"),ge=H("string-to-symbol-registry"),X=H("symbol-to-string-registry"),Ae=H("wks"),de=h.QObject,we=!de||!de[pt]||!de[pt].findChild,Oe=g&&v(function(){return L(ze({},"a",{get:function(){return ze(this,"a",{value:7}).a}})).a!=7})?function(vr,jt,Pt){var Vt=ut(ke,jt);Vt&&delete ke[jt],ze(vr,jt,Pt),Vt&&vr!==ke&&ze(ke,jt,Vt)}:ze,He=function(vr,jt){var Pt=lt[vr]=L(Me[pt]);return Le(Pt,{type:nt,tag:vr,description:jt}),g||(Pt.description=jt),Pt},Et=function(jt,Pt,Vt){jt===ke&&Et(yt,Pt,Vt),N(jt);var xr=k(Pt);return N(Vt),w(lt,xr)?(Vt.enumerable?(w(jt,et)&&jt[et][xr]&&(jt[et][xr]=!1),Vt=L(Vt,{enumerable:_(0,!1)})):(w(jt,et)||ze(jt,et,_(1,{})),jt[et][xr]=!0),Oe(jt,xr,Vt)):ze(jt,xr,Vt)},Tt=function(jt,Pt){N(jt);var Vt=U(Pt),xr=O(Vt).concat(Lr(Vt));return qe(xr,function(Gr){(!g||gr.call(Vt,Gr))&&Et(jt,Gr,Vt[Gr])}),jt},Ht=function(jt,Pt){return Pt===void 0?L(jt):Tt(L(jt),Pt)},gr=function(jt){var Pt=k(jt),Vt=At.call(this,Pt);return this===ke&&w(lt,Pt)&&!w(yt,Pt)?!1:Vt||!w(this,Pt)||!w(lt,Pt)||w(this,et)&&this[et][Pt]?Vt:!0},zt=function(jt,Pt){var Vt=U(jt),xr=k(Pt);if(!(Vt===ke&&w(lt,xr)&&!w(yt,xr))){var Gr=ut(Vt,xr);return Gr&&w(lt,xr)&&!(w(Vt,et)&&Vt[et][xr])&&(Gr.enumerable=!0),Gr}},Jn=function(jt){var Pt=Ve(U(jt)),Vt=[];return qe(Pt,function(xr){!w(lt,xr)&&!w(oe,xr)&&Vt.push(xr)}),Vt},Lr=function(jt){var Pt=jt===ke,Vt=Ve(Pt?yt:U(jt)),xr=[];return qe(Vt,function(Gr){w(lt,Gr)&&(!Pt||w(ke,Gr))&&xr.push(lt[Gr])}),xr};if(y||(Me=function(){if(this instanceof Me)throw TypeError("Symbol is not a constructor");var jt=!arguments.length||arguments[0]===void 0?void 0:D(arguments[0]),Pt=ae(jt),Vt=function(xr){this===ke&&Vt.call(yt,xr),w(this,et)&&w(this[et],Pt)&&(this[et][Pt]=!1),Oe(this,Pt,_(1,xr))};return g&&we&&Oe(ke,Pt,{configurable:!0,set:Vt}),He(Pt,jt)},G(Me[pt],"toString",function(){return Ut(this).tag}),G(Me,"withoutSetter",function(vr){return He(ae(vr),vr)}),ne.f=gr,le.f=Et,re.f=zt,V.f=$.f=Jn,Y.f=Lr,pe.f=function(vr){return He(ie(vr),vr)},g&&(ze(Me[pt],"description",{configurable:!0,get:function(){return Ut(this).description}}),m||G(ke,"propertyIsEnumerable",gr,{unsafe:!0}))),c({global:!0,wrap:!0,forced:!y,sham:!y},{Symbol:Me}),qe(O(Ae),function(vr){Ce(vr)}),c({target:nt,stat:!0,forced:!y},{for:function(vr){var jt=D(vr);if(w(ge,jt))return ge[jt];var Pt=Me(jt);return ge[jt]=Pt,X[Pt]=jt,Pt},keyFor:function(jt){if(!F(jt))throw TypeError(jt+" is not a symbol");if(w(X,jt))return X[jt]},useSetter:function(){we=!0},useSimple:function(){we=!1}}),c({target:"Object",stat:!0,forced:!y,sham:!g},{create:Ht,defineProperty:Et,defineProperties:Tt,getOwnPropertyDescriptor:zt}),c({target:"Object",stat:!0,forced:!y},{getOwnPropertyNames:Jn,getOwnPropertySymbols:Lr}),c({target:"Object",stat:!0,forced:v(function(){Y.f(1)})},{getOwnPropertySymbols:function(jt){return Y.f(T(jt))}}),it){var vn=!y||v(function(){var vr=Me();return it([vr])!="[null]"||it({a:vr})!="{}"||it(Object(vr))!="{}"});c({target:"JSON",stat:!0,forced:vn},{stringify:function(jt,Pt,Vt){for(var xr=[jt],Gr=1,On;arguments.length>Gr;)xr.push(arguments[Gr++]);if(On=Pt,!(!B(Pt)&&jt===void 0||F(jt)))return b(Pt)||(Pt=function(BA,$t){if(typeof On=="function"&&($t=On.call(this,BA,$t)),!F($t))return $t}),xr[1]=Pt,it.apply(null,xr)}})}Me[pt][Ke]||te(Me[pt],Ke,Me[pt].valueOf),Ie(Me,nt),oe[et]=!0},"./node_modules/core-js/modules/web.dom-collections.for-each.js":function(a,u,l){var c=l("./node_modules/core-js/internals/global.js"),h=l("./node_modules/core-js/internals/dom-iterables.js"),d=l("./node_modules/core-js/internals/array-for-each.js"),m=l("./node_modules/core-js/internals/create-non-enumerable-property.js");for(var g in h){var y=c[g],v=y&&y.prototype;if(v&&v.forEach!==d)try{m(v,"forEach",d)}catch{v.forEach=d}}},"./node_modules/core-js/modules/web.dom-collections.iterator.js":function(a,u,l){var c=l("./node_modules/core-js/internals/global.js"),h=l("./node_modules/core-js/internals/dom-iterables.js"),d=l("./node_modules/core-js/modules/es.array.iterator.js"),m=l("./node_modules/core-js/internals/create-non-enumerable-property.js"),g=l("./node_modules/core-js/internals/well-known-symbol.js"),y=g("iterator"),v=g("toStringTag"),w=d.values;for(var b in h){var B=c[b],F=B&&B.prototype;if(F){if(F[y]!==w)try{m(F,y,w)}catch{F[y]=w}if(F[v]||m(F,v,b),h[b]){for(var N in d)if(F[N]!==d[N])try{m(F,N,d[N])}catch{F[N]=d[N]}}}}},"./node_modules/es6-promise/dist/es6-promise.js":function(a){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */(function(u,l){a.exports=l()})(this,function(){function u(de){var we=typeof de;return de!==null&&(we==="object"||we==="function")}function l(de){return typeof de=="function"}var c=void 0;Array.isArray?c=Array.isArray:c=function(de){return Object.prototype.toString.call(de)==="[object Array]"};var h=c,d=0,m=void 0,g=void 0,y=function(we,Oe){O[d]=we,O[d+1]=Oe,d+=2,d===2&&(g?g(V):Y())};function v(de){g=de}function w(de){y=de}var b=typeof window<"u"?window:void 0,B=b||{},F=B.MutationObserver||B.WebKitMutationObserver,N=typeof self>"u"&&typeof pm<"u"&&{}.toString.call(pm)==="[object process]",T=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function U(){return function(){return pm.nextTick(V)}}function k(){return typeof m<"u"?function(){m(V)}:L()}function D(){var de=0,we=new F(V),Oe=document.createTextNode("");return we.observe(Oe,{characterData:!0}),function(){Oe.data=de=++de%2}}function _(){var de=new MessageChannel;return de.port1.onmessage=V,function(){return de.port2.postMessage(0)}}function L(){var de=setTimeout;return function(){return de(V,1)}}var O=new Array(1e3);function V(){for(var de=0;de<d;de+=2){var we=O[de],Oe=O[de+1];we(Oe),O[de]=void 0,O[de+1]=void 0}d=0}function $(){try{var de=Function("return this")().require("vertx");return m=de.runOnLoop||de.runOnContext,k()}catch{return L()}}var Y=void 0;N?Y=U():F?Y=D():T?Y=_():b===void 0?Y=$():Y=L();function re(de,we){var Oe=this,He=new this.constructor(te);He[ne]===void 0&&it(He);var Et=Oe._state;if(Et){var Tt=arguments[Et-1];y(function(){return Le(Et,He,Tt,Oe._result)})}else pt(Oe,He,de,we);return He}function le(de){var we=this;if(de&&typeof de=="object"&&de.constructor===we)return de;var Oe=new we(te);return Qe(Oe,de),Oe}var ne=Math.random().toString(36).substring(2);function te(){}var G=void 0,H=1,z=2;function oe(){return new TypeError("You cannot resolve a promise with itself")}function ae(){return new TypeError("A promises callback cannot return that same promise.")}function ie(de,we,Oe,He){try{de.call(we,Oe,He)}catch(Et){return Et}}function pe(de,we,Oe){y(function(He){var Et=!1,Tt=ie(Oe,we,function(Ht){Et||(Et=!0,we!==Ht?Qe(He,Ht):et(He,Ht))},function(Ht){Et||(Et=!0,nt(He,Ht))},"Settle: "+(He._label||" unknown promise"));!Et&&Tt&&(Et=!0,nt(He,Tt))},de)}function Ce(de,we){we._state===H?et(de,we._result):we._state===z?nt(de,we._result):pt(we,void 0,function(Oe){return Qe(de,Oe)},function(Oe){return nt(de,Oe)})}function Ie(de,we,Oe){we.constructor===de.constructor&&Oe===re&&we.constructor.resolve===le?Ce(de,we):Oe===void 0?et(de,we):l(Oe)?pe(de,we,Oe):et(de,we)}function Qe(de,we){if(de===we)nt(de,oe());else if(u(we)){var Oe=void 0;try{Oe=we.then}catch(He){nt(de,He);return}Ie(de,we,Oe)}else et(de,we)}function qe(de){de._onerror&&de._onerror(de._result),Ke(de)}function et(de,we){de._state===G&&(de._result=we,de._state=H,de._subscribers.length!==0&&y(Ke,de))}function nt(de,we){de._state===G&&(de._state=z,de._result=we,y(qe,de))}function pt(de,we,Oe,He){var Et=de._subscribers,Tt=Et.length;de._onerror=null,Et[Tt]=we,Et[Tt+H]=Oe,Et[Tt+z]=He,Tt===0&&de._state&&y(Ke,de)}function Ke(de){var we=de._subscribers,Oe=de._state;if(we.length!==0){for(var He=void 0,Et=void 0,Tt=de._result,Ht=0;Ht<we.length;Ht+=3)He=we[Ht],Et=we[Ht+Oe],He?Le(Oe,He,Et,Tt):Et(Tt);de._subscribers.length=0}}function Le(de,we,Oe,He){var Et=l(Oe),Tt=void 0,Ht=void 0,gr=!0;if(Et){try{Tt=Oe(He)}catch(zt){gr=!1,Ht=zt}if(we===Tt){nt(we,ae());return}}else Tt=He;we._state!==G||(Et&&gr?Qe(we,Tt):gr===!1?nt(we,Ht):de===H?et(we,Tt):de===z&&nt(we,Tt))}function Ut(de,we){try{we(function(He){Qe(de,He)},function(He){nt(de,He)})}catch(Oe){nt(de,Oe)}}var ke=0;function Me(){return ke++}function it(de){de[ne]=ke++,de._state=void 0,de._result=void 0,de._subscribers=[]}function ut(){return new Error("Array Methods must be provided an Array")}var ze=function(){function de(we,Oe){this._instanceConstructor=we,this.promise=new we(te),this.promise[ne]||it(this.promise),h(Oe)?(this.length=Oe.length,this._remaining=Oe.length,this._result=new Array(this.length),this.length===0?et(this.promise,this._result):(this.length=this.length||0,this._enumerate(Oe),this._remaining===0&&et(this.promise,this._result))):nt(this.promise,ut())}return de.prototype._enumerate=function(Oe){for(var He=0;this._state===G&&He<Oe.length;He++)this._eachEntry(Oe[He],He)},de.prototype._eachEntry=function(Oe,He){var Et=this._instanceConstructor,Tt=Et.resolve;if(Tt===le){var Ht=void 0,gr=void 0,zt=!1;try{Ht=Oe.then}catch(Lr){zt=!0,gr=Lr}if(Ht===re&&Oe._state!==G)this._settledAt(Oe._state,He,Oe._result);else if(typeof Ht!="function")this._remaining--,this._result[He]=Oe;else if(Et===X){var Jn=new Et(te);zt?nt(Jn,gr):Ie(Jn,Oe,Ht),this._willSettleAt(Jn,He)}else this._willSettleAt(new Et(function(Lr){return Lr(Oe)}),He)}else this._willSettleAt(Tt(Oe),He)},de.prototype._settledAt=function(Oe,He,Et){var Tt=this.promise;Tt._state===G&&(this._remaining--,Oe===z?nt(Tt,Et):this._result[He]=Et),this._remaining===0&&et(Tt,this._result)},de.prototype._willSettleAt=function(Oe,He){var Et=this;pt(Oe,void 0,function(Tt){return Et._settledAt(H,He,Tt)},function(Tt){return Et._settledAt(z,He,Tt)})},de}();function Ve(de){return new ze(this,de).promise}function At(de){var we=this;return h(de)?new we(function(Oe,He){for(var Et=de.length,Tt=0;Tt<Et;Tt++)we.resolve(de[Tt]).then(Oe,He)}):new we(function(Oe,He){return He(new TypeError("You must pass an array to race."))})}function lt(de){var we=this,Oe=new we(te);return nt(Oe,de),Oe}function yt(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function ge(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var X=function(){function de(we){this[ne]=Me(),this._result=this._state=void 0,this._subscribers=[],te!==we&&(typeof we!="function"&&yt(),this instanceof de?Ut(this,we):ge())}return de.prototype.catch=function(Oe){return this.then(null,Oe)},de.prototype.finally=function(Oe){var He=this,Et=He.constructor;return l(Oe)?He.then(function(Tt){return Et.resolve(Oe()).then(function(){return Tt})},function(Tt){return Et.resolve(Oe()).then(function(){throw Tt})}):He.then(Oe,Oe)},de}();X.prototype.then=re,X.all=Ve,X.race=At,X.resolve=le,X.reject=lt,X._setScheduler=v,X._setAsap=w,X._asap=y;function Ae(){var de=void 0;if(typeof window<"u")de=window;else if(typeof self<"u")de=self;else try{de=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var we=de.Promise;if(we){var Oe=null;try{Oe=Object.prototype.toString.call(we.resolve())}catch{}if(Oe==="[object Promise]"&&!we.cast)return}de.Promise=X}return X.polyfill=Ae,X.Promise=X,X})},html2canvas:function(a){a.exports=n},jspdf:function(a){a.exports=t}},i={};function s(a){var u=i[a];if(u!==void 0)return u.exports;var l=i[a]={exports:{}};return A[a].call(l.exports,l,l.exports,s),l.exports}(function(){s.n=function(a){var u=a&&a.__esModule?function(){return a.default}:function(){return a};return s.d(u,{a:u}),u}})(),function(){s.d=function(a,u){for(var l in u)s.o(u,l)&&!s.o(a,l)&&Object.defineProperty(a,l,{enumerable:!0,get:u[l]})}}(),function(){s.o=function(a,u){return Object.prototype.hasOwnProperty.call(a,u)}}(),function(){s.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})}}();var o={};return function(){/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/s.r(o);var a=s("./src/worker.js");s("./src/plugin/jspdf-plugin.js"),s("./src/plugin/pagebreaks.js"),s("./src/plugin/hyperlinks.js");var u=function l(c,h){var d=new l.Worker(h);return c?d.from(c).save():d};u.Worker=a.default,o.default=u}(),o=o.default,o}()})}(QT)),QT.exports}var Cce=Bce();const bce=uw(Cce);/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */const{entries:J9,setPrototypeOf:RM,isFrozen:Ece,getPrototypeOf:_ce,getOwnPropertyDescriptor:Sce}=Object;let{freeze:vl,seal:Oc,create:Z9}=Object,{apply:eN,construct:tN}=typeof Reflect<"u"&&Reflect;vl||(vl=function(e){return e});Oc||(Oc=function(e){return e});eN||(eN=function(e,t,n){return e.apply(t,n)});tN||(tN=function(e,t){return new e(...t)});const cS=yl(Array.prototype.forEach),Fce=yl(Array.prototype.lastIndexOf),PM=yl(Array.prototype.pop),hC=yl(Array.prototype.push),Ice=yl(Array.prototype.splice),zS=yl(String.prototype.toLowerCase),LT=yl(String.prototype.toString),OM=yl(String.prototype.match),fC=yl(String.prototype.replace),xce=yl(String.prototype.indexOf),Uce=yl(String.prototype.trim),mh=yl(Object.prototype.hasOwnProperty),sl=yl(RegExp.prototype.test),dC=Tce(TypeError);function yl(r){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var t=arguments.length,n=new Array(t>1?t-1:0),A=1;A<t;A++)n[A-1]=arguments[A];return eN(r,e,n)}}function Tce(r){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return tN(r,t)}}function bn(r,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:zS;RM&&RM(r,null);let n=e.length;for(;n--;){let A=e[n];if(typeof A=="string"){const i=t(A);i!==A&&(Ece(e)||(e[n]=i),A=i)}r[A]=!0}return r}function Qce(r){for(let e=0;e<r.length;e++)mh(r,e)||(r[e]=null);return r}function kd(r){const e=Z9(null);for(const[t,n]of J9(r))mh(r,t)&&(Array.isArray(n)?e[t]=Qce(n):n&&typeof n=="object"&&n.constructor===Object?e[t]=kd(n):e[t]=n);return e}function pC(r,e){for(;r!==null;){const n=Sce(r,e);if(n){if(n.get)return yl(n.get);if(typeof n.value=="function")return yl(n.value)}r=_ce(r)}function t(){return null}return t}const kM=vl(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),NT=vl(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),RT=vl(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Lce=vl(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),PT=vl(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Nce=vl(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),DM=vl(["#text"]),MM=vl(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),OT=vl(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),HM=vl(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),hS=vl(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Rce=Oc(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Pce=Oc(/<%[\w\W]*|[\w\W]*%>/gm),Oce=Oc(/\$\{[\w\W]*/gm),kce=Oc(/^data-[\-\w.\u00B7-\uFFFF]+$/),Dce=Oc(/^aria-[\-\w]+$/),eG=Oc(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Mce=Oc(/^(?:\w+script|data):/i),Hce=Oc(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),tG=Oc(/^html$/i),jce=Oc(/^[a-z][.\w]*(-[.\w]+)+$/i);var jM=Object.freeze({__proto__:null,ARIA_ATTR:Dce,ATTR_WHITESPACE:Hce,CUSTOM_ELEMENT:jce,DATA_ATTR:kce,DOCTYPE_NAME:tG,ERB_EXPR:Pce,IS_ALLOWED_URI:eG,IS_SCRIPT_OR_DATA:Mce,MUSTACHE_EXPR:Rce,TMPLIT_EXPR:Oce});const gC={element:1,text:3,progressingInstruction:7,comment:8,document:9},Vce=function(){return typeof window>"u"?null:window},Kce=function(e,t){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let n=null;const A="data-tt-policy-suffix";t&&t.hasAttribute(A)&&(n=t.getAttribute(A));const i="dompurify"+(n?"#"+n:"");try{return e.createPolicy(i,{createHTML(s){return s},createScriptURL(s){return s}})}catch{return console.warn("TrustedTypes policy "+i+" could not be created."),null}},VM=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function rG(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Vce();const e=nr=>rG(nr);if(e.version="3.2.6",e.removed=[],!r||!r.document||r.document.nodeType!==gC.document||!r.Element)return e.isSupported=!1,e;let{document:t}=r;const n=t,A=n.currentScript,{DocumentFragment:i,HTMLTemplateElement:s,Node:o,Element:a,NodeFilter:u,NamedNodeMap:l=r.NamedNodeMap||r.MozNamedAttrMap,HTMLFormElement:c,DOMParser:h,trustedTypes:d}=r,m=a.prototype,g=pC(m,"cloneNode"),y=pC(m,"remove"),v=pC(m,"nextSibling"),w=pC(m,"childNodes"),b=pC(m,"parentNode");if(typeof s=="function"){const nr=t.createElement("template");nr.content&&nr.content.ownerDocument&&(t=nr.content.ownerDocument)}let B,F="";const{implementation:N,createNodeIterator:T,createDocumentFragment:U,getElementsByTagName:k}=t,{importNode:D}=n;let _=VM();e.isSupported=typeof J9=="function"&&typeof b=="function"&&N&&N.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:L,ERB_EXPR:O,TMPLIT_EXPR:V,DATA_ATTR:$,ARIA_ATTR:Y,IS_SCRIPT_OR_DATA:re,ATTR_WHITESPACE:le,CUSTOM_ELEMENT:ne}=jM;let{IS_ALLOWED_URI:te}=jM,G=null;const H=bn({},[...kM,...NT,...RT,...PT,...DM]);let z=null;const oe=bn({},[...MM,...OT,...HM,...hS]);let ae=Object.seal(Z9(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ie=null,pe=null,Ce=!0,Ie=!0,Qe=!1,qe=!0,et=!1,nt=!0,pt=!1,Ke=!1,Le=!1,Ut=!1,ke=!1,Me=!1,it=!0,ut=!1;const ze="user-content-";let Ve=!0,At=!1,lt={},yt=null;const ge=bn({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let X=null;const Ae=bn({},["audio","video","img","source","image","track"]);let de=null;const we=bn({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Oe="http://www.w3.org/1998/Math/MathML",He="http://www.w3.org/2000/svg",Et="http://www.w3.org/1999/xhtml";let Tt=Et,Ht=!1,gr=null;const zt=bn({},[Oe,He,Et],LT);let Jn=bn({},["mi","mo","mn","ms","mtext"]),Lr=bn({},["annotation-xml"]);const vn=bn({},["title","style","font","a","script"]);let vr=null;const jt=["application/xhtml+xml","text/html"],Pt="text/html";let Vt=null,xr=null;const Gr=t.createElement("form"),On=function($e){return $e instanceof RegExp||$e instanceof Function},BA=function(){let $e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(xr&&xr===$e)){if((!$e||typeof $e!="object")&&($e={}),$e=kd($e),vr=jt.indexOf($e.PARSER_MEDIA_TYPE)===-1?Pt:$e.PARSER_MEDIA_TYPE,Vt=vr==="application/xhtml+xml"?LT:zS,G=mh($e,"ALLOWED_TAGS")?bn({},$e.ALLOWED_TAGS,Vt):H,z=mh($e,"ALLOWED_ATTR")?bn({},$e.ALLOWED_ATTR,Vt):oe,gr=mh($e,"ALLOWED_NAMESPACES")?bn({},$e.ALLOWED_NAMESPACES,LT):zt,de=mh($e,"ADD_URI_SAFE_ATTR")?bn(kd(we),$e.ADD_URI_SAFE_ATTR,Vt):we,X=mh($e,"ADD_DATA_URI_TAGS")?bn(kd(Ae),$e.ADD_DATA_URI_TAGS,Vt):Ae,yt=mh($e,"FORBID_CONTENTS")?bn({},$e.FORBID_CONTENTS,Vt):ge,ie=mh($e,"FORBID_TAGS")?bn({},$e.FORBID_TAGS,Vt):kd({}),pe=mh($e,"FORBID_ATTR")?bn({},$e.FORBID_ATTR,Vt):kd({}),lt=mh($e,"USE_PROFILES")?$e.USE_PROFILES:!1,Ce=$e.ALLOW_ARIA_ATTR!==!1,Ie=$e.ALLOW_DATA_ATTR!==!1,Qe=$e.ALLOW_UNKNOWN_PROTOCOLS||!1,qe=$e.ALLOW_SELF_CLOSE_IN_ATTR!==!1,et=$e.SAFE_FOR_TEMPLATES||!1,nt=$e.SAFE_FOR_XML!==!1,pt=$e.WHOLE_DOCUMENT||!1,Ut=$e.RETURN_DOM||!1,ke=$e.RETURN_DOM_FRAGMENT||!1,Me=$e.RETURN_TRUSTED_TYPE||!1,Le=$e.FORCE_BODY||!1,it=$e.SANITIZE_DOM!==!1,ut=$e.SANITIZE_NAMED_PROPS||!1,Ve=$e.KEEP_CONTENT!==!1,At=$e.IN_PLACE||!1,te=$e.ALLOWED_URI_REGEXP||eG,Tt=$e.NAMESPACE||Et,Jn=$e.MATHML_TEXT_INTEGRATION_POINTS||Jn,Lr=$e.HTML_INTEGRATION_POINTS||Lr,ae=$e.CUSTOM_ELEMENT_HANDLING||{},$e.CUSTOM_ELEMENT_HANDLING&&On($e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ae.tagNameCheck=$e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),$e.CUSTOM_ELEMENT_HANDLING&&On($e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ae.attributeNameCheck=$e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),$e.CUSTOM_ELEMENT_HANDLING&&typeof $e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ae.allowCustomizedBuiltInElements=$e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),et&&(Ie=!1),ke&&(Ut=!0),lt&&(G=bn({},DM),z=[],lt.html===!0&&(bn(G,kM),bn(z,MM)),lt.svg===!0&&(bn(G,NT),bn(z,OT),bn(z,hS)),lt.svgFilters===!0&&(bn(G,RT),bn(z,OT),bn(z,hS)),lt.mathMl===!0&&(bn(G,PT),bn(z,HM),bn(z,hS))),$e.ADD_TAGS&&(G===H&&(G=kd(G)),bn(G,$e.ADD_TAGS,Vt)),$e.ADD_ATTR&&(z===oe&&(z=kd(z)),bn(z,$e.ADD_ATTR,Vt)),$e.ADD_URI_SAFE_ATTR&&bn(de,$e.ADD_URI_SAFE_ATTR,Vt),$e.FORBID_CONTENTS&&(yt===ge&&(yt=kd(yt)),bn(yt,$e.FORBID_CONTENTS,Vt)),Ve&&(G["#text"]=!0),pt&&bn(G,["html","head","body"]),G.table&&(bn(G,["tbody"]),delete ie.tbody),$e.TRUSTED_TYPES_POLICY){if(typeof $e.TRUSTED_TYPES_POLICY.createHTML!="function")throw dC('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof $e.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw dC('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');B=$e.TRUSTED_TYPES_POLICY,F=B.createHTML("")}else B===void 0&&(B=Kce(d,A)),B!==null&&typeof F=="string"&&(F=B.createHTML(""));vl&&vl($e),xr=$e}},$t=bn({},[...NT,...RT,...Lce]),JA=bn({},[...PT,...Nce]),CA=function($e){let Ot=b($e);(!Ot||!Ot.tagName)&&(Ot={namespaceURI:Tt,tagName:"template"});const tr=zS($e.tagName),sn=zS(Ot.tagName);return gr[$e.namespaceURI]?$e.namespaceURI===He?Ot.namespaceURI===Et?tr==="svg":Ot.namespaceURI===Oe?tr==="svg"&&(sn==="annotation-xml"||Jn[sn]):!!$t[tr]:$e.namespaceURI===Oe?Ot.namespaceURI===Et?tr==="math":Ot.namespaceURI===He?tr==="math"&&Lr[sn]:!!JA[tr]:$e.namespaceURI===Et?Ot.namespaceURI===He&&!Lr[sn]||Ot.namespaceURI===Oe&&!Jn[sn]?!1:!JA[tr]&&(vn[tr]||!$t[tr]):!!(vr==="application/xhtml+xml"&&gr[$e.namespaceURI]):!1},fn=function($e){hC(e.removed,{element:$e});try{b($e).removeChild($e)}catch{y($e)}},or=function($e,Ot){try{hC(e.removed,{attribute:Ot.getAttributeNode($e),from:Ot})}catch{hC(e.removed,{attribute:null,from:Ot})}if(Ot.removeAttribute($e),$e==="is")if(Ut||ke)try{fn(Ot)}catch{}else try{Ot.setAttribute($e,"")}catch{}},yn=function($e){let Ot=null,tr=null;if(Le)$e="<remove></remove>"+$e;else{const Qr=OM($e,/^[\r\n\t ]+/);tr=Qr&&Qr[0]}vr==="application/xhtml+xml"&&Tt===Et&&($e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+$e+"</body></html>");const sn=B?B.createHTML($e):$e;if(Tt===Et)try{Ot=new h().parseFromString(sn,vr)}catch{}if(!Ot||!Ot.documentElement){Ot=N.createDocument(Tt,"template",null);try{Ot.documentElement.innerHTML=Ht?F:sn}catch{}}const pA=Ot.body||Ot.documentElement;return $e&&tr&&pA.insertBefore(t.createTextNode(tr),pA.childNodes[0]||null),Tt===Et?k.call(Ot,pt?"html":"body")[0]:pt?Ot.documentElement:pA},kn=function($e){return T.call($e.ownerDocument||$e,$e,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},bA=function($e){return $e instanceof c&&(typeof $e.nodeName!="string"||typeof $e.textContent!="string"||typeof $e.removeChild!="function"||!($e.attributes instanceof l)||typeof $e.removeAttribute!="function"||typeof $e.setAttribute!="function"||typeof $e.namespaceURI!="string"||typeof $e.insertBefore!="function"||typeof $e.hasChildNodes!="function")},xi=function($e){return typeof o=="function"&&$e instanceof o};function qn(nr,$e,Ot){cS(nr,tr=>{tr.call(e,$e,Ot,xr)})}const ZA=function($e){let Ot=null;if(qn(_.beforeSanitizeElements,$e,null),bA($e))return fn($e),!0;const tr=Vt($e.nodeName);if(qn(_.uponSanitizeElement,$e,{tagName:tr,allowedTags:G}),nt&&$e.hasChildNodes()&&!xi($e.firstElementChild)&&sl(/<[/\w!]/g,$e.innerHTML)&&sl(/<[/\w!]/g,$e.textContent)||$e.nodeType===gC.progressingInstruction||nt&&$e.nodeType===gC.comment&&sl(/<[/\w]/g,$e.data))return fn($e),!0;if(!G[tr]||ie[tr]){if(!ie[tr]&&jA(tr)&&(ae.tagNameCheck instanceof RegExp&&sl(ae.tagNameCheck,tr)||ae.tagNameCheck instanceof Function&&ae.tagNameCheck(tr)))return!1;if(Ve&&!yt[tr]){const sn=b($e)||$e.parentNode,pA=w($e)||$e.childNodes;if(pA&&sn){const Qr=pA.length;for(let LA=Qr-1;LA>=0;--LA){const Zn=g(pA[LA],!0);Zn.__removalCount=($e.__removalCount||0)+1,sn.insertBefore(Zn,v($e))}}}return fn($e),!0}return $e instanceof a&&!CA($e)||(tr==="noscript"||tr==="noembed"||tr==="noframes")&&sl(/<\/no(script|embed|frames)/i,$e.innerHTML)?(fn($e),!0):(et&&$e.nodeType===gC.text&&(Ot=$e.textContent,cS([L,O,V],sn=>{Ot=fC(Ot,sn," ")}),$e.textContent!==Ot&&(hC(e.removed,{element:$e.cloneNode()}),$e.textContent=Ot)),qn(_.afterSanitizeElements,$e,null),!1)},oA=function($e,Ot,tr){if(it&&(Ot==="id"||Ot==="name")&&(tr in t||tr in Gr))return!1;if(!(Ie&&!pe[Ot]&&sl($,Ot))){if(!(Ce&&sl(Y,Ot))){if(!z[Ot]||pe[Ot]){if(!(jA($e)&&(ae.tagNameCheck instanceof RegExp&&sl(ae.tagNameCheck,$e)||ae.tagNameCheck instanceof Function&&ae.tagNameCheck($e))&&(ae.attributeNameCheck instanceof RegExp&&sl(ae.attributeNameCheck,Ot)||ae.attributeNameCheck instanceof Function&&ae.attributeNameCheck(Ot))||Ot==="is"&&ae.allowCustomizedBuiltInElements&&(ae.tagNameCheck instanceof RegExp&&sl(ae.tagNameCheck,tr)||ae.tagNameCheck instanceof Function&&ae.tagNameCheck(tr))))return!1}else if(!de[Ot]){if(!sl(te,fC(tr,le,""))){if(!((Ot==="src"||Ot==="xlink:href"||Ot==="href")&&$e!=="script"&&xce(tr,"data:")===0&&X[$e])){if(!(Qe&&!sl(re,fC(tr,le,"")))){if(tr)return!1}}}}}}return!0},jA=function($e){return $e!=="annotation-xml"&&OM($e,ne)},AA=function($e){qn(_.beforeSanitizeAttributes,$e,null);const{attributes:Ot}=$e;if(!Ot||bA($e))return;const tr={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:z,forceKeepAttr:void 0};let sn=Ot.length;for(;sn--;){const pA=Ot[sn],{name:Qr,namespaceURI:LA,value:Zn}=pA,li=Vt(Qr),NA=Zn;let Dn=Qr==="value"?NA:Uce(NA);if(tr.attrName=li,tr.attrValue=Dn,tr.keepAttr=!0,tr.forceKeepAttr=void 0,qn(_.uponSanitizeAttribute,$e,tr),Dn=tr.attrValue,ut&&(li==="id"||li==="name")&&(or(Qr,$e),Dn=ze+Dn),nt&&sl(/((--!?|])>)|<\/(style|title)/i,Dn)){or(Qr,$e);continue}if(tr.forceKeepAttr)continue;if(!tr.keepAttr){or(Qr,$e);continue}if(!qe&&sl(/\/>/i,Dn)){or(Qr,$e);continue}et&&cS([L,O,V],Qs=>{Dn=fC(Dn,Qs," ")});const Ts=Vt($e.nodeName);if(!oA(Ts,li,Dn)){or(Qr,$e);continue}if(B&&typeof d=="object"&&typeof d.getAttributeType=="function"&&!LA)switch(d.getAttributeType(Ts,li)){case"TrustedHTML":{Dn=B.createHTML(Dn);break}case"TrustedScriptURL":{Dn=B.createScriptURL(Dn);break}}if(Dn!==NA)try{LA?$e.setAttributeNS(LA,Qr,Dn):$e.setAttribute(Qr,Dn),bA($e)?fn($e):PM(e.removed)}catch{or(Qr,$e)}}qn(_.afterSanitizeAttributes,$e,null)},Mi=function nr($e){let Ot=null;const tr=kn($e);for(qn(_.beforeSanitizeShadowDOM,$e,null);Ot=tr.nextNode();)qn(_.uponSanitizeShadowNode,Ot,null),ZA(Ot),AA(Ot),Ot.content instanceof i&&nr(Ot.content);qn(_.afterSanitizeShadowDOM,$e,null)};return e.sanitize=function(nr){let $e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ot=null,tr=null,sn=null,pA=null;if(Ht=!nr,Ht&&(nr="<!-->"),typeof nr!="string"&&!xi(nr))if(typeof nr.toString=="function"){if(nr=nr.toString(),typeof nr!="string")throw dC("dirty is not a string, aborting")}else throw dC("toString is not a function");if(!e.isSupported)return nr;if(Ke||BA($e),e.removed=[],typeof nr=="string"&&(At=!1),At){if(nr.nodeName){const Zn=Vt(nr.nodeName);if(!G[Zn]||ie[Zn])throw dC("root node is forbidden and cannot be sanitized in-place")}}else if(nr instanceof o)Ot=yn("<!---->"),tr=Ot.ownerDocument.importNode(nr,!0),tr.nodeType===gC.element&&tr.nodeName==="BODY"||tr.nodeName==="HTML"?Ot=tr:Ot.appendChild(tr);else{if(!Ut&&!et&&!pt&&nr.indexOf("<")===-1)return B&&Me?B.createHTML(nr):nr;if(Ot=yn(nr),!Ot)return Ut?null:Me?F:""}Ot&&Le&&fn(Ot.firstChild);const Qr=kn(At?nr:Ot);for(;sn=Qr.nextNode();)ZA(sn),AA(sn),sn.content instanceof i&&Mi(sn.content);if(At)return nr;if(Ut){if(ke)for(pA=U.call(Ot.ownerDocument);Ot.firstChild;)pA.appendChild(Ot.firstChild);else pA=Ot;return(z.shadowroot||z.shadowrootmode)&&(pA=D.call(n,pA,!0)),pA}let LA=pt?Ot.outerHTML:Ot.innerHTML;return pt&&G["!doctype"]&&Ot.ownerDocument&&Ot.ownerDocument.doctype&&Ot.ownerDocument.doctype.name&&sl(tG,Ot.ownerDocument.doctype.name)&&(LA="<!DOCTYPE "+Ot.ownerDocument.doctype.name+`>
`+LA),et&&cS([L,O,V],Zn=>{LA=fC(LA,Zn," ")}),B&&Me?B.createHTML(LA):LA},e.setConfig=function(){let nr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};BA(nr),Ke=!0},e.clearConfig=function(){xr=null,Ke=!1},e.isValidAttribute=function(nr,$e,Ot){xr||BA({});const tr=Vt(nr),sn=Vt($e);return oA(tr,sn,Ot)},e.addHook=function(nr,$e){typeof $e=="function"&&hC(_[nr],$e)},e.removeHook=function(nr,$e){if($e!==void 0){const Ot=Fce(_[nr],$e);return Ot===-1?void 0:Ice(_[nr],Ot,1)[0]}return PM(_[nr])},e.removeHooks=function(nr){_[nr]=[]},e.removeAllHooks=function(){_=VM()},e}var nG=rG();const Gce=Object.freeze(Object.defineProperty({__proto__:null,default:nG},Symbol.toStringTag,{value:"Module"})),zce=async(r,e,t,n)=>{const A=document.createElement("div");if(A.innerHTML=nG.sanitize(e),t==="pdf"){let i=function(o){for(const a of o.childNodes)a.nodeType===1&&(a.tagName!=="B"&&a.tagName!=="STRONG"&&(a.style.fontWeight="normal"),i(a))};A.querySelectorAll(".ql-align-center").forEach(o=>{o.style.textAlign="center"}),A.querySelectorAll(".ql-align-right").forEach(o=>{o.style.textAlign="right"}),A.querySelectorAll(".ql-align-left").forEach(o=>{o.style.textAlign="left"}),A.style.color="black",i(A);const s=document.createElement("style");s.innerHTML=`
      .ql-editor { font-weight: normal !important; }
      .ql-editor strong, .ql-editor b { font-weight: bold !important; }
    `,document.head.appendChild(s),bce().set({margin:[10,20],filename:`${r||"summary"}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"}}).from(A).save().then(()=>{document.head.removeChild(s)}).catch(()=>{document.head.removeChild(s)})}else if(t==="docx")try{const i=await fetch(`${n}/generate-docx`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:r,html:A.innerHTML})});if(!i.ok)throw new Error("Failed to generate DOCX");const s=await i.blob(),o=window.URL.createObjectURL(s),a=document.createElement("a");a.href=o,a.download=`${r||"summary"}.docx`,document.body.appendChild(a),a.click(),a.remove(),window.URL.revokeObjectURL(o)}catch(i){console.error("Error downloading DOCX:",i),alert("Failed to download DOCX file")}};function Dc(r){if(typeof r=="string"||typeof r=="number")return""+r;let e="";if(Array.isArray(r))for(let t=0,n;t<r.length;t++)(n=Dc(r[t]))!==""&&(e+=(e&&" ")+n);else for(let t in r)r[t]&&(e+=(e&&" ")+t);return e}var kT={exports:{}},DT={},MT={exports:{}},HT={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KM;function qce(){if(KM)return HT;KM=1;var r=n1();function e(c,h){return c===h&&(c!==0||1/c===1/h)||c!==c&&h!==h}var t=typeof Object.is=="function"?Object.is:e,n=r.useState,A=r.useEffect,i=r.useLayoutEffect,s=r.useDebugValue;function o(c,h){var d=h(),m=n({inst:{value:d,getSnapshot:h}}),g=m[0].inst,y=m[1];return i(function(){g.value=d,g.getSnapshot=h,a(g)&&y({inst:g})},[c,d,h]),A(function(){return a(g)&&y({inst:g}),c(function(){a(g)&&y({inst:g})})},[c]),s(d),d}function a(c){var h=c.getSnapshot;c=c.value;try{var d=h();return!t(c,d)}catch{return!0}}function u(c,h){return h()}var l=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:o;return HT.useSyncExternalStore=r.useSyncExternalStore!==void 0?r.useSyncExternalStore:l,HT}var GM;function Wce(){return GM||(GM=1,MT.exports=qce()),MT.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zM;function $ce(){if(zM)return DT;zM=1;var r=n1(),e=Wce();function t(u,l){return u===l&&(u!==0||1/u===1/l)||u!==u&&l!==l}var n=typeof Object.is=="function"?Object.is:t,A=e.useSyncExternalStore,i=r.useRef,s=r.useEffect,o=r.useMemo,a=r.useDebugValue;return DT.useSyncExternalStoreWithSelector=function(u,l,c,h,d){var m=i(null);if(m.current===null){var g={hasValue:!1,value:null};m.current=g}else g=m.current;m=o(function(){function v(N){if(!w){if(w=!0,b=N,N=h(N),d!==void 0&&g.hasValue){var T=g.value;if(d(T,N))return B=T}return B=N}if(T=B,n(b,N))return T;var U=h(N);return d!==void 0&&d(T,U)?(b=N,T):(b=N,B=U)}var w=!1,b,B,F=c===void 0?null:c;return[function(){return v(l())},F===null?void 0:function(){return v(F())}]},[l,c,h,d]);var y=A(u,m[0],m[1]);return s(function(){g.hasValue=!0,g.value=y},[y]),a(y),y},DT}var qM;function Xce(){return qM||(qM=1,kT.exports=$ce()),kT.exports}var Yce=Xce();const Jce=uw(Yce),Zce={},WM=r=>{let e;const t=new Set,n=(l,c)=>{const h=typeof l=="function"?l(e):l;if(!Object.is(h,e)){const d=e;e=c??(typeof h!="object"||h===null)?h:Object.assign({},e,h),t.forEach(m=>m(e,d))}},A=()=>e,a={setState:n,getState:A,getInitialState:()=>u,subscribe:l=>(t.add(l),()=>t.delete(l)),destroy:()=>{(Zce?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),t.clear()}},u=e=r(n,A,a);return a},ehe=r=>r?WM(r):WM,{useDebugValue:the}=Dt,{useSyncExternalStoreWithSelector:rhe}=Jce,nhe=r=>r;function AG(r,e=nhe,t){const n=rhe(r.subscribe,r.getState,r.getServerState||r.getInitialState,e,t);return the(n),n}const $M=(r,e)=>{const t=ehe(r),n=(A,i=e)=>AG(t,A,i);return Object.assign(n,t),n},Ahe=(r,e)=>r?$M(r,e):$M;function tu(r,e){if(Object.is(r,e))return!0;if(typeof r!="object"||r===null||typeof e!="object"||e===null)return!1;if(r instanceof Map&&e instanceof Map){if(r.size!==e.size)return!1;for(const[n,A]of r)if(!Object.is(A,e.get(n)))return!1;return!0}if(r instanceof Set&&e instanceof Set){if(r.size!==e.size)return!1;for(const n of r)if(!e.has(n))return!1;return!0}const t=Object.keys(r);if(t.length!==Object.keys(e).length)return!1;for(const n of t)if(!Object.prototype.hasOwnProperty.call(e,n)||!Object.is(r[n],e[n]))return!1;return!0}var ihe={value:()=>{}};function Hx(){for(var r=0,e=arguments.length,t={},n;r<e;++r){if(!(n=arguments[r]+"")||n in t||/[\s.]/.test(n))throw new Error("illegal type: "+n);t[n]=[]}return new qS(t)}function qS(r){this._=r}function she(r,e){return r.trim().split(/^|\s+/).map(function(t){var n="",A=t.indexOf(".");if(A>=0&&(n=t.slice(A+1),t=t.slice(0,A)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})}qS.prototype=Hx.prototype={constructor:qS,on:function(r,e){var t=this._,n=she(r+"",t),A,i=-1,s=n.length;if(arguments.length<2){for(;++i<s;)if((A=(r=n[i]).type)&&(A=ohe(t[A],r.name)))return A;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++i<s;)if(A=(r=n[i]).type)t[A]=XM(t[A],r.name,e);else if(e==null)for(A in t)t[A]=XM(t[A],r.name,null);return this},copy:function(){var r={},e=this._;for(var t in e)r[t]=e[t].slice();return new qS(r)},call:function(r,e){if((A=arguments.length-2)>0)for(var t=new Array(A),n=0,A,i;n<A;++n)t[n]=arguments[n+2];if(!this._.hasOwnProperty(r))throw new Error("unknown type: "+r);for(i=this._[r],n=0,A=i.length;n<A;++n)i[n].value.apply(e,t)},apply:function(r,e,t){if(!this._.hasOwnProperty(r))throw new Error("unknown type: "+r);for(var n=this._[r],A=0,i=n.length;A<i;++A)n[A].value.apply(e,t)}};function ohe(r,e){for(var t=0,n=r.length,A;t<n;++t)if((A=r[t]).name===e)return A.value}function XM(r,e,t){for(var n=0,A=r.length;n<A;++n)if(r[n].name===e){r[n]=ihe,r=r.slice(0,n).concat(r.slice(n+1));break}return t!=null&&r.push({name:e,value:t}),r}var rN="http://www.w3.org/1999/xhtml";const YM={svg:"http://www.w3.org/2000/svg",xhtml:rN,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function jx(r){var e=r+="",t=e.indexOf(":");return t>=0&&(e=r.slice(0,t))!=="xmlns"&&(r=r.slice(t+1)),YM.hasOwnProperty(e)?{space:YM[e],local:r}:r}function ahe(r){return function(){var e=this.ownerDocument,t=this.namespaceURI;return t===rN&&e.documentElement.namespaceURI===rN?e.createElement(r):e.createElementNS(t,r)}}function lhe(r){return function(){return this.ownerDocument.createElementNS(r.space,r.local)}}function iG(r){var e=jx(r);return(e.local?lhe:ahe)(e)}function uhe(){}function yO(r){return r==null?uhe:function(){return this.querySelector(r)}}function che(r){typeof r!="function"&&(r=yO(r));for(var e=this._groups,t=e.length,n=new Array(t),A=0;A<t;++A)for(var i=e[A],s=i.length,o=n[A]=new Array(s),a,u,l=0;l<s;++l)(a=i[l])&&(u=r.call(a,a.__data__,l,i))&&("__data__"in a&&(u.__data__=a.__data__),o[l]=u);return new Wu(n,this._parents)}function hhe(r){return r==null?[]:Array.isArray(r)?r:Array.from(r)}function fhe(){return[]}function sG(r){return r==null?fhe:function(){return this.querySelectorAll(r)}}function dhe(r){return function(){return hhe(r.apply(this,arguments))}}function phe(r){typeof r=="function"?r=dhe(r):r=sG(r);for(var e=this._groups,t=e.length,n=[],A=[],i=0;i<t;++i)for(var s=e[i],o=s.length,a,u=0;u<o;++u)(a=s[u])&&(n.push(r.call(a,a.__data__,u,s)),A.push(a));return new Wu(n,A)}function oG(r){return function(){return this.matches(r)}}function aG(r){return function(e){return e.matches(r)}}var ghe=Array.prototype.find;function mhe(r){return function(){return ghe.call(this.children,r)}}function vhe(){return this.firstElementChild}function yhe(r){return this.select(r==null?vhe:mhe(typeof r=="function"?r:aG(r)))}var whe=Array.prototype.filter;function Bhe(){return Array.from(this.children)}function Che(r){return function(){return whe.call(this.children,r)}}function bhe(r){return this.selectAll(r==null?Bhe:Che(typeof r=="function"?r:aG(r)))}function Ehe(r){typeof r!="function"&&(r=oG(r));for(var e=this._groups,t=e.length,n=new Array(t),A=0;A<t;++A)for(var i=e[A],s=i.length,o=n[A]=[],a,u=0;u<s;++u)(a=i[u])&&r.call(a,a.__data__,u,i)&&o.push(a);return new Wu(n,this._parents)}function lG(r){return new Array(r.length)}function _he(){return new Wu(this._enter||this._groups.map(lG),this._parents)}function hI(r,e){this.ownerDocument=r.ownerDocument,this.namespaceURI=r.namespaceURI,this._next=null,this._parent=r,this.__data__=e}hI.prototype={constructor:hI,appendChild:function(r){return this._parent.insertBefore(r,this._next)},insertBefore:function(r,e){return this._parent.insertBefore(r,e)},querySelector:function(r){return this._parent.querySelector(r)},querySelectorAll:function(r){return this._parent.querySelectorAll(r)}};function She(r){return function(){return r}}function Fhe(r,e,t,n,A,i){for(var s=0,o,a=e.length,u=i.length;s<u;++s)(o=e[s])?(o.__data__=i[s],n[s]=o):t[s]=new hI(r,i[s]);for(;s<a;++s)(o=e[s])&&(A[s]=o)}function Ihe(r,e,t,n,A,i,s){var o,a,u=new Map,l=e.length,c=i.length,h=new Array(l),d;for(o=0;o<l;++o)(a=e[o])&&(h[o]=d=s.call(a,a.__data__,o,e)+"",u.has(d)?A[o]=a:u.set(d,a));for(o=0;o<c;++o)d=s.call(r,i[o],o,i)+"",(a=u.get(d))?(n[o]=a,a.__data__=i[o],u.delete(d)):t[o]=new hI(r,i[o]);for(o=0;o<l;++o)(a=e[o])&&u.get(h[o])===a&&(A[o]=a)}function xhe(r){return r.__data__}function Uhe(r,e){if(!arguments.length)return Array.from(this,xhe);var t=e?Ihe:Fhe,n=this._parents,A=this._groups;typeof r!="function"&&(r=She(r));for(var i=A.length,s=new Array(i),o=new Array(i),a=new Array(i),u=0;u<i;++u){var l=n[u],c=A[u],h=c.length,d=The(r.call(l,l&&l.__data__,u,n)),m=d.length,g=o[u]=new Array(m),y=s[u]=new Array(m),v=a[u]=new Array(h);t(l,c,g,y,v,d,e);for(var w=0,b=0,B,F;w<m;++w)if(B=g[w]){for(w>=b&&(b=w+1);!(F=y[b])&&++b<m;);B._next=F||null}}return s=new Wu(s,n),s._enter=o,s._exit=a,s}function The(r){return typeof r=="object"&&"length"in r?r:Array.from(r)}function Qhe(){return new Wu(this._exit||this._groups.map(lG),this._parents)}function Lhe(r,e,t){var n=this.enter(),A=this,i=this.exit();return typeof r=="function"?(n=r(n),n&&(n=n.selection())):n=n.append(r+""),e!=null&&(A=e(A),A&&(A=A.selection())),t==null?i.remove():t(i),n&&A?n.merge(A).order():A}function Nhe(r){for(var e=r.selection?r.selection():r,t=this._groups,n=e._groups,A=t.length,i=n.length,s=Math.min(A,i),o=new Array(A),a=0;a<s;++a)for(var u=t[a],l=n[a],c=u.length,h=o[a]=new Array(c),d,m=0;m<c;++m)(d=u[m]||l[m])&&(h[m]=d);for(;a<A;++a)o[a]=t[a];return new Wu(o,this._parents)}function Rhe(){for(var r=this._groups,e=-1,t=r.length;++e<t;)for(var n=r[e],A=n.length-1,i=n[A],s;--A>=0;)(s=n[A])&&(i&&s.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(s,i),i=s);return this}function Phe(r){r||(r=Ohe);function e(c,h){return c&&h?r(c.__data__,h.__data__):!c-!h}for(var t=this._groups,n=t.length,A=new Array(n),i=0;i<n;++i){for(var s=t[i],o=s.length,a=A[i]=new Array(o),u,l=0;l<o;++l)(u=s[l])&&(a[l]=u);a.sort(e)}return new Wu(A,this._parents).order()}function Ohe(r,e){return r<e?-1:r>e?1:r>=e?0:NaN}function khe(){var r=arguments[0];return arguments[0]=this,r.apply(null,arguments),this}function Dhe(){return Array.from(this)}function Mhe(){for(var r=this._groups,e=0,t=r.length;e<t;++e)for(var n=r[e],A=0,i=n.length;A<i;++A){var s=n[A];if(s)return s}return null}function Hhe(){let r=0;for(const e of this)++r;return r}function jhe(){return!this.node()}function Vhe(r){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var A=e[t],i=0,s=A.length,o;i<s;++i)(o=A[i])&&r.call(o,o.__data__,i,A);return this}function Khe(r){return function(){this.removeAttribute(r)}}function Ghe(r){return function(){this.removeAttributeNS(r.space,r.local)}}function zhe(r,e){return function(){this.setAttribute(r,e)}}function qhe(r,e){return function(){this.setAttributeNS(r.space,r.local,e)}}function Whe(r,e){return function(){var t=e.apply(this,arguments);t==null?this.removeAttribute(r):this.setAttribute(r,t)}}function $he(r,e){return function(){var t=e.apply(this,arguments);t==null?this.removeAttributeNS(r.space,r.local):this.setAttributeNS(r.space,r.local,t)}}function Xhe(r,e){var t=jx(r);if(arguments.length<2){var n=this.node();return t.local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}return this.each((e==null?t.local?Ghe:Khe:typeof e=="function"?t.local?$he:Whe:t.local?qhe:zhe)(t,e))}function uG(r){return r.ownerDocument&&r.ownerDocument.defaultView||r.document&&r||r.defaultView}function Yhe(r){return function(){this.style.removeProperty(r)}}function Jhe(r,e,t){return function(){this.style.setProperty(r,e,t)}}function Zhe(r,e,t){return function(){var n=e.apply(this,arguments);n==null?this.style.removeProperty(r):this.style.setProperty(r,n,t)}}function efe(r,e,t){return arguments.length>1?this.each((e==null?Yhe:typeof e=="function"?Zhe:Jhe)(r,e,t??"")):JB(this.node(),r)}function JB(r,e){return r.style.getPropertyValue(e)||uG(r).getComputedStyle(r,null).getPropertyValue(e)}function tfe(r){return function(){delete this[r]}}function rfe(r,e){return function(){this[r]=e}}function nfe(r,e){return function(){var t=e.apply(this,arguments);t==null?delete this[r]:this[r]=t}}function Afe(r,e){return arguments.length>1?this.each((e==null?tfe:typeof e=="function"?nfe:rfe)(r,e)):this.node()[r]}function cG(r){return r.trim().split(/^|\s+/)}function wO(r){return r.classList||new hG(r)}function hG(r){this._node=r,this._names=cG(r.getAttribute("class")||"")}hG.prototype={add:function(r){var e=this._names.indexOf(r);e<0&&(this._names.push(r),this._node.setAttribute("class",this._names.join(" ")))},remove:function(r){var e=this._names.indexOf(r);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(r){return this._names.indexOf(r)>=0}};function fG(r,e){for(var t=wO(r),n=-1,A=e.length;++n<A;)t.add(e[n])}function dG(r,e){for(var t=wO(r),n=-1,A=e.length;++n<A;)t.remove(e[n])}function ife(r){return function(){fG(this,r)}}function sfe(r){return function(){dG(this,r)}}function ofe(r,e){return function(){(e.apply(this,arguments)?fG:dG)(this,r)}}function afe(r,e){var t=cG(r+"");if(arguments.length<2){for(var n=wO(this.node()),A=-1,i=t.length;++A<i;)if(!n.contains(t[A]))return!1;return!0}return this.each((typeof e=="function"?ofe:e?ife:sfe)(t,e))}function lfe(){this.textContent=""}function ufe(r){return function(){this.textContent=r}}function cfe(r){return function(){var e=r.apply(this,arguments);this.textContent=e??""}}function hfe(r){return arguments.length?this.each(r==null?lfe:(typeof r=="function"?cfe:ufe)(r)):this.node().textContent}function ffe(){this.innerHTML=""}function dfe(r){return function(){this.innerHTML=r}}function pfe(r){return function(){var e=r.apply(this,arguments);this.innerHTML=e??""}}function gfe(r){return arguments.length?this.each(r==null?ffe:(typeof r=="function"?pfe:dfe)(r)):this.node().innerHTML}function mfe(){this.nextSibling&&this.parentNode.appendChild(this)}function vfe(){return this.each(mfe)}function yfe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function wfe(){return this.each(yfe)}function Bfe(r){var e=typeof r=="function"?r:iG(r);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Cfe(){return null}function bfe(r,e){var t=typeof r=="function"?r:iG(r),n=e==null?Cfe:typeof e=="function"?e:yO(e);return this.select(function(){return this.insertBefore(t.apply(this,arguments),n.apply(this,arguments)||null)})}function Efe(){var r=this.parentNode;r&&r.removeChild(this)}function _fe(){return this.each(Efe)}function Sfe(){var r=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(r,this.nextSibling):r}function Ffe(){var r=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(r,this.nextSibling):r}function Ife(r){return this.select(r?Ffe:Sfe)}function xfe(r){return arguments.length?this.property("__data__",r):this.node().__data__}function Ufe(r){return function(e){r.call(this,e,this.__data__)}}function Tfe(r){return r.trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}})}function Qfe(r){return function(){var e=this.__on;if(e){for(var t=0,n=-1,A=e.length,i;t<A;++t)i=e[t],(!r.type||i.type===r.type)&&i.name===r.name?this.removeEventListener(i.type,i.listener,i.options):e[++n]=i;++n?e.length=n:delete this.__on}}}function Lfe(r,e,t){return function(){var n=this.__on,A,i=Ufe(e);if(n){for(var s=0,o=n.length;s<o;++s)if((A=n[s]).type===r.type&&A.name===r.name){this.removeEventListener(A.type,A.listener,A.options),this.addEventListener(A.type,A.listener=i,A.options=t),A.value=e;return}}this.addEventListener(r.type,i,t),A={type:r.type,name:r.name,value:e,listener:i,options:t},n?n.push(A):this.__on=[A]}}function Nfe(r,e,t){var n=Tfe(r+""),A,i=n.length,s;if(arguments.length<2){var o=this.node().__on;if(o){for(var a=0,u=o.length,l;a<u;++a)for(A=0,l=o[a];A<i;++A)if((s=n[A]).type===l.type&&s.name===l.name)return l.value}return}for(o=e?Lfe:Qfe,A=0;A<i;++A)this.each(o(n[A],e,t));return this}function pG(r,e,t){var n=uG(r),A=n.CustomEvent;typeof A=="function"?A=new A(e,t):(A=n.document.createEvent("Event"),t?(A.initEvent(e,t.bubbles,t.cancelable),A.detail=t.detail):A.initEvent(e,!1,!1)),r.dispatchEvent(A)}function Rfe(r,e){return function(){return pG(this,r,e)}}function Pfe(r,e){return function(){return pG(this,r,e.apply(this,arguments))}}function Ofe(r,e){return this.each((typeof e=="function"?Pfe:Rfe)(r,e))}function*kfe(){for(var r=this._groups,e=0,t=r.length;e<t;++e)for(var n=r[e],A=0,i=n.length,s;A<i;++A)(s=n[A])&&(yield s)}var gG=[null];function Wu(r,e){this._groups=r,this._parents=e}function G_(){return new Wu([[document.documentElement]],gG)}function Dfe(){return this}Wu.prototype=G_.prototype={constructor:Wu,select:che,selectAll:phe,selectChild:yhe,selectChildren:bhe,filter:Ehe,data:Uhe,enter:_he,exit:Qhe,join:Lhe,merge:Nhe,selection:Dfe,order:Rhe,sort:Phe,call:khe,nodes:Dhe,node:Mhe,size:Hhe,empty:jhe,each:Vhe,attr:Xhe,style:efe,property:Afe,classed:afe,text:hfe,html:gfe,raise:vfe,lower:wfe,append:Bfe,insert:bfe,remove:_fe,clone:Ife,datum:xfe,on:Nfe,dispatch:Ofe,[Symbol.iterator]:kfe};function Lh(r){return typeof r=="string"?new Wu([[document.querySelector(r)]],[document.documentElement]):new Wu([[r]],gG)}function Mfe(r){let e;for(;e=r.sourceEvent;)r=e;return r}function Sf(r,e){if(r=Mfe(r),e===void 0&&(e=r.currentTarget),e){var t=e.ownerSVGElement||e;if(t.createSVGPoint){var n=t.createSVGPoint();return n.x=r.clientX,n.y=r.clientY,n=n.matrixTransform(e.getScreenCTM().inverse()),[n.x,n.y]}if(e.getBoundingClientRect){var A=e.getBoundingClientRect();return[r.clientX-A.left-e.clientLeft,r.clientY-A.top-e.clientTop]}}return[r.pageX,r.pageY]}const Hfe={passive:!1},Hb={capture:!0,passive:!1};function jT(r){r.stopImmediatePropagation()}function U0(r){r.preventDefault(),r.stopImmediatePropagation()}function mG(r){var e=r.document.documentElement,t=Lh(r).on("dragstart.drag",U0,Hb);"onselectstart"in e?t.on("selectstart.drag",U0,Hb):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function vG(r,e){var t=r.document.documentElement,n=Lh(r).on("dragstart.drag",null);e&&(n.on("click.drag",U0,Hb),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in t?n.on("selectstart.drag",null):(t.style.MozUserSelect=t.__noselect,delete t.__noselect)}const fS=r=>()=>r;function nN(r,{sourceEvent:e,subject:t,target:n,identifier:A,active:i,x:s,y:o,dx:a,dy:u,dispatch:l}){Object.defineProperties(this,{type:{value:r,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},identifier:{value:A,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:o,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:l}})}nN.prototype.on=function(){var r=this._.on.apply(this._,arguments);return r===this._?this:r};function jfe(r){return!r.ctrlKey&&!r.button}function Vfe(){return this.parentNode}function Kfe(r,e){return e??{x:r.x,y:r.y}}function Gfe(){return navigator.maxTouchPoints||"ontouchstart"in this}function zfe(){var r=jfe,e=Vfe,t=Kfe,n=Gfe,A={},i=Hx("start","drag","end"),s=0,o,a,u,l,c=0;function h(B){B.on("mousedown.drag",d).filter(n).on("touchstart.drag",y).on("touchmove.drag",v,Hfe).on("touchend.drag touchcancel.drag",w).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(B,F){if(!(l||!r.call(this,B,F))){var N=b(this,e.call(this,B,F),B,F,"mouse");N&&(Lh(B.view).on("mousemove.drag",m,Hb).on("mouseup.drag",g,Hb),mG(B.view),jT(B),u=!1,o=B.clientX,a=B.clientY,N("start",B))}}function m(B){if(U0(B),!u){var F=B.clientX-o,N=B.clientY-a;u=F*F+N*N>c}A.mouse("drag",B)}function g(B){Lh(B.view).on("mousemove.drag mouseup.drag",null),vG(B.view,u),U0(B),A.mouse("end",B)}function y(B,F){if(r.call(this,B,F)){var N=B.changedTouches,T=e.call(this,B,F),U=N.length,k,D;for(k=0;k<U;++k)(D=b(this,T,B,F,N[k].identifier,N[k]))&&(jT(B),D("start",B,N[k]))}}function v(B){var F=B.changedTouches,N=F.length,T,U;for(T=0;T<N;++T)(U=A[F[T].identifier])&&(U0(B),U("drag",B,F[T]))}function w(B){var F=B.changedTouches,N=F.length,T,U;for(l&&clearTimeout(l),l=setTimeout(function(){l=null},500),T=0;T<N;++T)(U=A[F[T].identifier])&&(jT(B),U("end",B,F[T]))}function b(B,F,N,T,U,k){var D=i.copy(),_=Sf(k||N,F),L,O,V;if((V=t.call(B,new nN("beforestart",{sourceEvent:N,target:h,identifier:U,active:s,x:_[0],y:_[1],dx:0,dy:0,dispatch:D}),T))!=null)return L=V.x-_[0]||0,O=V.y-_[1]||0,function $(Y,re,le){var ne=_,te;switch(Y){case"start":A[U]=$,te=s++;break;case"end":delete A[U],--s;case"drag":_=Sf(le||re,F),te=s;break}D.call(Y,B,new nN(Y,{sourceEvent:re,subject:V,target:h,identifier:U,active:te,x:_[0]+L,y:_[1]+O,dx:_[0]-ne[0],dy:_[1]-ne[1],dispatch:D}),T)}}return h.filter=function(B){return arguments.length?(r=typeof B=="function"?B:fS(!!B),h):r},h.container=function(B){return arguments.length?(e=typeof B=="function"?B:fS(B),h):e},h.subject=function(B){return arguments.length?(t=typeof B=="function"?B:fS(B),h):t},h.touchable=function(B){return arguments.length?(n=typeof B=="function"?B:fS(!!B),h):n},h.on=function(){var B=i.on.apply(i,arguments);return B===i?h:B},h.clickDistance=function(B){return arguments.length?(c=(B=+B)*B,h):Math.sqrt(c)},h}function BO(r,e,t){r.prototype=e.prototype=t,t.constructor=r}function yG(r,e){var t=Object.create(r.prototype);for(var n in e)t[n]=e[n];return t}function z_(){}var jb=.7,fI=1/jb,T0="\\s*([+-]?\\d+)\\s*",Vb="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ed="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",qfe=/^#([0-9a-f]{3,8})$/,Wfe=new RegExp(`^rgb\\(${T0},${T0},${T0}\\)$`),$fe=new RegExp(`^rgb\\(${ed},${ed},${ed}\\)$`),Xfe=new RegExp(`^rgba\\(${T0},${T0},${T0},${Vb}\\)$`),Yfe=new RegExp(`^rgba\\(${ed},${ed},${ed},${Vb}\\)$`),Jfe=new RegExp(`^hsl\\(${Vb},${ed},${ed}\\)$`),Zfe=new RegExp(`^hsla\\(${Vb},${ed},${ed},${Vb}\\)$`),JM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};BO(z_,Kb,{copy(r){return Object.assign(new this.constructor,this,r)},displayable(){return this.rgb().displayable()},hex:ZM,formatHex:ZM,formatHex8:ede,formatHsl:tde,formatRgb:eH,toString:eH});function ZM(){return this.rgb().formatHex()}function ede(){return this.rgb().formatHex8()}function tde(){return wG(this).formatHsl()}function eH(){return this.rgb().formatRgb()}function Kb(r){var e,t;return r=(r+"").trim().toLowerCase(),(e=qfe.exec(r))?(t=e[1].length,e=parseInt(e[1],16),t===6?tH(e):t===3?new Xl(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?dS(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?dS(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Wfe.exec(r))?new Xl(e[1],e[2],e[3],1):(e=$fe.exec(r))?new Xl(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Xfe.exec(r))?dS(e[1],e[2],e[3],e[4]):(e=Yfe.exec(r))?dS(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Jfe.exec(r))?AH(e[1],e[2]/100,e[3]/100,1):(e=Zfe.exec(r))?AH(e[1],e[2]/100,e[3]/100,e[4]):JM.hasOwnProperty(r)?tH(JM[r]):r==="transparent"?new Xl(NaN,NaN,NaN,0):null}function tH(r){return new Xl(r>>16&255,r>>8&255,r&255,1)}function dS(r,e,t,n){return n<=0&&(r=e=t=NaN),new Xl(r,e,t,n)}function rde(r){return r instanceof z_||(r=Kb(r)),r?(r=r.rgb(),new Xl(r.r,r.g,r.b,r.opacity)):new Xl}function AN(r,e,t,n){return arguments.length===1?rde(r):new Xl(r,e,t,n??1)}function Xl(r,e,t,n){this.r=+r,this.g=+e,this.b=+t,this.opacity=+n}BO(Xl,AN,yG(z_,{brighter(r){return r=r==null?fI:Math.pow(fI,r),new Xl(this.r*r,this.g*r,this.b*r,this.opacity)},darker(r){return r=r==null?jb:Math.pow(jb,r),new Xl(this.r*r,this.g*r,this.b*r,this.opacity)},rgb(){return this},clamp(){return new Xl(Yy(this.r),Yy(this.g),Yy(this.b),dI(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rH,formatHex:rH,formatHex8:nde,formatRgb:nH,toString:nH}));function rH(){return`#${Tv(this.r)}${Tv(this.g)}${Tv(this.b)}`}function nde(){return`#${Tv(this.r)}${Tv(this.g)}${Tv(this.b)}${Tv((isNaN(this.opacity)?1:this.opacity)*255)}`}function nH(){const r=dI(this.opacity);return`${r===1?"rgb(":"rgba("}${Yy(this.r)}, ${Yy(this.g)}, ${Yy(this.b)}${r===1?")":`, ${r})`}`}function dI(r){return isNaN(r)?1:Math.max(0,Math.min(1,r))}function Yy(r){return Math.max(0,Math.min(255,Math.round(r)||0))}function Tv(r){return r=Yy(r),(r<16?"0":"")+r.toString(16)}function AH(r,e,t,n){return n<=0?r=e=t=NaN:t<=0||t>=1?r=e=NaN:e<=0&&(r=NaN),new Nh(r,e,t,n)}function wG(r){if(r instanceof Nh)return new Nh(r.h,r.s,r.l,r.opacity);if(r instanceof z_||(r=Kb(r)),!r)return new Nh;if(r instanceof Nh)return r;r=r.rgb();var e=r.r/255,t=r.g/255,n=r.b/255,A=Math.min(e,t,n),i=Math.max(e,t,n),s=NaN,o=i-A,a=(i+A)/2;return o?(e===i?s=(t-n)/o+(t<n)*6:t===i?s=(n-e)/o+2:s=(e-t)/o+4,o/=a<.5?i+A:2-i-A,s*=60):o=a>0&&a<1?0:s,new Nh(s,o,a,r.opacity)}function Ade(r,e,t,n){return arguments.length===1?wG(r):new Nh(r,e,t,n??1)}function Nh(r,e,t,n){this.h=+r,this.s=+e,this.l=+t,this.opacity=+n}BO(Nh,Ade,yG(z_,{brighter(r){return r=r==null?fI:Math.pow(fI,r),new Nh(this.h,this.s,this.l*r,this.opacity)},darker(r){return r=r==null?jb:Math.pow(jb,r),new Nh(this.h,this.s,this.l*r,this.opacity)},rgb(){var r=this.h%360+(this.h<0)*360,e=isNaN(r)||isNaN(this.s)?0:this.s,t=this.l,n=t+(t<.5?t:1-t)*e,A=2*t-n;return new Xl(VT(r>=240?r-240:r+120,A,n),VT(r,A,n),VT(r<120?r+240:r-120,A,n),this.opacity)},clamp(){return new Nh(iH(this.h),pS(this.s),pS(this.l),dI(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const r=dI(this.opacity);return`${r===1?"hsl(":"hsla("}${iH(this.h)}, ${pS(this.s)*100}%, ${pS(this.l)*100}%${r===1?")":`, ${r})`}`}}));function iH(r){return r=(r||0)%360,r<0?r+360:r}function pS(r){return Math.max(0,Math.min(1,r||0))}function VT(r,e,t){return(r<60?e+(t-e)*r/60:r<180?t:r<240?e+(t-e)*(240-r)/60:e)*255}const BG=r=>()=>r;function ide(r,e){return function(t){return r+t*e}}function sde(r,e,t){return r=Math.pow(r,t),e=Math.pow(e,t)-r,t=1/t,function(n){return Math.pow(r+n*e,t)}}function ode(r){return(r=+r)==1?CG:function(e,t){return t-e?sde(e,t,r):BG(isNaN(e)?t:e)}}function CG(r,e){var t=e-r;return t?ide(r,t):BG(isNaN(r)?e:r)}const sH=function r(e){var t=ode(e);function n(A,i){var s=t((A=AN(A)).r,(i=AN(i)).r),o=t(A.g,i.g),a=t(A.b,i.b),u=CG(A.opacity,i.opacity);return function(l){return A.r=s(l),A.g=o(l),A.b=a(l),A.opacity=u(l),A+""}}return n.gamma=r,n}(1);function vg(r,e){return r=+r,e=+e,function(t){return r*(1-t)+e*t}}var iN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,KT=new RegExp(iN.source,"g");function ade(r){return function(){return r}}function lde(r){return function(e){return r(e)+""}}function ude(r,e){var t=iN.lastIndex=KT.lastIndex=0,n,A,i,s=-1,o=[],a=[];for(r=r+"",e=e+"";(n=iN.exec(r))&&(A=KT.exec(e));)(i=A.index)>t&&(i=e.slice(t,i),o[s]?o[s]+=i:o[++s]=i),(n=n[0])===(A=A[0])?o[s]?o[s]+=A:o[++s]=A:(o[++s]=null,a.push({i:s,x:vg(n,A)})),t=KT.lastIndex;return t<e.length&&(i=e.slice(t),o[s]?o[s]+=i:o[++s]=i),o.length<2?a[0]?lde(a[0].x):ade(e):(e=a.length,function(u){for(var l=0,c;l<e;++l)o[(c=a[l]).i]=c.x(u);return o.join("")})}var oH=180/Math.PI,sN={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function bG(r,e,t,n,A,i){var s,o,a;return(s=Math.sqrt(r*r+e*e))&&(r/=s,e/=s),(a=r*t+e*n)&&(t-=r*a,n-=e*a),(o=Math.sqrt(t*t+n*n))&&(t/=o,n/=o,a/=o),r*n<e*t&&(r=-r,e=-e,a=-a,s=-s),{translateX:A,translateY:i,rotate:Math.atan2(e,r)*oH,skewX:Math.atan(a)*oH,scaleX:s,scaleY:o}}var gS;function cde(r){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(r+"");return e.isIdentity?sN:bG(e.a,e.b,e.c,e.d,e.e,e.f)}function hde(r){return r==null||(gS||(gS=document.createElementNS("http://www.w3.org/2000/svg","g")),gS.setAttribute("transform",r),!(r=gS.transform.baseVal.consolidate()))?sN:(r=r.matrix,bG(r.a,r.b,r.c,r.d,r.e,r.f))}function EG(r,e,t,n){function A(u){return u.length?u.pop()+" ":""}function i(u,l,c,h,d,m){if(u!==c||l!==h){var g=d.push("translate(",null,e,null,t);m.push({i:g-4,x:vg(u,c)},{i:g-2,x:vg(l,h)})}else(c||h)&&d.push("translate("+c+e+h+t)}function s(u,l,c,h){u!==l?(u-l>180?l+=360:l-u>180&&(u+=360),h.push({i:c.push(A(c)+"rotate(",null,n)-2,x:vg(u,l)})):l&&c.push(A(c)+"rotate("+l+n)}function o(u,l,c,h){u!==l?h.push({i:c.push(A(c)+"skewX(",null,n)-2,x:vg(u,l)}):l&&c.push(A(c)+"skewX("+l+n)}function a(u,l,c,h,d,m){if(u!==c||l!==h){var g=d.push(A(d)+"scale(",null,",",null,")");m.push({i:g-4,x:vg(u,c)},{i:g-2,x:vg(l,h)})}else(c!==1||h!==1)&&d.push(A(d)+"scale("+c+","+h+")")}return function(u,l){var c=[],h=[];return u=r(u),l=r(l),i(u.translateX,u.translateY,l.translateX,l.translateY,c,h),s(u.rotate,l.rotate,c,h),o(u.skewX,l.skewX,c,h),a(u.scaleX,u.scaleY,l.scaleX,l.scaleY,c,h),u=l=null,function(d){for(var m=-1,g=h.length,y;++m<g;)c[(y=h[m]).i]=y.x(d);return c.join("")}}}var fde=EG(cde,"px, ","px)","deg)"),dde=EG(hde,", ",")",")"),pde=1e-12;function aH(r){return((r=Math.exp(r))+1/r)/2}function gde(r){return((r=Math.exp(r))-1/r)/2}function mde(r){return((r=Math.exp(2*r))-1)/(r+1)}const vde=function r(e,t,n){function A(i,s){var o=i[0],a=i[1],u=i[2],l=s[0],c=s[1],h=s[2],d=l-o,m=c-a,g=d*d+m*m,y,v;if(g<pde)v=Math.log(h/u)/e,y=function(T){return[o+T*d,a+T*m,u*Math.exp(e*T*v)]};else{var w=Math.sqrt(g),b=(h*h-u*u+n*g)/(2*u*t*w),B=(h*h-u*u-n*g)/(2*h*t*w),F=Math.log(Math.sqrt(b*b+1)-b),N=Math.log(Math.sqrt(B*B+1)-B);v=(N-F)/e,y=function(T){var U=T*v,k=aH(F),D=u/(t*w)*(k*mde(e*U+F)-gde(F));return[o+D*d,a+D*m,u*k/aH(e*U+F)]}}return y.duration=v*1e3*e/Math.SQRT2,y}return A.rho=function(i){var s=Math.max(.001,+i),o=s*s,a=o*o;return r(s,o,a)},A}(Math.SQRT2,2,4);var ZB=0,kC=0,mC=0,_G=1e3,pI,DC,gI=0,iw=0,Vx=0,Gb=typeof performance=="object"&&performance.now?performance:Date,SG=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(r){setTimeout(r,17)};function CO(){return iw||(SG(yde),iw=Gb.now()+Vx)}function yde(){iw=0}function mI(){this._call=this._time=this._next=null}mI.prototype=FG.prototype={constructor:mI,restart:function(r,e,t){if(typeof r!="function")throw new TypeError("callback is not a function");t=(t==null?CO():+t)+(e==null?0:+e),!this._next&&DC!==this&&(DC?DC._next=this:pI=this,DC=this),this._call=r,this._time=t,oN()},stop:function(){this._call&&(this._call=null,this._time=1/0,oN())}};function FG(r,e,t){var n=new mI;return n.restart(r,e,t),n}function wde(){CO(),++ZB;for(var r=pI,e;r;)(e=iw-r._time)>=0&&r._call.call(void 0,e),r=r._next;--ZB}function lH(){iw=(gI=Gb.now())+Vx,ZB=kC=0;try{wde()}finally{ZB=0,Cde(),iw=0}}function Bde(){var r=Gb.now(),e=r-gI;e>_G&&(Vx-=e,gI=r)}function Cde(){for(var r,e=pI,t,n=1/0;e;)e._call?(n>e._time&&(n=e._time),r=e,e=e._next):(t=e._next,e._next=null,e=r?r._next=t:pI=t);DC=r,oN(n)}function oN(r){if(!ZB){kC&&(kC=clearTimeout(kC));var e=r-iw;e>24?(r<1/0&&(kC=setTimeout(lH,r-Gb.now()-Vx)),mC&&(mC=clearInterval(mC))):(mC||(gI=Gb.now(),mC=setInterval(Bde,_G)),ZB=1,SG(lH))}}function uH(r,e,t){var n=new mI;return e=e==null?0:+e,n.restart(A=>{n.stop(),r(A+e)},e,t),n}var bde=Hx("start","end","cancel","interrupt"),Ede=[],IG=0,cH=1,aN=2,WS=3,hH=4,lN=5,$S=6;function Kx(r,e,t,n,A,i){var s=r.__transition;if(!s)r.__transition={};else if(t in s)return;_de(r,t,{name:e,index:n,group:A,on:bde,tween:Ede,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:IG})}function bO(r,e){var t=Wh(r,e);if(t.state>IG)throw new Error("too late; already scheduled");return t}function ld(r,e){var t=Wh(r,e);if(t.state>WS)throw new Error("too late; already running");return t}function Wh(r,e){var t=r.__transition;if(!t||!(t=t[e]))throw new Error("transition not found");return t}function _de(r,e,t){var n=r.__transition,A;n[e]=t,t.timer=FG(i,0,t.time);function i(u){t.state=cH,t.timer.restart(s,t.delay,t.time),t.delay<=u&&s(u-t.delay)}function s(u){var l,c,h,d;if(t.state!==cH)return a();for(l in n)if(d=n[l],d.name===t.name){if(d.state===WS)return uH(s);d.state===hH?(d.state=$S,d.timer.stop(),d.on.call("interrupt",r,r.__data__,d.index,d.group),delete n[l]):+l<e&&(d.state=$S,d.timer.stop(),d.on.call("cancel",r,r.__data__,d.index,d.group),delete n[l])}if(uH(function(){t.state===WS&&(t.state=hH,t.timer.restart(o,t.delay,t.time),o(u))}),t.state=aN,t.on.call("start",r,r.__data__,t.index,t.group),t.state===aN){for(t.state=WS,A=new Array(h=t.tween.length),l=0,c=-1;l<h;++l)(d=t.tween[l].value.call(r,r.__data__,t.index,t.group))&&(A[++c]=d);A.length=c+1}}function o(u){for(var l=u<t.duration?t.ease.call(null,u/t.duration):(t.timer.restart(a),t.state=lN,1),c=-1,h=A.length;++c<h;)A[c].call(r,l);t.state===lN&&(t.on.call("end",r,r.__data__,t.index,t.group),a())}function a(){t.state=$S,t.timer.stop(),delete n[e];for(var u in n)return;delete r.__transition}}function XS(r,e){var t=r.__transition,n,A,i=!0,s;if(t){e=e==null?null:e+"";for(s in t){if((n=t[s]).name!==e){i=!1;continue}A=n.state>aN&&n.state<lN,n.state=$S,n.timer.stop(),n.on.call(A?"interrupt":"cancel",r,r.__data__,n.index,n.group),delete t[s]}i&&delete r.__transition}}function Sde(r){return this.each(function(){XS(this,r)})}function Fde(r,e){var t,n;return function(){var A=ld(this,r),i=A.tween;if(i!==t){n=t=i;for(var s=0,o=n.length;s<o;++s)if(n[s].name===e){n=n.slice(),n.splice(s,1);break}}A.tween=n}}function Ide(r,e,t){var n,A;if(typeof t!="function")throw new Error;return function(){var i=ld(this,r),s=i.tween;if(s!==n){A=(n=s).slice();for(var o={name:e,value:t},a=0,u=A.length;a<u;++a)if(A[a].name===e){A[a]=o;break}a===u&&A.push(o)}i.tween=A}}function xde(r,e){var t=this._id;if(r+="",arguments.length<2){for(var n=Wh(this.node(),t).tween,A=0,i=n.length,s;A<i;++A)if((s=n[A]).name===r)return s.value;return null}return this.each((e==null?Fde:Ide)(t,r,e))}function EO(r,e,t){var n=r._id;return r.each(function(){var A=ld(this,n);(A.value||(A.value={}))[e]=t.apply(this,arguments)}),function(A){return Wh(A,n).value[e]}}function xG(r,e){var t;return(typeof e=="number"?vg:e instanceof Kb?sH:(t=Kb(e))?(e=t,sH):ude)(r,e)}function Ude(r){return function(){this.removeAttribute(r)}}function Tde(r){return function(){this.removeAttributeNS(r.space,r.local)}}function Qde(r,e,t){var n,A=t+"",i;return function(){var s=this.getAttribute(r);return s===A?null:s===n?i:i=e(n=s,t)}}function Lde(r,e,t){var n,A=t+"",i;return function(){var s=this.getAttributeNS(r.space,r.local);return s===A?null:s===n?i:i=e(n=s,t)}}function Nde(r,e,t){var n,A,i;return function(){var s,o=t(this),a;return o==null?void this.removeAttribute(r):(s=this.getAttribute(r),a=o+"",s===a?null:s===n&&a===A?i:(A=a,i=e(n=s,o)))}}function Rde(r,e,t){var n,A,i;return function(){var s,o=t(this),a;return o==null?void this.removeAttributeNS(r.space,r.local):(s=this.getAttributeNS(r.space,r.local),a=o+"",s===a?null:s===n&&a===A?i:(A=a,i=e(n=s,o)))}}function Pde(r,e){var t=jx(r),n=t==="transform"?dde:xG;return this.attrTween(r,typeof e=="function"?(t.local?Rde:Nde)(t,n,EO(this,"attr."+r,e)):e==null?(t.local?Tde:Ude)(t):(t.local?Lde:Qde)(t,n,e))}function Ode(r,e){return function(t){this.setAttribute(r,e.call(this,t))}}function kde(r,e){return function(t){this.setAttributeNS(r.space,r.local,e.call(this,t))}}function Dde(r,e){var t,n;function A(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&kde(r,i)),t}return A._value=e,A}function Mde(r,e){var t,n;function A(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&Ode(r,i)),t}return A._value=e,A}function Hde(r,e){var t="attr."+r;if(arguments.length<2)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;var n=jx(r);return this.tween(t,(n.local?Dde:Mde)(n,e))}function jde(r,e){return function(){bO(this,r).delay=+e.apply(this,arguments)}}function Vde(r,e){return e=+e,function(){bO(this,r).delay=e}}function Kde(r){var e=this._id;return arguments.length?this.each((typeof r=="function"?jde:Vde)(e,r)):Wh(this.node(),e).delay}function Gde(r,e){return function(){ld(this,r).duration=+e.apply(this,arguments)}}function zde(r,e){return e=+e,function(){ld(this,r).duration=e}}function qde(r){var e=this._id;return arguments.length?this.each((typeof r=="function"?Gde:zde)(e,r)):Wh(this.node(),e).duration}function Wde(r,e){if(typeof e!="function")throw new Error;return function(){ld(this,r).ease=e}}function $de(r){var e=this._id;return arguments.length?this.each(Wde(e,r)):Wh(this.node(),e).ease}function Xde(r,e){return function(){var t=e.apply(this,arguments);if(typeof t!="function")throw new Error;ld(this,r).ease=t}}function Yde(r){if(typeof r!="function")throw new Error;return this.each(Xde(this._id,r))}function Jde(r){typeof r!="function"&&(r=oG(r));for(var e=this._groups,t=e.length,n=new Array(t),A=0;A<t;++A)for(var i=e[A],s=i.length,o=n[A]=[],a,u=0;u<s;++u)(a=i[u])&&r.call(a,a.__data__,u,i)&&o.push(a);return new Rp(n,this._parents,this._name,this._id)}function Zde(r){if(r._id!==this._id)throw new Error;for(var e=this._groups,t=r._groups,n=e.length,A=t.length,i=Math.min(n,A),s=new Array(n),o=0;o<i;++o)for(var a=e[o],u=t[o],l=a.length,c=s[o]=new Array(l),h,d=0;d<l;++d)(h=a[d]||u[d])&&(c[d]=h);for(;o<n;++o)s[o]=e[o];return new Rp(s,this._parents,this._name,this._id)}function epe(r){return(r+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||e==="start"})}function tpe(r,e,t){var n,A,i=epe(e)?bO:ld;return function(){var s=i(this,r),o=s.on;o!==n&&(A=(n=o).copy()).on(e,t),s.on=A}}function rpe(r,e){var t=this._id;return arguments.length<2?Wh(this.node(),t).on.on(r):this.each(tpe(t,r,e))}function npe(r){return function(){var e=this.parentNode;for(var t in this.__transition)if(+t!==r)return;e&&e.removeChild(this)}}function Ape(){return this.on("end.remove",npe(this._id))}function ipe(r){var e=this._name,t=this._id;typeof r!="function"&&(r=yO(r));for(var n=this._groups,A=n.length,i=new Array(A),s=0;s<A;++s)for(var o=n[s],a=o.length,u=i[s]=new Array(a),l,c,h=0;h<a;++h)(l=o[h])&&(c=r.call(l,l.__data__,h,o))&&("__data__"in l&&(c.__data__=l.__data__),u[h]=c,Kx(u[h],e,t,h,u,Wh(l,t)));return new Rp(i,this._parents,e,t)}function spe(r){var e=this._name,t=this._id;typeof r!="function"&&(r=sG(r));for(var n=this._groups,A=n.length,i=[],s=[],o=0;o<A;++o)for(var a=n[o],u=a.length,l,c=0;c<u;++c)if(l=a[c]){for(var h=r.call(l,l.__data__,c,a),d,m=Wh(l,t),g=0,y=h.length;g<y;++g)(d=h[g])&&Kx(d,e,t,g,h,m);i.push(h),s.push(l)}return new Rp(i,s,e,t)}var ope=G_.prototype.constructor;function ape(){return new ope(this._groups,this._parents)}function lpe(r,e){var t,n,A;return function(){var i=JB(this,r),s=(this.style.removeProperty(r),JB(this,r));return i===s?null:i===t&&s===n?A:A=e(t=i,n=s)}}function UG(r){return function(){this.style.removeProperty(r)}}function upe(r,e,t){var n,A=t+"",i;return function(){var s=JB(this,r);return s===A?null:s===n?i:i=e(n=s,t)}}function cpe(r,e,t){var n,A,i;return function(){var s=JB(this,r),o=t(this),a=o+"";return o==null&&(a=o=(this.style.removeProperty(r),JB(this,r))),s===a?null:s===n&&a===A?i:(A=a,i=e(n=s,o))}}function hpe(r,e){var t,n,A,i="style."+e,s="end."+i,o;return function(){var a=ld(this,r),u=a.on,l=a.value[i]==null?o||(o=UG(e)):void 0;(u!==t||A!==l)&&(n=(t=u).copy()).on(s,A=l),a.on=n}}function fpe(r,e,t){var n=(r+="")=="transform"?fde:xG;return e==null?this.styleTween(r,lpe(r,n)).on("end.style."+r,UG(r)):typeof e=="function"?this.styleTween(r,cpe(r,n,EO(this,"style."+r,e))).each(hpe(this._id,r)):this.styleTween(r,upe(r,n,e),t).on("end.style."+r,null)}function dpe(r,e,t){return function(n){this.style.setProperty(r,e.call(this,n),t)}}function ppe(r,e,t){var n,A;function i(){var s=e.apply(this,arguments);return s!==A&&(n=(A=s)&&dpe(r,s,t)),n}return i._value=e,i}function gpe(r,e,t){var n="style."+(r+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,ppe(r,e,t??""))}function mpe(r){return function(){this.textContent=r}}function vpe(r){return function(){var e=r(this);this.textContent=e??""}}function ype(r){return this.tween("text",typeof r=="function"?vpe(EO(this,"text",r)):mpe(r==null?"":r+""))}function wpe(r){return function(e){this.textContent=r.call(this,e)}}function Bpe(r){var e,t;function n(){var A=r.apply(this,arguments);return A!==t&&(e=(t=A)&&wpe(A)),e}return n._value=r,n}function Cpe(r){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(r==null)return this.tween(e,null);if(typeof r!="function")throw new Error;return this.tween(e,Bpe(r))}function bpe(){for(var r=this._name,e=this._id,t=TG(),n=this._groups,A=n.length,i=0;i<A;++i)for(var s=n[i],o=s.length,a,u=0;u<o;++u)if(a=s[u]){var l=Wh(a,e);Kx(a,r,t,u,s,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new Rp(n,this._parents,r,t)}function Epe(){var r,e,t=this,n=t._id,A=t.size();return new Promise(function(i,s){var o={value:s},a={value:function(){--A===0&&i()}};t.each(function(){var u=ld(this,n),l=u.on;l!==r&&(e=(r=l).copy(),e._.cancel.push(o),e._.interrupt.push(o),e._.end.push(a)),u.on=e}),A===0&&i()})}var _pe=0;function Rp(r,e,t,n){this._groups=r,this._parents=e,this._name=t,this._id=n}function TG(){return++_pe}var Od=G_.prototype;Rp.prototype={constructor:Rp,select:ipe,selectAll:spe,selectChild:Od.selectChild,selectChildren:Od.selectChildren,filter:Jde,merge:Zde,selection:ape,transition:bpe,call:Od.call,nodes:Od.nodes,node:Od.node,size:Od.size,empty:Od.empty,each:Od.each,on:rpe,attr:Pde,attrTween:Hde,style:fpe,styleTween:gpe,text:ype,textTween:Cpe,remove:Ape,tween:xde,delay:Kde,duration:qde,ease:$de,easeVarying:Yde,end:Epe,[Symbol.iterator]:Od[Symbol.iterator]};function Spe(r){return((r*=2)<=1?r*r*r:(r-=2)*r*r+2)/2}var Fpe={time:null,delay:0,duration:250,ease:Spe};function Ipe(r,e){for(var t;!(t=r.__transition)||!(t=t[e]);)if(!(r=r.parentNode))throw new Error(`transition ${e} not found`);return t}function xpe(r){var e,t;r instanceof Rp?(e=r._id,r=r._name):(e=TG(),(t=Fpe).time=CO(),r=r==null?null:r+"");for(var n=this._groups,A=n.length,i=0;i<A;++i)for(var s=n[i],o=s.length,a,u=0;u<o;++u)(a=s[u])&&Kx(a,r,e,u,s,t||Ipe(a,e));return new Rp(n,this._parents,r,e)}G_.prototype.interrupt=Sde;G_.prototype.transition=xpe;const mS=r=>()=>r;function Upe(r,{sourceEvent:e,target:t,transform:n,dispatch:A}){Object.defineProperties(this,{type:{value:r,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:t,enumerable:!0,configurable:!0},transform:{value:n,enumerable:!0,configurable:!0},_:{value:A}})}function Cp(r,e,t){this.k=r,this.x=e,this.y=t}Cp.prototype={constructor:Cp,scale:function(r){return r===1?this:new Cp(this.k*r,this.x,this.y)},translate:function(r,e){return r===0&e===0?this:new Cp(this.k,this.x+this.k*r,this.y+this.k*e)},apply:function(r){return[r[0]*this.k+this.x,r[1]*this.k+this.y]},applyX:function(r){return r*this.k+this.x},applyY:function(r){return r*this.k+this.y},invert:function(r){return[(r[0]-this.x)/this.k,(r[1]-this.y)/this.k]},invertX:function(r){return(r-this.x)/this.k},invertY:function(r){return(r-this.y)/this.k},rescaleX:function(r){return r.copy().domain(r.range().map(this.invertX,this).map(r.invert,r))},rescaleY:function(r){return r.copy().domain(r.range().map(this.invertY,this).map(r.invert,r))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Em=new Cp(1,0,0);Cp.prototype;function GT(r){r.stopImmediatePropagation()}function vC(r){r.preventDefault(),r.stopImmediatePropagation()}function Tpe(r){return(!r.ctrlKey||r.type==="wheel")&&!r.button}function Qpe(){var r=this;return r instanceof SVGElement?(r=r.ownerSVGElement||r,r.hasAttribute("viewBox")?(r=r.viewBox.baseVal,[[r.x,r.y],[r.x+r.width,r.y+r.height]]):[[0,0],[r.width.baseVal.value,r.height.baseVal.value]]):[[0,0],[r.clientWidth,r.clientHeight]]}function fH(){return this.__zoom||Em}function Lpe(r){return-r.deltaY*(r.deltaMode===1?.05:r.deltaMode?1:.002)*(r.ctrlKey?10:1)}function Npe(){return navigator.maxTouchPoints||"ontouchstart"in this}function Rpe(r,e,t){var n=r.invertX(e[0][0])-t[0][0],A=r.invertX(e[1][0])-t[1][0],i=r.invertY(e[0][1])-t[0][1],s=r.invertY(e[1][1])-t[1][1];return r.translate(A>n?(n+A)/2:Math.min(0,n)||Math.max(0,A),s>i?(i+s)/2:Math.min(0,i)||Math.max(0,s))}function Ppe(){var r=Tpe,e=Qpe,t=Rpe,n=Lpe,A=Npe,i=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],o=250,a=vde,u=Hx("start","zoom","end"),l,c,h,d=500,m=150,g=0,y=10;function v(V){V.property("__zoom",fH).on("wheel.zoom",U,{passive:!1}).on("mousedown.zoom",k).on("dblclick.zoom",D).filter(A).on("touchstart.zoom",_).on("touchmove.zoom",L).on("touchend.zoom touchcancel.zoom",O).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}v.transform=function(V,$,Y,re){var le=V.selection?V.selection():V;le.property("__zoom",fH),V!==le?F(V,$,Y,re):le.interrupt().each(function(){N(this,arguments).event(re).start().zoom(null,typeof $=="function"?$.apply(this,arguments):$).end()})},v.scaleBy=function(V,$,Y,re){v.scaleTo(V,function(){var le=this.__zoom.k,ne=typeof $=="function"?$.apply(this,arguments):$;return le*ne},Y,re)},v.scaleTo=function(V,$,Y,re){v.transform(V,function(){var le=e.apply(this,arguments),ne=this.__zoom,te=Y==null?B(le):typeof Y=="function"?Y.apply(this,arguments):Y,G=ne.invert(te),H=typeof $=="function"?$.apply(this,arguments):$;return t(b(w(ne,H),te,G),le,s)},Y,re)},v.translateBy=function(V,$,Y,re){v.transform(V,function(){return t(this.__zoom.translate(typeof $=="function"?$.apply(this,arguments):$,typeof Y=="function"?Y.apply(this,arguments):Y),e.apply(this,arguments),s)},null,re)},v.translateTo=function(V,$,Y,re,le){v.transform(V,function(){var ne=e.apply(this,arguments),te=this.__zoom,G=re==null?B(ne):typeof re=="function"?re.apply(this,arguments):re;return t(Em.translate(G[0],G[1]).scale(te.k).translate(typeof $=="function"?-$.apply(this,arguments):-$,typeof Y=="function"?-Y.apply(this,arguments):-Y),ne,s)},re,le)};function w(V,$){return $=Math.max(i[0],Math.min(i[1],$)),$===V.k?V:new Cp($,V.x,V.y)}function b(V,$,Y){var re=$[0]-Y[0]*V.k,le=$[1]-Y[1]*V.k;return re===V.x&&le===V.y?V:new Cp(V.k,re,le)}function B(V){return[(+V[0][0]+ +V[1][0])/2,(+V[0][1]+ +V[1][1])/2]}function F(V,$,Y,re){V.on("start.zoom",function(){N(this,arguments).event(re).start()}).on("interrupt.zoom end.zoom",function(){N(this,arguments).event(re).end()}).tween("zoom",function(){var le=this,ne=arguments,te=N(le,ne).event(re),G=e.apply(le,ne),H=Y==null?B(G):typeof Y=="function"?Y.apply(le,ne):Y,z=Math.max(G[1][0]-G[0][0],G[1][1]-G[0][1]),oe=le.__zoom,ae=typeof $=="function"?$.apply(le,ne):$,ie=a(oe.invert(H).concat(z/oe.k),ae.invert(H).concat(z/ae.k));return function(pe){if(pe===1)pe=ae;else{var Ce=ie(pe),Ie=z/Ce[2];pe=new Cp(Ie,H[0]-Ce[0]*Ie,H[1]-Ce[1]*Ie)}te.zoom(null,pe)}})}function N(V,$,Y){return!Y&&V.__zooming||new T(V,$)}function T(V,$){this.that=V,this.args=$,this.active=0,this.sourceEvent=null,this.extent=e.apply(V,$),this.taps=0}T.prototype={event:function(V){return V&&(this.sourceEvent=V),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(V,$){return this.mouse&&V!=="mouse"&&(this.mouse[1]=$.invert(this.mouse[0])),this.touch0&&V!=="touch"&&(this.touch0[1]=$.invert(this.touch0[0])),this.touch1&&V!=="touch"&&(this.touch1[1]=$.invert(this.touch1[0])),this.that.__zoom=$,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(V){var $=Lh(this.that).datum();u.call(V,this.that,new Upe(V,{sourceEvent:this.sourceEvent,target:v,transform:this.that.__zoom,dispatch:u}),$)}};function U(V,...$){if(!r.apply(this,arguments))return;var Y=N(this,$).event(V),re=this.__zoom,le=Math.max(i[0],Math.min(i[1],re.k*Math.pow(2,n.apply(this,arguments)))),ne=Sf(V);if(Y.wheel)(Y.mouse[0][0]!==ne[0]||Y.mouse[0][1]!==ne[1])&&(Y.mouse[1]=re.invert(Y.mouse[0]=ne)),clearTimeout(Y.wheel);else{if(re.k===le)return;Y.mouse=[ne,re.invert(ne)],XS(this),Y.start()}vC(V),Y.wheel=setTimeout(te,m),Y.zoom("mouse",t(b(w(re,le),Y.mouse[0],Y.mouse[1]),Y.extent,s));function te(){Y.wheel=null,Y.end()}}function k(V,...$){if(h||!r.apply(this,arguments))return;var Y=V.currentTarget,re=N(this,$,!0).event(V),le=Lh(V.view).on("mousemove.zoom",H,!0).on("mouseup.zoom",z,!0),ne=Sf(V,Y),te=V.clientX,G=V.clientY;mG(V.view),GT(V),re.mouse=[ne,this.__zoom.invert(ne)],XS(this),re.start();function H(oe){if(vC(oe),!re.moved){var ae=oe.clientX-te,ie=oe.clientY-G;re.moved=ae*ae+ie*ie>g}re.event(oe).zoom("mouse",t(b(re.that.__zoom,re.mouse[0]=Sf(oe,Y),re.mouse[1]),re.extent,s))}function z(oe){le.on("mousemove.zoom mouseup.zoom",null),vG(oe.view,re.moved),vC(oe),re.event(oe).end()}}function D(V,...$){if(r.apply(this,arguments)){var Y=this.__zoom,re=Sf(V.changedTouches?V.changedTouches[0]:V,this),le=Y.invert(re),ne=Y.k*(V.shiftKey?.5:2),te=t(b(w(Y,ne),re,le),e.apply(this,$),s);vC(V),o>0?Lh(this).transition().duration(o).call(F,te,re,V):Lh(this).call(v.transform,te,re,V)}}function _(V,...$){if(r.apply(this,arguments)){var Y=V.touches,re=Y.length,le=N(this,$,V.changedTouches.length===re).event(V),ne,te,G,H;for(GT(V),te=0;te<re;++te)G=Y[te],H=Sf(G,this),H=[H,this.__zoom.invert(H),G.identifier],le.touch0?!le.touch1&&le.touch0[2]!==H[2]&&(le.touch1=H,le.taps=0):(le.touch0=H,ne=!0,le.taps=1+!!l);l&&(l=clearTimeout(l)),ne&&(le.taps<2&&(c=H[0],l=setTimeout(function(){l=null},d)),XS(this),le.start())}}function L(V,...$){if(this.__zooming){var Y=N(this,$).event(V),re=V.changedTouches,le=re.length,ne,te,G,H;for(vC(V),ne=0;ne<le;++ne)te=re[ne],G=Sf(te,this),Y.touch0&&Y.touch0[2]===te.identifier?Y.touch0[0]=G:Y.touch1&&Y.touch1[2]===te.identifier&&(Y.touch1[0]=G);if(te=Y.that.__zoom,Y.touch1){var z=Y.touch0[0],oe=Y.touch0[1],ae=Y.touch1[0],ie=Y.touch1[1],pe=(pe=ae[0]-z[0])*pe+(pe=ae[1]-z[1])*pe,Ce=(Ce=ie[0]-oe[0])*Ce+(Ce=ie[1]-oe[1])*Ce;te=w(te,Math.sqrt(pe/Ce)),G=[(z[0]+ae[0])/2,(z[1]+ae[1])/2],H=[(oe[0]+ie[0])/2,(oe[1]+ie[1])/2]}else if(Y.touch0)G=Y.touch0[0],H=Y.touch0[1];else return;Y.zoom("touch",t(b(te,G,H),Y.extent,s))}}function O(V,...$){if(this.__zooming){var Y=N(this,$).event(V),re=V.changedTouches,le=re.length,ne,te;for(GT(V),h&&clearTimeout(h),h=setTimeout(function(){h=null},d),ne=0;ne<le;++ne)te=re[ne],Y.touch0&&Y.touch0[2]===te.identifier?delete Y.touch0:Y.touch1&&Y.touch1[2]===te.identifier&&delete Y.touch1;if(Y.touch1&&!Y.touch0&&(Y.touch0=Y.touch1,delete Y.touch1),Y.touch0)Y.touch0[1]=this.__zoom.invert(Y.touch0[0]);else if(Y.end(),Y.taps===2&&(te=Sf(te,this),Math.hypot(c[0]-te[0],c[1]-te[1])<y)){var G=Lh(this).on("dblclick.zoom");G&&G.apply(this,arguments)}}}return v.wheelDelta=function(V){return arguments.length?(n=typeof V=="function"?V:mS(+V),v):n},v.filter=function(V){return arguments.length?(r=typeof V=="function"?V:mS(!!V),v):r},v.touchable=function(V){return arguments.length?(A=typeof V=="function"?V:mS(!!V),v):A},v.extent=function(V){return arguments.length?(e=typeof V=="function"?V:mS([[+V[0][0],+V[0][1]],[+V[1][0],+V[1][1]]]),v):e},v.scaleExtent=function(V){return arguments.length?(i[0]=+V[0],i[1]=+V[1],v):[i[0],i[1]]},v.translateExtent=function(V){return arguments.length?(s[0][0]=+V[0][0],s[1][0]=+V[1][0],s[0][1]=+V[0][1],s[1][1]=+V[1][1],v):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},v.constrain=function(V){return arguments.length?(t=V,v):t},v.duration=function(V){return arguments.length?(o=+V,v):o},v.interpolate=function(V){return arguments.length?(a=V,v):a},v.on=function(){var V=u.on.apply(u,arguments);return V===u?v:V},v.clickDistance=function(V){return arguments.length?(g=(V=+V)*V,v):Math.sqrt(g)},v.tapDistance=function(V){return arguments.length?(y=+V,v):y},v}const Gx=me.createContext(null),Ope=Gx.Provider,Pp={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:r=>`Node type "${r}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:r=>`The old edge with id=${r} does not exist.`,error009:r=>`Marker type "${r}" doesn't exist.`,error008:(r,e)=>`Couldn't create edge for ${r?"target":"source"} handle id: "${r?e.targetHandle:e.sourceHandle}", edge id: ${e.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:r=>`Edge type "${r}" not found. Using fallback type "default".`,error012:r=>`Node with id "${r}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},QG=Pp.error001();function cs(r,e){const t=me.useContext(Gx);if(t===null)throw new Error(QG);return AG(t,r,e)}const ea=()=>{const r=me.useContext(Gx);if(r===null)throw new Error(QG);return me.useMemo(()=>({getState:r.getState,setState:r.setState,subscribe:r.subscribe,destroy:r.destroy}),[r])},kpe=r=>r.userSelectionActive?"none":"all";function Dpe({position:r,children:e,className:t,style:n,...A}){const i=cs(kpe),s=`${r}`.split("-");return Dt.createElement("div",{className:Dc(["react-flow__panel",t,...s]),style:{...n,pointerEvents:i},...A},e)}function Mpe({proOptions:r,position:e="bottom-right"}){return r!=null&&r.hideAttribution?null:Dt.createElement(Dpe,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},Dt.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const Hpe=({x:r,y:e,label:t,labelStyle:n={},labelShowBg:A=!0,labelBgStyle:i={},labelBgPadding:s=[2,4],labelBgBorderRadius:o=2,children:a,className:u,...l})=>{const c=me.useRef(null),[h,d]=me.useState({x:0,y:0,width:0,height:0}),m=Dc(["react-flow__edge-textwrapper",u]);return me.useEffect(()=>{if(c.current){const g=c.current.getBBox();d({x:g.x,y:g.y,width:g.width,height:g.height})}},[t]),typeof t>"u"||!t?null:Dt.createElement("g",{transform:`translate(${r-h.width/2} ${e-h.height/2})`,className:m,visibility:h.width?"visible":"hidden",...l},A&&Dt.createElement("rect",{width:h.width+2*s[0],x:-s[0],y:-s[1],height:h.height+2*s[1],className:"react-flow__edge-textbg",style:i,rx:o,ry:o}),Dt.createElement("text",{className:"react-flow__edge-text",y:h.height/2,dy:"0.3em",ref:c,style:n},t),a)};var jpe=me.memo(Hpe);const _O=r=>({width:r.offsetWidth,height:r.offsetHeight}),e1=(r,e=0,t=1)=>Math.min(Math.max(r,e),t),SO=(r={x:0,y:0},e)=>({x:e1(r.x,e[0][0],e[1][0]),y:e1(r.y,e[0][1],e[1][1])}),dH=(r,e,t)=>r<e?e1(Math.abs(r-e),1,50)/50:r>t?-e1(Math.abs(r-t),1,50)/50:0,LG=(r,e)=>{const t=dH(r.x,35,e.width-35)*20,n=dH(r.y,35,e.height-35)*20;return[t,n]},NG=r=>{var e;return((e=r.getRootNode)==null?void 0:e.call(r))||(window==null?void 0:window.document)},Vpe=(r,e)=>({x:Math.min(r.x,e.x),y:Math.min(r.y,e.y),x2:Math.max(r.x2,e.x2),y2:Math.max(r.y2,e.y2)}),FO=({x:r,y:e,width:t,height:n})=>({x:r,y:e,x2:r+t,y2:e+n}),Kpe=({x:r,y:e,x2:t,y2:n})=>({x:r,y:e,width:t-r,height:n-e}),pH=r=>({...r.positionAbsolute||{x:0,y:0},width:r.width||0,height:r.height||0}),uN=(r,e)=>{const t=Math.max(0,Math.min(r.x+r.width,e.x+e.width)-Math.max(r.x,e.x)),n=Math.max(0,Math.min(r.y+r.height,e.y+e.height)-Math.max(r.y,e.y));return Math.ceil(t*n)},Gpe=r=>Qc(r.width)&&Qc(r.height)&&Qc(r.x)&&Qc(r.y),Qc=r=>!isNaN(r)&&isFinite(r),Oi=Symbol.for("internals"),RG=["Enter"," ","Escape"],zpe=(r,e)=>{},qpe=r=>"nativeEvent"in r;function cN(r){var A,i;const e=qpe(r)?r.nativeEvent:r,t=((i=(A=e.composedPath)==null?void 0:A.call(e))==null?void 0:i[0])||r.target;return["INPUT","SELECT","TEXTAREA"].includes(t==null?void 0:t.nodeName)||(t==null?void 0:t.hasAttribute("contenteditable"))||!!(t!=null&&t.closest(".nokey"))}const PG=r=>"clientX"in r,_m=(r,e)=>{var i,s;const t=PG(r),n=t?r.clientX:(i=r.touches)==null?void 0:i[0].clientX,A=t?r.clientY:(s=r.touches)==null?void 0:s[0].clientY;return{x:n-((e==null?void 0:e.left)??0),y:A-((e==null?void 0:e.top)??0)}},vI=()=>{var r;return typeof navigator<"u"&&((r=navigator==null?void 0:navigator.userAgent)==null?void 0:r.indexOf("Mac"))>=0},q_=({id:r,path:e,labelX:t,labelY:n,label:A,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:a,labelBgBorderRadius:u,style:l,markerEnd:c,markerStart:h,interactionWidth:d=20})=>Dt.createElement(Dt.Fragment,null,Dt.createElement("path",{id:r,style:l,d:e,fill:"none",className:"react-flow__edge-path",markerEnd:c,markerStart:h}),d&&Dt.createElement("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:d,className:"react-flow__edge-interaction"}),A&&Qc(t)&&Qc(n)?Dt.createElement(jpe,{x:t,y:n,label:A,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:a,labelBgBorderRadius:u}):null);q_.displayName="BaseEdge";function yC(r,e,t){return t===void 0?t:n=>{const A=e().edges.find(i=>i.id===r);A&&t(n,{...A})}}function OG({sourceX:r,sourceY:e,targetX:t,targetY:n}){const A=Math.abs(t-r)/2,i=t<r?t+A:t-A,s=Math.abs(n-e)/2,o=n<e?n+s:n-s;return[i,o,A,s]}function kG({sourceX:r,sourceY:e,targetX:t,targetY:n,sourceControlX:A,sourceControlY:i,targetControlX:s,targetControlY:o}){const a=r*.125+A*.375+s*.375+t*.125,u=e*.125+i*.375+o*.375+n*.125,l=Math.abs(a-r),c=Math.abs(u-e);return[a,u,l,c]}var sw;(function(r){r.Strict="strict",r.Loose="loose"})(sw||(sw={}));var Qv;(function(r){r.Free="free",r.Vertical="vertical",r.Horizontal="horizontal"})(Qv||(Qv={}));var zb;(function(r){r.Partial="partial",r.Full="full"})(zb||(zb={}));var Sg;(function(r){r.Bezier="default",r.Straight="straight",r.Step="step",r.SmoothStep="smoothstep",r.SimpleBezier="simplebezier"})(Sg||(Sg={}));var qb;(function(r){r.Arrow="arrow",r.ArrowClosed="arrowclosed"})(qb||(qb={}));var Er;(function(r){r.Left="left",r.Top="top",r.Right="right",r.Bottom="bottom"})(Er||(Er={}));function gH({pos:r,x1:e,y1:t,x2:n,y2:A}){return r===Er.Left||r===Er.Right?[.5*(e+n),t]:[e,.5*(t+A)]}function DG({sourceX:r,sourceY:e,sourcePosition:t=Er.Bottom,targetX:n,targetY:A,targetPosition:i=Er.Top}){const[s,o]=gH({pos:t,x1:r,y1:e,x2:n,y2:A}),[a,u]=gH({pos:i,x1:n,y1:A,x2:r,y2:e}),[l,c,h,d]=kG({sourceX:r,sourceY:e,targetX:n,targetY:A,sourceControlX:s,sourceControlY:o,targetControlX:a,targetControlY:u});return[`M${r},${e} C${s},${o} ${a},${u} ${n},${A}`,l,c,h,d]}const IO=me.memo(({sourceX:r,sourceY:e,targetX:t,targetY:n,sourcePosition:A=Er.Bottom,targetPosition:i=Er.Top,label:s,labelStyle:o,labelShowBg:a,labelBgStyle:u,labelBgPadding:l,labelBgBorderRadius:c,style:h,markerEnd:d,markerStart:m,interactionWidth:g})=>{const[y,v,w]=DG({sourceX:r,sourceY:e,sourcePosition:A,targetX:t,targetY:n,targetPosition:i});return Dt.createElement(q_,{path:y,labelX:v,labelY:w,label:s,labelStyle:o,labelShowBg:a,labelBgStyle:u,labelBgPadding:l,labelBgBorderRadius:c,style:h,markerEnd:d,markerStart:m,interactionWidth:g})});IO.displayName="SimpleBezierEdge";const mH={[Er.Left]:{x:-1,y:0},[Er.Right]:{x:1,y:0},[Er.Top]:{x:0,y:-1},[Er.Bottom]:{x:0,y:1}},Wpe=({source:r,sourcePosition:e=Er.Bottom,target:t})=>e===Er.Left||e===Er.Right?r.x<t.x?{x:1,y:0}:{x:-1,y:0}:r.y<t.y?{x:0,y:1}:{x:0,y:-1},vH=(r,e)=>Math.sqrt(Math.pow(e.x-r.x,2)+Math.pow(e.y-r.y,2));function $pe({source:r,sourcePosition:e=Er.Bottom,target:t,targetPosition:n=Er.Top,center:A,offset:i}){const s=mH[e],o=mH[n],a={x:r.x+s.x*i,y:r.y+s.y*i},u={x:t.x+o.x*i,y:t.y+o.y*i},l=Wpe({source:a,sourcePosition:e,target:u}),c=l.x!==0?"x":"y",h=l[c];let d=[],m,g;const y={x:0,y:0},v={x:0,y:0},[w,b,B,F]=OG({sourceX:r.x,sourceY:r.y,targetX:t.x,targetY:t.y});if(s[c]*o[c]===-1){m=A.x??w,g=A.y??b;const T=[{x:m,y:a.y},{x:m,y:u.y}],U=[{x:a.x,y:g},{x:u.x,y:g}];s[c]===h?d=c==="x"?T:U:d=c==="x"?U:T}else{const T=[{x:a.x,y:u.y}],U=[{x:u.x,y:a.y}];if(c==="x"?d=s.x===h?U:T:d=s.y===h?T:U,e===n){const O=Math.abs(r[c]-t[c]);if(O<=i){const V=Math.min(i-1,i-O);s[c]===h?y[c]=(a[c]>r[c]?-1:1)*V:v[c]=(u[c]>t[c]?-1:1)*V}}if(e!==n){const O=c==="x"?"y":"x",V=s[c]===o[O],$=a[O]>u[O],Y=a[O]<u[O];(s[c]===1&&(!V&&$||V&&Y)||s[c]!==1&&(!V&&Y||V&&$))&&(d=c==="x"?T:U)}const k={x:a.x+y.x,y:a.y+y.y},D={x:u.x+v.x,y:u.y+v.y},_=Math.max(Math.abs(k.x-d[0].x),Math.abs(D.x-d[0].x)),L=Math.max(Math.abs(k.y-d[0].y),Math.abs(D.y-d[0].y));_>=L?(m=(k.x+D.x)/2,g=d[0].y):(m=d[0].x,g=(k.y+D.y)/2)}return[[r,{x:a.x+y.x,y:a.y+y.y},...d,{x:u.x+v.x,y:u.y+v.y},t],m,g,B,F]}function Xpe(r,e,t,n){const A=Math.min(vH(r,e)/2,vH(e,t)/2,n),{x:i,y:s}=e;if(r.x===i&&i===t.x||r.y===s&&s===t.y)return`L${i} ${s}`;if(r.y===s){const u=r.x<t.x?-1:1,l=r.y<t.y?1:-1;return`L ${i+A*u},${s}Q ${i},${s} ${i},${s+A*l}`}const o=r.x<t.x?1:-1,a=r.y<t.y?-1:1;return`L ${i},${s+A*a}Q ${i},${s} ${i+A*o},${s}`}function hN({sourceX:r,sourceY:e,sourcePosition:t=Er.Bottom,targetX:n,targetY:A,targetPosition:i=Er.Top,borderRadius:s=5,centerX:o,centerY:a,offset:u=20}){const[l,c,h,d,m]=$pe({source:{x:r,y:e},sourcePosition:t,target:{x:n,y:A},targetPosition:i,center:{x:o,y:a},offset:u});return[l.reduce((y,v,w)=>{let b="";return w>0&&w<l.length-1?b=Xpe(l[w-1],v,l[w+1],s):b=`${w===0?"M":"L"}${v.x} ${v.y}`,y+=b,y},""),c,h,d,m]}const zx=me.memo(({sourceX:r,sourceY:e,targetX:t,targetY:n,label:A,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:a,labelBgBorderRadius:u,style:l,sourcePosition:c=Er.Bottom,targetPosition:h=Er.Top,markerEnd:d,markerStart:m,pathOptions:g,interactionWidth:y})=>{const[v,w,b]=hN({sourceX:r,sourceY:e,sourcePosition:c,targetX:t,targetY:n,targetPosition:h,borderRadius:g==null?void 0:g.borderRadius,offset:g==null?void 0:g.offset});return Dt.createElement(q_,{path:v,labelX:w,labelY:b,label:A,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:a,labelBgBorderRadius:u,style:l,markerEnd:d,markerStart:m,interactionWidth:y})});zx.displayName="SmoothStepEdge";const xO=me.memo(r=>{var e;return Dt.createElement(zx,{...r,pathOptions:me.useMemo(()=>{var t;return{borderRadius:0,offset:(t=r.pathOptions)==null?void 0:t.offset}},[(e=r.pathOptions)==null?void 0:e.offset])})});xO.displayName="StepEdge";function Ype({sourceX:r,sourceY:e,targetX:t,targetY:n}){const[A,i,s,o]=OG({sourceX:r,sourceY:e,targetX:t,targetY:n});return[`M ${r},${e}L ${t},${n}`,A,i,s,o]}const UO=me.memo(({sourceX:r,sourceY:e,targetX:t,targetY:n,label:A,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:a,labelBgBorderRadius:u,style:l,markerEnd:c,markerStart:h,interactionWidth:d})=>{const[m,g,y]=Ype({sourceX:r,sourceY:e,targetX:t,targetY:n});return Dt.createElement(q_,{path:m,labelX:g,labelY:y,label:A,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:a,labelBgBorderRadius:u,style:l,markerEnd:c,markerStart:h,interactionWidth:d})});UO.displayName="StraightEdge";function vS(r,e){return r>=0?.5*r:e*25*Math.sqrt(-r)}function yH({pos:r,x1:e,y1:t,x2:n,y2:A,c:i}){switch(r){case Er.Left:return[e-vS(e-n,i),t];case Er.Right:return[e+vS(n-e,i),t];case Er.Top:return[e,t-vS(t-A,i)];case Er.Bottom:return[e,t+vS(A-t,i)]}}function TO({sourceX:r,sourceY:e,sourcePosition:t=Er.Bottom,targetX:n,targetY:A,targetPosition:i=Er.Top,curvature:s=.25}){const[o,a]=yH({pos:t,x1:r,y1:e,x2:n,y2:A,c:s}),[u,l]=yH({pos:i,x1:n,y1:A,x2:r,y2:e,c:s}),[c,h,d,m]=kG({sourceX:r,sourceY:e,targetX:n,targetY:A,sourceControlX:o,sourceControlY:a,targetControlX:u,targetControlY:l});return[`M${r},${e} C${o},${a} ${u},${l} ${n},${A}`,c,h,d,m]}const yI=me.memo(({sourceX:r,sourceY:e,targetX:t,targetY:n,sourcePosition:A=Er.Bottom,targetPosition:i=Er.Top,label:s,labelStyle:o,labelShowBg:a,labelBgStyle:u,labelBgPadding:l,labelBgBorderRadius:c,style:h,markerEnd:d,markerStart:m,pathOptions:g,interactionWidth:y})=>{const[v,w,b]=TO({sourceX:r,sourceY:e,sourcePosition:A,targetX:t,targetY:n,targetPosition:i,curvature:g==null?void 0:g.curvature});return Dt.createElement(q_,{path:v,labelX:w,labelY:b,label:s,labelStyle:o,labelShowBg:a,labelBgStyle:u,labelBgPadding:l,labelBgBorderRadius:c,style:h,markerEnd:d,markerStart:m,interactionWidth:y})});yI.displayName="BezierEdge";const QO=me.createContext(null),Jpe=QO.Provider;QO.Consumer;const Zpe=()=>me.useContext(QO),ege=r=>"id"in r&&"source"in r&&"target"in r,tge=({source:r,sourceHandle:e,target:t,targetHandle:n})=>`reactflow__edge-${r}${e||""}-${t}${n||""}`,fN=(r,e)=>typeof r>"u"?"":typeof r=="string"?r:`${e?`${e}__`:""}${Object.keys(r).sort().map(n=>`${n}=${r[n]}`).join("&")}`,rge=(r,e)=>e.some(t=>t.source===r.source&&t.target===r.target&&(t.sourceHandle===r.sourceHandle||!t.sourceHandle&&!r.sourceHandle)&&(t.targetHandle===r.targetHandle||!t.targetHandle&&!r.targetHandle)),MG=(r,e)=>{if(!r.source||!r.target)return e;let t;return ege(r)?t={...r}:t={...r,id:tge(r)},rge(t,e)?e:e.concat(t)},dN=({x:r,y:e},[t,n,A],i,[s,o])=>{const a={x:(r-t)/A,y:(e-n)/A};return i?{x:s*Math.round(a.x/s),y:o*Math.round(a.y/o)}:a},HG=({x:r,y:e},[t,n,A])=>({x:r*A+t,y:e*A+n}),Q0=(r,e=[0,0])=>{if(!r)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const t=(r.width??0)*e[0],n=(r.height??0)*e[1],A={x:r.position.x-t,y:r.position.y-n};return{...A,positionAbsolute:r.positionAbsolute?{x:r.positionAbsolute.x-t,y:r.positionAbsolute.y-n}:A}},LO=(r,e=[0,0])=>{if(r.length===0)return{x:0,y:0,width:0,height:0};const t=r.reduce((n,A)=>{const{x:i,y:s}=Q0(A,e).positionAbsolute;return Vpe(n,FO({x:i,y:s,width:A.width||0,height:A.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Kpe(t)},jG=(r,e,[t,n,A]=[0,0,1],i=!1,s=!1,o=[0,0])=>{const a={x:(e.x-t)/A,y:(e.y-n)/A,width:e.width/A,height:e.height/A},u=[];return r.forEach(l=>{const{width:c,height:h,selectable:d=!0,hidden:m=!1}=l;if(s&&!d||m)return!1;const{positionAbsolute:g}=Q0(l,o),y={x:g.x,y:g.y,width:c||0,height:h||0},v=uN(a,y),w=typeof c>"u"||typeof h>"u"||c===null||h===null,b=i&&v>0,B=(c||0)*(h||0);(w||b||v>=B||l.dragging)&&u.push(l)}),u},VG=(r,e)=>{const t=r.map(n=>n.id);return e.filter(n=>t.includes(n.source)||t.includes(n.target))},KG=(r,e,t,n,A,i=.1)=>{const s=e/(r.width*(1+i)),o=t/(r.height*(1+i)),a=Math.min(s,o),u=e1(a,n,A),l=r.x+r.width/2,c=r.y+r.height/2,h=e/2-l*u,d=t/2-c*u;return{x:h,y:d,zoom:u}},wv=(r,e=0)=>r.transition().duration(e);function wH(r,e,t,n){return(e[t]||[]).reduce((A,i)=>{var s,o;return`${r.id}-${i.id}-${t}`!==n&&A.push({id:i.id||null,type:t,nodeId:r.id,x:(((s=r.positionAbsolute)==null?void 0:s.x)??0)+i.x+i.width/2,y:(((o=r.positionAbsolute)==null?void 0:o.y)??0)+i.y+i.height/2}),A},[])}function nge(r,e,t,n,A,i){const{x:s,y:o}=_m(r),u=e.elementsFromPoint(s,o).find(m=>m.classList.contains("react-flow__handle"));if(u){const m=u.getAttribute("data-nodeid");if(m){const g=NO(void 0,u),y=u.getAttribute("data-handleid"),v=i({nodeId:m,id:y,type:g});if(v){const w=A.find(b=>b.nodeId===m&&b.type===g&&b.id===y);return{handle:{id:y,type:g,nodeId:m,x:(w==null?void 0:w.x)||t.x,y:(w==null?void 0:w.y)||t.y},validHandleResult:v}}}}let l=[],c=1/0;if(A.forEach(m=>{const g=Math.sqrt((m.x-t.x)**2+(m.y-t.y)**2);if(g<=n){const y=i(m);g<=c&&(g<c?l=[{handle:m,validHandleResult:y}]:g===c&&l.push({handle:m,validHandleResult:y}),c=g)}}),!l.length)return{handle:null,validHandleResult:GG()};if(l.length===1)return l[0];const h=l.some(({validHandleResult:m})=>m.isValid),d=l.some(({handle:m})=>m.type==="target");return l.find(({handle:m,validHandleResult:g})=>d?m.type==="target":h?g.isValid:!0)||l[0]}const Age={source:null,target:null,sourceHandle:null,targetHandle:null},GG=()=>({handleDomNode:null,isValid:!1,connection:Age,endHandle:null});function zG(r,e,t,n,A,i,s){const o=A==="target",a=s.querySelector(`.react-flow__handle[data-id="${r==null?void 0:r.nodeId}-${r==null?void 0:r.id}-${r==null?void 0:r.type}"]`),u={...GG(),handleDomNode:a};if(a){const l=NO(void 0,a),c=a.getAttribute("data-nodeid"),h=a.getAttribute("data-handleid"),d=a.classList.contains("connectable"),m=a.classList.contains("connectableend"),g={source:o?c:t,sourceHandle:o?h:n,target:o?t:c,targetHandle:o?n:h};u.connection=g,d&&m&&(e===sw.Strict?o&&l==="source"||!o&&l==="target":c!==t||h!==n)&&(u.endHandle={nodeId:c,handleId:h,type:l},u.isValid=i(g))}return u}function ige({nodes:r,nodeId:e,handleId:t,handleType:n}){return r.reduce((A,i)=>{if(i[Oi]){const{handleBounds:s}=i[Oi];let o=[],a=[];s&&(o=wH(i,s,"source",`${e}-${t}-${n}`),a=wH(i,s,"target",`${e}-${t}-${n}`)),A.push(...o,...a)}return A},[])}function NO(r,e){return r||(e!=null&&e.classList.contains("target")?"target":e!=null&&e.classList.contains("source")?"source":null)}function zT(r){r==null||r.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function sge(r,e){let t=null;return e?t="valid":r&&!e&&(t="invalid"),t}function qG({event:r,handleId:e,nodeId:t,onConnect:n,isTarget:A,getState:i,setState:s,isValidConnection:o,edgeUpdaterType:a,onReconnectEnd:u}){const l=NG(r.target),{connectionMode:c,domNode:h,autoPanOnConnect:d,connectionRadius:m,onConnectStart:g,panBy:y,getNodes:v,cancelConnection:w}=i();let b=0,B;const{x:F,y:N}=_m(r),T=l==null?void 0:l.elementFromPoint(F,N),U=NO(a,T),k=h==null?void 0:h.getBoundingClientRect();if(!k||!U)return;let D,_=_m(r,k),L=!1,O=null,V=!1,$=null;const Y=ige({nodes:v(),nodeId:t,handleId:e,handleType:U}),re=()=>{if(!d)return;const[te,G]=LG(_,k);y({x:te,y:G}),b=requestAnimationFrame(re)};s({connectionPosition:_,connectionStatus:null,connectionNodeId:t,connectionHandleId:e,connectionHandleType:U,connectionStartHandle:{nodeId:t,handleId:e,type:U},connectionEndHandle:null}),g==null||g(r,{nodeId:t,handleId:e,handleType:U});function le(te){const{transform:G}=i();_=_m(te,k);const{handle:H,validHandleResult:z}=nge(te,l,dN(_,G,!1,[1,1]),m,Y,oe=>zG(oe,c,t,e,A?"target":"source",o,l));if(B=H,L||(re(),L=!0),$=z.handleDomNode,O=z.connection,V=z.isValid,s({connectionPosition:B&&V?HG({x:B.x,y:B.y},G):_,connectionStatus:sge(!!B,V),connectionEndHandle:z.endHandle}),!B&&!V&&!$)return zT(D);O.source!==O.target&&$&&(zT(D),D=$,$.classList.add("connecting","react-flow__handle-connecting"),$.classList.toggle("valid",V),$.classList.toggle("react-flow__handle-valid",V))}function ne(te){var G,H;(B||$)&&O&&V&&(n==null||n(O)),(H=(G=i()).onConnectEnd)==null||H.call(G,te),a&&(u==null||u(te)),zT(D),w(),cancelAnimationFrame(b),L=!1,V=!1,O=null,$=null,l.removeEventListener("mousemove",le),l.removeEventListener("mouseup",ne),l.removeEventListener("touchmove",le),l.removeEventListener("touchend",ne)}l.addEventListener("mousemove",le),l.addEventListener("mouseup",ne),l.addEventListener("touchmove",le),l.addEventListener("touchend",ne)}const BH=()=>!0,oge=r=>({connectionStartHandle:r.connectionStartHandle,connectOnClick:r.connectOnClick,noPanClassName:r.noPanClassName}),age=(r,e,t)=>n=>{const{connectionStartHandle:A,connectionEndHandle:i,connectionClickStartHandle:s}=n;return{connecting:(A==null?void 0:A.nodeId)===r&&(A==null?void 0:A.handleId)===e&&(A==null?void 0:A.type)===t||(i==null?void 0:i.nodeId)===r&&(i==null?void 0:i.handleId)===e&&(i==null?void 0:i.type)===t,clickConnecting:(s==null?void 0:s.nodeId)===r&&(s==null?void 0:s.handleId)===e&&(s==null?void 0:s.type)===t}},WG=me.forwardRef(({type:r="source",position:e=Er.Top,isValidConnection:t,isConnectable:n=!0,isConnectableStart:A=!0,isConnectableEnd:i=!0,id:s,onConnect:o,children:a,className:u,onMouseDown:l,onTouchStart:c,...h},d)=>{var k,D;const m=s||null,g=r==="target",y=ea(),v=Zpe(),{connectOnClick:w,noPanClassName:b}=cs(oge,tu),{connecting:B,clickConnecting:F}=cs(age(v,m,r),tu);v||(D=(k=y.getState()).onError)==null||D.call(k,"010",Pp.error010());const N=_=>{const{defaultEdgeOptions:L,onConnect:O,hasDefaultEdges:V}=y.getState(),$={...L,..._};if(V){const{edges:Y,setEdges:re}=y.getState();re(MG($,Y))}O==null||O($),o==null||o($)},T=_=>{if(!v)return;const L=PG(_);A&&(L&&_.button===0||!L)&&qG({event:_,handleId:m,nodeId:v,onConnect:N,isTarget:g,getState:y.getState,setState:y.setState,isValidConnection:t||y.getState().isValidConnection||BH}),L?l==null||l(_):c==null||c(_)},U=_=>{const{onClickConnectStart:L,onClickConnectEnd:O,connectionClickStartHandle:V,connectionMode:$,isValidConnection:Y}=y.getState();if(!v||!V&&!A)return;if(!V){L==null||L(_,{nodeId:v,handleId:m,handleType:r}),y.setState({connectionClickStartHandle:{nodeId:v,type:r,handleId:m}});return}const re=NG(_.target),le=t||Y||BH,{connection:ne,isValid:te}=zG({nodeId:v,id:m,type:r},$,V.nodeId,V.handleId||null,V.type,le,re);te&&N(ne),O==null||O(_),y.setState({connectionClickStartHandle:null})};return Dt.createElement("div",{"data-handleid":m,"data-nodeid":v,"data-handlepos":e,"data-id":`${v}-${m}-${r}`,className:Dc(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",b,u,{source:!g,target:g,connectable:n,connectablestart:A,connectableend:i,connecting:F,connectionindicator:n&&(A&&!B||i&&B)}]),onMouseDown:T,onTouchStart:T,onClick:w?U:void 0,ref:d,...h},a)});WG.displayName="Handle";var _c=me.memo(WG);const $G=({data:r,isConnectable:e,targetPosition:t=Er.Top,sourcePosition:n=Er.Bottom})=>Dt.createElement(Dt.Fragment,null,Dt.createElement(_c,{type:"target",position:t,isConnectable:e}),r==null?void 0:r.label,Dt.createElement(_c,{type:"source",position:n,isConnectable:e}));$G.displayName="DefaultNode";var pN=me.memo($G);const XG=({data:r,isConnectable:e,sourcePosition:t=Er.Bottom})=>Dt.createElement(Dt.Fragment,null,r==null?void 0:r.label,Dt.createElement(_c,{type:"source",position:t,isConnectable:e}));XG.displayName="InputNode";var YG=me.memo(XG);const JG=({data:r,isConnectable:e,targetPosition:t=Er.Top})=>Dt.createElement(Dt.Fragment,null,Dt.createElement(_c,{type:"target",position:t,isConnectable:e}),r==null?void 0:r.label);JG.displayName="OutputNode";var ZG=me.memo(JG);const RO=()=>null;RO.displayName="GroupNode";const lge=r=>({selectedNodes:r.getNodes().filter(e=>e.selected),selectedEdges:r.edges.filter(e=>e.selected).map(e=>({...e}))}),yS=r=>r.id;function uge(r,e){return tu(r.selectedNodes.map(yS),e.selectedNodes.map(yS))&&tu(r.selectedEdges.map(yS),e.selectedEdges.map(yS))}const e3=me.memo(({onSelectionChange:r})=>{const e=ea(),{selectedNodes:t,selectedEdges:n}=cs(lge,uge);return me.useEffect(()=>{const A={nodes:t,edges:n};r==null||r(A),e.getState().onSelectionChange.forEach(i=>i(A))},[t,n,r]),null});e3.displayName="SelectionListener";const cge=r=>!!r.onSelectionChange;function hge({onSelectionChange:r}){const e=cs(cge);return r||e?Dt.createElement(e3,{onSelectionChange:r}):null}const fge=r=>({setNodes:r.setNodes,setEdges:r.setEdges,setDefaultNodesAndEdges:r.setDefaultNodesAndEdges,setMinZoom:r.setMinZoom,setMaxZoom:r.setMaxZoom,setTranslateExtent:r.setTranslateExtent,setNodeExtent:r.setNodeExtent,reset:r.reset});function Jw(r,e){me.useEffect(()=>{typeof r<"u"&&e(r)},[r])}function gn(r,e,t){me.useEffect(()=>{typeof e<"u"&&t({[r]:e})},[e])}const dge=({nodes:r,edges:e,defaultNodes:t,defaultEdges:n,onConnect:A,onConnectStart:i,onConnectEnd:s,onClickConnectStart:o,onClickConnectEnd:a,nodesDraggable:u,nodesConnectable:l,nodesFocusable:c,edgesFocusable:h,edgesUpdatable:d,elevateNodesOnSelect:m,minZoom:g,maxZoom:y,nodeExtent:v,onNodesChange:w,onEdgesChange:b,elementsSelectable:B,connectionMode:F,snapGrid:N,snapToGrid:T,translateExtent:U,connectOnClick:k,defaultEdgeOptions:D,fitView:_,fitViewOptions:L,onNodesDelete:O,onEdgesDelete:V,onNodeDrag:$,onNodeDragStart:Y,onNodeDragStop:re,onSelectionDrag:le,onSelectionDragStart:ne,onSelectionDragStop:te,noPanClassName:G,nodeOrigin:H,rfId:z,autoPanOnConnect:oe,autoPanOnNodeDrag:ae,onError:ie,connectionRadius:pe,isValidConnection:Ce,nodeDragThreshold:Ie})=>{const{setNodes:Qe,setEdges:qe,setDefaultNodesAndEdges:et,setMinZoom:nt,setMaxZoom:pt,setTranslateExtent:Ke,setNodeExtent:Le,reset:Ut}=cs(fge,tu),ke=ea();return me.useEffect(()=>{const Me=n==null?void 0:n.map(it=>({...it,...D}));return et(t,Me),()=>{Ut()}},[]),gn("defaultEdgeOptions",D,ke.setState),gn("connectionMode",F,ke.setState),gn("onConnect",A,ke.setState),gn("onConnectStart",i,ke.setState),gn("onConnectEnd",s,ke.setState),gn("onClickConnectStart",o,ke.setState),gn("onClickConnectEnd",a,ke.setState),gn("nodesDraggable",u,ke.setState),gn("nodesConnectable",l,ke.setState),gn("nodesFocusable",c,ke.setState),gn("edgesFocusable",h,ke.setState),gn("edgesUpdatable",d,ke.setState),gn("elementsSelectable",B,ke.setState),gn("elevateNodesOnSelect",m,ke.setState),gn("snapToGrid",T,ke.setState),gn("snapGrid",N,ke.setState),gn("onNodesChange",w,ke.setState),gn("onEdgesChange",b,ke.setState),gn("connectOnClick",k,ke.setState),gn("fitViewOnInit",_,ke.setState),gn("fitViewOnInitOptions",L,ke.setState),gn("onNodesDelete",O,ke.setState),gn("onEdgesDelete",V,ke.setState),gn("onNodeDrag",$,ke.setState),gn("onNodeDragStart",Y,ke.setState),gn("onNodeDragStop",re,ke.setState),gn("onSelectionDrag",le,ke.setState),gn("onSelectionDragStart",ne,ke.setState),gn("onSelectionDragStop",te,ke.setState),gn("noPanClassName",G,ke.setState),gn("nodeOrigin",H,ke.setState),gn("rfId",z,ke.setState),gn("autoPanOnConnect",oe,ke.setState),gn("autoPanOnNodeDrag",ae,ke.setState),gn("onError",ie,ke.setState),gn("connectionRadius",pe,ke.setState),gn("isValidConnection",Ce,ke.setState),gn("nodeDragThreshold",Ie,ke.setState),Jw(r,Qe),Jw(e,qe),Jw(g,nt),Jw(y,pt),Jw(U,Ke),Jw(v,Le),null},CH={display:"none"},pge={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},t3="react-flow__node-desc",r3="react-flow__edge-desc",gge="react-flow__aria-live",mge=r=>r.ariaLiveMessage;function vge({rfId:r}){const e=cs(mge);return Dt.createElement("div",{id:`${gge}-${r}`,"aria-live":"assertive","aria-atomic":"true",style:pge},e)}function yge({rfId:r,disableKeyboardA11y:e}){return Dt.createElement(Dt.Fragment,null,Dt.createElement("div",{id:`${t3}-${r}`,style:CH},"Press enter or space to select a node.",!e&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),Dt.createElement("div",{id:`${r3}-${r}`,style:CH},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!e&&Dt.createElement(vge,{rfId:r}))}var Wb=(r=null,e={actInsideInputWithModifier:!0})=>{const[t,n]=me.useState(!1),A=me.useRef(!1),i=me.useRef(new Set([])),[s,o]=me.useMemo(()=>{if(r!==null){const u=(Array.isArray(r)?r:[r]).filter(c=>typeof c=="string").map(c=>c.split("+")),l=u.reduce((c,h)=>c.concat(...h),[]);return[u,l]}return[[],[]]},[r]);return me.useEffect(()=>{const a=typeof document<"u"?document:null,u=(e==null?void 0:e.target)||a;if(r!==null){const l=d=>{if(A.current=d.ctrlKey||d.metaKey||d.shiftKey,(!A.current||A.current&&!e.actInsideInputWithModifier)&&cN(d))return!1;const g=EH(d.code,o);i.current.add(d[g]),bH(s,i.current,!1)&&(d.preventDefault(),n(!0))},c=d=>{if((!A.current||A.current&&!e.actInsideInputWithModifier)&&cN(d))return!1;const g=EH(d.code,o);bH(s,i.current,!0)?(n(!1),i.current.clear()):i.current.delete(d[g]),d.key==="Meta"&&i.current.clear(),A.current=!1},h=()=>{i.current.clear(),n(!1)};return u==null||u.addEventListener("keydown",l),u==null||u.addEventListener("keyup",c),window.addEventListener("blur",h),()=>{u==null||u.removeEventListener("keydown",l),u==null||u.removeEventListener("keyup",c),window.removeEventListener("blur",h)}}},[r,n]),t};function bH(r,e,t){return r.filter(n=>t||n.length===e.size).some(n=>n.every(A=>e.has(A)))}function EH(r,e){return e.includes(r)?"code":"key"}function n3(r,e,t,n){var o,a;const A=r.parentNode||r.parentId;if(!A)return t;const i=e.get(A),s=Q0(i,n);return n3(i,e,{x:(t.x??0)+s.x,y:(t.y??0)+s.y,z:(((o=i[Oi])==null?void 0:o.z)??0)>(t.z??0)?((a=i[Oi])==null?void 0:a.z)??0:t.z??0},n)}function A3(r,e,t){r.forEach(n=>{var i;const A=n.parentNode||n.parentId;if(A&&!r.has(A))throw new Error(`Parent node ${A} not found`);if(A||t!=null&&t[n.id]){const{x:s,y:o,z:a}=n3(n,r,{...n.position,z:((i=n[Oi])==null?void 0:i.z)??0},e);n.positionAbsolute={x:s,y:o},n[Oi].z=a,t!=null&&t[n.id]&&(n[Oi].isParent=!0)}})}function qT(r,e,t,n){const A=new Map,i={},s=n?1e3:0;return r.forEach(o=>{var d;const a=(Qc(o.zIndex)?o.zIndex:0)+(o.selected?s:0),u=e.get(o.id),l={...o,positionAbsolute:{x:o.position.x,y:o.position.y}},c=o.parentNode||o.parentId;c&&(i[c]=!0);const h=(u==null?void 0:u.type)&&(u==null?void 0:u.type)!==o.type;Object.defineProperty(l,Oi,{enumerable:!1,value:{handleBounds:h||(d=u==null?void 0:u[Oi])==null?void 0:d.handleBounds,z:a}}),A.set(o.id,l)}),A3(A,t,i),A}function i3(r,e={}){const{getNodes:t,width:n,height:A,minZoom:i,maxZoom:s,d3Zoom:o,d3Selection:a,fitViewOnInitDone:u,fitViewOnInit:l,nodeOrigin:c}=r(),h=e.initial&&!u&&l;if(o&&a&&(h||!e.initial)){const m=t().filter(y=>{var w;const v=e.includeHiddenNodes?y.width&&y.height:!y.hidden;return(w=e.nodes)!=null&&w.length?v&&e.nodes.some(b=>b.id===y.id):v}),g=m.every(y=>y.width&&y.height);if(m.length>0&&g){const y=LO(m,c),{x:v,y:w,zoom:b}=KG(y,n,A,e.minZoom??i,e.maxZoom??s,e.padding??.1),B=Em.translate(v,w).scale(b);return typeof e.duration=="number"&&e.duration>0?o.transform(wv(a,e.duration),B):o.transform(a,B),!0}}return!1}function wge(r,e){return r.forEach(t=>{const n=e.get(t.id);n&&e.set(n.id,{...n,[Oi]:n[Oi],selected:t.selected})}),new Map(e)}function Bge(r,e){return e.map(t=>{const n=r.find(A=>A.id===t.id);return n&&(t.selected=n.selected),t})}function wS({changedNodes:r,changedEdges:e,get:t,set:n}){const{nodeInternals:A,edges:i,onNodesChange:s,onEdgesChange:o,hasDefaultNodes:a,hasDefaultEdges:u}=t();r!=null&&r.length&&(a&&n({nodeInternals:wge(r,A)}),s==null||s(r)),e!=null&&e.length&&(u&&n({edges:Bge(e,i)}),o==null||o(e))}const Zw=()=>{},Cge={zoomIn:Zw,zoomOut:Zw,zoomTo:Zw,getZoom:()=>1,setViewport:Zw,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Zw,fitBounds:Zw,project:r=>r,screenToFlowPosition:r=>r,flowToScreenPosition:r=>r,viewportInitialized:!1},bge=r=>({d3Zoom:r.d3Zoom,d3Selection:r.d3Selection}),Ege=()=>{const r=ea(),{d3Zoom:e,d3Selection:t}=cs(bge,tu);return me.useMemo(()=>t&&e?{zoomIn:A=>e.scaleBy(wv(t,A==null?void 0:A.duration),1.2),zoomOut:A=>e.scaleBy(wv(t,A==null?void 0:A.duration),1/1.2),zoomTo:(A,i)=>e.scaleTo(wv(t,i==null?void 0:i.duration),A),getZoom:()=>r.getState().transform[2],setViewport:(A,i)=>{const[s,o,a]=r.getState().transform,u=Em.translate(A.x??s,A.y??o).scale(A.zoom??a);e.transform(wv(t,i==null?void 0:i.duration),u)},getViewport:()=>{const[A,i,s]=r.getState().transform;return{x:A,y:i,zoom:s}},fitView:A=>i3(r.getState,A),setCenter:(A,i,s)=>{const{width:o,height:a,maxZoom:u}=r.getState(),l=typeof(s==null?void 0:s.zoom)<"u"?s.zoom:u,c=o/2-A*l,h=a/2-i*l,d=Em.translate(c,h).scale(l);e.transform(wv(t,s==null?void 0:s.duration),d)},fitBounds:(A,i)=>{const{width:s,height:o,minZoom:a,maxZoom:u}=r.getState(),{x:l,y:c,zoom:h}=KG(A,s,o,a,u,(i==null?void 0:i.padding)??.1),d=Em.translate(l,c).scale(h);e.transform(wv(t,i==null?void 0:i.duration),d)},project:A=>{const{transform:i,snapToGrid:s,snapGrid:o}=r.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),dN(A,i,s,o)},screenToFlowPosition:A=>{const{transform:i,snapToGrid:s,snapGrid:o,domNode:a}=r.getState();if(!a)return A;const{x:u,y:l}=a.getBoundingClientRect(),c={x:A.x-u,y:A.y-l};return dN(c,i,s,o)},flowToScreenPosition:A=>{const{transform:i,domNode:s}=r.getState();if(!s)return A;const{x:o,y:a}=s.getBoundingClientRect(),u=HG(A,i);return{x:u.x+o,y:u.y+a}},viewportInitialized:!0}:Cge,[e,t])};function s3(){const r=Ege(),e=ea(),t=me.useCallback(()=>e.getState().getNodes().map(g=>({...g})),[]),n=me.useCallback(g=>e.getState().nodeInternals.get(g),[]),A=me.useCallback(()=>{const{edges:g=[]}=e.getState();return g.map(y=>({...y}))},[]),i=me.useCallback(g=>{const{edges:y=[]}=e.getState();return y.find(v=>v.id===g)},[]),s=me.useCallback(g=>{const{getNodes:y,setNodes:v,hasDefaultNodes:w,onNodesChange:b}=e.getState(),B=y(),F=typeof g=="function"?g(B):g;if(w)v(F);else if(b){const N=F.length===0?B.map(T=>({type:"remove",id:T.id})):F.map(T=>({item:T,type:"reset"}));b(N)}},[]),o=me.useCallback(g=>{const{edges:y=[],setEdges:v,hasDefaultEdges:w,onEdgesChange:b}=e.getState(),B=typeof g=="function"?g(y):g;if(w)v(B);else if(b){const F=B.length===0?y.map(N=>({type:"remove",id:N.id})):B.map(N=>({item:N,type:"reset"}));b(F)}},[]),a=me.useCallback(g=>{const y=Array.isArray(g)?g:[g],{getNodes:v,setNodes:w,hasDefaultNodes:b,onNodesChange:B}=e.getState();if(b){const N=[...v(),...y];w(N)}else if(B){const F=y.map(N=>({item:N,type:"add"}));B(F)}},[]),u=me.useCallback(g=>{const y=Array.isArray(g)?g:[g],{edges:v=[],setEdges:w,hasDefaultEdges:b,onEdgesChange:B}=e.getState();if(b)w([...v,...y]);else if(B){const F=y.map(N=>({item:N,type:"add"}));B(F)}},[]),l=me.useCallback(()=>{const{getNodes:g,edges:y=[],transform:v}=e.getState(),[w,b,B]=v;return{nodes:g().map(F=>({...F})),edges:y.map(F=>({...F})),viewport:{x:w,y:b,zoom:B}}},[]),c=me.useCallback(({nodes:g,edges:y})=>{const{nodeInternals:v,getNodes:w,edges:b,hasDefaultNodes:B,hasDefaultEdges:F,onNodesDelete:N,onEdgesDelete:T,onNodesChange:U,onEdgesChange:k}=e.getState(),D=(g||[]).map($=>$.id),_=(y||[]).map($=>$.id),L=w().reduce(($,Y)=>{const re=Y.parentNode||Y.parentId,le=!D.includes(Y.id)&&re&&$.find(te=>te.id===re);return(typeof Y.deletable=="boolean"?Y.deletable:!0)&&(D.includes(Y.id)||le)&&$.push(Y),$},[]),O=b.filter($=>typeof $.deletable=="boolean"?$.deletable:!0),V=O.filter($=>_.includes($.id));if(L||V){const $=VG(L,O),Y=[...V,...$],re=Y.reduce((le,ne)=>(le.includes(ne.id)||le.push(ne.id),le),[]);if((F||B)&&(F&&e.setState({edges:b.filter(le=>!re.includes(le.id))}),B&&(L.forEach(le=>{v.delete(le.id)}),e.setState({nodeInternals:new Map(v)}))),re.length>0&&(T==null||T(Y),k&&k(re.map(le=>({id:le,type:"remove"})))),L.length>0&&(N==null||N(L),U)){const le=L.map(ne=>({id:ne.id,type:"remove"}));U(le)}}},[]),h=me.useCallback(g=>{const y=Gpe(g),v=y?null:e.getState().nodeInternals.get(g.id);return!y&&!v?[null,null,y]:[y?g:pH(v),v,y]},[]),d=me.useCallback((g,y=!0,v)=>{const[w,b,B]=h(g);return w?(v||e.getState().getNodes()).filter(F=>{if(!B&&(F.id===b.id||!F.positionAbsolute))return!1;const N=pH(F),T=uN(N,w);return y&&T>0||T>=w.width*w.height}):[]},[]),m=me.useCallback((g,y,v=!0)=>{const[w]=h(g);if(!w)return!1;const b=uN(w,y);return v&&b>0||b>=w.width*w.height},[]);return me.useMemo(()=>({...r,getNodes:t,getNode:n,getEdges:A,getEdge:i,setNodes:s,setEdges:o,addNodes:a,addEdges:u,toObject:l,deleteElements:c,getIntersectingNodes:d,isNodeIntersecting:m}),[r,t,n,A,i,s,o,a,u,l,c,d,m])}const _ge={actInsideInputWithModifier:!1};var Sge=({deleteKeyCode:r,multiSelectionKeyCode:e})=>{const t=ea(),{deleteElements:n}=s3(),A=Wb(r,_ge),i=Wb(e);me.useEffect(()=>{if(A){const{edges:s,getNodes:o}=t.getState(),a=o().filter(l=>l.selected),u=s.filter(l=>l.selected);n({nodes:a,edges:u}),t.setState({nodesSelectionActive:!1})}},[A]),me.useEffect(()=>{t.setState({multiSelectionActive:i})},[i])};function Fge(r){const e=ea();me.useEffect(()=>{let t;const n=()=>{var i,s;if(!r.current)return;const A=_O(r.current);(A.height===0||A.width===0)&&((s=(i=e.getState()).onError)==null||s.call(i,"004",Pp.error004())),e.setState({width:A.width||500,height:A.height||500})};return n(),window.addEventListener("resize",n),r.current&&(t=new ResizeObserver(()=>n()),t.observe(r.current)),()=>{window.removeEventListener("resize",n),t&&r.current&&t.unobserve(r.current)}},[])}const PO={position:"absolute",width:"100%",height:"100%",top:0,left:0},Ige=(r,e)=>r.x!==e.x||r.y!==e.y||r.zoom!==e.k,BS=r=>({x:r.x,y:r.y,zoom:r.k}),e0=(r,e)=>r.target.closest(`.${e}`),_H=(r,e)=>e===2&&Array.isArray(r)&&r.includes(2),SH=r=>{const e=r.ctrlKey&&vI()?10:1;return-r.deltaY*(r.deltaMode===1?.05:r.deltaMode?1:.002)*e},xge=r=>({d3Zoom:r.d3Zoom,d3Selection:r.d3Selection,d3ZoomHandler:r.d3ZoomHandler,userSelectionActive:r.userSelectionActive}),Uge=({onMove:r,onMoveStart:e,onMoveEnd:t,onPaneContextMenu:n,zoomOnScroll:A=!0,zoomOnPinch:i=!0,panOnScroll:s=!1,panOnScrollSpeed:o=.5,panOnScrollMode:a=Qv.Free,zoomOnDoubleClick:u=!0,elementsSelectable:l,panOnDrag:c=!0,defaultViewport:h,translateExtent:d,minZoom:m,maxZoom:g,zoomActivationKeyCode:y,preventScrolling:v=!0,children:w,noWheelClassName:b,noPanClassName:B})=>{const F=me.useRef(),N=ea(),T=me.useRef(!1),U=me.useRef(!1),k=me.useRef(null),D=me.useRef({x:0,y:0,zoom:0}),{d3Zoom:_,d3Selection:L,d3ZoomHandler:O,userSelectionActive:V}=cs(xge,tu),$=Wb(y),Y=me.useRef(0),re=me.useRef(!1),le=me.useRef();return Fge(k),me.useEffect(()=>{if(k.current){const ne=k.current.getBoundingClientRect(),te=Ppe().scaleExtent([m,g]).translateExtent(d),G=Lh(k.current).call(te),H=Em.translate(h.x,h.y).scale(e1(h.zoom,m,g)),z=[[0,0],[ne.width,ne.height]],oe=te.constrain()(H,z,d);te.transform(G,oe),te.wheelDelta(SH),N.setState({d3Zoom:te,d3Selection:G,d3ZoomHandler:G.on("wheel.zoom"),transform:[oe.x,oe.y,oe.k],domNode:k.current.closest(".react-flow")})}},[]),me.useEffect(()=>{L&&_&&(s&&!$&&!V?L.on("wheel.zoom",ne=>{if(e0(ne,b))return!1;ne.preventDefault(),ne.stopImmediatePropagation();const te=L.property("__zoom").k||1;if(ne.ctrlKey&&i){const Ce=Sf(ne),Ie=SH(ne),Qe=te*Math.pow(2,Ie);_.scaleTo(L,Qe,Ce,ne);return}const G=ne.deltaMode===1?20:1;let H=a===Qv.Vertical?0:ne.deltaX*G,z=a===Qv.Horizontal?0:ne.deltaY*G;!vI()&&ne.shiftKey&&a!==Qv.Vertical&&(H=ne.deltaY*G,z=0),_.translateBy(L,-(H/te)*o,-(z/te)*o,{internal:!0});const oe=BS(L.property("__zoom")),{onViewportChangeStart:ae,onViewportChange:ie,onViewportChangeEnd:pe}=N.getState();clearTimeout(le.current),re.current||(re.current=!0,e==null||e(ne,oe),ae==null||ae(oe)),re.current&&(r==null||r(ne,oe),ie==null||ie(oe),le.current=setTimeout(()=>{t==null||t(ne,oe),pe==null||pe(oe),re.current=!1},150))},{passive:!1}):typeof O<"u"&&L.on("wheel.zoom",function(ne,te){if(!v&&ne.type==="wheel"&&!ne.ctrlKey||e0(ne,b))return null;ne.preventDefault(),O.call(this,ne,te)},{passive:!1}))},[V,s,a,L,_,O,$,i,v,b,e,r,t]),me.useEffect(()=>{_&&_.on("start",ne=>{var H,z;if(!ne.sourceEvent||ne.sourceEvent.internal)return null;Y.current=(H=ne.sourceEvent)==null?void 0:H.button;const{onViewportChangeStart:te}=N.getState(),G=BS(ne.transform);T.current=!0,D.current=G,((z=ne.sourceEvent)==null?void 0:z.type)==="mousedown"&&N.setState({paneDragging:!0}),te==null||te(G),e==null||e(ne.sourceEvent,G)})},[_,e]),me.useEffect(()=>{_&&(V&&!T.current?_.on("zoom",null):V||_.on("zoom",ne=>{var G;const{onViewportChange:te}=N.getState();if(N.setState({transform:[ne.transform.x,ne.transform.y,ne.transform.k]}),U.current=!!(n&&_H(c,Y.current??0)),(r||te)&&!((G=ne.sourceEvent)!=null&&G.internal)){const H=BS(ne.transform);te==null||te(H),r==null||r(ne.sourceEvent,H)}}))},[V,_,r,c,n]),me.useEffect(()=>{_&&_.on("end",ne=>{if(!ne.sourceEvent||ne.sourceEvent.internal)return null;const{onViewportChangeEnd:te}=N.getState();if(T.current=!1,N.setState({paneDragging:!1}),n&&_H(c,Y.current??0)&&!U.current&&n(ne.sourceEvent),U.current=!1,(t||te)&&Ige(D.current,ne.transform)){const G=BS(ne.transform);D.current=G,clearTimeout(F.current),F.current=setTimeout(()=>{te==null||te(G),t==null||t(ne.sourceEvent,G)},s?150:0)}})},[_,s,c,t,n]),me.useEffect(()=>{_&&_.filter(ne=>{const te=$||A,G=i&&ne.ctrlKey;if((c===!0||Array.isArray(c)&&c.includes(1))&&ne.button===1&&ne.type==="mousedown"&&(e0(ne,"react-flow__node")||e0(ne,"react-flow__edge")))return!0;if(!c&&!te&&!s&&!u&&!i||V||!u&&ne.type==="dblclick"||e0(ne,b)&&ne.type==="wheel"||e0(ne,B)&&(ne.type!=="wheel"||s&&ne.type==="wheel"&&!$)||!i&&ne.ctrlKey&&ne.type==="wheel"||!te&&!s&&!G&&ne.type==="wheel"||!c&&(ne.type==="mousedown"||ne.type==="touchstart")||Array.isArray(c)&&!c.includes(ne.button)&&ne.type==="mousedown")return!1;const H=Array.isArray(c)&&c.includes(ne.button)||!ne.button||ne.button<=1;return(!ne.ctrlKey||ne.type==="wheel")&&H})},[V,_,A,i,s,u,c,l,$]),Dt.createElement("div",{className:"react-flow__renderer",ref:k,style:PO},w)},Tge=r=>({userSelectionActive:r.userSelectionActive,userSelectionRect:r.userSelectionRect});function Qge(){const{userSelectionActive:r,userSelectionRect:e}=cs(Tge,tu);return r&&e?Dt.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}function FH(r,e){const t=e.parentNode||e.parentId,n=r.find(A=>A.id===t);if(n){const A=e.position.x+e.width-n.width,i=e.position.y+e.height-n.height;if(A>0||i>0||e.position.x<0||e.position.y<0){if(n.style={...n.style},n.style.width=n.style.width??n.width,n.style.height=n.style.height??n.height,A>0&&(n.style.width+=A),i>0&&(n.style.height+=i),e.position.x<0){const s=Math.abs(e.position.x);n.position.x=n.position.x-s,n.style.width+=s,e.position.x=0}if(e.position.y<0){const s=Math.abs(e.position.y);n.position.y=n.position.y-s,n.style.height+=s,e.position.y=0}n.width=n.style.width,n.height=n.style.height}}}function o3(r,e){if(r.some(n=>n.type==="reset"))return r.filter(n=>n.type==="reset").map(n=>n.item);const t=r.filter(n=>n.type==="add").map(n=>n.item);return e.reduce((n,A)=>{const i=r.filter(o=>o.id===A.id);if(i.length===0)return n.push(A),n;const s={...A};for(const o of i)if(o)switch(o.type){case"select":{s.selected=o.selected;break}case"position":{typeof o.position<"u"&&(s.position=o.position),typeof o.positionAbsolute<"u"&&(s.positionAbsolute=o.positionAbsolute),typeof o.dragging<"u"&&(s.dragging=o.dragging),s.expandParent&&FH(n,s);break}case"dimensions":{typeof o.dimensions<"u"&&(s.width=o.dimensions.width,s.height=o.dimensions.height),typeof o.updateStyle<"u"&&(s.style={...s.style||{},...o.dimensions}),typeof o.resizing=="boolean"&&(s.resizing=o.resizing),s.expandParent&&FH(n,s);break}case"remove":return n}return n.push(s),n},t)}function a3(r,e){return o3(r,e)}function Lge(r,e){return o3(r,e)}const yg=(r,e)=>({id:r,type:"select",selected:e});function B0(r,e){return r.reduce((t,n)=>{const A=e.includes(n.id);return!n.selected&&A?(n.selected=!0,t.push(yg(n.id,!0))):n.selected&&!A&&(n.selected=!1,t.push(yg(n.id,!1))),t},[])}const WT=(r,e)=>t=>{t.target===e.current&&(r==null||r(t))},Nge=r=>({userSelectionActive:r.userSelectionActive,elementsSelectable:r.elementsSelectable,dragging:r.paneDragging}),l3=me.memo(({isSelecting:r,selectionMode:e=zb.Full,panOnDrag:t,onSelectionStart:n,onSelectionEnd:A,onPaneClick:i,onPaneContextMenu:s,onPaneScroll:o,onPaneMouseEnter:a,onPaneMouseMove:u,onPaneMouseLeave:l,children:c})=>{const h=me.useRef(null),d=ea(),m=me.useRef(0),g=me.useRef(0),y=me.useRef(),{userSelectionActive:v,elementsSelectable:w,dragging:b}=cs(Nge,tu),B=()=>{d.setState({userSelectionActive:!1,userSelectionRect:null}),m.current=0,g.current=0},F=O=>{i==null||i(O),d.getState().resetSelectedElements(),d.setState({nodesSelectionActive:!1})},N=O=>{if(Array.isArray(t)&&(t!=null&&t.includes(2))){O.preventDefault();return}s==null||s(O)},T=o?O=>o(O):void 0,U=O=>{const{resetSelectedElements:V,domNode:$}=d.getState();if(y.current=$==null?void 0:$.getBoundingClientRect(),!w||!r||O.button!==0||O.target!==h.current||!y.current)return;const{x:Y,y:re}=_m(O,y.current);V(),d.setState({userSelectionRect:{width:0,height:0,startX:Y,startY:re,x:Y,y:re}}),n==null||n(O)},k=O=>{const{userSelectionRect:V,nodeInternals:$,edges:Y,transform:re,onNodesChange:le,onEdgesChange:ne,nodeOrigin:te,getNodes:G}=d.getState();if(!r||!y.current||!V)return;d.setState({userSelectionActive:!0,nodesSelectionActive:!1});const H=_m(O,y.current),z=V.startX??0,oe=V.startY??0,ae={...V,x:H.x<z?H.x:z,y:H.y<oe?H.y:oe,width:Math.abs(H.x-z),height:Math.abs(H.y-oe)},ie=G(),pe=jG($,ae,re,e===zb.Partial,!0,te),Ce=VG(pe,Y).map(Qe=>Qe.id),Ie=pe.map(Qe=>Qe.id);if(m.current!==Ie.length){m.current=Ie.length;const Qe=B0(ie,Ie);Qe.length&&(le==null||le(Qe))}if(g.current!==Ce.length){g.current=Ce.length;const Qe=B0(Y,Ce);Qe.length&&(ne==null||ne(Qe))}d.setState({userSelectionRect:ae})},D=O=>{if(O.button!==0)return;const{userSelectionRect:V}=d.getState();!v&&V&&O.target===h.current&&(F==null||F(O)),d.setState({nodesSelectionActive:m.current>0}),B(),A==null||A(O)},_=O=>{v&&(d.setState({nodesSelectionActive:m.current>0}),A==null||A(O)),B()},L=w&&(r||v);return Dt.createElement("div",{className:Dc(["react-flow__pane",{dragging:b,selection:r}]),onClick:L?void 0:WT(F,h),onContextMenu:WT(N,h),onWheel:WT(T,h),onMouseEnter:L?void 0:a,onMouseDown:L?U:void 0,onMouseMove:L?k:u,onMouseUp:L?D:void 0,onMouseLeave:L?_:l,ref:h,style:PO},c,Dt.createElement(Qge,null))});l3.displayName="Pane";function u3(r,e){const t=r.parentNode||r.parentId;if(!t)return!1;const n=e.get(t);return n?n.selected?!0:u3(n,e):!1}function IH(r,e,t){let n=r;do{if(n!=null&&n.matches(e))return!0;if(n===t.current)return!1;n=n.parentElement}while(n);return!1}function Rge(r,e,t,n){return Array.from(r.values()).filter(A=>(A.selected||A.id===n)&&(!A.parentNode||A.parentId||!u3(A,r))&&(A.draggable||e&&typeof A.draggable>"u")).map(A=>{var i,s;return{id:A.id,position:A.position||{x:0,y:0},positionAbsolute:A.positionAbsolute||{x:0,y:0},distance:{x:t.x-(((i=A.positionAbsolute)==null?void 0:i.x)??0),y:t.y-(((s=A.positionAbsolute)==null?void 0:s.y)??0)},delta:{x:0,y:0},extent:A.extent,parentNode:A.parentNode||A.parentId,parentId:A.parentNode||A.parentId,width:A.width,height:A.height,expandParent:A.expandParent}})}function Pge(r,e){return!e||e==="parent"?e:[e[0],[e[1][0]-(r.width||0),e[1][1]-(r.height||0)]]}function c3(r,e,t,n,A=[0,0],i){const s=Pge(r,r.extent||n);let o=s;const a=r.parentNode||r.parentId;if(r.extent==="parent"&&!r.expandParent)if(a&&r.width&&r.height){const c=t.get(a),{x:h,y:d}=Q0(c,A).positionAbsolute;o=c&&Qc(h)&&Qc(d)&&Qc(c.width)&&Qc(c.height)?[[h+r.width*A[0],d+r.height*A[1]],[h+c.width-r.width+r.width*A[0],d+c.height-r.height+r.height*A[1]]]:o}else i==null||i("005",Pp.error005()),o=s;else if(r.extent&&a&&r.extent!=="parent"){const c=t.get(a),{x:h,y:d}=Q0(c,A).positionAbsolute;o=[[r.extent[0][0]+h,r.extent[0][1]+d],[r.extent[1][0]+h,r.extent[1][1]+d]]}let u={x:0,y:0};if(a){const c=t.get(a);u=Q0(c,A).positionAbsolute}const l=o&&o!=="parent"?SO(e,o):e;return{position:{x:l.x-u.x,y:l.y-u.y},positionAbsolute:l}}function $T({nodeId:r,dragItems:e,nodeInternals:t}){const n=e.map(A=>({...t.get(A.id),position:A.position,positionAbsolute:A.positionAbsolute}));return[r?n.find(A=>A.id===r):n[0],n]}const xH=(r,e,t,n)=>{const A=e.querySelectorAll(r);if(!A||!A.length)return null;const i=Array.from(A),s=e.getBoundingClientRect(),o={x:s.width*n[0],y:s.height*n[1]};return i.map(a=>{const u=a.getBoundingClientRect();return{id:a.getAttribute("data-handleid"),position:a.getAttribute("data-handlepos"),x:(u.left-s.left-o.x)/t,y:(u.top-s.top-o.y)/t,..._O(a)}})};function wC(r,e,t){return t===void 0?t:n=>{const A=e().nodeInternals.get(r);A&&t(n,{...A})}}function gN({id:r,store:e,unselect:t=!1,nodeRef:n}){const{addSelectedNodes:A,unselectNodesAndEdges:i,multiSelectionActive:s,nodeInternals:o,onError:a}=e.getState(),u=o.get(r);if(!u){a==null||a("012",Pp.error012(r));return}e.setState({nodesSelectionActive:!1}),u.selected?(t||u.selected&&s)&&(i({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var l;return(l=n==null?void 0:n.current)==null?void 0:l.blur()})):A([r])}function Oge(){const r=ea();return me.useCallback(({sourceEvent:t})=>{const{transform:n,snapGrid:A,snapToGrid:i}=r.getState(),s=t.touches?t.touches[0].clientX:t.clientX,o=t.touches?t.touches[0].clientY:t.clientY,a={x:(s-n[0])/n[2],y:(o-n[1])/n[2]};return{xSnapped:i?A[0]*Math.round(a.x/A[0]):a.x,ySnapped:i?A[1]*Math.round(a.y/A[1]):a.y,...a}},[])}function XT(r){return(e,t,n)=>r==null?void 0:r(e,n)}function h3({nodeRef:r,disabled:e=!1,noDragClassName:t,handleSelector:n,nodeId:A,isSelectable:i,selectNodesOnDrag:s}){const o=ea(),[a,u]=me.useState(!1),l=me.useRef([]),c=me.useRef({x:null,y:null}),h=me.useRef(0),d=me.useRef(null),m=me.useRef({x:0,y:0}),g=me.useRef(null),y=me.useRef(!1),v=me.useRef(!1),w=me.useRef(!1),b=Oge();return me.useEffect(()=>{if(r!=null&&r.current){const B=Lh(r.current),F=({x:U,y:k})=>{const{nodeInternals:D,onNodeDrag:_,onSelectionDrag:L,updateNodePositions:O,nodeExtent:V,snapGrid:$,snapToGrid:Y,nodeOrigin:re,onError:le}=o.getState();c.current={x:U,y:k};let ne=!1,te={x:0,y:0,x2:0,y2:0};if(l.current.length>1&&V){const H=LO(l.current,re);te=FO(H)}if(l.current=l.current.map(H=>{const z={x:U-H.distance.x,y:k-H.distance.y};Y&&(z.x=$[0]*Math.round(z.x/$[0]),z.y=$[1]*Math.round(z.y/$[1]));const oe=[[V[0][0],V[0][1]],[V[1][0],V[1][1]]];l.current.length>1&&V&&!H.extent&&(oe[0][0]=H.positionAbsolute.x-te.x+V[0][0],oe[1][0]=H.positionAbsolute.x+(H.width??0)-te.x2+V[1][0],oe[0][1]=H.positionAbsolute.y-te.y+V[0][1],oe[1][1]=H.positionAbsolute.y+(H.height??0)-te.y2+V[1][1]);const ae=c3(H,z,D,oe,re,le);return ne=ne||H.position.x!==ae.position.x||H.position.y!==ae.position.y,H.position=ae.position,H.positionAbsolute=ae.positionAbsolute,H}),!ne)return;O(l.current,!0,!0),u(!0);const G=A?_:XT(L);if(G&&g.current){const[H,z]=$T({nodeId:A,dragItems:l.current,nodeInternals:D});G(g.current,H,z)}},N=()=>{if(!d.current)return;const[U,k]=LG(m.current,d.current);if(U!==0||k!==0){const{transform:D,panBy:_}=o.getState();c.current.x=(c.current.x??0)-U/D[2],c.current.y=(c.current.y??0)-k/D[2],_({x:U,y:k})&&F(c.current)}h.current=requestAnimationFrame(N)},T=U=>{var re;const{nodeInternals:k,multiSelectionActive:D,nodesDraggable:_,unselectNodesAndEdges:L,onNodeDragStart:O,onSelectionDragStart:V}=o.getState();v.current=!0;const $=A?O:XT(V);(!s||!i)&&!D&&A&&((re=k.get(A))!=null&&re.selected||L()),A&&i&&s&&gN({id:A,store:o,nodeRef:r});const Y=b(U);if(c.current=Y,l.current=Rge(k,_,Y,A),$&&l.current){const[le,ne]=$T({nodeId:A,dragItems:l.current,nodeInternals:k});$(U.sourceEvent,le,ne)}};if(e)B.on(".drag",null);else{const U=zfe().on("start",k=>{const{domNode:D,nodeDragThreshold:_}=o.getState();_===0&&T(k),w.current=!1;const L=b(k);c.current=L,d.current=(D==null?void 0:D.getBoundingClientRect())||null,m.current=_m(k.sourceEvent,d.current)}).on("drag",k=>{var O,V;const D=b(k),{autoPanOnNodeDrag:_,nodeDragThreshold:L}=o.getState();if(k.sourceEvent.type==="touchmove"&&k.sourceEvent.touches.length>1&&(w.current=!0),!w.current){if(!y.current&&v.current&&_&&(y.current=!0,N()),!v.current){const $=D.xSnapped-(((O=c==null?void 0:c.current)==null?void 0:O.x)??0),Y=D.ySnapped-(((V=c==null?void 0:c.current)==null?void 0:V.y)??0);Math.sqrt($*$+Y*Y)>L&&T(k)}(c.current.x!==D.xSnapped||c.current.y!==D.ySnapped)&&l.current&&v.current&&(g.current=k.sourceEvent,m.current=_m(k.sourceEvent,d.current),F(D))}}).on("end",k=>{if(!(!v.current||w.current)&&(u(!1),y.current=!1,v.current=!1,cancelAnimationFrame(h.current),l.current)){const{updateNodePositions:D,nodeInternals:_,onNodeDragStop:L,onSelectionDragStop:O}=o.getState(),V=A?L:XT(O);if(D(l.current,!1,!1),V){const[$,Y]=$T({nodeId:A,dragItems:l.current,nodeInternals:_});V(k.sourceEvent,$,Y)}}}).filter(k=>{const D=k.target;return!k.button&&(!t||!IH(D,`.${t}`,r))&&(!n||IH(D,n,r))});return B.call(U),()=>{B.on(".drag",null)}}}},[r,e,t,n,i,o,A,s,b]),a}function f3(){const r=ea();return me.useCallback(t=>{const{nodeInternals:n,nodeExtent:A,updateNodePositions:i,getNodes:s,snapToGrid:o,snapGrid:a,onError:u,nodesDraggable:l}=r.getState(),c=s().filter(w=>w.selected&&(w.draggable||l&&typeof w.draggable>"u")),h=o?a[0]:5,d=o?a[1]:5,m=t.isShiftPressed?4:1,g=t.x*h*m,y=t.y*d*m,v=c.map(w=>{if(w.positionAbsolute){const b={x:w.positionAbsolute.x+g,y:w.positionAbsolute.y+y};o&&(b.x=a[0]*Math.round(b.x/a[0]),b.y=a[1]*Math.round(b.y/a[1]));const{positionAbsolute:B,position:F}=c3(w,b,n,A,void 0,u);w.position=F,w.positionAbsolute=B}return w});i(v,!0,!1)},[])}const L0={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var BC=r=>{const e=({id:t,type:n,data:A,xPos:i,yPos:s,xPosOrigin:o,yPosOrigin:a,selected:u,onClick:l,onMouseEnter:c,onMouseMove:h,onMouseLeave:d,onContextMenu:m,onDoubleClick:g,style:y,className:v,isDraggable:w,isSelectable:b,isConnectable:B,isFocusable:F,selectNodesOnDrag:N,sourcePosition:T,targetPosition:U,hidden:k,resizeObserver:D,dragHandle:_,zIndex:L,isParent:O,noDragClassName:V,noPanClassName:$,initialized:Y,disableKeyboardA11y:re,ariaLabel:le,rfId:ne,hasHandleBounds:te})=>{const G=ea(),H=me.useRef(null),z=me.useRef(null),oe=me.useRef(T),ae=me.useRef(U),ie=me.useRef(n),pe=b||w||l||c||h||d,Ce=f3(),Ie=wC(t,G.getState,c),Qe=wC(t,G.getState,h),qe=wC(t,G.getState,d),et=wC(t,G.getState,m),nt=wC(t,G.getState,g),pt=Ut=>{const{nodeDragThreshold:ke}=G.getState();if(b&&(!N||!w||ke>0)&&gN({id:t,store:G,nodeRef:H}),l){const Me=G.getState().nodeInternals.get(t);Me&&l(Ut,{...Me})}},Ke=Ut=>{if(!cN(Ut)&&!re)if(RG.includes(Ut.key)&&b){const ke=Ut.key==="Escape";gN({id:t,store:G,unselect:ke,nodeRef:H})}else w&&u&&Object.prototype.hasOwnProperty.call(L0,Ut.key)&&(G.setState({ariaLiveMessage:`Moved selected node ${Ut.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~i}, y: ${~~s}`}),Ce({x:L0[Ut.key].x,y:L0[Ut.key].y,isShiftPressed:Ut.shiftKey}))};me.useEffect(()=>()=>{z.current&&(D==null||D.unobserve(z.current),z.current=null)},[]),me.useEffect(()=>{if(H.current&&!k){const Ut=H.current;(!Y||!te||z.current!==Ut)&&(z.current&&(D==null||D.unobserve(z.current)),D==null||D.observe(Ut),z.current=Ut)}},[k,Y,te]),me.useEffect(()=>{const Ut=ie.current!==n,ke=oe.current!==T,Me=ae.current!==U;H.current&&(Ut||ke||Me)&&(Ut&&(ie.current=n),ke&&(oe.current=T),Me&&(ae.current=U),G.getState().updateNodeDimensions([{id:t,nodeElement:H.current,forceUpdate:!0}]))},[t,n,T,U]);const Le=h3({nodeRef:H,disabled:k||!w,noDragClassName:V,handleSelector:_,nodeId:t,isSelectable:b,selectNodesOnDrag:N});return k?null:Dt.createElement("div",{className:Dc(["react-flow__node",`react-flow__node-${n}`,{[$]:w},v,{selected:u,selectable:b,parent:O,dragging:Le}]),ref:H,style:{zIndex:L,transform:`translate(${o}px,${a}px)`,pointerEvents:pe?"all":"none",visibility:Y?"visible":"hidden",...y},"data-id":t,"data-testid":`rf__node-${t}`,onMouseEnter:Ie,onMouseMove:Qe,onMouseLeave:qe,onContextMenu:et,onClick:pt,onDoubleClick:nt,onKeyDown:F?Ke:void 0,tabIndex:F?0:void 0,role:F?"button":void 0,"aria-describedby":re?void 0:`${t3}-${ne}`,"aria-label":le},Dt.createElement(Jpe,{value:t},Dt.createElement(r,{id:t,data:A,type:n,xPos:i,yPos:s,selected:u,isConnectable:B,sourcePosition:T,targetPosition:U,dragging:Le,dragHandle:_,zIndex:L})))};return e.displayName="NodeWrapper",me.memo(e)};const kge=r=>{const e=r.getNodes().filter(t=>t.selected);return{...LO(e,r.nodeOrigin),transformString:`translate(${r.transform[0]}px,${r.transform[1]}px) scale(${r.transform[2]})`,userSelectionActive:r.userSelectionActive}};function Dge({onSelectionContextMenu:r,noPanClassName:e,disableKeyboardA11y:t}){const n=ea(),{width:A,height:i,x:s,y:o,transformString:a,userSelectionActive:u}=cs(kge,tu),l=f3(),c=me.useRef(null);if(me.useEffect(()=>{var m;t||(m=c.current)==null||m.focus({preventScroll:!0})},[t]),h3({nodeRef:c}),u||!A||!i)return null;const h=r?m=>{const g=n.getState().getNodes().filter(y=>y.selected);r(m,g)}:void 0,d=m=>{Object.prototype.hasOwnProperty.call(L0,m.key)&&l({x:L0[m.key].x,y:L0[m.key].y,isShiftPressed:m.shiftKey})};return Dt.createElement("div",{className:Dc(["react-flow__nodesselection","react-flow__container",e]),style:{transform:a}},Dt.createElement("div",{ref:c,className:"react-flow__nodesselection-rect",onContextMenu:h,tabIndex:t?void 0:-1,onKeyDown:t?void 0:d,style:{width:A,height:i,top:o,left:s}}))}var Mge=me.memo(Dge);const Hge=r=>r.nodesSelectionActive,d3=({children:r,onPaneClick:e,onPaneMouseEnter:t,onPaneMouseMove:n,onPaneMouseLeave:A,onPaneContextMenu:i,onPaneScroll:s,deleteKeyCode:o,onMove:a,onMoveStart:u,onMoveEnd:l,selectionKeyCode:c,selectionOnDrag:h,selectionMode:d,onSelectionStart:m,onSelectionEnd:g,multiSelectionKeyCode:y,panActivationKeyCode:v,zoomActivationKeyCode:w,elementsSelectable:b,zoomOnScroll:B,zoomOnPinch:F,panOnScroll:N,panOnScrollSpeed:T,panOnScrollMode:U,zoomOnDoubleClick:k,panOnDrag:D,defaultViewport:_,translateExtent:L,minZoom:O,maxZoom:V,preventScrolling:$,onSelectionContextMenu:Y,noWheelClassName:re,noPanClassName:le,disableKeyboardA11y:ne})=>{const te=cs(Hge),G=Wb(c),H=Wb(v),z=H||D,oe=H||N,ae=G||h&&z!==!0;return Sge({deleteKeyCode:o,multiSelectionKeyCode:y}),Dt.createElement(Uge,{onMove:a,onMoveStart:u,onMoveEnd:l,onPaneContextMenu:i,elementsSelectable:b,zoomOnScroll:B,zoomOnPinch:F,panOnScroll:oe,panOnScrollSpeed:T,panOnScrollMode:U,zoomOnDoubleClick:k,panOnDrag:!G&&z,defaultViewport:_,translateExtent:L,minZoom:O,maxZoom:V,zoomActivationKeyCode:w,preventScrolling:$,noWheelClassName:re,noPanClassName:le},Dt.createElement(l3,{onSelectionStart:m,onSelectionEnd:g,onPaneClick:e,onPaneMouseEnter:t,onPaneMouseMove:n,onPaneMouseLeave:A,onPaneContextMenu:i,onPaneScroll:s,panOnDrag:z,isSelecting:!!ae,selectionMode:d},r,te&&Dt.createElement(Mge,{onSelectionContextMenu:Y,noPanClassName:le,disableKeyboardA11y:ne})))};d3.displayName="FlowRenderer";var jge=me.memo(d3);function Vge(r){return cs(me.useCallback(t=>r?jG(t.nodeInternals,{x:0,y:0,width:t.width,height:t.height},t.transform,!0):t.getNodes(),[r]))}function Kge(r){const e={input:BC(r.input||YG),default:BC(r.default||pN),output:BC(r.output||ZG),group:BC(r.group||RO)},t={},n=Object.keys(r).filter(A=>!["input","default","output","group"].includes(A)).reduce((A,i)=>(A[i]=BC(r[i]||pN),A),t);return{...e,...n}}const Gge=({x:r,y:e,width:t,height:n,origin:A})=>!t||!n?{x:r,y:e}:A[0]<0||A[1]<0||A[0]>1||A[1]>1?{x:r,y:e}:{x:r-t*A[0],y:e-n*A[1]},zge=r=>({nodesDraggable:r.nodesDraggable,nodesConnectable:r.nodesConnectable,nodesFocusable:r.nodesFocusable,elementsSelectable:r.elementsSelectable,updateNodeDimensions:r.updateNodeDimensions,onError:r.onError}),p3=r=>{const{nodesDraggable:e,nodesConnectable:t,nodesFocusable:n,elementsSelectable:A,updateNodeDimensions:i,onError:s}=cs(zge,tu),o=Vge(r.onlyRenderVisibleElements),a=me.useRef(),u=me.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const l=new ResizeObserver(c=>{const h=c.map(d=>({id:d.target.getAttribute("data-id"),nodeElement:d.target,forceUpdate:!0}));i(h)});return a.current=l,l},[]);return me.useEffect(()=>()=>{var l;(l=a==null?void 0:a.current)==null||l.disconnect()},[]),Dt.createElement("div",{className:"react-flow__nodes",style:PO},o.map(l=>{var F,N,T;let c=l.type||"default";r.nodeTypes[c]||(s==null||s("003",Pp.error003(c)),c="default");const h=r.nodeTypes[c]||r.nodeTypes.default,d=!!(l.draggable||e&&typeof l.draggable>"u"),m=!!(l.selectable||A&&typeof l.selectable>"u"),g=!!(l.connectable||t&&typeof l.connectable>"u"),y=!!(l.focusable||n&&typeof l.focusable>"u"),v=r.nodeExtent?SO(l.positionAbsolute,r.nodeExtent):l.positionAbsolute,w=(v==null?void 0:v.x)??0,b=(v==null?void 0:v.y)??0,B=Gge({x:w,y:b,width:l.width??0,height:l.height??0,origin:r.nodeOrigin});return Dt.createElement(h,{key:l.id,id:l.id,className:l.className,style:l.style,type:c,data:l.data,sourcePosition:l.sourcePosition||Er.Bottom,targetPosition:l.targetPosition||Er.Top,hidden:l.hidden,xPos:w,yPos:b,xPosOrigin:B.x,yPosOrigin:B.y,selectNodesOnDrag:r.selectNodesOnDrag,onClick:r.onNodeClick,onMouseEnter:r.onNodeMouseEnter,onMouseMove:r.onNodeMouseMove,onMouseLeave:r.onNodeMouseLeave,onContextMenu:r.onNodeContextMenu,onDoubleClick:r.onNodeDoubleClick,selected:!!l.selected,isDraggable:d,isSelectable:m,isConnectable:g,isFocusable:y,resizeObserver:u,dragHandle:l.dragHandle,zIndex:((F=l[Oi])==null?void 0:F.z)??0,isParent:!!((N=l[Oi])!=null&&N.isParent),noDragClassName:r.noDragClassName,noPanClassName:r.noPanClassName,initialized:!!l.width&&!!l.height,rfId:r.rfId,disableKeyboardA11y:r.disableKeyboardA11y,ariaLabel:l.ariaLabel,hasHandleBounds:!!((T=l[Oi])!=null&&T.handleBounds)})}))};p3.displayName="NodeRenderer";var qge=me.memo(p3);const Wge=(r,e,t)=>t===Er.Left?r-e:t===Er.Right?r+e:r,$ge=(r,e,t)=>t===Er.Top?r-e:t===Er.Bottom?r+e:r,UH="react-flow__edgeupdater",TH=({position:r,centerX:e,centerY:t,radius:n=10,onMouseDown:A,onMouseEnter:i,onMouseOut:s,type:o})=>Dt.createElement("circle",{onMouseDown:A,onMouseEnter:i,onMouseOut:s,className:Dc([UH,`${UH}-${o}`]),cx:Wge(e,n,r),cy:$ge(t,n,r),r:n,stroke:"transparent",fill:"transparent"}),Xge=()=>!0;var t0=r=>{const e=({id:t,className:n,type:A,data:i,onClick:s,onEdgeDoubleClick:o,selected:a,animated:u,label:l,labelStyle:c,labelShowBg:h,labelBgStyle:d,labelBgPadding:m,labelBgBorderRadius:g,style:y,source:v,target:w,sourceX:b,sourceY:B,targetX:F,targetY:N,sourcePosition:T,targetPosition:U,elementsSelectable:k,hidden:D,sourceHandleId:_,targetHandleId:L,onContextMenu:O,onMouseEnter:V,onMouseMove:$,onMouseLeave:Y,reconnectRadius:re,onReconnect:le,onReconnectStart:ne,onReconnectEnd:te,markerEnd:G,markerStart:H,rfId:z,ariaLabel:oe,isFocusable:ae,isReconnectable:ie,pathOptions:pe,interactionWidth:Ce,disableKeyboardA11y:Ie})=>{const Qe=me.useRef(null),[qe,et]=me.useState(!1),[nt,pt]=me.useState(!1),Ke=ea(),Le=me.useMemo(()=>`url('#${fN(H,z)}')`,[H,z]),Ut=me.useMemo(()=>`url('#${fN(G,z)}')`,[G,z]);if(D)return null;const ke=we=>{var gr;const{edges:Oe,addSelectedEdges:He,unselectNodesAndEdges:Et,multiSelectionActive:Tt}=Ke.getState(),Ht=Oe.find(zt=>zt.id===t);Ht&&(k&&(Ke.setState({nodesSelectionActive:!1}),Ht.selected&&Tt?(Et({nodes:[],edges:[Ht]}),(gr=Qe.current)==null||gr.blur()):He([t])),s&&s(we,Ht))},Me=yC(t,Ke.getState,o),it=yC(t,Ke.getState,O),ut=yC(t,Ke.getState,V),ze=yC(t,Ke.getState,$),Ve=yC(t,Ke.getState,Y),At=(we,Oe)=>{if(we.button!==0)return;const{edges:He,isValidConnection:Et}=Ke.getState(),Tt=Oe?w:v,Ht=(Oe?L:_)||null,gr=Oe?"target":"source",zt=Et||Xge,Jn=Oe,Lr=He.find(jt=>jt.id===t);pt(!0),ne==null||ne(we,Lr,gr);const vn=jt=>{pt(!1),te==null||te(jt,Lr,gr)};qG({event:we,handleId:Ht,nodeId:Tt,onConnect:jt=>le==null?void 0:le(Lr,jt),isTarget:Jn,getState:Ke.getState,setState:Ke.setState,isValidConnection:zt,edgeUpdaterType:gr,onReconnectEnd:vn})},lt=we=>At(we,!0),yt=we=>At(we,!1),ge=()=>et(!0),X=()=>et(!1),Ae=!k&&!s,de=we=>{var Oe;if(!Ie&&RG.includes(we.key)&&k){const{unselectNodesAndEdges:He,addSelectedEdges:Et,edges:Tt}=Ke.getState();we.key==="Escape"?((Oe=Qe.current)==null||Oe.blur(),He({edges:[Tt.find(gr=>gr.id===t)]})):Et([t])}};return Dt.createElement("g",{className:Dc(["react-flow__edge",`react-flow__edge-${A}`,n,{selected:a,animated:u,inactive:Ae,updating:qe}]),onClick:ke,onDoubleClick:Me,onContextMenu:it,onMouseEnter:ut,onMouseMove:ze,onMouseLeave:Ve,onKeyDown:ae?de:void 0,tabIndex:ae?0:void 0,role:ae?"button":"img","data-testid":`rf__edge-${t}`,"aria-label":oe===null?void 0:oe||`Edge from ${v} to ${w}`,"aria-describedby":ae?`${r3}-${z}`:void 0,ref:Qe},!nt&&Dt.createElement(r,{id:t,source:v,target:w,selected:a,animated:u,label:l,labelStyle:c,labelShowBg:h,labelBgStyle:d,labelBgPadding:m,labelBgBorderRadius:g,data:i,style:y,sourceX:b,sourceY:B,targetX:F,targetY:N,sourcePosition:T,targetPosition:U,sourceHandleId:_,targetHandleId:L,markerStart:Le,markerEnd:Ut,pathOptions:pe,interactionWidth:Ce}),ie&&Dt.createElement(Dt.Fragment,null,(ie==="source"||ie===!0)&&Dt.createElement(TH,{position:T,centerX:b,centerY:B,radius:re,onMouseDown:lt,onMouseEnter:ge,onMouseOut:X,type:"source"}),(ie==="target"||ie===!0)&&Dt.createElement(TH,{position:U,centerX:F,centerY:N,radius:re,onMouseDown:yt,onMouseEnter:ge,onMouseOut:X,type:"target"})))};return e.displayName="EdgeWrapper",me.memo(e)};function Yge(r){const e={default:t0(r.default||yI),straight:t0(r.bezier||UO),step:t0(r.step||xO),smoothstep:t0(r.step||zx),simplebezier:t0(r.simplebezier||IO)},t={},n=Object.keys(r).filter(A=>!["default","bezier"].includes(A)).reduce((A,i)=>(A[i]=t0(r[i]||yI),A),t);return{...e,...n}}function QH(r,e,t=null){const n=((t==null?void 0:t.x)||0)+e.x,A=((t==null?void 0:t.y)||0)+e.y,i=(t==null?void 0:t.width)||e.width,s=(t==null?void 0:t.height)||e.height;switch(r){case Er.Top:return{x:n+i/2,y:A};case Er.Right:return{x:n+i,y:A+s/2};case Er.Bottom:return{x:n+i/2,y:A+s};case Er.Left:return{x:n,y:A+s/2}}}function LH(r,e){return r?r.length===1||!e?r[0]:e&&r.find(t=>t.id===e)||null:null}const Jge=(r,e,t,n,A,i)=>{const s=QH(t,r,e),o=QH(i,n,A);return{sourceX:s.x,sourceY:s.y,targetX:o.x,targetY:o.y}};function Zge({sourcePos:r,targetPos:e,sourceWidth:t,sourceHeight:n,targetWidth:A,targetHeight:i,width:s,height:o,transform:a}){const u={x:Math.min(r.x,e.x),y:Math.min(r.y,e.y),x2:Math.max(r.x+t,e.x+A),y2:Math.max(r.y+n,e.y+i)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const l=FO({x:(0-a[0])/a[2],y:(0-a[1])/a[2],width:s/a[2],height:o/a[2]}),c=Math.max(0,Math.min(l.x2,u.x2)-Math.max(l.x,u.x)),h=Math.max(0,Math.min(l.y2,u.y2)-Math.max(l.y,u.y));return Math.ceil(c*h)>0}function NH(r){var n,A,i,s,o;const e=((n=r==null?void 0:r[Oi])==null?void 0:n.handleBounds)||null,t=e&&(r==null?void 0:r.width)&&(r==null?void 0:r.height)&&typeof((A=r==null?void 0:r.positionAbsolute)==null?void 0:A.x)<"u"&&typeof((i=r==null?void 0:r.positionAbsolute)==null?void 0:i.y)<"u";return[{x:((s=r==null?void 0:r.positionAbsolute)==null?void 0:s.x)||0,y:((o=r==null?void 0:r.positionAbsolute)==null?void 0:o.y)||0,width:(r==null?void 0:r.width)||0,height:(r==null?void 0:r.height)||0},e,!!t]}const eme=[{level:0,isMaxLevel:!0,edges:[]}];function tme(r,e,t=!1){let n=-1;const A=r.reduce((s,o)=>{var l,c;const a=Qc(o.zIndex);let u=a?o.zIndex:0;if(t){const h=e.get(o.target),d=e.get(o.source),m=o.selected||(h==null?void 0:h.selected)||(d==null?void 0:d.selected),g=Math.max(((l=d==null?void 0:d[Oi])==null?void 0:l.z)||0,((c=h==null?void 0:h[Oi])==null?void 0:c.z)||0,1e3);u=(a?o.zIndex:0)+(m?g:0)}return s[u]?s[u].push(o):s[u]=[o],n=u>n?u:n,s},{}),i=Object.entries(A).map(([s,o])=>{const a=+s;return{edges:o,level:a,isMaxLevel:a===n}});return i.length===0?eme:i}function rme(r,e,t){const n=cs(me.useCallback(A=>r?A.edges.filter(i=>{const s=e.get(i.source),o=e.get(i.target);return(s==null?void 0:s.width)&&(s==null?void 0:s.height)&&(o==null?void 0:o.width)&&(o==null?void 0:o.height)&&Zge({sourcePos:s.positionAbsolute||{x:0,y:0},targetPos:o.positionAbsolute||{x:0,y:0},sourceWidth:s.width,sourceHeight:s.height,targetWidth:o.width,targetHeight:o.height,width:A.width,height:A.height,transform:A.transform})}):A.edges,[r,e]));return tme(n,e,t)}const nme=({color:r="none",strokeWidth:e=1})=>Dt.createElement("polyline",{style:{stroke:r,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),Ame=({color:r="none",strokeWidth:e=1})=>Dt.createElement("polyline",{style:{stroke:r,fill:r,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),RH={[qb.Arrow]:nme,[qb.ArrowClosed]:Ame};function ime(r){const e=ea();return me.useMemo(()=>{var A,i;return Object.prototype.hasOwnProperty.call(RH,r)?RH[r]:((i=(A=e.getState()).onError)==null||i.call(A,"009",Pp.error009(r)),null)},[r])}const sme=({id:r,type:e,color:t,width:n=12.5,height:A=12.5,markerUnits:i="strokeWidth",strokeWidth:s,orient:o="auto-start-reverse"})=>{const a=ime(e);return a?Dt.createElement("marker",{className:"react-flow__arrowhead",id:r,markerWidth:`${n}`,markerHeight:`${A}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:o,refX:"0",refY:"0"},Dt.createElement(a,{color:t,strokeWidth:s})):null},ome=({defaultColor:r,rfId:e})=>t=>{const n=[];return t.edges.reduce((A,i)=>([i.markerStart,i.markerEnd].forEach(s=>{if(s&&typeof s=="object"){const o=fN(s,e);n.includes(o)||(A.push({id:o,color:s.color||r,...s}),n.push(o))}}),A),[]).sort((A,i)=>A.id.localeCompare(i.id))},g3=({defaultColor:r,rfId:e})=>{const t=cs(me.useCallback(ome({defaultColor:r,rfId:e}),[r,e]),(n,A)=>!(n.length!==A.length||n.some((i,s)=>i.id!==A[s].id)));return Dt.createElement("defs",null,t.map(n=>Dt.createElement(sme,{id:n.id,key:n.id,type:n.type,color:n.color,width:n.width,height:n.height,markerUnits:n.markerUnits,strokeWidth:n.strokeWidth,orient:n.orient})))};g3.displayName="MarkerDefinitions";var ame=me.memo(g3);const lme=r=>({nodesConnectable:r.nodesConnectable,edgesFocusable:r.edgesFocusable,edgesUpdatable:r.edgesUpdatable,elementsSelectable:r.elementsSelectable,width:r.width,height:r.height,connectionMode:r.connectionMode,nodeInternals:r.nodeInternals,onError:r.onError}),m3=({defaultMarkerColor:r,onlyRenderVisibleElements:e,elevateEdgesOnSelect:t,rfId:n,edgeTypes:A,noPanClassName:i,onEdgeContextMenu:s,onEdgeMouseEnter:o,onEdgeMouseMove:a,onEdgeMouseLeave:u,onEdgeClick:l,onEdgeDoubleClick:c,onReconnect:h,onReconnectStart:d,onReconnectEnd:m,reconnectRadius:g,children:y,disableKeyboardA11y:v})=>{const{edgesFocusable:w,edgesUpdatable:b,elementsSelectable:B,width:F,height:N,connectionMode:T,nodeInternals:U,onError:k}=cs(lme,tu),D=rme(e,U,t);return F?Dt.createElement(Dt.Fragment,null,D.map(({level:_,edges:L,isMaxLevel:O})=>Dt.createElement("svg",{key:_,style:{zIndex:_},width:F,height:N,className:"react-flow__edges react-flow__container"},O&&Dt.createElement(ame,{defaultColor:r,rfId:n}),Dt.createElement("g",null,L.map(V=>{const[$,Y,re]=NH(U.get(V.source)),[le,ne,te]=NH(U.get(V.target));if(!re||!te)return null;let G=V.type||"default";A[G]||(k==null||k("011",Pp.error011(G)),G="default");const H=A[G]||A.default,z=T===sw.Strict?ne.target:(ne.target??[]).concat(ne.source??[]),oe=LH(Y.source,V.sourceHandle),ae=LH(z,V.targetHandle),ie=(oe==null?void 0:oe.position)||Er.Bottom,pe=(ae==null?void 0:ae.position)||Er.Top,Ce=!!(V.focusable||w&&typeof V.focusable>"u"),Ie=V.reconnectable||V.updatable,Qe=typeof h<"u"&&(Ie||b&&typeof Ie>"u");if(!oe||!ae)return k==null||k("008",Pp.error008(oe,V)),null;const{sourceX:qe,sourceY:et,targetX:nt,targetY:pt}=Jge($,oe,ie,le,ae,pe);return Dt.createElement(H,{key:V.id,id:V.id,className:Dc([V.className,i]),type:G,data:V.data,selected:!!V.selected,animated:!!V.animated,hidden:!!V.hidden,label:V.label,labelStyle:V.labelStyle,labelShowBg:V.labelShowBg,labelBgStyle:V.labelBgStyle,labelBgPadding:V.labelBgPadding,labelBgBorderRadius:V.labelBgBorderRadius,style:V.style,source:V.source,target:V.target,sourceHandleId:V.sourceHandle,targetHandleId:V.targetHandle,markerEnd:V.markerEnd,markerStart:V.markerStart,sourceX:qe,sourceY:et,targetX:nt,targetY:pt,sourcePosition:ie,targetPosition:pe,elementsSelectable:B,onContextMenu:s,onMouseEnter:o,onMouseMove:a,onMouseLeave:u,onClick:l,onEdgeDoubleClick:c,onReconnect:h,onReconnectStart:d,onReconnectEnd:m,reconnectRadius:g,rfId:n,ariaLabel:V.ariaLabel,isFocusable:Ce,isReconnectable:Qe,pathOptions:"pathOptions"in V?V.pathOptions:void 0,interactionWidth:V.interactionWidth,disableKeyboardA11y:v})})))),y):null};m3.displayName="EdgeRenderer";var ume=me.memo(m3);const cme=r=>`translate(${r.transform[0]}px,${r.transform[1]}px) scale(${r.transform[2]})`;function hme({children:r}){const e=cs(cme);return Dt.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:e}},r)}function fme(r){const e=s3(),t=me.useRef(!1);me.useEffect(()=>{!t.current&&e.viewportInitialized&&r&&(setTimeout(()=>r(e),1),t.current=!0)},[r,e.viewportInitialized])}const dme={[Er.Left]:Er.Right,[Er.Right]:Er.Left,[Er.Top]:Er.Bottom,[Er.Bottom]:Er.Top},v3=({nodeId:r,handleType:e,style:t,type:n=Sg.Bezier,CustomComponent:A,connectionStatus:i})=>{var N,T,U;const{fromNode:s,handleId:o,toX:a,toY:u,connectionMode:l}=cs(me.useCallback(k=>({fromNode:k.nodeInternals.get(r),handleId:k.connectionHandleId,toX:(k.connectionPosition.x-k.transform[0])/k.transform[2],toY:(k.connectionPosition.y-k.transform[1])/k.transform[2],connectionMode:k.connectionMode}),[r]),tu),c=(N=s==null?void 0:s[Oi])==null?void 0:N.handleBounds;let h=c==null?void 0:c[e];if(l===sw.Loose&&(h=h||(c==null?void 0:c[e==="source"?"target":"source"])),!s||!h)return null;const d=o?h.find(k=>k.id===o):h[0],m=d?d.x+d.width/2:(s.width??0)/2,g=d?d.y+d.height/2:s.height??0,y=(((T=s.positionAbsolute)==null?void 0:T.x)??0)+m,v=(((U=s.positionAbsolute)==null?void 0:U.y)??0)+g,w=d==null?void 0:d.position,b=w?dme[w]:null;if(!w||!b)return null;if(A)return Dt.createElement(A,{connectionLineType:n,connectionLineStyle:t,fromNode:s,fromHandle:d,fromX:y,fromY:v,toX:a,toY:u,fromPosition:w,toPosition:b,connectionStatus:i});let B="";const F={sourceX:y,sourceY:v,sourcePosition:w,targetX:a,targetY:u,targetPosition:b};return n===Sg.Bezier?[B]=TO(F):n===Sg.Step?[B]=hN({...F,borderRadius:0}):n===Sg.SmoothStep?[B]=hN(F):n===Sg.SimpleBezier?[B]=DG(F):B=`M${y},${v} ${a},${u}`,Dt.createElement("path",{d:B,fill:"none",className:"react-flow__connection-path",style:t})};v3.displayName="ConnectionLine";const pme=r=>({nodeId:r.connectionNodeId,handleType:r.connectionHandleType,nodesConnectable:r.nodesConnectable,connectionStatus:r.connectionStatus,width:r.width,height:r.height});function gme({containerStyle:r,style:e,type:t,component:n}){const{nodeId:A,handleType:i,nodesConnectable:s,width:o,height:a,connectionStatus:u}=cs(pme,tu);return!(A&&i&&o&&s)?null:Dt.createElement("svg",{style:r,width:o,height:a,className:"react-flow__edges react-flow__connectionline react-flow__container"},Dt.createElement("g",{className:Dc(["react-flow__connection",u])},Dt.createElement(v3,{nodeId:A,handleType:i,style:e,type:t,CustomComponent:n,connectionStatus:u})))}function PH(r,e){return me.useRef(null),ea(),me.useMemo(()=>e(r),[r])}const y3=({nodeTypes:r,edgeTypes:e,onMove:t,onMoveStart:n,onMoveEnd:A,onInit:i,onNodeClick:s,onEdgeClick:o,onNodeDoubleClick:a,onEdgeDoubleClick:u,onNodeMouseEnter:l,onNodeMouseMove:c,onNodeMouseLeave:h,onNodeContextMenu:d,onSelectionContextMenu:m,onSelectionStart:g,onSelectionEnd:y,connectionLineType:v,connectionLineStyle:w,connectionLineComponent:b,connectionLineContainerStyle:B,selectionKeyCode:F,selectionOnDrag:N,selectionMode:T,multiSelectionKeyCode:U,panActivationKeyCode:k,zoomActivationKeyCode:D,deleteKeyCode:_,onlyRenderVisibleElements:L,elementsSelectable:O,selectNodesOnDrag:V,defaultViewport:$,translateExtent:Y,minZoom:re,maxZoom:le,preventScrolling:ne,defaultMarkerColor:te,zoomOnScroll:G,zoomOnPinch:H,panOnScroll:z,panOnScrollSpeed:oe,panOnScrollMode:ae,zoomOnDoubleClick:ie,panOnDrag:pe,onPaneClick:Ce,onPaneMouseEnter:Ie,onPaneMouseMove:Qe,onPaneMouseLeave:qe,onPaneScroll:et,onPaneContextMenu:nt,onEdgeContextMenu:pt,onEdgeMouseEnter:Ke,onEdgeMouseMove:Le,onEdgeMouseLeave:Ut,onReconnect:ke,onReconnectStart:Me,onReconnectEnd:it,reconnectRadius:ut,noDragClassName:ze,noWheelClassName:Ve,noPanClassName:At,elevateEdgesOnSelect:lt,disableKeyboardA11y:yt,nodeOrigin:ge,nodeExtent:X,rfId:Ae})=>{const de=PH(r,Kge),we=PH(e,Yge);return fme(i),Dt.createElement(jge,{onPaneClick:Ce,onPaneMouseEnter:Ie,onPaneMouseMove:Qe,onPaneMouseLeave:qe,onPaneContextMenu:nt,onPaneScroll:et,deleteKeyCode:_,selectionKeyCode:F,selectionOnDrag:N,selectionMode:T,onSelectionStart:g,onSelectionEnd:y,multiSelectionKeyCode:U,panActivationKeyCode:k,zoomActivationKeyCode:D,elementsSelectable:O,onMove:t,onMoveStart:n,onMoveEnd:A,zoomOnScroll:G,zoomOnPinch:H,zoomOnDoubleClick:ie,panOnScroll:z,panOnScrollSpeed:oe,panOnScrollMode:ae,panOnDrag:pe,defaultViewport:$,translateExtent:Y,minZoom:re,maxZoom:le,onSelectionContextMenu:m,preventScrolling:ne,noDragClassName:ze,noWheelClassName:Ve,noPanClassName:At,disableKeyboardA11y:yt},Dt.createElement(hme,null,Dt.createElement(ume,{edgeTypes:we,onEdgeClick:o,onEdgeDoubleClick:u,onlyRenderVisibleElements:L,onEdgeContextMenu:pt,onEdgeMouseEnter:Ke,onEdgeMouseMove:Le,onEdgeMouseLeave:Ut,onReconnect:ke,onReconnectStart:Me,onReconnectEnd:it,reconnectRadius:ut,defaultMarkerColor:te,noPanClassName:At,elevateEdgesOnSelect:!!lt,disableKeyboardA11y:yt,rfId:Ae},Dt.createElement(gme,{style:w,type:v,component:b,containerStyle:B})),Dt.createElement("div",{className:"react-flow__edgelabel-renderer"}),Dt.createElement(qge,{nodeTypes:de,onNodeClick:s,onNodeDoubleClick:a,onNodeMouseEnter:l,onNodeMouseMove:c,onNodeMouseLeave:h,onNodeContextMenu:d,selectNodesOnDrag:V,onlyRenderVisibleElements:L,noPanClassName:At,noDragClassName:ze,disableKeyboardA11y:yt,nodeOrigin:ge,nodeExtent:X,rfId:Ae})))};y3.displayName="GraphView";var mme=me.memo(y3);const mN=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],fg={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:mN,nodeExtent:mN,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:sw.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:zpe,isValidConnection:void 0},vme=()=>Ahe((r,e)=>({...fg,setNodes:t=>{const{nodeInternals:n,nodeOrigin:A,elevateNodesOnSelect:i}=e();r({nodeInternals:qT(t,n,A,i)})},getNodes:()=>Array.from(e().nodeInternals.values()),setEdges:t=>{const{defaultEdgeOptions:n={}}=e();r({edges:t.map(A=>({...n,...A}))})},setDefaultNodesAndEdges:(t,n)=>{const A=typeof t<"u",i=typeof n<"u",s=A?qT(t,new Map,e().nodeOrigin,e().elevateNodesOnSelect):new Map;r({nodeInternals:s,edges:i?n:[],hasDefaultNodes:A,hasDefaultEdges:i})},updateNodeDimensions:t=>{const{onNodesChange:n,nodeInternals:A,fitViewOnInit:i,fitViewOnInitDone:s,fitViewOnInitOptions:o,domNode:a,nodeOrigin:u}=e(),l=a==null?void 0:a.querySelector(".react-flow__viewport");if(!l)return;const c=window.getComputedStyle(l),{m22:h}=new window.DOMMatrixReadOnly(c.transform),d=t.reduce((g,y)=>{const v=A.get(y.id);if(v!=null&&v.hidden)A.set(v.id,{...v,[Oi]:{...v[Oi],handleBounds:void 0}});else if(v){const w=_O(y.nodeElement);!!(w.width&&w.height&&(v.width!==w.width||v.height!==w.height||y.forceUpdate))&&(A.set(v.id,{...v,[Oi]:{...v[Oi],handleBounds:{source:xH(".source",y.nodeElement,h,u),target:xH(".target",y.nodeElement,h,u)}},...w}),g.push({id:v.id,type:"dimensions",dimensions:w}))}return g},[]);A3(A,u);const m=s||i&&!s&&i3(e,{initial:!0,...o});r({nodeInternals:new Map(A),fitViewOnInitDone:m}),(d==null?void 0:d.length)>0&&(n==null||n(d))},updateNodePositions:(t,n=!0,A=!1)=>{const{triggerNodeChanges:i}=e(),s=t.map(o=>{const a={id:o.id,type:"position",dragging:A};return n&&(a.positionAbsolute=o.positionAbsolute,a.position=o.position),a});i(s)},triggerNodeChanges:t=>{const{onNodesChange:n,nodeInternals:A,hasDefaultNodes:i,nodeOrigin:s,getNodes:o,elevateNodesOnSelect:a}=e();if(t!=null&&t.length){if(i){const u=a3(t,o()),l=qT(u,A,s,a);r({nodeInternals:l})}n==null||n(t)}},addSelectedNodes:t=>{const{multiSelectionActive:n,edges:A,getNodes:i}=e();let s,o=null;n?s=t.map(a=>yg(a,!0)):(s=B0(i(),t),o=B0(A,[])),wS({changedNodes:s,changedEdges:o,get:e,set:r})},addSelectedEdges:t=>{const{multiSelectionActive:n,edges:A,getNodes:i}=e();let s,o=null;n?s=t.map(a=>yg(a,!0)):(s=B0(A,t),o=B0(i(),[])),wS({changedNodes:o,changedEdges:s,get:e,set:r})},unselectNodesAndEdges:({nodes:t,edges:n}={})=>{const{edges:A,getNodes:i}=e(),s=t||i(),o=n||A,a=s.map(l=>(l.selected=!1,yg(l.id,!1))),u=o.map(l=>yg(l.id,!1));wS({changedNodes:a,changedEdges:u,get:e,set:r})},setMinZoom:t=>{const{d3Zoom:n,maxZoom:A}=e();n==null||n.scaleExtent([t,A]),r({minZoom:t})},setMaxZoom:t=>{const{d3Zoom:n,minZoom:A}=e();n==null||n.scaleExtent([A,t]),r({maxZoom:t})},setTranslateExtent:t=>{var n;(n=e().d3Zoom)==null||n.translateExtent(t),r({translateExtent:t})},resetSelectedElements:()=>{const{edges:t,getNodes:n}=e(),i=n().filter(o=>o.selected).map(o=>yg(o.id,!1)),s=t.filter(o=>o.selected).map(o=>yg(o.id,!1));wS({changedNodes:i,changedEdges:s,get:e,set:r})},setNodeExtent:t=>{const{nodeInternals:n}=e();n.forEach(A=>{A.positionAbsolute=SO(A.position,t)}),r({nodeExtent:t,nodeInternals:new Map(n)})},panBy:t=>{const{transform:n,width:A,height:i,d3Zoom:s,d3Selection:o,translateExtent:a}=e();if(!s||!o||!t.x&&!t.y)return!1;const u=Em.translate(n[0]+t.x,n[1]+t.y).scale(n[2]),l=[[0,0],[A,i]],c=s==null?void 0:s.constrain()(u,l,a);return s.transform(o,c),n[0]!==c.x||n[1]!==c.y||n[2]!==c.k},cancelConnection:()=>r({connectionNodeId:fg.connectionNodeId,connectionHandleId:fg.connectionHandleId,connectionHandleType:fg.connectionHandleType,connectionStatus:fg.connectionStatus,connectionStartHandle:fg.connectionStartHandle,connectionEndHandle:fg.connectionEndHandle}),reset:()=>r({...fg})}),Object.is),qx=({children:r})=>{const e=me.useRef(null);return e.current||(e.current=vme()),Dt.createElement(Ope,{value:e.current},r)};qx.displayName="ReactFlowProvider";const w3=({children:r})=>me.useContext(Gx)?Dt.createElement(Dt.Fragment,null,r):Dt.createElement(qx,null,r);w3.displayName="ReactFlowWrapper";const yme={input:YG,default:pN,output:ZG,group:RO},wme={default:yI,straight:UO,step:xO,smoothstep:zx,simplebezier:IO},Bme=[0,0],Cme=[15,15],bme={x:0,y:0,zoom:1},Eme={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},Wx=me.forwardRef(({nodes:r,edges:e,defaultNodes:t,defaultEdges:n,className:A,nodeTypes:i=yme,edgeTypes:s=wme,onNodeClick:o,onEdgeClick:a,onInit:u,onMove:l,onMoveStart:c,onMoveEnd:h,onConnect:d,onConnectStart:m,onConnectEnd:g,onClickConnectStart:y,onClickConnectEnd:v,onNodeMouseEnter:w,onNodeMouseMove:b,onNodeMouseLeave:B,onNodeContextMenu:F,onNodeDoubleClick:N,onNodeDragStart:T,onNodeDrag:U,onNodeDragStop:k,onNodesDelete:D,onEdgesDelete:_,onSelectionChange:L,onSelectionDragStart:O,onSelectionDrag:V,onSelectionDragStop:$,onSelectionContextMenu:Y,onSelectionStart:re,onSelectionEnd:le,connectionMode:ne=sw.Strict,connectionLineType:te=Sg.Bezier,connectionLineStyle:G,connectionLineComponent:H,connectionLineContainerStyle:z,deleteKeyCode:oe="Backspace",selectionKeyCode:ae="Shift",selectionOnDrag:ie=!1,selectionMode:pe=zb.Full,panActivationKeyCode:Ce="Space",multiSelectionKeyCode:Ie=vI()?"Meta":"Control",zoomActivationKeyCode:Qe=vI()?"Meta":"Control",snapToGrid:qe=!1,snapGrid:et=Cme,onlyRenderVisibleElements:nt=!1,selectNodesOnDrag:pt=!0,nodesDraggable:Ke,nodesConnectable:Le,nodesFocusable:Ut,nodeOrigin:ke=Bme,edgesFocusable:Me,edgesUpdatable:it,elementsSelectable:ut,defaultViewport:ze=bme,minZoom:Ve=.5,maxZoom:At=2,translateExtent:lt=mN,preventScrolling:yt=!0,nodeExtent:ge,defaultMarkerColor:X="#b1b1b7",zoomOnScroll:Ae=!0,zoomOnPinch:de=!0,panOnScroll:we=!1,panOnScrollSpeed:Oe=.5,panOnScrollMode:He=Qv.Free,zoomOnDoubleClick:Et=!0,panOnDrag:Tt=!0,onPaneClick:Ht,onPaneMouseEnter:gr,onPaneMouseMove:zt,onPaneMouseLeave:Jn,onPaneScroll:Lr,onPaneContextMenu:vn,children:vr,onEdgeContextMenu:jt,onEdgeDoubleClick:Pt,onEdgeMouseEnter:Vt,onEdgeMouseMove:xr,onEdgeMouseLeave:Gr,onEdgeUpdate:On,onEdgeUpdateStart:BA,onEdgeUpdateEnd:$t,onReconnect:JA,onReconnectStart:CA,onReconnectEnd:fn,reconnectRadius:or=10,edgeUpdaterRadius:yn=10,onNodesChange:kn,onEdgesChange:bA,noDragClassName:xi="nodrag",noWheelClassName:qn="nowheel",noPanClassName:ZA="nopan",fitView:oA=!1,fitViewOptions:jA,connectOnClick:AA=!0,attributionPosition:Mi,proOptions:nr,defaultEdgeOptions:$e,elevateNodesOnSelect:Ot=!0,elevateEdgesOnSelect:tr=!1,disableKeyboardA11y:sn=!1,autoPanOnConnect:pA=!0,autoPanOnNodeDrag:Qr=!0,connectionRadius:LA=20,isValidConnection:Zn,onError:li,style:NA,id:Dn,nodeDragThreshold:Ts,...Qs},Hi)=>{const fs=Dn||"1";return Dt.createElement("div",{...Qs,style:{...NA,...Eme},ref:Hi,className:Dc(["react-flow",A]),"data-testid":"rf__wrapper",id:Dn},Dt.createElement(w3,null,Dt.createElement(mme,{onInit:u,onMove:l,onMoveStart:c,onMoveEnd:h,onNodeClick:o,onEdgeClick:a,onNodeMouseEnter:w,onNodeMouseMove:b,onNodeMouseLeave:B,onNodeContextMenu:F,onNodeDoubleClick:N,nodeTypes:i,edgeTypes:s,connectionLineType:te,connectionLineStyle:G,connectionLineComponent:H,connectionLineContainerStyle:z,selectionKeyCode:ae,selectionOnDrag:ie,selectionMode:pe,deleteKeyCode:oe,multiSelectionKeyCode:Ie,panActivationKeyCode:Ce,zoomActivationKeyCode:Qe,onlyRenderVisibleElements:nt,selectNodesOnDrag:pt,defaultViewport:ze,translateExtent:lt,minZoom:Ve,maxZoom:At,preventScrolling:yt,zoomOnScroll:Ae,zoomOnPinch:de,zoomOnDoubleClick:Et,panOnScroll:we,panOnScrollSpeed:Oe,panOnScrollMode:He,panOnDrag:Tt,onPaneClick:Ht,onPaneMouseEnter:gr,onPaneMouseMove:zt,onPaneMouseLeave:Jn,onPaneScroll:Lr,onPaneContextMenu:vn,onSelectionContextMenu:Y,onSelectionStart:re,onSelectionEnd:le,onEdgeContextMenu:jt,onEdgeDoubleClick:Pt,onEdgeMouseEnter:Vt,onEdgeMouseMove:xr,onEdgeMouseLeave:Gr,onReconnect:JA??On,onReconnectStart:CA??BA,onReconnectEnd:fn??$t,reconnectRadius:or??yn,defaultMarkerColor:X,noDragClassName:xi,noWheelClassName:qn,noPanClassName:ZA,elevateEdgesOnSelect:tr,rfId:fs,disableKeyboardA11y:sn,nodeOrigin:ke,nodeExtent:ge}),Dt.createElement(dge,{nodes:r,edges:e,defaultNodes:t,defaultEdges:n,onConnect:d,onConnectStart:m,onConnectEnd:g,onClickConnectStart:y,onClickConnectEnd:v,nodesDraggable:Ke,nodesConnectable:Le,nodesFocusable:Ut,edgesFocusable:Me,edgesUpdatable:it,elementsSelectable:ut,elevateNodesOnSelect:Ot,minZoom:Ve,maxZoom:At,nodeExtent:ge,onNodesChange:kn,onEdgesChange:bA,snapToGrid:qe,snapGrid:et,connectionMode:ne,translateExtent:lt,connectOnClick:AA,defaultEdgeOptions:$e,fitView:oA,fitViewOptions:jA,onNodesDelete:D,onEdgesDelete:_,onNodeDragStart:T,onNodeDrag:U,onNodeDragStop:k,onSelectionDrag:V,onSelectionDragStart:O,onSelectionDragStop:$,noPanClassName:ZA,nodeOrigin:ke,rfId:fs,autoPanOnConnect:pA,autoPanOnNodeDrag:Qr,onError:li,connectionRadius:LA,isValidConnection:Zn,nodeDragThreshold:Ts}),Dt.createElement(hge,{onSelectionChange:L}),vr,Dt.createElement(Mpe,{proOptions:nr,position:Mi}),Dt.createElement(yge,{rfId:fs,disableKeyboardA11y:sn})))});Wx.displayName="ReactFlow";function B3(r){return e=>{const[t,n]=me.useState(e),A=me.useCallback(i=>n(s=>r(i,s)),[]);return[t,n,A]}}const C3=B3(a3),b3=B3(Lge);function _me(r,e){if(r.match(/^[a-z]+:\/\//i))return r;if(r.match(/^\/\//))return window.location.protocol+r;if(r.match(/^[a-z]+:/i))return r;const t=document.implementation.createHTMLDocument(),n=t.createElement("base"),A=t.createElement("a");return t.head.appendChild(n),t.body.appendChild(A),e&&(n.href=e),A.href=r,A.href}const Sme=(()=>{let r=0;const e=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(r+=1,`u${e()}${r}`)})();function Sm(r){const e=[];for(let t=0,n=r.length;t<n;t++)e.push(r[t]);return e}let r0=null;function E3(r={}){return r0||(r.includeStyleProperties?(r0=r.includeStyleProperties,r0):(r0=Sm(window.getComputedStyle(document.documentElement)),r0))}function wI(r,e){const n=(r.ownerDocument.defaultView||window).getComputedStyle(r).getPropertyValue(e);return n?parseFloat(n.replace("px","")):0}function Fme(r){const e=wI(r,"border-left-width"),t=wI(r,"border-right-width");return r.clientWidth+e+t}function Ime(r){const e=wI(r,"border-top-width"),t=wI(r,"border-bottom-width");return r.clientHeight+e+t}function _3(r,e={}){const t=e.width||Fme(r),n=e.height||Ime(r);return{width:t,height:n}}function xme(){let r,e;try{e=pm}catch{}const t=e&&e.env?e.env.devicePixelRatio:null;return t&&(r=parseInt(t,10),Number.isNaN(r)&&(r=1)),r||window.devicePixelRatio||1}const _u=16384;function Ume(r){(r.width>_u||r.height>_u)&&(r.width>_u&&r.height>_u?r.width>r.height?(r.height*=_u/r.width,r.width=_u):(r.width*=_u/r.height,r.height=_u):r.width>_u?(r.height*=_u/r.width,r.width=_u):(r.width*=_u/r.height,r.height=_u))}function BI(r){return new Promise((e,t)=>{const n=new Image;n.onload=()=>{n.decode().then(()=>{requestAnimationFrame(()=>e(n))})},n.onerror=t,n.crossOrigin="anonymous",n.decoding="async",n.src=r})}async function Tme(r){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(r)).then(encodeURIComponent).then(e=>`data:image/svg+xml;charset=utf-8,${e}`)}async function Qme(r,e,t){const n="http://www.w3.org/2000/svg",A=document.createElementNS(n,"svg"),i=document.createElementNS(n,"foreignObject");return A.setAttribute("width",`${e}`),A.setAttribute("height",`${t}`),A.setAttribute("viewBox",`0 0 ${e} ${t}`),i.setAttribute("width","100%"),i.setAttribute("height","100%"),i.setAttribute("x","0"),i.setAttribute("y","0"),i.setAttribute("externalResourcesRequired","true"),A.appendChild(i),i.appendChild(r),Tme(A)}const Jl=(r,e)=>{if(r instanceof e)return!0;const t=Object.getPrototypeOf(r);return t===null?!1:t.constructor.name===e.name||Jl(t,e)};function Lme(r){const e=r.getPropertyValue("content");return`${r.cssText} content: '${e.replace(/'|"/g,"")}';`}function Nme(r,e){return E3(e).map(t=>{const n=r.getPropertyValue(t),A=r.getPropertyPriority(t);return`${t}: ${n}${A?" !important":""};`}).join(" ")}function Rme(r,e,t,n){const A=`.${r}:${e}`,i=t.cssText?Lme(t):Nme(t,n);return document.createTextNode(`${A}{${i}}`)}function OH(r,e,t,n){const A=window.getComputedStyle(r,t),i=A.getPropertyValue("content");if(i===""||i==="none")return;const s=Sme();try{e.className=`${e.className} ${s}`}catch{return}const o=document.createElement("style");o.appendChild(Rme(s,t,A,n)),e.appendChild(o)}function Pme(r,e,t){OH(r,e,":before",t),OH(r,e,":after",t)}const kH="application/font-woff",DH="image/jpeg",Ome={woff:kH,woff2:kH,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:DH,jpeg:DH,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function kme(r){const e=/\.([^./]*?)$/g.exec(r);return e?e[1]:""}function OO(r){const e=kme(r).toLowerCase();return Ome[e]||""}function Dme(r){return r.split(/,/)[1]}function vN(r){return r.search(/^(data:)/)!==-1}function Mme(r,e){return`data:${e};base64,${r}`}async function S3(r,e,t){const n=await fetch(r,e);if(n.status===404)throw new Error(`Resource "${n.url}" not found`);const A=await n.blob();return new Promise((i,s)=>{const o=new FileReader;o.onerror=s,o.onloadend=()=>{try{i(t({res:n,result:o.result}))}catch(a){s(a)}},o.readAsDataURL(A)})}const YT={};function Hme(r,e,t){let n=r.replace(/\?.*/,"");return t&&(n=r),/ttf|otf|eot|woff2?/i.test(n)&&(n=n.replace(/.*\//,"")),e?`[${e}]${n}`:n}async function kO(r,e,t){const n=Hme(r,e,t.includeQueryParams);if(YT[n]!=null)return YT[n];t.cacheBust&&(r+=(/\?/.test(r)?"&":"?")+new Date().getTime());let A;try{const i=await S3(r,t.fetchRequestInit,({res:s,result:o})=>(e||(e=s.headers.get("Content-Type")||""),Dme(o)));A=Mme(i,e)}catch(i){A=t.imagePlaceholder||"";let s=`Failed to fetch resource: ${r}`;i&&(s=typeof i=="string"?i:i.message),s&&console.warn(s)}return YT[n]=A,A}async function jme(r){const e=r.toDataURL();return e==="data:,"?r.cloneNode(!1):BI(e)}async function Vme(r,e){if(r.currentSrc){const i=document.createElement("canvas"),s=i.getContext("2d");i.width=r.clientWidth,i.height=r.clientHeight,s==null||s.drawImage(r,0,0,i.width,i.height);const o=i.toDataURL();return BI(o)}const t=r.poster,n=OO(t),A=await kO(t,n,e);return BI(A)}async function Kme(r,e){var t;try{if(!((t=r==null?void 0:r.contentDocument)===null||t===void 0)&&t.body)return await $x(r.contentDocument.body,e,!0)}catch{}return r.cloneNode(!1)}async function Gme(r,e){return Jl(r,HTMLCanvasElement)?jme(r):Jl(r,HTMLVideoElement)?Vme(r,e):Jl(r,HTMLIFrameElement)?Kme(r,e):r.cloneNode(F3(r))}const zme=r=>r.tagName!=null&&r.tagName.toUpperCase()==="SLOT",F3=r=>r.tagName!=null&&r.tagName.toUpperCase()==="SVG";async function qme(r,e,t){var n,A;if(F3(e))return e;let i=[];return zme(r)&&r.assignedNodes?i=Sm(r.assignedNodes()):Jl(r,HTMLIFrameElement)&&(!((n=r.contentDocument)===null||n===void 0)&&n.body)?i=Sm(r.contentDocument.body.childNodes):i=Sm(((A=r.shadowRoot)!==null&&A!==void 0?A:r).childNodes),i.length===0||Jl(r,HTMLVideoElement)||await i.reduce((s,o)=>s.then(()=>$x(o,t)).then(a=>{a&&e.appendChild(a)}),Promise.resolve()),e}function Wme(r,e,t){const n=e.style;if(!n)return;const A=window.getComputedStyle(r);A.cssText?(n.cssText=A.cssText,n.transformOrigin=A.transformOrigin):E3(t).forEach(i=>{let s=A.getPropertyValue(i);i==="font-size"&&s.endsWith("px")&&(s=`${Math.floor(parseFloat(s.substring(0,s.length-2)))-.1}px`),Jl(r,HTMLIFrameElement)&&i==="display"&&s==="inline"&&(s="block"),i==="d"&&e.getAttribute("d")&&(s=`path(${e.getAttribute("d")})`),n.setProperty(i,s,A.getPropertyPriority(i))})}function $me(r,e){Jl(r,HTMLTextAreaElement)&&(e.innerHTML=r.value),Jl(r,HTMLInputElement)&&e.setAttribute("value",r.value)}function Xme(r,e){if(Jl(r,HTMLSelectElement)){const t=e,n=Array.from(t.children).find(A=>r.value===A.getAttribute("value"));n&&n.setAttribute("selected","")}}function Yme(r,e,t){return Jl(e,Element)&&(Wme(r,e,t),Pme(r,e,t),$me(r,e),Xme(r,e)),e}async function Jme(r,e){const t=r.querySelectorAll?r.querySelectorAll("use"):[];if(t.length===0)return r;const n={};for(let i=0;i<t.length;i++){const o=t[i].getAttribute("xlink:href");if(o){const a=r.querySelector(o),u=document.querySelector(o);!a&&u&&!n[o]&&(n[o]=await $x(u,e,!0))}}const A=Object.values(n);if(A.length){const i="http://www.w3.org/1999/xhtml",s=document.createElementNS(i,"svg");s.setAttribute("xmlns",i),s.style.position="absolute",s.style.width="0",s.style.height="0",s.style.overflow="hidden",s.style.display="none";const o=document.createElementNS(i,"defs");s.appendChild(o);for(let a=0;a<A.length;a++)o.appendChild(A[a]);r.appendChild(s)}return r}async function $x(r,e,t){return!t&&e.filter&&!e.filter(r)?null:Promise.resolve(r).then(n=>Gme(n,e)).then(n=>qme(r,n,e)).then(n=>Yme(r,n,e)).then(n=>Jme(n,e))}const I3=/url\((['"]?)([^'"]+?)\1\)/g,Zme=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,eve=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function tve(r){const e=r.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${e})(['"]?\\))`,"g")}function rve(r){const e=[];return r.replace(I3,(t,n,A)=>(e.push(A),t)),e.filter(t=>!vN(t))}async function nve(r,e,t,n,A){try{const i=t?_me(e,t):e,s=OO(e);let o;return A||(o=await kO(i,s,n)),r.replace(tve(e),`$1${o}$3`)}catch{}return r}function Ave(r,{preferredFontFormat:e}){return e?r.replace(eve,t=>{for(;;){const[n,,A]=Zme.exec(t)||[];if(!A)return"";if(A===e)return`src: ${n};`}}):r}function x3(r){return r.search(I3)!==-1}async function U3(r,e,t){if(!x3(r))return r;const n=Ave(r,t);return rve(n).reduce((i,s)=>i.then(o=>nve(o,s,e,t)),Promise.resolve(n))}async function n0(r,e,t){var n;const A=(n=e.style)===null||n===void 0?void 0:n.getPropertyValue(r);if(A){const i=await U3(A,null,t);return e.style.setProperty(r,i,e.style.getPropertyPriority(r)),!0}return!1}async function ive(r,e){await n0("background",r,e)||await n0("background-image",r,e),await n0("mask",r,e)||await n0("-webkit-mask",r,e)||await n0("mask-image",r,e)||await n0("-webkit-mask-image",r,e)}async function sve(r,e){const t=Jl(r,HTMLImageElement);if(!(t&&!vN(r.src))&&!(Jl(r,SVGImageElement)&&!vN(r.href.baseVal)))return;const n=t?r.src:r.href.baseVal,A=await kO(n,OO(n),e);await new Promise((i,s)=>{r.onload=i,r.onerror=e.onImageErrorHandler?(...a)=>{try{i(e.onImageErrorHandler(...a))}catch(u){s(u)}}:s;const o=r;o.decode&&(o.decode=i),o.loading==="lazy"&&(o.loading="eager"),t?(r.srcset="",r.src=A):r.href.baseVal=A})}async function ove(r,e){const n=Sm(r.childNodes).map(A=>T3(A,e));await Promise.all(n).then(()=>r)}async function T3(r,e){Jl(r,Element)&&(await ive(r,e),await sve(r,e),await ove(r,e))}function ave(r,e){const{style:t}=r;e.backgroundColor&&(t.backgroundColor=e.backgroundColor),e.width&&(t.width=`${e.width}px`),e.height&&(t.height=`${e.height}px`);const n=e.style;return n!=null&&Object.keys(n).forEach(A=>{t[A]=n[A]}),r}const MH={};async function HH(r){let e=MH[r];if(e!=null)return e;const n=await(await fetch(r)).text();return e={url:r,cssText:n},MH[r]=e,e}async function jH(r,e){let t=r.cssText;const n=/url\(["']?([^"')]+)["']?\)/g,i=(t.match(/url\([^)]+\)/g)||[]).map(async s=>{let o=s.replace(n,"$1");return o.startsWith("https://")||(o=new URL(o,r.url).href),S3(o,e.fetchRequestInit,({result:a})=>(t=t.replace(s,`url(${a})`),[s,a]))});return Promise.all(i).then(()=>t)}function VH(r){if(r==null)return[];const e=[],t=/(\/\*[\s\S]*?\*\/)/gi;let n=r.replace(t,"");const A=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const a=A.exec(n);if(a===null)break;e.push(a[0])}n=n.replace(A,"");const i=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,s="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",o=new RegExp(s,"gi");for(;;){let a=i.exec(n);if(a===null){if(a=o.exec(n),a===null)break;i.lastIndex=o.lastIndex}else o.lastIndex=i.lastIndex;e.push(a[0])}return e}async function lve(r,e){const t=[],n=[];return r.forEach(A=>{if("cssRules"in A)try{Sm(A.cssRules||[]).forEach((i,s)=>{if(i.type===CSSRule.IMPORT_RULE){let o=s+1;const a=i.href,u=HH(a).then(l=>jH(l,e)).then(l=>VH(l).forEach(c=>{try{A.insertRule(c,c.startsWith("@import")?o+=1:A.cssRules.length)}catch(h){console.error("Error inserting rule from remote css",{rule:c,error:h})}})).catch(l=>{console.error("Error loading remote css",l.toString())});n.push(u)}})}catch(i){const s=r.find(o=>o.href==null)||document.styleSheets[0];A.href!=null&&n.push(HH(A.href).then(o=>jH(o,e)).then(o=>VH(o).forEach(a=>{s.insertRule(a,s.cssRules.length)})).catch(o=>{console.error("Error loading remote stylesheet",o)})),console.error("Error inlining remote css file",i)}}),Promise.all(n).then(()=>(r.forEach(A=>{if("cssRules"in A)try{Sm(A.cssRules||[]).forEach(i=>{t.push(i)})}catch(i){console.error(`Error while reading CSS rules from ${A.href}`,i)}}),t))}function uve(r){return r.filter(e=>e.type===CSSRule.FONT_FACE_RULE).filter(e=>x3(e.style.getPropertyValue("src")))}async function cve(r,e){if(r.ownerDocument==null)throw new Error("Provided element is not within a Document");const t=Sm(r.ownerDocument.styleSheets),n=await lve(t,e);return uve(n)}function Q3(r){return r.trim().replace(/["']/g,"")}function hve(r){const e=new Set;function t(n){(n.style.fontFamily||getComputedStyle(n).fontFamily).split(",").forEach(i=>{e.add(Q3(i))}),Array.from(n.children).forEach(i=>{i instanceof HTMLElement&&t(i)})}return t(r),e}async function fve(r,e){const t=await cve(r,e),n=hve(r);return(await Promise.all(t.filter(i=>n.has(Q3(i.style.fontFamily))).map(i=>{const s=i.parentStyleSheet?i.parentStyleSheet.href:null;return U3(i.cssText,s,e)}))).join(`
`)}async function dve(r,e){const t=e.fontEmbedCSS!=null?e.fontEmbedCSS:e.skipFonts?null:await fve(r,e);if(t){const n=document.createElement("style"),A=document.createTextNode(t);n.appendChild(A),r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n)}}async function pve(r,e={}){const{width:t,height:n}=_3(r,e),A=await $x(r,e,!0);return await dve(A,e),await T3(A,e),ave(A,e),await Qme(A,t,n)}async function gve(r,e={}){const{width:t,height:n}=_3(r,e),A=await pve(r,e),i=await BI(A),s=document.createElement("canvas"),o=s.getContext("2d"),a=e.pixelRatio||xme(),u=e.canvasWidth||t,l=e.canvasHeight||n;return s.width=u*a,s.height=l*a,e.skipAutoScale||Ume(s),s.style.width=`${u}`,s.style.height=`${l}`,e.backgroundColor&&(o.fillStyle=e.backgroundColor,o.fillRect(0,0,s.width,s.height)),o.drawImage(i,0,0,s.width,s.height),s}async function KH(r,e={}){return(await gve(r,e)).toDataURL()}const mve=({id:r,sourceX:e,sourceY:t,targetX:n,targetY:A,label:i,labelStyle:s,style:o={},markerEnd:a})=>{const[u,l,c]=TO({sourceX:e,sourceY:t,targetX:n,targetY:A}),h=s&&s.fill||"#000",d=s&&s.fontWeight||"600";return J.jsxs("g",{children:[J.jsx("path",{id:r,d:u,stroke:(o==null?void 0:o.stroke)||"#000",strokeWidth:(o==null?void 0:o.strokeWidth)||1.5,fill:"none",markerEnd:a?`url(#${a.type})`:void 0}),i&&J.jsx("text",{x:l,y:c,fill:h,fontWeight:d,fontSize:"16",dominantBaseline:"middle",textAnchor:"middle",style:{userSelect:"none",paintOrder:"stroke",stroke:"white",strokeWidth:3,strokeLinejoin:"round",...s},children:J.jsx("tspan",{x:l,y:c,fill:h,fontWeight:d,stroke:"white",strokeWidth:2,children:i})})]})},vve=({open:r,onClose:e,mindmap:t,format:n,setFormat:A,nodes:i,edges:s,nodeTypes:o={},edgeTypes:a={}})=>{const u=me.useRef(),[l,c]=me.useState(!1);me.useEffect(()=>{r&&u.current&&u.current.fitView&&setTimeout(()=>u.current.fitView(),50)},[r,i,s]);const h=async()=>{c(!0),console.log("[Export] Export started");try{const g=document.getElementById("export-mindmap-canvas");if(console.log("[Export] format:",n),console.log("[Export] container found:",!!g),!g)throw new Error("Export container not found");if(n==="png"){const y=await KH(g,{pixelRatio:3,backgroundColor:"#fff"});console.log("[Export] PNG dataUrl:",y?y.slice(0,30)+"...":"null");const v=document.createElement("a");v.href=y,v.download=`${(t==null?void 0:t.title)||"mindmap"}.png`,document.body.appendChild(v),v.click(),document.body.removeChild(v)}else if(n==="pdf"){const y=await KH(g,{pixelRatio:3,backgroundColor:"#fff"});console.log("[Export] PDF dataUrl:",y?y.slice(0,30)+"...":"null");const v=new window.Image;v.src=y,v.onload=()=>{const w=new Or({orientation:v.width>v.height?"l":"p",unit:"pt",format:[v.width,v.height]});w.addImage(y,"PNG",0,0,v.width,v.height),w.save(`${(t==null?void 0:t.title)||"mindmap"}.pdf`)},v.onerror=w=>{console.error("[Export] Image failed to load",w),alert("Failed to export mindmap (image load error).")}}}catch(g){console.error("[Export] Export mindmap error:",g),alert("Failed to export mindmap.")}c(!1),console.log("[Export] Export finished")};return r?J.jsx("div",{className:"export-modal-overlay",children:J.jsxs("div",{className:"export-modal-content",children:[J.jsx("button",{className:"close-modal-button",onClick:e,children:""}),J.jsxs("h3",{children:["Export Mindmap: ",(t==null?void 0:t.title)||""]}),J.jsxs("div",{id:"export-mindmap-canvas",style:{width:1600,height:1200,background:"#fff",margin:"0 auto",border:"1px solid #888",position:"relative",maxWidth:"100%",maxHeight:"70vh",overflow:"auto"},children:[J.jsx(Wx,{nodes:i,edges:s,nodeTypes:o,edgeTypes:a,fitView:!0,ref:u,style:{width:"100%",height:"100%"}}),J.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:99999,background:"transparent",pointerEvents:"all"},tabIndex:-1})]}),J.jsxs("div",{className:"export-controls",children:[J.jsxs("select",{className:"export-format-select",value:n,onChange:g=>A(g.target.value),children:[J.jsx("option",{value:"png",children:"PNG"}),J.jsx("option",{value:"pdf",children:"PDF"})]}),J.jsx("button",{className:"export-button",onClick:h,disabled:l,children:l?"Exporting...":"Export"})]})]})}):null},L3=({data:r})=>{const[e,t]=me.useState(r.label||""),[n,A]=me.useState(r.bgColor||"#ffffff"),[i,s]=me.useState(r.borderColor||"#000000"),[o,a]=me.useState(!1),u=Dt.useRef(null),l=Dt.useRef(null);me.useEffect(()=>{const h=d=>{o&&u.current&&!u.current.contains(d.target)&&a(!1)};return document.addEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}},[o]),me.useEffect(()=>{l.current&&(l.current.style.height="auto",l.current.style.height=l.current.scrollHeight+"px")},[e]);const c=h=>{const d=h.target.value;t(d),r.onChange&&r.onChange(d)};return J.jsxs(J.Fragment,{children:[J.jsxs("div",{className:"custom-node",style:{backgroundColor:n,border:`2px solid ${i}`,borderRadius:"8px",padding:"4px",boxSizing:"border-box",minWidth:100,position:"relative"},children:[J.jsx(_c,{type:"target",position:Er.Top,id:"t",className:"custom-handle"}),J.jsx(_c,{type:"target",position:Er.Left,id:"l",className:"custom-handle"}),J.jsx(_c,{type:"target",position:Er.Right,id:"r",className:"custom-handle"}),J.jsx(_c,{type:"target",position:Er.Bottom,id:"b",className:"custom-handle"}),J.jsx("textarea",{ref:l,value:e,onChange:c,className:"custom-node-textarea",rows:1,style:{overflow:"hidden",resize:"none"}}),J.jsx("button",{className:"node-options-button",onClick:()=>a(!0),style:{position:"absolute",bottom:4,right:4,fontSize:"14px",background:"transparent",border:"none",cursor:"pointer"},children:"..."}),J.jsx(_c,{type:"source",position:Er.Top,id:"st",className:"custom-handle"}),J.jsx(_c,{type:"source",position:Er.Left,id:"sl",className:"custom-handle"}),J.jsx(_c,{type:"source",position:Er.Right,id:"sr",className:"custom-handle"}),J.jsx(_c,{type:"source",position:Er.Bottom,id:"sb",className:"custom-handle"})]}),o&&J.jsxs("div",{ref:u,className:"rename-modal",style:{position:"absolute",top:"0",left:"105%",zIndex:10,backgroundColor:"#fff",color:"#000",border:"1px solid #ccc",borderRadius:"8px",padding:"10px",boxShadow:"0 2px 8px rgba(0,0,0,0.2)",minWidth:"160px"},children:[J.jsx("button",{className:"close-modal-button",onClick:()=>a(!1),style:{position:"absolute",top:"4px",right:"6px",border:"none",background:"transparent",fontSize:"16px",cursor:"pointer"},children:""}),J.jsx("h3",{style:{marginTop:"0.5rem"},children:"Customize Node"}),J.jsxs("label",{htmlFor:"bg-color-picker",style:{display:"block",marginBottom:"8px",color:"#000"},children:[J.jsx("span",{style:{marginRight:"6px"},children:"Background:"}),J.jsx("input",{id:"bg-color-picker",type:"color",value:n,onChange:h=>{A(h.target.value),r.onChangeColors&&r.onChangeColors({bgColor:h.target.value,borderColor:i})}})]}),J.jsxs("label",{htmlFor:"border-color-picker",style:{display:"block",color:"#000"},children:[J.jsx("span",{style:{marginRight:"6px"},children:"Border:"}),J.jsx("input",{id:"border-color-picker",type:"color",value:i,onChange:h=>{s(h.target.value),r.onChangeColors&&r.onChangeColors({bgColor:n,borderColor:h.target.value})}})]})]})]})},yve=()=>{const[r,e]=me.useState(null),[t,n]=me.useState([]),[A,i]=me.useState([]),[s,o]=me.useState([]),[a,u]=me.useState({visible:!1,id:"",title:"",isMindmap:!1,isTestpaper:!1}),[l,c]=me.useState({}),[h,d]=me.useState({}),[m,g]=me.useState({visible:!1,id:"",isMindmap:!1,isTestpaper:!1}),[y,v]=me.useState("summaries"),[w,b]=me.useState({visible:!1,id:"",tags:[],isMindmap:!1,isTestpaper:!1}),[B,F]=me.useState(""),[N,T]=me.useState([]),[U,k]=me.useState(""),[D,_]=me.useState([]),[L,O]=me.useState([]),V=me.useMemo(()=>{const Ve=new Set;return[...t,...A,...s].forEach(At=>{(At.tags||[]).forEach(lt=>Ve.add(lt))}),Array.from(Ve)},[t,A,s]),$=Ve=>{const At=Ve.target.value;if(F(At),!At.trim()){T([]);return}const lt=V.filter(yt=>yt.toLowerCase().includes(At.toLowerCase())&&yt.toLowerCase()!==At.toLowerCase());T(lt)},Y=Ve=>{const At=Ve.target.value;if(k(At),!At.trim()){_([]);return}const lt=V.filter(yt=>yt.toLowerCase().includes(At.toLowerCase())&&!L.includes(yt));_(lt)},re=Ve=>{L.includes(Ve)||O(At=>[...At,Ve]),k(""),_([])},le=Ve=>{O(At=>At.filter(lt=>lt!==Ve))},ne=({tag:Ve,onRemove:At})=>J.jsxs("span",{className:"tag-chip",children:[Ve,At&&J.jsx("button",{className:"tag-remove-btn",onClick:At,children:""})]}),te=Ve=>L.length===0?Ve:Ve.filter(At=>(At.tags||[]).some(lt=>L.includes(lt))),G=wl(),[H,z]=me.useState(!1),[oe,ae]=me.useState(null),[ie,pe]=me.useState("png"),[Ce,Ie]=me.useState([]),[Qe,qe]=me.useState([]),et=me.useMemo(()=>({custom:L3}),[]),nt=me.useMemo(()=>({custom:mve}),[]),pt=me.useRef({}),Ke=(Ve,At=[],lt=!1,yt=!1)=>{F(""),b({visible:!0,id:Ve,tags:At,isMindmap:lt,isTestpaper:yt})},Le=async()=>{if(B.trim())try{const{id:Ve,tags:At,isMindmap:lt,isTestpaper:yt}=w,ge=lt?"mindmaps":yt?"testpapers":"summaries",X=mi(yA,"users",r.uid,ge,Ve),Ae=At.includes(B.trim())?At:[...At,B.trim()];await Vy(X,{tags:Ae}),b({visible:!1,id:"",tags:[],isMindmap:!1,isTestpaper:!1})}catch(Ve){console.error("Error saving tag:",Ve)}},Ut=async(Ve,At,lt=!1,yt=!1)=>{var ge,X,Ae;try{const de=lt?"mindmaps":yt?"testpapers":"summaries",we=mi(yA,"users",r.uid,de,Ve);let Oe=[];lt?Oe=((ge=A.find(Et=>Et.id===Ve))==null?void 0:ge.tags)||[]:yt?Oe=((X=s.find(Et=>Et.id===Ve))==null?void 0:X.tags)||[]:Oe=((Ae=t.find(Et=>Et.id===Ve))==null?void 0:Ae.tags)||[];const He=Oe.filter(Et=>Et!==At);await Vy(we,{tags:He})}catch(de){console.error("Error removing tag:",de)}};me.useEffect(()=>{const Ve=S7().onAuthStateChanged(At=>{if(At){e(At);const lt=YU(wm(yA,"users",At.uid,"summaries"),JU("timestamp","desc")),yt=ZU(lt,we=>{const Oe=we.docs.map(He=>({id:He.id,...He.data()}));n(Oe)}),ge=YU(wm(yA,"users",At.uid,"mindmaps"),JU("timestamp","desc")),X=ZU(ge,we=>{const Oe=we.docs.map(He=>({id:He.id,...He.data()}));i(Oe)}),Ae=YU(wm(yA,"users",At.uid,"testpapers"),JU("uploadedAt","desc")),de=ZU(Ae,we=>{const Oe=we.docs.map(He=>({id:He.id,...He.data()}));o(Oe)});return()=>{yt(),X(),de()}}else G("/login")});return()=>Ve()},[G]),me.useEffect(()=>{t.forEach(Ve=>{const At=document.getElementById(`summary-${Ve.id}`);At&&(At.querySelectorAll(".ql-align-center").forEach(lt=>lt.style.textAlign="center"),At.querySelectorAll(".ql-align-right").forEach(lt=>lt.style.textAlign="right"),At.querySelectorAll(".ql-align-left").forEach(lt=>lt.style.textAlign="left"))})},[t]);const ke=(Ve,At=!1,lt=!1)=>{let yt="summary";At&&(yt="mindmap"),G(`/${yt}/${r.uid}/${Ve}`)},Me=async Ve=>{var At;try{const lt=m.isMindmap,yt=m.isTestpaper,ge=lt?"mindmaps":yt?"testpapers":"summaries",X=mi(yA,"users",r.uid,ge,Ve);if(yt){const Ae=await Rc(X);if(Ae.exists()){const de=Ae.data(),we=Sx();if(de.fileName){const Oe=XB(we,`testpapers/${r.uid}/${Ve}/${de.fileName}`);await u4(Oe).catch(He=>console.warn("Failed to delete test paper file:",He))}if(Array.isArray(de.questionsByPage)){for(const Oe of de.questionsByPage)for(const He of Oe.questions)if(He.type==="Other"&&((At=He.correctAnswer)!=null&&At.url)){const Et=He.correctAnswer.name,Tt=XB(we,`testpapers/${r.uid}/${Ve}/answers/${Et}`);await u4(Tt).catch(Ht=>console.warn("Failed to delete answer file:",Ht))}}}}await nK(X),g({visible:!1,id:"",isMindmap:!1,isTestpaper:!1})}catch(lt){const yt=m.isMindmap?"mindmap":m.isTestpaper?"testpaper":"summary";console.error(`Error deleting ${yt}:`,lt)}},it=async()=>{const{id:Ve,title:At,isMindmap:lt,isTestpaper:yt}=a;if(At.trim())try{const ge={};yt?ge.paperTitle=At:ge.title=At,await Vy(mi(yA,"users",r.uid,lt?"mindmaps":yt?"testpapers":"summaries",Ve),ge),u({visible:!1,id:"",title:"",isMindmap:!1,isTestpaper:!1})}catch(ge){let X="summary";lt?X="mindmap":yt&&(X="testpaper"),console.error(`Error renaming ${X}:`,ge)}},ut=Ve=>{g({visible:!0,id:Ve,isMindmap:!1,isTestpaper:!1})},ze=()=>{g({visible:!1,id:"",isMindmap:!1,isTestpaper:!1})};return J.jsxs("div",{className:"dashboard-container",children:[J.jsx(Pc,{user:r}),J.jsxs("main",{children:[J.jsxs("div",{className:"left-sidebar",children:[J.jsxs("div",{className:"dashboard-toggle-buttons",children:[J.jsx("button",{className:`toggle-button ${y==="summaries"?"active":""}`,onClick:()=>v("summaries"),children:"SUMMARIES"}),J.jsx("button",{className:`toggle-button ${y==="mindmaps"?"active":""}`,onClick:()=>v("mindmaps"),children:"MINDMAPS"}),J.jsx("button",{className:`toggle-button ${y==="testpapers"?"active":""}`,onClick:()=>v("testpapers"),children:"TEST PAPERS"})]}),J.jsxs("div",{className:"tag-filter-bar",children:[J.jsxs("div",{className:"tag-filter-input-wrapper",style:{position:"relative"},children:[J.jsx("input",{type:"text",value:U,onChange:Y,placeholder:"Filter by tag...",autoComplete:"off",className:"tag-filter-input",onKeyDown:Ve=>{Ve.key==="Enter"&&U.trim()&&re(U.trim())}}),D.length>0&&J.jsx("div",{className:"autocomplete-container",children:J.jsx("ul",{className:"autocomplete-list",children:D.map((Ve,At)=>J.jsx("li",{className:"autocomplete-item",onClick:()=>re(Ve),children:Ve},At))})})]}),J.jsx("div",{className:"tag-filter-chips",children:L.map((Ve,At)=>J.jsx(ne,{tag:Ve,onRemove:()=>le(Ve)},At))})]})]}),J.jsxs("div",{className:"main-content",children:[y==="summaries"&&J.jsxs("div",{className:"summary-list",children:[J.jsx("h3",{children:"Your Saved Summaries"}),te(t).length===0?J.jsx("p",{children:"No summaries found."}):te(t).map(Ve=>{var At;return J.jsxs("div",{className:"summary-card",children:[J.jsxs("div",{className:"summary-header",children:[J.jsxs("p",{children:[J.jsx("strong",{children:"Title:"})," ",Ve.title||"Untitled"]}),J.jsx("button",{className:"rename-trigger-button",onClick:lt=>{lt.stopPropagation(),u({visible:!0,id:Ve.id,title:Ve.title||""})},children:"Rename"}),J.jsx("button",{className:"delete-button",onClick:lt=>{lt.stopPropagation(),Ke(Ve.id,Ve.tags||[],!1,!1)},children:"Tag"})]}),J.jsx("p",{children:J.jsx("small",{children:(At=Ve.timestamp)==null?void 0:At.toDate().toLocaleString()})}),J.jsxs("div",{className:"summary-actions",children:[J.jsxs("select",{value:l[Ve.id]||"pdf",onChange:lt=>c(yt=>({...yt,[Ve.id]:lt.target.value})),className:"download-format-select",children:[J.jsx("option",{value:"pdf",children:"PDF"}),J.jsx("option",{value:"docx",children:"DOCX"})]}),J.jsx("button",{className:"download-button",onClick:()=>zce(Ve.title,Ve.summary,l[Ve.id]||"pdf","http://localhost:10000"),children:"Download"})]}),J.jsx("button",{className:"delete-button",onClick:()=>ke(Ve.id),children:"View"}),J.jsx("button",{className:"delete-button",onClick:()=>ut(Ve.id),children:"Delete"}),J.jsx("div",{className:"tags-container",children:(Ve.tags||[]).map((lt,yt)=>J.jsxs("span",{className:"tag-chip",children:[lt,J.jsx("button",{className:"tag-remove-btn",onClick:ge=>{ge.stopPropagation(),Ut(Ve.id,lt)},children:""})]},yt))})]},Ve.id)})]}),y==="mindmaps"&&J.jsxs("div",{className:"mindmap-list",children:[J.jsx("h3",{children:"Your Saved Mindmaps"}),te(A).length===0?J.jsx("p",{children:"No mind maps found."}):te(A).map(Ve=>{var At;return J.jsxs("div",{className:"mindmap-card",ref:lt=>pt.current[Ve.id]=lt,children:[J.jsxs("div",{className:"summary-header",children:[J.jsxs("p",{children:[J.jsx("strong",{children:"Title:"})," ",Ve.title||"Untitled"]}),J.jsx("button",{className:"rename-trigger-button",onClick:lt=>{lt.stopPropagation(),u({visible:!0,id:Ve.id,title:Ve.title||"",isMindmap:!0})},children:"Rename"}),J.jsx("button",{className:"delete-button",onClick:lt=>{lt.stopPropagation(),Ke(Ve.id,Ve.tags||[],!0,!1)},children:"Tag"})]}),J.jsx("p",{children:J.jsx("small",{children:(At=Ve.timestamp)==null?void 0:At.toDate().toLocaleString()})}),J.jsx("div",{className:"summary-actions",children:J.jsx("button",{className:"download-button",onClick:async()=>{const lt=mi(yA,"users",r.uid,"mindmaps",Ve.id),yt=await Rc(lt);if(yt.exists()){const ge=yt.data();Ie(ge.nodes||[]),qe((ge.edges||[]).map(X=>({...X,type:"custom"}))),ae(Ve),pe("png"),z(!0)}else alert("Mindmap not found.")},children:"Download"})}),J.jsx("button",{className:"delete-button",onClick:()=>ke(Ve.id,!0),children:"View"}),J.jsx("button",{className:"delete-button",onClick:()=>g({visible:!0,id:Ve.id,isMindmap:!0}),children:"Delete"}),J.jsx("div",{className:"tags-container",children:(Ve.tags||[]).map((lt,yt)=>J.jsxs("span",{className:"tag-chip",children:[lt,J.jsx("button",{className:"tag-remove-btn",onClick:ge=>{ge.stopPropagation(),Ut(Ve.id,lt,!0,!1)},children:""})]},yt))})]},Ve.id)})]}),y==="testpapers"&&J.jsxs("div",{className:"testpaper-list",children:[J.jsx("h3",{children:"Your Uploaded Test Papers"}),te(s).length===0?J.jsx("p",{children:"No test papers found."}):te(s).map(Ve=>J.jsxs("div",{className:"mindmap-card",children:[J.jsxs("div",{className:"summary-header",children:[J.jsxs("p",{children:[J.jsx("strong",{children:"Title:"})," ",Ve.paperTitle]}),J.jsx("button",{className:"rename-trigger-button",onClick:At=>{At.stopPropagation(),u({visible:!0,id:Ve.id,title:Ve.paperTitle||"",isTestpaper:!0,isMindmap:!1})},children:"Rename"}),J.jsx("button",{className:"delete-button",onClick:At=>{At.stopPropagation(),Ke(Ve.id,Ve.tags||[],!1,!0)},children:"Tag"})]}),J.jsxs("p",{children:[J.jsx("strong",{children:"File:"})," ",Ve.fileName]}),J.jsxs("p",{children:[J.jsx("strong",{children:"Pages:"})," ",Ve.numPages]}),J.jsx("p",{children:J.jsx("small",{children:new Date(Ve.uploadedAt).toLocaleString()})}),J.jsxs("div",{className:"testpaper-actions",children:[J.jsx("button",{className:"edit-button",onClick:At=>{At.stopPropagation(),G(`/testpaperdetail/${r.uid}/${Ve.id}`)},children:"Edit"}),J.jsx("button",{className:"attempt-button",onClick:At=>{At.stopPropagation(),G(`/testattemptsetup/${r.uid}/${Ve.id}`)},children:"Start Attempt"})]}),J.jsx("button",{className:"delete-button",onClick:At=>{At.stopPropagation(),G(`/testreview/${r.uid}/${Ve.id}`,{state:{testpaper:Ve}})},children:"Review"}),J.jsx("button",{className:"delete-button",onClick:At=>{At.stopPropagation(),g({visible:!0,id:Ve.id,isTestpaper:!0,isMindmap:!1})},children:"Delete"}),J.jsx("div",{className:"tags-container",children:(Ve.tags||[]).map((At,lt)=>J.jsxs("span",{className:"tag-chip",children:[At,J.jsx("button",{className:"tag-remove-btn",onClick:yt=>{yt.stopPropagation(),Ut(Ve.id,At,!1,!0)},children:""})]},lt))})]},Ve.id))]})]}),w.visible&&J.jsx("div",{className:"rename-modal-overlay",children:J.jsxs("div",{className:"rename-modal",children:[J.jsx("button",{className:"close-modal-button",onClick:()=>b({visible:!1,id:"",tags:[],isMindmap:!1,isTestpaper:!1}),children:""}),J.jsx("h3",{children:"Add Tag"}),J.jsxs("div",{style:{position:"relative"},children:[J.jsx("input",{type:"text",value:B,onChange:$,placeholder:"Enter tag keyword",autoFocus:!0,autoComplete:"off"}),N.length>0&&J.jsx("div",{className:"autocomplete-popup-container",children:J.jsx("ul",{className:"autocomplete-list",children:N.map((Ve,At)=>J.jsx("li",{className:"autocomplete-item",onClick:()=>{F(Ve),T([])},children:Ve},At))})})]}),J.jsxs("div",{className:"rename-modal-buttons",children:[J.jsx("button",{onClick:Le,disabled:!B.trim(),className:"modal-cancel-button",children:"Save"}),J.jsx("button",{onClick:()=>b({visible:!1,id:"",tags:[],isMindmap:!1,isTestpaper:!1}),className:"modal-cancel-button",children:"Cancel"})]})]})}),a.visible&&J.jsx("div",{className:"rename-modal-overlay",children:J.jsxs("div",{className:"rename-modal",children:[J.jsx("button",{className:"close-modal-button",onClick:()=>u({visible:!1,id:"",title:"",isMindmap:!1,isTestpaper:!1}),children:""}),J.jsx("h3",{children:a.isMindmap?"Rename Mind Map":a.isTestpaper?"Rename Test Paper":"Rename Summary"}),J.jsx("input",{type:"text",value:a.title,onChange:Ve=>u(At=>({...At,title:Ve.target.value})),placeholder:"New title"}),J.jsxs("div",{className:"rename-modal-buttons",children:[J.jsx("button",{onClick:it,className:"modal-cancel-button",disabled:!a.title.trim(),children:"Rename"}),J.jsx("button",{className:"modal-cancel-button",onClick:()=>u({visible:!1,id:"",title:"",isMindmap:!1,isTestpaper:!1}),children:"Cancel"})]})]})}),m.visible&&J.jsx("div",{className:"delete-modal-overlay",children:J.jsxs("div",{className:"delete-modal",children:[J.jsx("p",{children:m.isMindmap?"Are you sure you want to delete this mind map?":m.isTestpaper?"Are you sure you want to delete this test paper?":"Are you sure you want to delete this summary?"}),J.jsxs("div",{className:"delete-modal-buttons",children:[J.jsx("button",{className:"modal-cancel-button",onClick:()=>Me(m.id),children:"Yes"}),J.jsx("button",{className:"modal-cancel-button",onClick:ze,children:"No"})]})]})}),J.jsx(vve,{open:H,onClose:()=>z(!1),mindmap:oe,format:ie,setFormat:pe,nodes:Ce,edges:Qe,nodeTypes:et,edgeTypes:nt})]})]})},dh=({children:r})=>{const[e,t]=FK(Mh);return t?J.jsx("div",{children:"Loading..."}):e?r:(console.log("Login first!"),J.jsx(H$,{to:"/login",replace:!0}))};function N3(r,e){return function(){return r.apply(e,arguments)}}const{toString:wve}=Object.prototype,{getPrototypeOf:DO}=Object,{iterator:Xx,toStringTag:R3}=Symbol,Yx=(r=>e=>{const t=wve.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),$h=r=>(r=r.toLowerCase(),e=>Yx(e)===r),Jx=r=>e=>typeof e===r,{isArray:p1}=Array,$b=Jx("undefined");function Bve(r){return r!==null&&!$b(r)&&r.constructor!==null&&!$b(r.constructor)&&Zl(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const P3=$h("ArrayBuffer");function Cve(r){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&P3(r.buffer),e}const bve=Jx("string"),Zl=Jx("function"),O3=Jx("number"),Zx=r=>r!==null&&typeof r=="object",Eve=r=>r===!0||r===!1,YS=r=>{if(Yx(r)!=="object")return!1;const e=DO(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(R3 in r)&&!(Xx in r)},_ve=$h("Date"),Sve=$h("File"),Fve=$h("Blob"),Ive=$h("FileList"),xve=r=>Zx(r)&&Zl(r.pipe),Uve=r=>{let e;return r&&(typeof FormData=="function"&&r instanceof FormData||Zl(r.append)&&((e=Yx(r))==="formdata"||e==="object"&&Zl(r.toString)&&r.toString()==="[object FormData]"))},Tve=$h("URLSearchParams"),[Qve,Lve,Nve,Rve]=["ReadableStream","Request","Response","Headers"].map($h),Pve=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function W_(r,e,{allOwnKeys:t=!1}={}){if(r===null||typeof r>"u")return;let n,A;if(typeof r!="object"&&(r=[r]),p1(r))for(n=0,A=r.length;n<A;n++)e.call(null,r[n],n,r);else{const i=t?Object.getOwnPropertyNames(r):Object.keys(r),s=i.length;let o;for(n=0;n<s;n++)o=i[n],e.call(null,r[o],o,r)}}function k3(r,e){e=e.toLowerCase();const t=Object.keys(r);let n=t.length,A;for(;n-- >0;)if(A=t[n],e===A.toLowerCase())return A;return null}const Lv=typeof globalThis<"u"?globalThis:typeof self<"u"?self:window,D3=r=>!$b(r)&&r!==Lv;function yN(){const{caseless:r}=D3(this)&&this||{},e={},t=(n,A)=>{const i=r&&k3(e,A)||A;YS(e[i])&&YS(n)?e[i]=yN(e[i],n):YS(n)?e[i]=yN({},n):p1(n)?e[i]=n.slice():e[i]=n};for(let n=0,A=arguments.length;n<A;n++)arguments[n]&&W_(arguments[n],t);return e}const Ove=(r,e,t,{allOwnKeys:n}={})=>(W_(e,(A,i)=>{t&&Zl(A)?r[i]=N3(A,t):r[i]=A},{allOwnKeys:n}),r),kve=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),Dve=(r,e,t,n)=>{r.prototype=Object.create(e.prototype,n),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:e.prototype}),t&&Object.assign(r.prototype,t)},Mve=(r,e,t,n)=>{let A,i,s;const o={};if(e=e||{},r==null)return e;do{for(A=Object.getOwnPropertyNames(r),i=A.length;i-- >0;)s=A[i],(!n||n(s,r,e))&&!o[s]&&(e[s]=r[s],o[s]=!0);r=t!==!1&&DO(r)}while(r&&(!t||t(r,e))&&r!==Object.prototype);return e},Hve=(r,e,t)=>{r=String(r),(t===void 0||t>r.length)&&(t=r.length),t-=e.length;const n=r.indexOf(e,t);return n!==-1&&n===t},jve=r=>{if(!r)return null;if(p1(r))return r;let e=r.length;if(!O3(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=r[e];return t},Vve=(r=>e=>r&&e instanceof r)(typeof Uint8Array<"u"&&DO(Uint8Array)),Kve=(r,e)=>{const n=(r&&r[Xx]).call(r);let A;for(;(A=n.next())&&!A.done;){const i=A.value;e.call(r,i[0],i[1])}},Gve=(r,e)=>{let t;const n=[];for(;(t=r.exec(e))!==null;)n.push(t);return n},zve=$h("HTMLFormElement"),qve=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,n,A){return n.toUpperCase()+A}),GH=(({hasOwnProperty:r})=>(e,t)=>r.call(e,t))(Object.prototype),Wve=$h("RegExp"),M3=(r,e)=>{const t=Object.getOwnPropertyDescriptors(r),n={};W_(t,(A,i)=>{let s;(s=e(A,i,r))!==!1&&(n[i]=s||A)}),Object.defineProperties(r,n)},$ve=r=>{M3(r,(e,t)=>{if(Zl(r)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const n=r[t];if(Zl(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},Xve=(r,e)=>{const t={},n=A=>{A.forEach(i=>{t[i]=!0})};return p1(r)?n(r):n(String(r).split(e)),t},Yve=()=>{},Jve=(r,e)=>r!=null&&Number.isFinite(r=+r)?r:e;function Zve(r){return!!(r&&Zl(r.append)&&r[R3]==="FormData"&&r[Xx])}const eye=r=>{const e=new Array(10),t=(n,A)=>{if(Zx(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[A]=n;const i=p1(n)?[]:{};return W_(n,(s,o)=>{const a=t(s,A+1);!$b(a)&&(i[o]=a)}),e[A]=void 0,i}}return n};return t(r,0)},tye=$h("AsyncFunction"),rye=r=>r&&(Zx(r)||Zl(r))&&Zl(r.then)&&Zl(r.catch),H3=((r,e)=>r?setImmediate:e?((t,n)=>(Lv.addEventListener("message",({source:A,data:i})=>{A===Lv&&i===t&&n.length&&n.shift()()},!1),A=>{n.push(A),Lv.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Zl(Lv.postMessage)),nye=typeof queueMicrotask<"u"?queueMicrotask.bind(Lv):typeof pm<"u"&&pm.nextTick||H3,Aye=r=>r!=null&&Zl(r[Xx]),Bt={isArray:p1,isArrayBuffer:P3,isBuffer:Bve,isFormData:Uve,isArrayBufferView:Cve,isString:bve,isNumber:O3,isBoolean:Eve,isObject:Zx,isPlainObject:YS,isReadableStream:Qve,isRequest:Lve,isResponse:Nve,isHeaders:Rve,isUndefined:$b,isDate:_ve,isFile:Sve,isBlob:Fve,isRegExp:Wve,isFunction:Zl,isStream:xve,isURLSearchParams:Tve,isTypedArray:Vve,isFileList:Ive,forEach:W_,merge:yN,extend:Ove,trim:Pve,stripBOM:kve,inherits:Dve,toFlatObject:Mve,kindOf:Yx,kindOfTest:$h,endsWith:Hve,toArray:jve,forEachEntry:Kve,matchAll:Gve,isHTMLForm:zve,hasOwnProperty:GH,hasOwnProp:GH,reduceDescriptors:M3,freezeMethods:$ve,toObjectSet:Xve,toCamelCase:qve,noop:Yve,toFiniteNumber:Jve,findKey:k3,global:Lv,isContextDefined:D3,isSpecCompliantForm:Zve,toJSONObject:eye,isAsyncFn:tye,isThenable:rye,setImmediate:H3,asap:nye,isIterable:Aye};function nn(r,e,t,n,A){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),n&&(this.request=n),A&&(this.response=A,this.status=A.status?A.status:null)}Bt.inherits(nn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Bt.toJSONObject(this.config),code:this.code,status:this.status}}});const j3=nn.prototype,V3={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{V3[r]={value:r}});Object.defineProperties(nn,V3);Object.defineProperty(j3,"isAxiosError",{value:!0});nn.from=(r,e,t,n,A,i)=>{const s=Object.create(j3);return Bt.toFlatObject(r,s,function(a){return a!==Error.prototype},o=>o!=="isAxiosError"),nn.call(s,r.message,e,t,n,A),s.cause=r,s.name=r.name,i&&Object.assign(s,i),s};const iye=null;function wN(r){return Bt.isPlainObject(r)||Bt.isArray(r)}function K3(r){return Bt.endsWith(r,"[]")?r.slice(0,-2):r}function zH(r,e,t){return r?r.concat(e).map(function(A,i){return A=K3(A),!t&&i?"["+A+"]":A}).join(t?".":""):e}function sye(r){return Bt.isArray(r)&&!r.some(wN)}const oye=Bt.toFlatObject(Bt,{},null,function(e){return/^is[A-Z]/.test(e)});function eU(r,e,t){if(!Bt.isObject(r))throw new TypeError("target must be an object");e=e||new FormData,t=Bt.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,y){return!Bt.isUndefined(y[g])});const n=t.metaTokens,A=t.visitor||l,i=t.dots,s=t.indexes,a=(t.Blob||typeof Blob<"u"&&Blob)&&Bt.isSpecCompliantForm(e);if(!Bt.isFunction(A))throw new TypeError("visitor must be a function");function u(m){if(m===null)return"";if(Bt.isDate(m))return m.toISOString();if(Bt.isBoolean(m))return m.toString();if(!a&&Bt.isBlob(m))throw new nn("Blob is not supported. Use a Buffer instead.");return Bt.isArrayBuffer(m)||Bt.isTypedArray(m)?a&&typeof Blob=="function"?new Blob([m]):bg.Buffer.from(m):m}function l(m,g,y){let v=m;if(m&&!y&&typeof m=="object"){if(Bt.endsWith(g,"{}"))g=n?g:g.slice(0,-2),m=JSON.stringify(m);else if(Bt.isArray(m)&&sye(m)||(Bt.isFileList(m)||Bt.endsWith(g,"[]"))&&(v=Bt.toArray(m)))return g=K3(g),v.forEach(function(b,B){!(Bt.isUndefined(b)||b===null)&&e.append(s===!0?zH([g],B,i):s===null?g:g+"[]",u(b))}),!1}return wN(m)?!0:(e.append(zH(y,g,i),u(m)),!1)}const c=[],h=Object.assign(oye,{defaultVisitor:l,convertValue:u,isVisitable:wN});function d(m,g){if(!Bt.isUndefined(m)){if(c.indexOf(m)!==-1)throw Error("Circular reference detected in "+g.join("."));c.push(m),Bt.forEach(m,function(v,w){(!(Bt.isUndefined(v)||v===null)&&A.call(e,v,Bt.isString(w)?w.trim():w,g,h))===!0&&d(v,g?g.concat(w):[w])}),c.pop()}}if(!Bt.isObject(r))throw new TypeError("data must be an object");return d(r),e}function qH(r){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function MO(r,e){this._pairs=[],r&&eU(r,this,e)}const G3=MO.prototype;G3.append=function(e,t){this._pairs.push([e,t])};G3.toString=function(e){const t=e?function(n){return e.call(this,n,qH)}:qH;return this._pairs.map(function(A){return t(A[0])+"="+t(A[1])},"").join("&")};function aye(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function z3(r,e,t){if(!e)return r;const n=t&&t.encode||aye;Bt.isFunction(t)&&(t={serialize:t});const A=t&&t.serialize;let i;if(A?i=A(e,t):i=Bt.isURLSearchParams(e)?e.toString():new MO(e,t).toString(n),i){const s=r.indexOf("#");s!==-1&&(r=r.slice(0,s)),r+=(r.indexOf("?")===-1?"?":"&")+i}return r}class WH{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Bt.forEach(this.handlers,function(n){n!==null&&e(n)})}}const q3={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},lye=typeof URLSearchParams<"u"?URLSearchParams:MO,uye=typeof FormData<"u"?FormData:null,cye=typeof Blob<"u"?Blob:null,hye={isBrowser:!0,classes:{URLSearchParams:lye,FormData:uye,Blob:cye},protocols:["http","https","file","blob","url","data"]},HO=typeof window<"u"&&typeof document<"u",BN=typeof navigator=="object"&&navigator||void 0,fye=HO&&(!BN||["ReactNative","NativeScript","NS"].indexOf(BN.product)<0),dye=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",pye=HO&&window.location.href||"http://localhost",gye=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:HO,hasStandardBrowserEnv:fye,hasStandardBrowserWebWorkerEnv:dye,navigator:BN,origin:pye},Symbol.toStringTag,{value:"Module"})),ka={...gye,...hye};function mye(r,e){return eU(r,new ka.classes.URLSearchParams,Object.assign({visitor:function(t,n,A,i){return ka.isNode&&Bt.isBuffer(t)?(this.append(n,t.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function vye(r){return Bt.matchAll(/\w+|\[(\w*)]/g,r).map(e=>e[0]==="[]"?"":e[1]||e[0])}function yye(r){const e={},t=Object.keys(r);let n;const A=t.length;let i;for(n=0;n<A;n++)i=t[n],e[i]=r[i];return e}function W3(r){function e(t,n,A,i){let s=t[i++];if(s==="__proto__")return!0;const o=Number.isFinite(+s),a=i>=t.length;return s=!s&&Bt.isArray(A)?A.length:s,a?(Bt.hasOwnProp(A,s)?A[s]=[A[s],n]:A[s]=n,!o):((!A[s]||!Bt.isObject(A[s]))&&(A[s]=[]),e(t,n,A[s],i)&&Bt.isArray(A[s])&&(A[s]=yye(A[s])),!o)}if(Bt.isFormData(r)&&Bt.isFunction(r.entries)){const t={};return Bt.forEachEntry(r,(n,A)=>{e(vye(n),A,t,0)}),t}return null}function wye(r,e,t){if(Bt.isString(r))try{return(e||JSON.parse)(r),Bt.trim(r)}catch(n){if(n.name!=="SyntaxError")throw n}return(t||JSON.stringify)(r)}const $_={transitional:q3,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",A=n.indexOf("application/json")>-1,i=Bt.isObject(e);if(i&&Bt.isHTMLForm(e)&&(e=new FormData(e)),Bt.isFormData(e))return A?JSON.stringify(W3(e)):e;if(Bt.isArrayBuffer(e)||Bt.isBuffer(e)||Bt.isStream(e)||Bt.isFile(e)||Bt.isBlob(e)||Bt.isReadableStream(e))return e;if(Bt.isArrayBufferView(e))return e.buffer;if(Bt.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return mye(e,this.formSerializer).toString();if((o=Bt.isFileList(e))||n.indexOf("multipart/form-data")>-1){const a=this.env&&this.env.FormData;return eU(o?{"files[]":e}:e,a&&new a,this.formSerializer)}}return i||A?(t.setContentType("application/json",!1),wye(e)):e}],transformResponse:[function(e){const t=this.transitional||$_.transitional,n=t&&t.forcedJSONParsing,A=this.responseType==="json";if(Bt.isResponse(e)||Bt.isReadableStream(e))return e;if(e&&Bt.isString(e)&&(n&&!this.responseType||A)){const s=!(t&&t.silentJSONParsing)&&A;try{return JSON.parse(e)}catch(o){if(s)throw o.name==="SyntaxError"?nn.from(o,nn.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ka.classes.FormData,Blob:ka.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Bt.forEach(["delete","get","head","post","put","patch"],r=>{$_.headers[r]={}});const Bye=Bt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Cye=r=>{const e={};let t,n,A;return r&&r.split(`
`).forEach(function(s){A=s.indexOf(":"),t=s.substring(0,A).trim().toLowerCase(),n=s.substring(A+1).trim(),!(!t||e[t]&&Bye[t])&&(t==="set-cookie"?e[t]?e[t].push(n):e[t]=[n]:e[t]=e[t]?e[t]+", "+n:n)}),e},$H=Symbol("internals");function CC(r){return r&&String(r).trim().toLowerCase()}function JS(r){return r===!1||r==null?r:Bt.isArray(r)?r.map(JS):String(r)}function bye(r){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=t.exec(r);)e[n[1]]=n[2];return e}const Eye=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function JT(r,e,t,n,A){if(Bt.isFunction(n))return n.call(this,e,t);if(A&&(e=t),!!Bt.isString(e)){if(Bt.isString(n))return e.indexOf(n)!==-1;if(Bt.isRegExp(n))return n.test(e)}}function _ye(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}function Sye(r,e){const t=Bt.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(r,n+t,{value:function(A,i,s){return this[n].call(this,e,A,i,s)},configurable:!0})})}let eu=class{constructor(e){e&&this.set(e)}set(e,t,n){const A=this;function i(o,a,u){const l=CC(a);if(!l)throw new Error("header name must be a non-empty string");const c=Bt.findKey(A,l);(!c||A[c]===void 0||u===!0||u===void 0&&A[c]!==!1)&&(A[c||a]=JS(o))}const s=(o,a)=>Bt.forEach(o,(u,l)=>i(u,l,a));if(Bt.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(Bt.isString(e)&&(e=e.trim())&&!Eye(e))s(Cye(e),t);else if(Bt.isObject(e)&&Bt.isIterable(e)){let o={},a,u;for(const l of e){if(!Bt.isArray(l))throw TypeError("Object iterator must return a key-value pair");o[u=l[0]]=(a=o[u])?Bt.isArray(a)?[...a,l[1]]:[a,l[1]]:l[1]}s(o,t)}else e!=null&&i(t,e,n);return this}get(e,t){if(e=CC(e),e){const n=Bt.findKey(this,e);if(n){const A=this[n];if(!t)return A;if(t===!0)return bye(A);if(Bt.isFunction(t))return t.call(this,A,n);if(Bt.isRegExp(t))return t.exec(A);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=CC(e),e){const n=Bt.findKey(this,e);return!!(n&&this[n]!==void 0&&(!t||JT(this,this[n],n,t)))}return!1}delete(e,t){const n=this;let A=!1;function i(s){if(s=CC(s),s){const o=Bt.findKey(n,s);o&&(!t||JT(n,n[o],o,t))&&(delete n[o],A=!0)}}return Bt.isArray(e)?e.forEach(i):i(e),A}clear(e){const t=Object.keys(this);let n=t.length,A=!1;for(;n--;){const i=t[n];(!e||JT(this,this[i],i,e,!0))&&(delete this[i],A=!0)}return A}normalize(e){const t=this,n={};return Bt.forEach(this,(A,i)=>{const s=Bt.findKey(n,i);if(s){t[s]=JS(A),delete t[i];return}const o=e?_ye(i):String(i).trim();o!==i&&delete t[i],t[o]=JS(A),n[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Bt.forEach(this,(n,A)=>{n!=null&&n!==!1&&(t[A]=e&&Bt.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(A=>n.set(A)),n}static accessor(e){const n=(this[$H]=this[$H]={accessors:{}}).accessors,A=this.prototype;function i(s){const o=CC(s);n[o]||(Sye(A,s),n[o]=!0)}return Bt.isArray(e)?e.forEach(i):i(e),this}};eu.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Bt.reduceDescriptors(eu.prototype,({value:r},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>r,set(n){this[t]=n}}});Bt.freezeMethods(eu);function ZT(r,e){const t=this||$_,n=e||t,A=eu.from(n.headers);let i=n.data;return Bt.forEach(r,function(o){i=o.call(t,i,A.normalize(),e?e.status:void 0)}),A.normalize(),i}function $3(r){return!!(r&&r.__CANCEL__)}function g1(r,e,t){nn.call(this,r??"canceled",nn.ERR_CANCELED,e,t),this.name="CanceledError"}Bt.inherits(g1,nn,{__CANCEL__:!0});function X3(r,e,t){const n=t.config.validateStatus;!t.status||!n||n(t.status)?r(t):e(new nn("Request failed with status code "+t.status,[nn.ERR_BAD_REQUEST,nn.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function Fye(r){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return e&&e[1]||""}function Iye(r,e){r=r||10;const t=new Array(r),n=new Array(r);let A=0,i=0,s;return e=e!==void 0?e:1e3,function(a){const u=Date.now(),l=n[i];s||(s=u),t[A]=a,n[A]=u;let c=i,h=0;for(;c!==A;)h+=t[c++],c=c%r;if(A=(A+1)%r,A===i&&(i=(i+1)%r),u-s<e)return;const d=l&&u-l;return d?Math.round(h*1e3/d):void 0}}function xye(r,e){let t=0,n=1e3/e,A,i;const s=(u,l=Date.now())=>{t=l,A=null,i&&(clearTimeout(i),i=null),r.apply(null,u)};return[(...u)=>{const l=Date.now(),c=l-t;c>=n?s(u,l):(A=u,i||(i=setTimeout(()=>{i=null,s(A)},n-c)))},()=>A&&s(A)]}const CI=(r,e,t=3)=>{let n=0;const A=Iye(50,250);return xye(i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,a=s-n,u=A(a),l=s<=o;n=s;const c={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:u||void 0,estimated:u&&o&&l?(o-s)/u:void 0,event:i,lengthComputable:o!=null,[e?"download":"upload"]:!0};r(c)},t)},XH=(r,e)=>{const t=r!=null;return[n=>e[0]({lengthComputable:t,total:r,loaded:n}),e[1]]},YH=r=>(...e)=>Bt.asap(()=>r(...e)),Uye=ka.hasStandardBrowserEnv?((r,e)=>t=>(t=new URL(t,ka.origin),r.protocol===t.protocol&&r.host===t.host&&(e||r.port===t.port)))(new URL(ka.origin),ka.navigator&&/(msie|trident)/i.test(ka.navigator.userAgent)):()=>!0,Tye=ka.hasStandardBrowserEnv?{write(r,e,t,n,A,i){const s=[r+"="+encodeURIComponent(e)];Bt.isNumber(t)&&s.push("expires="+new Date(t).toGMTString()),Bt.isString(n)&&s.push("path="+n),Bt.isString(A)&&s.push("domain="+A),i===!0&&s.push("secure"),document.cookie=s.join("; ")},read(r){const e=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Qye(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function Lye(r,e){return e?r.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):r}function Y3(r,e,t){let n=!Qye(e);return r&&(n||t==!1)?Lye(r,e):e}const JH=r=>r instanceof eu?{...r}:r;function ow(r,e){e=e||{};const t={};function n(u,l,c,h){return Bt.isPlainObject(u)&&Bt.isPlainObject(l)?Bt.merge.call({caseless:h},u,l):Bt.isPlainObject(l)?Bt.merge({},l):Bt.isArray(l)?l.slice():l}function A(u,l,c,h){if(Bt.isUndefined(l)){if(!Bt.isUndefined(u))return n(void 0,u,c,h)}else return n(u,l,c,h)}function i(u,l){if(!Bt.isUndefined(l))return n(void 0,l)}function s(u,l){if(Bt.isUndefined(l)){if(!Bt.isUndefined(u))return n(void 0,u)}else return n(void 0,l)}function o(u,l,c){if(c in e)return n(u,l);if(c in r)return n(void 0,u)}const a={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:o,headers:(u,l,c)=>A(JH(u),JH(l),c,!0)};return Bt.forEach(Object.keys(Object.assign({},r,e)),function(l){const c=a[l]||A,h=c(r[l],e[l],l);Bt.isUndefined(h)&&c!==o||(t[l]=h)}),t}const J3=r=>{const e=ow({},r);let{data:t,withXSRFToken:n,xsrfHeaderName:A,xsrfCookieName:i,headers:s,auth:o}=e;e.headers=s=eu.from(s),e.url=z3(Y3(e.baseURL,e.url,e.allowAbsoluteUrls),r.params,r.paramsSerializer),o&&s.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let a;if(Bt.isFormData(t)){if(ka.hasStandardBrowserEnv||ka.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((a=s.getContentType())!==!1){const[u,...l]=a?a.split(";").map(c=>c.trim()).filter(Boolean):[];s.setContentType([u||"multipart/form-data",...l].join("; "))}}if(ka.hasStandardBrowserEnv&&(n&&Bt.isFunction(n)&&(n=n(e)),n||n!==!1&&Uye(e.url))){const u=A&&i&&Tye.read(i);u&&s.set(A,u)}return e},Nye=typeof XMLHttpRequest<"u",Rye=Nye&&function(r){return new Promise(function(t,n){const A=J3(r);let i=A.data;const s=eu.from(A.headers).normalize();let{responseType:o,onUploadProgress:a,onDownloadProgress:u}=A,l,c,h,d,m;function g(){d&&d(),m&&m(),A.cancelToken&&A.cancelToken.unsubscribe(l),A.signal&&A.signal.removeEventListener("abort",l)}let y=new XMLHttpRequest;y.open(A.method.toUpperCase(),A.url,!0),y.timeout=A.timeout;function v(){if(!y)return;const b=eu.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),F={data:!o||o==="text"||o==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:b,config:r,request:y};X3(function(T){t(T),g()},function(T){n(T),g()},F),y=null}"onloadend"in y?y.onloadend=v:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(v)},y.onabort=function(){y&&(n(new nn("Request aborted",nn.ECONNABORTED,r,y)),y=null)},y.onerror=function(){n(new nn("Network Error",nn.ERR_NETWORK,r,y)),y=null},y.ontimeout=function(){let B=A.timeout?"timeout of "+A.timeout+"ms exceeded":"timeout exceeded";const F=A.transitional||q3;A.timeoutErrorMessage&&(B=A.timeoutErrorMessage),n(new nn(B,F.clarifyTimeoutError?nn.ETIMEDOUT:nn.ECONNABORTED,r,y)),y=null},i===void 0&&s.setContentType(null),"setRequestHeader"in y&&Bt.forEach(s.toJSON(),function(B,F){y.setRequestHeader(F,B)}),Bt.isUndefined(A.withCredentials)||(y.withCredentials=!!A.withCredentials),o&&o!=="json"&&(y.responseType=A.responseType),u&&([h,m]=CI(u,!0),y.addEventListener("progress",h)),a&&y.upload&&([c,d]=CI(a),y.upload.addEventListener("progress",c),y.upload.addEventListener("loadend",d)),(A.cancelToken||A.signal)&&(l=b=>{y&&(n(!b||b.type?new g1(null,r,y):b),y.abort(),y=null)},A.cancelToken&&A.cancelToken.subscribe(l),A.signal&&(A.signal.aborted?l():A.signal.addEventListener("abort",l)));const w=Fye(A.url);if(w&&ka.protocols.indexOf(w)===-1){n(new nn("Unsupported protocol "+w+":",nn.ERR_BAD_REQUEST,r));return}y.send(i||null)})},Pye=(r,e)=>{const{length:t}=r=r?r.filter(Boolean):[];if(e||t){let n=new AbortController,A;const i=function(u){if(!A){A=!0,o();const l=u instanceof Error?u:this.reason;n.abort(l instanceof nn?l:new g1(l instanceof Error?l.message:l))}};let s=e&&setTimeout(()=>{s=null,i(new nn(`timeout ${e} of ms exceeded`,nn.ETIMEDOUT))},e);const o=()=>{r&&(s&&clearTimeout(s),s=null,r.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),r=null)};r.forEach(u=>u.addEventListener("abort",i));const{signal:a}=n;return a.unsubscribe=()=>Bt.asap(o),a}},Oye=function*(r,e){let t=r.byteLength;if(t<e){yield r;return}let n=0,A;for(;n<t;)A=n+e,yield r.slice(n,A),n=A},kye=async function*(r,e){for await(const t of Dye(r))yield*Oye(t,e)},Dye=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const e=r.getReader();try{for(;;){const{done:t,value:n}=await e.read();if(t)break;yield n}}finally{await e.cancel()}},ZH=(r,e,t,n)=>{const A=kye(r,e);let i=0,s,o=a=>{s||(s=!0,n&&n(a))};return new ReadableStream({async pull(a){try{const{done:u,value:l}=await A.next();if(u){o(),a.close();return}let c=l.byteLength;if(t){let h=i+=c;t(h)}a.enqueue(new Uint8Array(l))}catch(u){throw o(u),u}},cancel(a){return o(a),A.return()}},{highWaterMark:2})},tU=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Z3=tU&&typeof ReadableStream=="function",Mye=tU&&(typeof TextEncoder=="function"?(r=>e=>r.encode(e))(new TextEncoder):async r=>new Uint8Array(await new Response(r).arrayBuffer())),ez=(r,...e)=>{try{return!!r(...e)}catch{return!1}},Hye=Z3&&ez(()=>{let r=!1;const e=new Request(ka.origin,{body:new ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type");return r&&!e}),e6=64*1024,CN=Z3&&ez(()=>Bt.isReadableStream(new Response("").body)),bI={stream:CN&&(r=>r.body)};tU&&(r=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!bI[e]&&(bI[e]=Bt.isFunction(r[e])?t=>t[e]():(t,n)=>{throw new nn(`Response type '${e}' is not supported`,nn.ERR_NOT_SUPPORT,n)})})})(new Response);const jye=async r=>{if(r==null)return 0;if(Bt.isBlob(r))return r.size;if(Bt.isSpecCompliantForm(r))return(await new Request(ka.origin,{method:"POST",body:r}).arrayBuffer()).byteLength;if(Bt.isArrayBufferView(r)||Bt.isArrayBuffer(r))return r.byteLength;if(Bt.isURLSearchParams(r)&&(r=r+""),Bt.isString(r))return(await Mye(r)).byteLength},Vye=async(r,e)=>{const t=Bt.toFiniteNumber(r.getContentLength());return t??jye(e)},Kye=tU&&(async r=>{let{url:e,method:t,data:n,signal:A,cancelToken:i,timeout:s,onDownloadProgress:o,onUploadProgress:a,responseType:u,headers:l,withCredentials:c="same-origin",fetchOptions:h}=J3(r);u=u?(u+"").toLowerCase():"text";let d=Pye([A,i&&i.toAbortSignal()],s),m;const g=d&&d.unsubscribe&&(()=>{d.unsubscribe()});let y;try{if(a&&Hye&&t!=="get"&&t!=="head"&&(y=await Vye(l,n))!==0){let F=new Request(e,{method:"POST",body:n,duplex:"half"}),N;if(Bt.isFormData(n)&&(N=F.headers.get("content-type"))&&l.setContentType(N),F.body){const[T,U]=XH(y,CI(YH(a)));n=ZH(F.body,e6,T,U)}}Bt.isString(c)||(c=c?"include":"omit");const v="credentials"in Request.prototype;m=new Request(e,{...h,signal:d,method:t.toUpperCase(),headers:l.normalize().toJSON(),body:n,duplex:"half",credentials:v?c:void 0});let w=await fetch(m,h);const b=CN&&(u==="stream"||u==="response");if(CN&&(o||b&&g)){const F={};["status","statusText","headers"].forEach(k=>{F[k]=w[k]});const N=Bt.toFiniteNumber(w.headers.get("content-length")),[T,U]=o&&XH(N,CI(YH(o),!0))||[];w=new Response(ZH(w.body,e6,T,()=>{U&&U(),g&&g()}),F)}u=u||"text";let B=await bI[Bt.findKey(bI,u)||"text"](w,r);return!b&&g&&g(),await new Promise((F,N)=>{X3(F,N,{data:B,headers:eu.from(w.headers),status:w.status,statusText:w.statusText,config:r,request:m})})}catch(v){throw g&&g(),v&&v.name==="TypeError"&&/Load failed|fetch/i.test(v.message)?Object.assign(new nn("Network Error",nn.ERR_NETWORK,r,m),{cause:v.cause||v}):nn.from(v,v&&v.code,r,m)}}),bN={http:iye,xhr:Rye,fetch:Kye};Bt.forEach(bN,(r,e)=>{if(r){try{Object.defineProperty(r,"name",{value:e})}catch{}Object.defineProperty(r,"adapterName",{value:e})}});const t6=r=>`- ${r}`,Gye=r=>Bt.isFunction(r)||r===null||r===!1,tz={getAdapter:r=>{r=Bt.isArray(r)?r:[r];const{length:e}=r;let t,n;const A={};for(let i=0;i<e;i++){t=r[i];let s;if(n=t,!Gye(t)&&(n=bN[(s=String(t)).toLowerCase()],n===void 0))throw new nn(`Unknown adapter '${s}'`);if(n)break;A[s||"#"+i]=n}if(!n){const i=Object.entries(A).map(([o,a])=>`adapter ${o} `+(a===!1?"is not supported by the environment":"is not available in the build"));let s=e?i.length>1?`since :
`+i.map(t6).join(`
`):" "+t6(i[0]):"as no adapter specified";throw new nn("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return n},adapters:bN};function eQ(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new g1(null,r)}function r6(r){return eQ(r),r.headers=eu.from(r.headers),r.data=ZT.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),tz.getAdapter(r.adapter||$_.adapter)(r).then(function(n){return eQ(r),n.data=ZT.call(r,r.transformResponse,n),n.headers=eu.from(n.headers),n},function(n){return $3(n)||(eQ(r),n&&n.response&&(n.response.data=ZT.call(r,r.transformResponse,n.response),n.response.headers=eu.from(n.response.headers))),Promise.reject(n)})}const rz="1.10.0",rU={};["object","boolean","number","function","string","symbol"].forEach((r,e)=>{rU[r]=function(n){return typeof n===r||"a"+(e<1?"n ":" ")+r}});const n6={};rU.transitional=function(e,t,n){function A(i,s){return"[Axios v"+rz+"] Transitional option '"+i+"'"+s+(n?". "+n:"")}return(i,s,o)=>{if(e===!1)throw new nn(A(s," has been removed"+(t?" in "+t:"")),nn.ERR_DEPRECATED);return t&&!n6[s]&&(n6[s]=!0,console.warn(A(s," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(i,s,o):!0}};rU.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function zye(r,e,t){if(typeof r!="object")throw new nn("options must be an object",nn.ERR_BAD_OPTION_VALUE);const n=Object.keys(r);let A=n.length;for(;A-- >0;){const i=n[A],s=e[i];if(s){const o=r[i],a=o===void 0||s(o,i,r);if(a!==!0)throw new nn("option "+i+" must be "+a,nn.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new nn("Unknown option "+i,nn.ERR_BAD_OPTION)}}const ZS={assertOptions:zye,validators:rU},wf=ZS.validators;let Jy=class{constructor(e){this.defaults=e||{},this.interceptors={request:new WH,response:new WH}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let A={};Error.captureStackTrace?Error.captureStackTrace(A):A=new Error;const i=A.stack?A.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=ow(this.defaults,t);const{transitional:n,paramsSerializer:A,headers:i}=t;n!==void 0&&ZS.assertOptions(n,{silentJSONParsing:wf.transitional(wf.boolean),forcedJSONParsing:wf.transitional(wf.boolean),clarifyTimeoutError:wf.transitional(wf.boolean)},!1),A!=null&&(Bt.isFunction(A)?t.paramsSerializer={serialize:A}:ZS.assertOptions(A,{encode:wf.function,serialize:wf.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),ZS.assertOptions(t,{baseUrl:wf.spelling("baseURL"),withXsrfToken:wf.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=i&&Bt.merge(i.common,i[t.method]);i&&Bt.forEach(["delete","get","head","post","put","patch","common"],m=>{delete i[m]}),t.headers=eu.concat(s,i);const o=[];let a=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(t)===!1||(a=a&&g.synchronous,o.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let l,c=0,h;if(!a){const m=[r6.bind(this),void 0];for(m.unshift.apply(m,o),m.push.apply(m,u),h=m.length,l=Promise.resolve(t);c<h;)l=l.then(m[c++],m[c++]);return l}h=o.length;let d=t;for(c=0;c<h;){const m=o[c++],g=o[c++];try{d=m(d)}catch(y){g.call(this,y);break}}try{l=r6.call(this,d)}catch(m){return Promise.reject(m)}for(c=0,h=u.length;c<h;)l=l.then(u[c++],u[c++]);return l}getUri(e){e=ow(this.defaults,e);const t=Y3(e.baseURL,e.url,e.allowAbsoluteUrls);return z3(t,e.params,e.paramsSerializer)}};Bt.forEach(["delete","get","head","options"],function(e){Jy.prototype[e]=function(t,n){return this.request(ow(n||{},{method:e,url:t,data:(n||{}).data}))}});Bt.forEach(["post","put","patch"],function(e){function t(n){return function(i,s,o){return this.request(ow(o||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:s}))}}Jy.prototype[e]=t(),Jy.prototype[e+"Form"]=t(!0)});let qye=class nz{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(i){t=i});const n=this;this.promise.then(A=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](A);n._listeners=null}),this.promise.then=A=>{let i;const s=new Promise(o=>{n.subscribe(o),i=o}).then(A);return s.cancel=function(){n.unsubscribe(i)},s},e(function(i,s,o){n.reason||(n.reason=new g1(i,s,o),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=n=>{e.abort(n)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new nz(function(A){e=A}),cancel:e}}};function Wye(r){return function(t){return r.apply(null,t)}}function $ye(r){return Bt.isObject(r)&&r.isAxiosError===!0}const EN={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(EN).forEach(([r,e])=>{EN[e]=r});function Az(r){const e=new Jy(r),t=N3(Jy.prototype.request,e);return Bt.extend(t,Jy.prototype,e,{allOwnKeys:!0}),Bt.extend(t,e,null,{allOwnKeys:!0}),t.create=function(A){return Az(ow(r,A))},t}const ai=Az($_);ai.Axios=Jy;ai.CanceledError=g1;ai.CancelToken=qye;ai.isCancel=$3;ai.VERSION=rz;ai.toFormData=eU;ai.AxiosError=nn;ai.Cancel=ai.CanceledError;ai.all=function(e){return Promise.all(e)};ai.spread=Wye;ai.isAxiosError=$ye;ai.mergeConfig=ow;ai.AxiosHeaders=eu;ai.formToJSON=r=>W3(Bt.isHTMLForm(r)?new FormData(r):r);ai.getAdapter=tz.getAdapter;ai.HttpStatusCode=EN;ai.default=ai;const{Axios:fCe,AxiosError:dCe,CanceledError:pCe,isCancel:gCe,CancelToken:mCe,VERSION:vCe,all:yCe,Cancel:wCe,isAxiosError:BCe,spread:CCe,toFormData:bCe,AxiosHeaders:ECe,HttpStatusCode:_Ce,formToJSON:SCe,getAdapter:FCe,mergeConfig:ICe}=ai,Xye=()=>{const[r,e]=me.useState(""),[t,n]=me.useState("short"),[A,i]=me.useState(""),[s,o]=me.useState(!1),[a,u]=me.useState(!0),[l,c]=me.useState(null),[h,d]=me.useState(""),[m,g]=me.useState("text"),[y,v]=me.useState(null),[w,b]=me.useState(!1),[B,F]=me.useState(""),[N,T]=me.useState(!1);me.useEffect(()=>{const D=a1(Mh,_=>{c(_),u(!1)});return()=>D()},[]);const U=async()=>{if(a||!l){alert("You must be logged in to use this feature.");return}o(!0),d(""),i(""),b(!1);try{if(m==="text"){if(!r.trim()){d("Please enter some text."),o(!1);return}const D=await ai.post("http://localhost:10000/summarize",{text:r,type:t});i(D.data.summary),b(!0)}else if(m==="file"){if(!y){d("Please upload a file."),o(!1);return}const D=new FormData;D.append("file",y),D.append("type",t);const _=await ai.post("http://localhost:10000/summarize-file",D,{headers:{"Content-Type":"multipart/form-data"}});i(_.data.summary),b(!0)}}catch(D){console.error(D),d("Something went wrong.")}finally{o(!1)}},k=async()=>{if(!(!l||!A||!B.trim())){T(!0);try{await AK(wm(yA,"users",l.uid,"summaries"),{uid:l.uid,title:B,summary:A,type:t,timestamp:XP()}),alert("Saved to Dashboard!"),F(""),b(!1)}catch(D){console.error(D)}finally{T(!1)}}};return J.jsxs("div",{className:"summarizer-container",children:[J.jsx(Pc,{}),J.jsxs("div",{className:"mode-toggle",children:[J.jsx("button",{className:m==="text"?"active":"",onClick:()=>g("text"),children:"Text Mode"}),J.jsx("button",{className:m==="file"?"active":"",onClick:()=>g("file"),children:"File Mode"})]}),J.jsxs("div",{className:"summarizer-card",children:[J.jsx("h1",{className:"summarizer-title",children:"Generate Your Own Personalised Summaries"}),m==="text"?J.jsx("textarea",{className:"input-textarea",placeholder:"Enter text here...",value:r,onChange:D=>e(D.target.value)}):J.jsxs("div",{className:"file-upload-section",children:[J.jsx("label",{children:"Upload PDF/ DOCX/ Image:"}),J.jsx("br",{}),J.jsxs("label",{className:"custom-file-upload",children:["Choose File",J.jsx("input",{type:"file",accept:".pdf,.docx,.jpg,.jpeg,.png",onChange:D=>v(D.target.files[0])})]}),y&&J.jsx("div",{style:{marginTop:"0.5rem",fontSize:"0.9rem",color:"#ccc"},children:y.name})]}),J.jsx("button",{className:"summarize-button",onClick:U,disabled:s||a,children:s?"Summarizing...":"Summarize"}),J.jsxs("div",{className:"summary-options",children:[J.jsx("label",{children:"Summary Type:"}),J.jsxs("select",{value:t,onChange:D=>n(D.target.value),className:"summary-select",children:[J.jsx("option",{value:"short",children:"Short"}),J.jsx("option",{value:"long",children:"Long"}),J.jsx("option",{value:"bullet",children:"Bullet Points"})]})]}),h&&J.jsx("div",{className:"error-message",children:h}),A&&J.jsxs("div",{className:"summary-output",children:[J.jsx("h2",{children:"Summary:"}),t==="bullet"?J.jsx("ul",{children:A.split(`
`).map((D,_)=>J.jsx("li",{children:D.replace(/^[-*]\s*/,"")},_))}):J.jsx("p",{children:A})]}),w&&J.jsxs("div",{className:"save-summary-section",children:[J.jsx("input",{type:"text",placeholder:"Enter title for your summary",value:B,onChange:D=>F(D.target.value),className:"summary-title-input"}),J.jsx("button",{onClick:k,className:"save-summary-button",disabled:N,children:N?"Saving...":"Save to Dashboard"})]})]})]})};var tQ,A6;function Yye(){if(A6)return tQ;A6=1;function r(){this.__data__=[],this.size=0}return tQ=r,tQ}var rQ,i6;function iz(){if(i6)return rQ;i6=1;function r(e,t){return e===t||e!==e&&t!==t}return rQ=r,rQ}var nQ,s6;function nU(){if(s6)return nQ;s6=1;var r=iz();function e(t,n){for(var A=t.length;A--;)if(r(t[A][0],n))return A;return-1}return nQ=e,nQ}var AQ,o6;function Jye(){if(o6)return AQ;o6=1;var r=nU(),e=Array.prototype,t=e.splice;function n(A){var i=this.__data__,s=r(i,A);if(s<0)return!1;var o=i.length-1;return s==o?i.pop():t.call(i,s,1),--this.size,!0}return AQ=n,AQ}var iQ,a6;function Zye(){if(a6)return iQ;a6=1;var r=nU();function e(t){var n=this.__data__,A=r(n,t);return A<0?void 0:n[A][1]}return iQ=e,iQ}var sQ,l6;function ewe(){if(l6)return sQ;l6=1;var r=nU();function e(t){return r(this.__data__,t)>-1}return sQ=e,sQ}var oQ,u6;function twe(){if(u6)return oQ;u6=1;var r=nU();function e(t,n){var A=this.__data__,i=r(A,t);return i<0?(++this.size,A.push([t,n])):A[i][1]=n,this}return oQ=e,oQ}var aQ,c6;function AU(){if(c6)return aQ;c6=1;var r=Yye(),e=Jye(),t=Zye(),n=ewe(),A=twe();function i(s){var o=-1,a=s==null?0:s.length;for(this.clear();++o<a;){var u=s[o];this.set(u[0],u[1])}}return i.prototype.clear=r,i.prototype.delete=e,i.prototype.get=t,i.prototype.has=n,i.prototype.set=A,aQ=i,aQ}var lQ,h6;function rwe(){if(h6)return lQ;h6=1;var r=AU();function e(){this.__data__=new r,this.size=0}return lQ=e,lQ}var uQ,f6;function nwe(){if(f6)return uQ;f6=1;function r(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}return uQ=r,uQ}var cQ,d6;function Awe(){if(d6)return cQ;d6=1;function r(e){return this.__data__.get(e)}return cQ=r,cQ}var hQ,p6;function iwe(){if(p6)return hQ;p6=1;function r(e){return this.__data__.has(e)}return hQ=r,hQ}var fQ,g6;function sz(){if(g6)return fQ;g6=1;var r=typeof window=="object"&&window&&window.Object===Object&&window;return fQ=r,fQ}var dQ,m6;function Mp(){if(m6)return dQ;m6=1;var r=sz(),e=typeof self=="object"&&self&&self.Object===Object&&self,t=r||e||Function("return this")();return dQ=t,dQ}var pQ,v6;function jO(){if(v6)return pQ;v6=1;var r=Mp(),e=r.Symbol;return pQ=e,pQ}var gQ,y6;function swe(){if(y6)return gQ;y6=1;var r=jO(),e=Object.prototype,t=e.hasOwnProperty,n=e.toString,A=r?r.toStringTag:void 0;function i(s){var o=t.call(s,A),a=s[A];try{s[A]=void 0;var u=!0}catch{}var l=n.call(s);return u&&(o?s[A]=a:delete s[A]),l}return gQ=i,gQ}var mQ,w6;function owe(){if(w6)return mQ;w6=1;var r=Object.prototype,e=r.toString;function t(n){return e.call(n)}return mQ=t,mQ}var vQ,B6;function iU(){if(B6)return vQ;B6=1;var r=jO(),e=swe(),t=owe(),n="[object Null]",A="[object Undefined]",i=r?r.toStringTag:void 0;function s(o){return o==null?o===void 0?A:n:i&&i in Object(o)?e(o):t(o)}return vQ=s,vQ}var yQ,C6;function oz(){if(C6)return yQ;C6=1;function r(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}return yQ=r,yQ}var wQ,b6;function az(){if(b6)return wQ;b6=1;var r=iU(),e=oz(),t="[object AsyncFunction]",n="[object Function]",A="[object GeneratorFunction]",i="[object Proxy]";function s(o){if(!e(o))return!1;var a=r(o);return a==n||a==A||a==t||a==i}return wQ=s,wQ}var BQ,E6;function awe(){if(E6)return BQ;E6=1;var r=Mp(),e=r["__core-js_shared__"];return BQ=e,BQ}var CQ,_6;function lwe(){if(_6)return CQ;_6=1;var r=awe(),e=function(){var n=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function t(n){return!!e&&e in n}return CQ=t,CQ}var bQ,S6;function lz(){if(S6)return bQ;S6=1;var r=Function.prototype,e=r.toString;function t(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return bQ=t,bQ}var EQ,F6;function uwe(){if(F6)return EQ;F6=1;var r=az(),e=lwe(),t=oz(),n=lz(),A=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,s=Function.prototype,o=Object.prototype,a=s.toString,u=o.hasOwnProperty,l=RegExp("^"+a.call(u).replace(A,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function c(h){if(!t(h)||e(h))return!1;var d=r(h)?l:i;return d.test(n(h))}return EQ=c,EQ}var _Q,I6;function cwe(){if(I6)return _Q;I6=1;function r(e,t){return e==null?void 0:e[t]}return _Q=r,_Q}var SQ,x6;function m1(){if(x6)return SQ;x6=1;var r=uwe(),e=cwe();function t(n,A){var i=e(n,A);return r(i)?i:void 0}return SQ=t,SQ}var FQ,U6;function VO(){if(U6)return FQ;U6=1;var r=m1(),e=Mp(),t=r(e,"Map");return FQ=t,FQ}var IQ,T6;function sU(){if(T6)return IQ;T6=1;var r=m1(),e=r(Object,"create");return IQ=e,IQ}var xQ,Q6;function hwe(){if(Q6)return xQ;Q6=1;var r=sU();function e(){this.__data__=r?r(null):{},this.size=0}return xQ=e,xQ}var UQ,L6;function fwe(){if(L6)return UQ;L6=1;function r(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}return UQ=r,UQ}var TQ,N6;function dwe(){if(N6)return TQ;N6=1;var r=sU(),e="__lodash_hash_undefined__",t=Object.prototype,n=t.hasOwnProperty;function A(i){var s=this.__data__;if(r){var o=s[i];return o===e?void 0:o}return n.call(s,i)?s[i]:void 0}return TQ=A,TQ}var QQ,R6;function pwe(){if(R6)return QQ;R6=1;var r=sU(),e=Object.prototype,t=e.hasOwnProperty;function n(A){var i=this.__data__;return r?i[A]!==void 0:t.call(i,A)}return QQ=n,QQ}var LQ,P6;function gwe(){if(P6)return LQ;P6=1;var r=sU(),e="__lodash_hash_undefined__";function t(n,A){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=r&&A===void 0?e:A,this}return LQ=t,LQ}var NQ,O6;function mwe(){if(O6)return NQ;O6=1;var r=hwe(),e=fwe(),t=dwe(),n=pwe(),A=gwe();function i(s){var o=-1,a=s==null?0:s.length;for(this.clear();++o<a;){var u=s[o];this.set(u[0],u[1])}}return i.prototype.clear=r,i.prototype.delete=e,i.prototype.get=t,i.prototype.has=n,i.prototype.set=A,NQ=i,NQ}var RQ,k6;function vwe(){if(k6)return RQ;k6=1;var r=mwe(),e=AU(),t=VO();function n(){this.size=0,this.__data__={hash:new r,map:new(t||e),string:new r}}return RQ=n,RQ}var PQ,D6;function ywe(){if(D6)return PQ;D6=1;function r(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}return PQ=r,PQ}var OQ,M6;function oU(){if(M6)return OQ;M6=1;var r=ywe();function e(t,n){var A=t.__data__;return r(n)?A[typeof n=="string"?"string":"hash"]:A.map}return OQ=e,OQ}var kQ,H6;function wwe(){if(H6)return kQ;H6=1;var r=oU();function e(t){var n=r(this,t).delete(t);return this.size-=n?1:0,n}return kQ=e,kQ}var DQ,j6;function Bwe(){if(j6)return DQ;j6=1;var r=oU();function e(t){return r(this,t).get(t)}return DQ=e,DQ}var MQ,V6;function Cwe(){if(V6)return MQ;V6=1;var r=oU();function e(t){return r(this,t).has(t)}return MQ=e,MQ}var HQ,K6;function bwe(){if(K6)return HQ;K6=1;var r=oU();function e(t,n){var A=r(this,t),i=A.size;return A.set(t,n),this.size+=A.size==i?0:1,this}return HQ=e,HQ}var jQ,G6;function uz(){if(G6)return jQ;G6=1;var r=vwe(),e=wwe(),t=Bwe(),n=Cwe(),A=bwe();function i(s){var o=-1,a=s==null?0:s.length;for(this.clear();++o<a;){var u=s[o];this.set(u[0],u[1])}}return i.prototype.clear=r,i.prototype.delete=e,i.prototype.get=t,i.prototype.has=n,i.prototype.set=A,jQ=i,jQ}var VQ,z6;function Ewe(){if(z6)return VQ;z6=1;var r=AU(),e=VO(),t=uz(),n=200;function A(i,s){var o=this.__data__;if(o instanceof r){var a=o.__data__;if(!e||a.length<n-1)return a.push([i,s]),this.size=++o.size,this;o=this.__data__=new t(a)}return o.set(i,s),this.size=o.size,this}return VQ=A,VQ}var KQ,q6;function _we(){if(q6)return KQ;q6=1;var r=AU(),e=rwe(),t=nwe(),n=Awe(),A=iwe(),i=Ewe();function s(o){var a=this.__data__=new r(o);this.size=a.size}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=n,s.prototype.has=A,s.prototype.set=i,KQ=s,KQ}var GQ,W6;function Swe(){if(W6)return GQ;W6=1;var r="__lodash_hash_undefined__";function e(t){return this.__data__.set(t,r),this}return GQ=e,GQ}var zQ,$6;function Fwe(){if($6)return zQ;$6=1;function r(e){return this.__data__.has(e)}return zQ=r,zQ}var qQ,X6;function Iwe(){if(X6)return qQ;X6=1;var r=uz(),e=Swe(),t=Fwe();function n(A){var i=-1,s=A==null?0:A.length;for(this.__data__=new r;++i<s;)this.add(A[i])}return n.prototype.add=n.prototype.push=e,n.prototype.has=t,qQ=n,qQ}var WQ,Y6;function xwe(){if(Y6)return WQ;Y6=1;function r(e,t){for(var n=-1,A=e==null?0:e.length;++n<A;)if(t(e[n],n,e))return!0;return!1}return WQ=r,WQ}var $Q,J6;function Uwe(){if(J6)return $Q;J6=1;function r(e,t){return e.has(t)}return $Q=r,$Q}var XQ,Z6;function cz(){if(Z6)return XQ;Z6=1;var r=Iwe(),e=xwe(),t=Uwe(),n=1,A=2;function i(s,o,a,u,l,c){var h=a&n,d=s.length,m=o.length;if(d!=m&&!(h&&m>d))return!1;var g=c.get(s),y=c.get(o);if(g&&y)return g==o&&y==s;var v=-1,w=!0,b=a&A?new r:void 0;for(c.set(s,o),c.set(o,s);++v<d;){var B=s[v],F=o[v];if(u)var N=h?u(F,B,v,o,s,c):u(B,F,v,s,o,c);if(N!==void 0){if(N)continue;w=!1;break}if(b){if(!e(o,function(T,U){if(!t(b,U)&&(B===T||l(B,T,a,u,c)))return b.push(U)})){w=!1;break}}else if(!(B===F||l(B,F,a,u,c))){w=!1;break}}return c.delete(s),c.delete(o),w}return XQ=i,XQ}var YQ,ej;function Twe(){if(ej)return YQ;ej=1;var r=Mp(),e=r.Uint8Array;return YQ=e,YQ}var JQ,tj;function Qwe(){if(tj)return JQ;tj=1;function r(e){var t=-1,n=Array(e.size);return e.forEach(function(A,i){n[++t]=[i,A]}),n}return JQ=r,JQ}var ZQ,rj;function Lwe(){if(rj)return ZQ;rj=1;function r(e){var t=-1,n=Array(e.size);return e.forEach(function(A){n[++t]=A}),n}return ZQ=r,ZQ}var eL,nj;function Nwe(){if(nj)return eL;nj=1;var r=jO(),e=Twe(),t=iz(),n=cz(),A=Qwe(),i=Lwe(),s=1,o=2,a="[object Boolean]",u="[object Date]",l="[object Error]",c="[object Map]",h="[object Number]",d="[object RegExp]",m="[object Set]",g="[object String]",y="[object Symbol]",v="[object ArrayBuffer]",w="[object DataView]",b=r?r.prototype:void 0,B=b?b.valueOf:void 0;function F(N,T,U,k,D,_,L){switch(U){case w:if(N.byteLength!=T.byteLength||N.byteOffset!=T.byteOffset)return!1;N=N.buffer,T=T.buffer;case v:return!(N.byteLength!=T.byteLength||!_(new e(N),new e(T)));case a:case u:case h:return t(+N,+T);case l:return N.name==T.name&&N.message==T.message;case d:case g:return N==T+"";case c:var O=A;case m:var V=k&s;if(O||(O=i),N.size!=T.size&&!V)return!1;var $=L.get(N);if($)return $==T;k|=o,L.set(N,T);var Y=n(O(N),O(T),k,D,_,L);return L.delete(N),Y;case y:if(B)return B.call(N)==B.call(T)}return!1}return eL=F,eL}var tL,Aj;function Rwe(){if(Aj)return tL;Aj=1;function r(e,t){for(var n=-1,A=t.length,i=e.length;++n<A;)e[i+n]=t[n];return e}return tL=r,tL}var rL,ij;function KO(){if(ij)return rL;ij=1;var r=Array.isArray;return rL=r,rL}var nL,sj;function Pwe(){if(sj)return nL;sj=1;var r=Rwe(),e=KO();function t(n,A,i){var s=A(n);return e(n)?s:r(s,i(n))}return nL=t,nL}var AL,oj;function Owe(){if(oj)return AL;oj=1;function r(e,t){for(var n=-1,A=e==null?0:e.length,i=0,s=[];++n<A;){var o=e[n];t(o,n,e)&&(s[i++]=o)}return s}return AL=r,AL}var iL,aj;function kwe(){if(aj)return iL;aj=1;function r(){return[]}return iL=r,iL}var sL,lj;function Dwe(){if(lj)return sL;lj=1;var r=Owe(),e=kwe(),t=Object.prototype,n=t.propertyIsEnumerable,A=Object.getOwnPropertySymbols,i=A?function(s){return s==null?[]:(s=Object(s),r(A(s),function(o){return n.call(s,o)}))}:e;return sL=i,sL}var oL,uj;function Mwe(){if(uj)return oL;uj=1;function r(e,t){for(var n=-1,A=Array(e);++n<e;)A[n]=t(n);return A}return oL=r,oL}var aL,cj;function aU(){if(cj)return aL;cj=1;function r(e){return e!=null&&typeof e=="object"}return aL=r,aL}var lL,hj;function Hwe(){if(hj)return lL;hj=1;var r=iU(),e=aU(),t="[object Arguments]";function n(A){return e(A)&&r(A)==t}return lL=n,lL}var uL,fj;function jwe(){if(fj)return uL;fj=1;var r=Hwe(),e=aU(),t=Object.prototype,n=t.hasOwnProperty,A=t.propertyIsEnumerable,i=r(function(){return arguments}())?r:function(s){return e(s)&&n.call(s,"callee")&&!A.call(s,"callee")};return uL=i,uL}var MC={exports:{}},cL,dj;function Vwe(){if(dj)return cL;dj=1;function r(){return!1}return cL=r,cL}MC.exports;var pj;function hz(){return pj||(pj=1,function(r,e){var t=Mp(),n=Vwe(),A=e&&!e.nodeType&&e,i=A&&!0&&r&&!r.nodeType&&r,s=i&&i.exports===A,o=s?t.Buffer:void 0,a=o?o.isBuffer:void 0,u=a||n;r.exports=u}(MC,MC.exports)),MC.exports}var hL,gj;function Kwe(){if(gj)return hL;gj=1;var r=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function t(n,A){var i=typeof n;return A=A??r,!!A&&(i=="number"||i!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<A}return hL=t,hL}var fL,mj;function fz(){if(mj)return fL;mj=1;var r=9007199254740991;function e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=r}return fL=e,fL}var dL,vj;function Gwe(){if(vj)return dL;vj=1;var r=iU(),e=fz(),t=aU(),n="[object Arguments]",A="[object Array]",i="[object Boolean]",s="[object Date]",o="[object Error]",a="[object Function]",u="[object Map]",l="[object Number]",c="[object Object]",h="[object RegExp]",d="[object Set]",m="[object String]",g="[object WeakMap]",y="[object ArrayBuffer]",v="[object DataView]",w="[object Float32Array]",b="[object Float64Array]",B="[object Int8Array]",F="[object Int16Array]",N="[object Int32Array]",T="[object Uint8Array]",U="[object Uint8ClampedArray]",k="[object Uint16Array]",D="[object Uint32Array]",_={};_[w]=_[b]=_[B]=_[F]=_[N]=_[T]=_[U]=_[k]=_[D]=!0,_[n]=_[A]=_[y]=_[i]=_[v]=_[s]=_[o]=_[a]=_[u]=_[l]=_[c]=_[h]=_[d]=_[m]=_[g]=!1;function L(O){return t(O)&&e(O.length)&&!!_[r(O)]}return dL=L,dL}var pL,yj;function zwe(){if(yj)return pL;yj=1;function r(e){return function(t){return e(t)}}return pL=r,pL}var HC={exports:{}};HC.exports;var wj;function qwe(){return wj||(wj=1,function(r,e){var t=sz(),n=e&&!e.nodeType&&e,A=n&&!0&&r&&!r.nodeType&&r,i=A&&A.exports===n,s=i&&t.process,o=function(){try{var a=A&&A.require&&A.require("util").types;return a||s&&s.binding&&s.binding("util")}catch{}}();r.exports=o}(HC,HC.exports)),HC.exports}var gL,Bj;function dz(){if(Bj)return gL;Bj=1;var r=Gwe(),e=zwe(),t=qwe(),n=t&&t.isTypedArray,A=n?e(n):r;return gL=A,gL}var mL,Cj;function Wwe(){if(Cj)return mL;Cj=1;var r=Mwe(),e=jwe(),t=KO(),n=hz(),A=Kwe(),i=dz(),s=Object.prototype,o=s.hasOwnProperty;function a(u,l){var c=t(u),h=!c&&e(u),d=!c&&!h&&n(u),m=!c&&!h&&!d&&i(u),g=c||h||d||m,y=g?r(u.length,String):[],v=y.length;for(var w in u)(l||o.call(u,w))&&!(g&&(w=="length"||d&&(w=="offset"||w=="parent")||m&&(w=="buffer"||w=="byteLength"||w=="byteOffset")||A(w,v)))&&y.push(w);return y}return mL=a,mL}var vL,bj;function $we(){if(bj)return vL;bj=1;var r=Object.prototype;function e(t){var n=t&&t.constructor,A=typeof n=="function"&&n.prototype||r;return t===A}return vL=e,vL}var yL,Ej;function Xwe(){if(Ej)return yL;Ej=1;function r(e,t){return function(n){return e(t(n))}}return yL=r,yL}var wL,_j;function Ywe(){if(_j)return wL;_j=1;var r=Xwe(),e=r(Object.keys,Object);return wL=e,wL}var BL,Sj;function Jwe(){if(Sj)return BL;Sj=1;var r=$we(),e=Ywe(),t=Object.prototype,n=t.hasOwnProperty;function A(i){if(!r(i))return e(i);var s=[];for(var o in Object(i))n.call(i,o)&&o!="constructor"&&s.push(o);return s}return BL=A,BL}var CL,Fj;function Zwe(){if(Fj)return CL;Fj=1;var r=az(),e=fz();function t(n){return n!=null&&e(n.length)&&!r(n)}return CL=t,CL}var bL,Ij;function e0e(){if(Ij)return bL;Ij=1;var r=Wwe(),e=Jwe(),t=Zwe();function n(A){return t(A)?r(A):e(A)}return bL=n,bL}var EL,xj;function t0e(){if(xj)return EL;xj=1;var r=Pwe(),e=Dwe(),t=e0e();function n(A){return r(A,t,e)}return EL=n,EL}var _L,Uj;function r0e(){if(Uj)return _L;Uj=1;var r=t0e(),e=1,t=Object.prototype,n=t.hasOwnProperty;function A(i,s,o,a,u,l){var c=o&e,h=r(i),d=h.length,m=r(s),g=m.length;if(d!=g&&!c)return!1;for(var y=d;y--;){var v=h[y];if(!(c?v in s:n.call(s,v)))return!1}var w=l.get(i),b=l.get(s);if(w&&b)return w==s&&b==i;var B=!0;l.set(i,s),l.set(s,i);for(var F=c;++y<d;){v=h[y];var N=i[v],T=s[v];if(a)var U=c?a(T,N,v,s,i,l):a(N,T,v,i,s,l);if(!(U===void 0?N===T||u(N,T,o,a,l):U)){B=!1;break}F||(F=v=="constructor")}if(B&&!F){var k=i.constructor,D=s.constructor;k!=D&&"constructor"in i&&"constructor"in s&&!(typeof k=="function"&&k instanceof k&&typeof D=="function"&&D instanceof D)&&(B=!1)}return l.delete(i),l.delete(s),B}return _L=A,_L}var SL,Tj;function n0e(){if(Tj)return SL;Tj=1;var r=m1(),e=Mp(),t=r(e,"DataView");return SL=t,SL}var FL,Qj;function A0e(){if(Qj)return FL;Qj=1;var r=m1(),e=Mp(),t=r(e,"Promise");return FL=t,FL}var IL,Lj;function i0e(){if(Lj)return IL;Lj=1;var r=m1(),e=Mp(),t=r(e,"Set");return IL=t,IL}var xL,Nj;function s0e(){if(Nj)return xL;Nj=1;var r=m1(),e=Mp(),t=r(e,"WeakMap");return xL=t,xL}var UL,Rj;function o0e(){if(Rj)return UL;Rj=1;var r=n0e(),e=VO(),t=A0e(),n=i0e(),A=s0e(),i=iU(),s=lz(),o="[object Map]",a="[object Object]",u="[object Promise]",l="[object Set]",c="[object WeakMap]",h="[object DataView]",d=s(r),m=s(e),g=s(t),y=s(n),v=s(A),w=i;return(r&&w(new r(new ArrayBuffer(1)))!=h||e&&w(new e)!=o||t&&w(t.resolve())!=u||n&&w(new n)!=l||A&&w(new A)!=c)&&(w=function(b){var B=i(b),F=B==a?b.constructor:void 0,N=F?s(F):"";if(N)switch(N){case d:return h;case m:return o;case g:return u;case y:return l;case v:return c}return B}),UL=w,UL}var TL,Pj;function a0e(){if(Pj)return TL;Pj=1;var r=_we(),e=cz(),t=Nwe(),n=r0e(),A=o0e(),i=KO(),s=hz(),o=dz(),a=1,u="[object Arguments]",l="[object Array]",c="[object Object]",h=Object.prototype,d=h.hasOwnProperty;function m(g,y,v,w,b,B){var F=i(g),N=i(y),T=F?l:A(g),U=N?l:A(y);T=T==u?c:T,U=U==u?c:U;var k=T==c,D=U==c,_=T==U;if(_&&s(g)){if(!s(y))return!1;F=!0,k=!1}if(_&&!k)return B||(B=new r),F||o(g)?e(g,y,v,w,b,B):t(g,y,T,v,w,b,B);if(!(v&a)){var L=k&&d.call(g,"__wrapped__"),O=D&&d.call(y,"__wrapped__");if(L||O){var V=L?g.value():g,$=O?y.value():y;return B||(B=new r),b(V,$,v,w,B)}}return _?(B||(B=new r),n(g,y,v,w,b,B)):!1}return TL=m,TL}var QL,Oj;function l0e(){if(Oj)return QL;Oj=1;var r=a0e(),e=aU();function t(n,A,i,s,o){return n===A?!0:n==null||A==null||!e(n)&&!e(A)?n!==n&&A!==A:r(n,A,i,s,t,o)}return QL=t,QL}var LL,kj;function u0e(){if(kj)return LL;kj=1;var r=l0e();function e(t,n){return r(t,n)}return LL=e,LL}var eF={exports:{}},c0e=eF.exports,Dj;function h0e(){return Dj||(Dj=1,function(r,e){(function(n,A){r.exports=A()})(typeof self<"u"?self:c0e,function(){return function(t){var n={};function A(i){if(n[i])return n[i].exports;var s=n[i]={i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,A),s.l=!0,s.exports}return A.m=t,A.c=n,A.d=function(i,s,o){A.o(i,s)||Object.defineProperty(i,s,{configurable:!1,enumerable:!0,get:o})},A.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return A.d(s,"a",s),s},A.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},A.p="",A(A.s=109)}([function(t,n,A){Object.defineProperty(n,"__esModule",{value:!0});var i=A(17),s=A(18),o=A(19),a=A(45),u=A(46),l=A(47),c=A(48),h=A(49),d=A(12),m=A(32),g=A(33),y=A(31),v=A(1),w={Scope:v.Scope,create:v.create,find:v.find,query:v.query,register:v.register,Container:i.default,Format:s.default,Leaf:o.default,Embed:c.default,Scroll:a.default,Block:l.default,Inline:u.default,Text:h.default,Attributor:{Attribute:d.default,Class:m.default,Style:g.default,Store:y.default}};n.default=w},function(t,n,A){var i=this&&this.__extends||function(){var y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,w){v.__proto__=w}||function(v,w){for(var b in w)w.hasOwnProperty(b)&&(v[b]=w[b])};return function(v,w){y(v,w);function b(){this.constructor=v}v.prototype=w===null?Object.create(w):(b.prototype=w.prototype,new b)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=function(y){i(v,y);function v(w){var b=this;return w="[Parchment] "+w,b=y.call(this,w)||this,b.message=w,b.name=b.constructor.name,b}return v}(Error);n.ParchmentError=s;var o={},a={},u={},l={};n.DATA_KEY="__blot";var c;(function(y){y[y.TYPE=3]="TYPE",y[y.LEVEL=12]="LEVEL",y[y.ATTRIBUTE=13]="ATTRIBUTE",y[y.BLOT=14]="BLOT",y[y.INLINE=7]="INLINE",y[y.BLOCK=11]="BLOCK",y[y.BLOCK_BLOT=10]="BLOCK_BLOT",y[y.INLINE_BLOT=6]="INLINE_BLOT",y[y.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",y[y.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",y[y.ANY=15]="ANY"})(c=n.Scope||(n.Scope={}));function h(y,v){var w=m(y);if(w==null)throw new s("Unable to create "+y+" blot");var b=w,B=y instanceof Node||y.nodeType===Node.TEXT_NODE?y:b.create(v);return new b(B,v)}n.create=h;function d(y,v){return v===void 0&&(v=!1),y==null?null:y[n.DATA_KEY]!=null?y[n.DATA_KEY].blot:v?d(y.parentNode,v):null}n.find=d;function m(y,v){v===void 0&&(v=c.ANY);var w;if(typeof y=="string")w=l[y]||o[y];else if(y instanceof Text||y.nodeType===Node.TEXT_NODE)w=l.text;else if(typeof y=="number")y&c.LEVEL&c.BLOCK?w=l.block:y&c.LEVEL&c.INLINE&&(w=l.inline);else if(y instanceof HTMLElement){var b=(y.getAttribute("class")||"").split(/\s+/);for(var B in b)if(w=a[b[B]],w)break;w=w||u[y.tagName]}return w==null?null:v&c.LEVEL&w.scope&&v&c.TYPE&w.scope?w:null}n.query=m;function g(){for(var y=[],v=0;v<arguments.length;v++)y[v]=arguments[v];if(y.length>1)return y.map(function(B){return g(B)});var w=y[0];if(typeof w.blotName!="string"&&typeof w.attrName!="string")throw new s("Invalid definition");if(w.blotName==="abstract")throw new s("Cannot register abstract class");if(l[w.blotName||w.attrName]=w,typeof w.keyName=="string")o[w.keyName]=w;else if(w.className!=null&&(a[w.className]=w),w.tagName!=null){Array.isArray(w.tagName)?w.tagName=w.tagName.map(function(B){return B.toUpperCase()}):w.tagName=w.tagName.toUpperCase();var b=Array.isArray(w.tagName)?w.tagName:[w.tagName];b.forEach(function(B){(u[B]==null||w.className==null)&&(u[B]=w)})}return w}n.register=g},function(t,n,A){var i=A(51),s=A(11),o=A(3),a=A(20),u="\0",l=function(c){Array.isArray(c)?this.ops=c:c!=null&&Array.isArray(c.ops)?this.ops=c.ops:this.ops=[]};l.prototype.insert=function(c,h){var d={};return c.length===0?this:(d.insert=c,h!=null&&typeof h=="object"&&Object.keys(h).length>0&&(d.attributes=h),this.push(d))},l.prototype.delete=function(c){return c<=0?this:this.push({delete:c})},l.prototype.retain=function(c,h){if(c<=0)return this;var d={retain:c};return h!=null&&typeof h=="object"&&Object.keys(h).length>0&&(d.attributes=h),this.push(d)},l.prototype.push=function(c){var h=this.ops.length,d=this.ops[h-1];if(c=o(!0,{},c),typeof d=="object"){if(typeof c.delete=="number"&&typeof d.delete=="number")return this.ops[h-1]={delete:d.delete+c.delete},this;if(typeof d.delete=="number"&&c.insert!=null&&(h-=1,d=this.ops[h-1],typeof d!="object"))return this.ops.unshift(c),this;if(s(c.attributes,d.attributes)){if(typeof c.insert=="string"&&typeof d.insert=="string")return this.ops[h-1]={insert:d.insert+c.insert},typeof c.attributes=="object"&&(this.ops[h-1].attributes=c.attributes),this;if(typeof c.retain=="number"&&typeof d.retain=="number")return this.ops[h-1]={retain:d.retain+c.retain},typeof c.attributes=="object"&&(this.ops[h-1].attributes=c.attributes),this}}return h===this.ops.length?this.ops.push(c):this.ops.splice(h,0,c),this},l.prototype.chop=function(){var c=this.ops[this.ops.length-1];return c&&c.retain&&!c.attributes&&this.ops.pop(),this},l.prototype.filter=function(c){return this.ops.filter(c)},l.prototype.forEach=function(c){this.ops.forEach(c)},l.prototype.map=function(c){return this.ops.map(c)},l.prototype.partition=function(c){var h=[],d=[];return this.forEach(function(m){var g=c(m)?h:d;g.push(m)}),[h,d]},l.prototype.reduce=function(c,h){return this.ops.reduce(c,h)},l.prototype.changeLength=function(){return this.reduce(function(c,h){return h.insert?c+a.length(h):h.delete?c-h.delete:c},0)},l.prototype.length=function(){return this.reduce(function(c,h){return c+a.length(h)},0)},l.prototype.slice=function(c,h){c=c||0,typeof h!="number"&&(h=1/0);for(var d=[],m=a.iterator(this.ops),g=0;g<h&&m.hasNext();){var y;g<c?y=m.next(c-g):(y=m.next(h-g),d.push(y)),g+=a.length(y)}return new l(d)},l.prototype.compose=function(c){var h=a.iterator(this.ops),d=a.iterator(c.ops),m=[],g=d.peek();if(g!=null&&typeof g.retain=="number"&&g.attributes==null){for(var y=g.retain;h.peekType()==="insert"&&h.peekLength()<=y;)y-=h.peekLength(),m.push(h.next());g.retain-y>0&&d.next(g.retain-y)}for(var v=new l(m);h.hasNext()||d.hasNext();)if(d.peekType()==="insert")v.push(d.next());else if(h.peekType()==="delete")v.push(h.next());else{var w=Math.min(h.peekLength(),d.peekLength()),b=h.next(w),B=d.next(w);if(typeof B.retain=="number"){var F={};typeof b.retain=="number"?F.retain=w:F.insert=b.insert;var N=a.attributes.compose(b.attributes,B.attributes,typeof b.retain=="number");if(N&&(F.attributes=N),v.push(F),!d.hasNext()&&s(v.ops[v.ops.length-1],F)){var T=new l(h.rest());return v.concat(T).chop()}}else typeof B.delete=="number"&&typeof b.retain=="number"&&v.push(B)}return v.chop()},l.prototype.concat=function(c){var h=new l(this.ops.slice());return c.ops.length>0&&(h.push(c.ops[0]),h.ops=h.ops.concat(c.ops.slice(1))),h},l.prototype.diff=function(c,h){if(this.ops===c.ops)return new l;var d=[this,c].map(function(w){return w.map(function(b){if(b.insert!=null)return typeof b.insert=="string"?b.insert:u;var B=w===c?"on":"with";throw new Error("diff() called "+B+" non-document")}).join("")}),m=new l,g=i(d[0],d[1],h),y=a.iterator(this.ops),v=a.iterator(c.ops);return g.forEach(function(w){for(var b=w[1].length;b>0;){var B=0;switch(w[0]){case i.INSERT:B=Math.min(v.peekLength(),b),m.push(v.next(B));break;case i.DELETE:B=Math.min(b,y.peekLength()),y.next(B),m.delete(B);break;case i.EQUAL:B=Math.min(y.peekLength(),v.peekLength(),b);var F=y.next(B),N=v.next(B);s(F.insert,N.insert)?m.retain(B,a.attributes.diff(F.attributes,N.attributes)):m.push(N).delete(B);break}b-=B}}),m.chop()},l.prototype.eachLine=function(c,h){h=h||`
`;for(var d=a.iterator(this.ops),m=new l,g=0;d.hasNext();){if(d.peekType()!=="insert")return;var y=d.peek(),v=a.length(y)-d.peekLength(),w=typeof y.insert=="string"?y.insert.indexOf(h,v)-v:-1;if(w<0)m.push(d.next());else if(w>0)m.push(d.next(w));else{if(c(m,d.next(1).attributes||{},g)===!1)return;g+=1,m=new l}}m.length()>0&&c(m,{},g)},l.prototype.transform=function(c,h){if(h=!!h,typeof c=="number")return this.transformPosition(c,h);for(var d=a.iterator(this.ops),m=a.iterator(c.ops),g=new l;d.hasNext()||m.hasNext();)if(d.peekType()==="insert"&&(h||m.peekType()!=="insert"))g.retain(a.length(d.next()));else if(m.peekType()==="insert")g.push(m.next());else{var y=Math.min(d.peekLength(),m.peekLength()),v=d.next(y),w=m.next(y);if(v.delete)continue;w.delete?g.push(w):g.retain(y,a.attributes.transform(v.attributes,w.attributes,h))}return g.chop()},l.prototype.transformPosition=function(c,h){h=!!h;for(var d=a.iterator(this.ops),m=0;d.hasNext()&&m<=c;){var g=d.peekLength(),y=d.peekType();if(d.next(),y==="delete"){c-=Math.min(g,c-m);continue}else y==="insert"&&(m<c||!h)&&(c+=g);m+=g}return c},t.exports=l},function(t,n){var A=Object.prototype.hasOwnProperty,i=Object.prototype.toString,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=function(d){return typeof Array.isArray=="function"?Array.isArray(d):i.call(d)==="[object Array]"},u=function(d){if(!d||i.call(d)!=="[object Object]")return!1;var m=A.call(d,"constructor"),g=d.constructor&&d.constructor.prototype&&A.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!m&&!g)return!1;var y;for(y in d);return typeof y>"u"||A.call(d,y)},l=function(d,m){s&&m.name==="__proto__"?s(d,m.name,{enumerable:!0,configurable:!0,value:m.newValue,writable:!0}):d[m.name]=m.newValue},c=function(d,m){if(m==="__proto__")if(A.call(d,m)){if(o)return o(d,m).value}else return;return d[m]};t.exports=function h(){var d,m,g,y,v,w,b=arguments[0],B=1,F=arguments.length,N=!1;for(typeof b=="boolean"&&(N=b,b=arguments[1]||{},B=2),(b==null||typeof b!="object"&&typeof b!="function")&&(b={});B<F;++B)if(d=arguments[B],d!=null)for(m in d)g=c(b,m),y=c(d,m),b!==y&&(N&&y&&(u(y)||(v=a(y)))?(v?(v=!1,w=g&&a(g)?g:[]):w=g&&u(g)?g:{},l(b,{name:m,newValue:h(N,w,y)})):typeof y<"u"&&l(b,{name:m,newValue:y}));return b}},function(t,n,A){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BlockEmbed=n.bubbleFormats=void 0;var i=function(){function _(L,O){for(var V=0;V<O.length;V++){var $=O[V];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(L,$.key,$)}}return function(L,O,V){return O&&_(L.prototype,O),V&&_(L,V),L}}(),s=function _(L,O,V){L===null&&(L=Function.prototype);var $=Object.getOwnPropertyDescriptor(L,O);if($===void 0){var Y=Object.getPrototypeOf(L);return Y===null?void 0:_(Y,O,V)}else{if("value"in $)return $.value;var re=$.get;return re===void 0?void 0:re.call(V)}},o=A(3),a=b(o),u=A(2),l=b(u),c=A(0),h=b(c),d=A(16),m=b(d),g=A(6),y=b(g),v=A(7),w=b(v);function b(_){return _&&_.__esModule?_:{default:_}}function B(_,L){if(!(_ instanceof L))throw new TypeError("Cannot call a class as a function")}function F(_,L){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L&&(typeof L=="object"||typeof L=="function")?L:_}function N(_,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof L);_.prototype=Object.create(L&&L.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(_,L):_.__proto__=L)}var T=1,U=function(_){N(L,_);function L(){return B(this,L),F(this,(L.__proto__||Object.getPrototypeOf(L)).apply(this,arguments))}return i(L,[{key:"attach",value:function(){s(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"attach",this).call(this),this.attributes=new h.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new l.default().insert(this.value(),(0,a.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(V,$){var Y=h.default.query(V,h.default.Scope.BLOCK_ATTRIBUTE);Y!=null&&this.attributes.attribute(Y,$)}},{key:"formatAt",value:function(V,$,Y,re){this.format(Y,re)}},{key:"insertAt",value:function(V,$,Y){if(typeof $=="string"&&$.endsWith(`
`)){var re=h.default.create(k.blotName);this.parent.insertBefore(re,V===0?this:this.next),re.insertAt(0,$.slice(0,-1))}else s(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"insertAt",this).call(this,V,$,Y)}}]),L}(h.default.Embed);U.scope=h.default.Scope.BLOCK_BLOT;var k=function(_){N(L,_);function L(O){B(this,L);var V=F(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,O));return V.cache={},V}return i(L,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(h.default.Leaf).reduce(function(V,$){return $.length()===0?V:V.insert($.value(),D($))},new l.default).insert(`
`,D(this))),this.cache.delta}},{key:"deleteAt",value:function(V,$){s(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"deleteAt",this).call(this,V,$),this.cache={}}},{key:"formatAt",value:function(V,$,Y,re){$<=0||(h.default.query(Y,h.default.Scope.BLOCK)?V+$===this.length()&&this.format(Y,re):s(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"formatAt",this).call(this,V,Math.min($,this.length()-V-1),Y,re),this.cache={})}},{key:"insertAt",value:function(V,$,Y){if(Y!=null)return s(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"insertAt",this).call(this,V,$,Y);if($.length!==0){var re=$.split(`
`),le=re.shift();le.length>0&&(V<this.length()-1||this.children.tail==null?s(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"insertAt",this).call(this,Math.min(V,this.length()-1),le):this.children.tail.insertAt(this.children.tail.length(),le),this.cache={});var ne=this;re.reduce(function(te,G){return ne=ne.split(te,!0),ne.insertAt(0,G),G.length},V+le.length)}}},{key:"insertBefore",value:function(V,$){var Y=this.children.head;s(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"insertBefore",this).call(this,V,$),Y instanceof m.default&&Y.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=s(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"length",this).call(this)+T),this.cache.length}},{key:"moveChildren",value:function(V,$){s(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"moveChildren",this).call(this,V,$),this.cache={}}},{key:"optimize",value:function(V){s(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"optimize",this).call(this,V),this.cache={}}},{key:"path",value:function(V){return s(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"path",this).call(this,V,!0)}},{key:"removeChild",value:function(V){s(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"removeChild",this).call(this,V),this.cache={}}},{key:"split",value:function(V){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if($&&(V===0||V>=this.length()-T)){var Y=this.clone();return V===0?(this.parent.insertBefore(Y,this),this):(this.parent.insertBefore(Y,this.next),Y)}else{var re=s(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"split",this).call(this,V,$);return this.cache={},re}}}]),L}(h.default.Block);k.blotName="block",k.tagName="P",k.defaultChild="break",k.allowedChildren=[y.default,h.default.Embed,w.default];function D(_){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return _==null||(typeof _.formats=="function"&&(L=(0,a.default)(L,_.formats())),_.parent==null||_.parent.blotName=="scroll"||_.parent.statics.scope!==_.statics.scope)?L:D(_.parent,L)}n.bubbleFormats=D,n.BlockEmbed=U,n.default=k},function(t,n,A){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.overload=n.expandConfig=void 0;var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ne){return typeof ne}:function(ne){return ne&&typeof Symbol=="function"&&ne.constructor===Symbol&&ne!==Symbol.prototype?"symbol":typeof ne},s=function(){function ne(te,G){var H=[],z=!0,oe=!1,ae=void 0;try{for(var ie=te[Symbol.iterator](),pe;!(z=(pe=ie.next()).done)&&(H.push(pe.value),!(G&&H.length===G));z=!0);}catch(Ce){oe=!0,ae=Ce}finally{try{!z&&ie.return&&ie.return()}finally{if(oe)throw ae}}return H}return function(te,G){if(Array.isArray(te))return te;if(Symbol.iterator in Object(te))return ne(te,G);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function ne(te,G){for(var H=0;H<G.length;H++){var z=G[H];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(te,z.key,z)}}return function(te,G,H){return G&&ne(te.prototype,G),H&&ne(te,H),te}}();A(50);var a=A(2),u=D(a),l=A(14),c=D(l),h=A(8),d=D(h),m=A(9),g=D(m),y=A(0),v=D(y),w=A(15),b=D(w),B=A(3),F=D(B),N=A(10),T=D(N),U=A(34),k=D(U);function D(ne){return ne&&ne.__esModule?ne:{default:ne}}function _(ne,te,G){return te in ne?Object.defineProperty(ne,te,{value:G,enumerable:!0,configurable:!0,writable:!0}):ne[te]=G,ne}function L(ne,te){if(!(ne instanceof te))throw new TypeError("Cannot call a class as a function")}var O=(0,T.default)("quill"),V=function(){o(ne,null,[{key:"debug",value:function(G){G===!0&&(G="log"),T.default.level(G)}},{key:"find",value:function(G){return G.__quill||v.default.find(G)}},{key:"import",value:function(G){return this.imports[G]==null&&O.error("Cannot import "+G+". Are you sure it was registered?"),this.imports[G]}},{key:"register",value:function(G,H){var z=this,oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof G!="string"){var ae=G.attrName||G.blotName;typeof ae=="string"?this.register("formats/"+ae,G,H):Object.keys(G).forEach(function(ie){z.register(ie,G[ie],H)})}else this.imports[G]!=null&&!oe&&O.warn("Overwriting "+G+" with",H),this.imports[G]=H,(G.startsWith("blots/")||G.startsWith("formats/"))&&H.blotName!=="abstract"?v.default.register(H):G.startsWith("modules")&&typeof H.register=="function"&&H.register()}}]);function ne(te){var G=this,H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(L(this,ne),this.options=$(te,H),this.container=this.options.container,this.container==null)return O.error("Invalid Quill container",te);this.options.debug&&ne.debug(this.options.debug);var z=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new d.default,this.scroll=v.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new c.default(this.scroll),this.selection=new b.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(d.default.events.EDITOR_CHANGE,function(ae){ae===d.default.events.TEXT_CHANGE&&G.root.classList.toggle("ql-blank",G.editor.isBlank())}),this.emitter.on(d.default.events.SCROLL_UPDATE,function(ae,ie){var pe=G.selection.lastRange,Ce=pe&&pe.length===0?pe.index:void 0;Y.call(G,function(){return G.editor.update(null,ie,Ce)},ae)});var oe=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+z+"<p><br></p></div>");this.setContents(oe),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return o(ne,[{key:"addContainer",value:function(G){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof G=="string"){var z=G;G=document.createElement("div"),G.classList.add(z)}return this.container.insertBefore(G,H),G}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(G,H,z){var oe=this,ae=re(G,H,z),ie=s(ae,4);return G=ie[0],H=ie[1],z=ie[3],Y.call(this,function(){return oe.editor.deleteText(G,H)},z,G,-1*H)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(G),this.container.classList.toggle("ql-disabled",!G)}},{key:"focus",value:function(){var G=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=G,this.scrollIntoView()}},{key:"format",value:function(G,H){var z=this,oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:d.default.sources.API;return Y.call(this,function(){var ae=z.getSelection(!0),ie=new u.default;if(ae==null)return ie;if(v.default.query(G,v.default.Scope.BLOCK))ie=z.editor.formatLine(ae.index,ae.length,_({},G,H));else{if(ae.length===0)return z.selection.format(G,H),ie;ie=z.editor.formatText(ae.index,ae.length,_({},G,H))}return z.setSelection(ae,d.default.sources.SILENT),ie},oe)}},{key:"formatLine",value:function(G,H,z,oe,ae){var ie=this,pe=void 0,Ce=re(G,H,z,oe,ae),Ie=s(Ce,4);return G=Ie[0],H=Ie[1],pe=Ie[2],ae=Ie[3],Y.call(this,function(){return ie.editor.formatLine(G,H,pe)},ae,G,0)}},{key:"formatText",value:function(G,H,z,oe,ae){var ie=this,pe=void 0,Ce=re(G,H,z,oe,ae),Ie=s(Ce,4);return G=Ie[0],H=Ie[1],pe=Ie[2],ae=Ie[3],Y.call(this,function(){return ie.editor.formatText(G,H,pe)},ae,G,0)}},{key:"getBounds",value:function(G){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,z=void 0;typeof G=="number"?z=this.selection.getBounds(G,H):z=this.selection.getBounds(G.index,G.length);var oe=this.container.getBoundingClientRect();return{bottom:z.bottom-oe.top,height:z.height,left:z.left-oe.left,right:z.right-oe.left,top:z.top-oe.top,width:z.width}}},{key:"getContents",value:function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-G,z=re(G,H),oe=s(z,2);return G=oe[0],H=oe[1],this.editor.getContents(G,H)}},{key:"getFormat",value:function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof G=="number"?this.editor.getFormat(G,H):this.editor.getFormat(G.index,G.length)}},{key:"getIndex",value:function(G){return G.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(G){return this.scroll.leaf(G)}},{key:"getLine",value:function(G){return this.scroll.line(G)}},{key:"getLines",value:function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof G!="number"?this.scroll.lines(G.index,G.length):this.scroll.lines(G,H)}},{key:"getModule",value:function(G){return this.theme.modules[G]}},{key:"getSelection",value:function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return G&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-G,z=re(G,H),oe=s(z,2);return G=oe[0],H=oe[1],this.editor.getText(G,H)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(G,H,z){var oe=this,ae=arguments.length>3&&arguments[3]!==void 0?arguments[3]:ne.sources.API;return Y.call(this,function(){return oe.editor.insertEmbed(G,H,z)},ae,G)}},{key:"insertText",value:function(G,H,z,oe,ae){var ie=this,pe=void 0,Ce=re(G,0,z,oe,ae),Ie=s(Ce,4);return G=Ie[0],pe=Ie[2],ae=Ie[3],Y.call(this,function(){return ie.editor.insertText(G,H,pe)},ae,G,H.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(G,H,z){this.clipboard.dangerouslyPasteHTML(G,H,z)}},{key:"removeFormat",value:function(G,H,z){var oe=this,ae=re(G,H,z),ie=s(ae,4);return G=ie[0],H=ie[1],z=ie[3],Y.call(this,function(){return oe.editor.removeFormat(G,H)},z,G)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(G){var H=this,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d.default.sources.API;return Y.call(this,function(){G=new u.default(G);var oe=H.getLength(),ae=H.editor.deleteText(0,oe),ie=H.editor.applyDelta(G),pe=ie.ops[ie.ops.length-1];pe!=null&&typeof pe.insert=="string"&&pe.insert[pe.insert.length-1]===`
`&&(H.editor.deleteText(H.getLength()-1,1),ie.delete(1));var Ce=ae.compose(ie);return Ce},z)}},{key:"setSelection",value:function(G,H,z){if(G==null)this.selection.setRange(null,H||ne.sources.API);else{var oe=re(G,H,z),ae=s(oe,4);G=ae[0],H=ae[1],z=ae[3],this.selection.setRange(new w.Range(G,H),z),z!==d.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(G){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d.default.sources.API,z=new u.default().insert(G);return this.setContents(z,H)}},{key:"update",value:function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:d.default.sources.USER,H=this.scroll.update(G);return this.selection.update(G),H}},{key:"updateContents",value:function(G){var H=this,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d.default.sources.API;return Y.call(this,function(){return G=new u.default(G),H.editor.applyDelta(G,z)},z,!0)}}]),ne}();V.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},V.events=d.default.events,V.sources=d.default.sources,V.version="1.3.7",V.imports={delta:u.default,parchment:v.default,"core/module":g.default,"core/theme":k.default};function $(ne,te){if(te=(0,F.default)(!0,{container:ne,modules:{clipboard:!0,keyboard:!0,history:!0}},te),!te.theme||te.theme===V.DEFAULTS.theme)te.theme=k.default;else if(te.theme=V.import("themes/"+te.theme),te.theme==null)throw new Error("Invalid theme "+te.theme+". Did you register it?");var G=(0,F.default)(!0,{},te.theme.DEFAULTS);[G,te].forEach(function(oe){oe.modules=oe.modules||{},Object.keys(oe.modules).forEach(function(ae){oe.modules[ae]===!0&&(oe.modules[ae]={})})});var H=Object.keys(G.modules).concat(Object.keys(te.modules)),z=H.reduce(function(oe,ae){var ie=V.import("modules/"+ae);return ie==null?O.error("Cannot load "+ae+" module. Are you sure you registered it?"):oe[ae]=ie.DEFAULTS||{},oe},{});return te.modules!=null&&te.modules.toolbar&&te.modules.toolbar.constructor!==Object&&(te.modules.toolbar={container:te.modules.toolbar}),te=(0,F.default)(!0,{},V.DEFAULTS,{modules:z},G,te),["bounds","container","scrollingContainer"].forEach(function(oe){typeof te[oe]=="string"&&(te[oe]=document.querySelector(te[oe]))}),te.modules=Object.keys(te.modules).reduce(function(oe,ae){return te.modules[ae]&&(oe[ae]=te.modules[ae]),oe},{}),te}function Y(ne,te,G,H){if(this.options.strict&&!this.isEnabled()&&te===d.default.sources.USER)return new u.default;var z=G==null?null:this.getSelection(),oe=this.editor.delta,ae=ne();if(z!=null&&(G===!0&&(G=z.index),H==null?z=le(z,ae,te):H!==0&&(z=le(z,G,H,te)),this.setSelection(z,d.default.sources.SILENT)),ae.length()>0){var ie,pe=[d.default.events.TEXT_CHANGE,ae,oe,te];if((ie=this.emitter).emit.apply(ie,[d.default.events.EDITOR_CHANGE].concat(pe)),te!==d.default.sources.SILENT){var Ce;(Ce=this.emitter).emit.apply(Ce,pe)}}return ae}function re(ne,te,G,H,z){var oe={};return typeof ne.index=="number"&&typeof ne.length=="number"?typeof te!="number"?(z=H,H=G,G=te,te=ne.length,ne=ne.index):(te=ne.length,ne=ne.index):typeof te!="number"&&(z=H,H=G,G=te,te=0),(typeof G>"u"?"undefined":i(G))==="object"?(oe=G,z=H):typeof G=="string"&&(H!=null?oe[G]=H:z=G),z=z||d.default.sources.API,[ne,te,oe,z]}function le(ne,te,G,H){if(ne==null)return null;var z=void 0,oe=void 0;if(te instanceof u.default){var ae=[ne.index,ne.index+ne.length].map(function(Ie){return te.transformPosition(Ie,H!==d.default.sources.USER)}),ie=s(ae,2);z=ie[0],oe=ie[1]}else{var pe=[ne.index,ne.index+ne.length].map(function(Ie){return Ie<te||Ie===te&&H===d.default.sources.USER?Ie:G>=0?Ie+G:Math.max(te,Ie+G)}),Ce=s(pe,2);z=Ce[0],oe=Ce[1]}return new w.Range(z,oe-z)}n.expandConfig=$,n.overload=re,n.default=V},function(t,n,A){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function y(v,w){for(var b=0;b<w.length;b++){var B=w[b];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(v,B.key,B)}}return function(v,w,b){return w&&y(v.prototype,w),b&&y(v,b),v}}(),s=function y(v,w,b){v===null&&(v=Function.prototype);var B=Object.getOwnPropertyDescriptor(v,w);if(B===void 0){var F=Object.getPrototypeOf(v);return F===null?void 0:y(F,w,b)}else{if("value"in B)return B.value;var N=B.get;return N===void 0?void 0:N.call(b)}},o=A(7),a=c(o),u=A(0),l=c(u);function c(y){return y&&y.__esModule?y:{default:y}}function h(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function d(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function m(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var g=function(y){m(v,y);function v(){return h(this,v),d(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return i(v,[{key:"formatAt",value:function(b,B,F,N){if(v.compare(this.statics.blotName,F)<0&&l.default.query(F,l.default.Scope.BLOT)){var T=this.isolate(b,B);N&&T.wrap(F,N)}else s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"formatAt",this).call(this,b,B,F,N)}},{key:"optimize",value:function(b){if(s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"optimize",this).call(this,b),this.parent instanceof v&&v.compare(this.statics.blotName,this.parent.statics.blotName)>0){var B=this.parent.isolate(this.offset(),this.length());this.moveChildren(B),B.wrap(this)}}}],[{key:"compare",value:function(b,B){var F=v.order.indexOf(b),N=v.order.indexOf(B);return F>=0||N>=0?F-N:b===B?0:b<B?-1:1}}]),v}(l.default.Inline);g.allowedChildren=[g,l.default.Embed,a.default],g.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],n.default=g},function(t,n,A){Object.defineProperty(n,"__esModule",{value:!0});var i=A(0),s=o(i);function o(h){return h&&h.__esModule?h:{default:h}}function a(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")}function u(h,d){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:h}function l(h,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);h.prototype=Object.create(d&&d.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(h,d):h.__proto__=d)}var c=function(h){l(d,h);function d(){return a(this,d),u(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(s.default.Text);n.default=c},function(t,n,A){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function w(b,B){for(var F=0;F<B.length;F++){var N=B[F];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(b,N.key,N)}}return function(b,B,F){return B&&w(b.prototype,B),F&&w(b,F),b}}(),s=function w(b,B,F){b===null&&(b=Function.prototype);var N=Object.getOwnPropertyDescriptor(b,B);if(N===void 0){var T=Object.getPrototypeOf(b);return T===null?void 0:w(T,B,F)}else{if("value"in N)return N.value;var U=N.get;return U===void 0?void 0:U.call(F)}},o=A(54),a=c(o),u=A(10),l=c(u);function c(w){return w&&w.__esModule?w:{default:w}}function h(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}function d(w,b){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:w}function m(w,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);w.prototype=Object.create(b&&b.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(w,b):w.__proto__=b)}var g=(0,l.default)("quill:events"),y=["selectionchange","mousedown","mouseup","click"];y.forEach(function(w){document.addEventListener(w,function(){for(var b=arguments.length,B=Array(b),F=0;F<b;F++)B[F]=arguments[F];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(N){if(N.__quill&&N.__quill.emitter){var T;(T=N.__quill.emitter).handleDOM.apply(T,B)}})})});var v=function(w){m(b,w);function b(){h(this,b);var B=d(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return B.listeners={},B.on("error",g.error),B}return i(b,[{key:"emit",value:function(){g.log.apply(g,arguments),s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(F){for(var N=arguments.length,T=Array(N>1?N-1:0),U=1;U<N;U++)T[U-1]=arguments[U];(this.listeners[F.type]||[]).forEach(function(k){var D=k.node,_=k.handler;(F.target===D||D.contains(F.target))&&_.apply(void 0,[F].concat(T))})}},{key:"listenDOM",value:function(F,N,T){this.listeners[F]||(this.listeners[F]=[]),this.listeners[F].push({node:N,handler:T})}}]),b}(a.default);v.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},v.sources={API:"api",SILENT:"silent",USER:"user"},n.default=v},function(t,n,A){Object.defineProperty(n,"__esModule",{value:!0});function i(o,a){if(!(o instanceof a))throw new TypeError("Cannot call a class as a function")}var s=function o(a){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};i(this,o),this.quill=a,this.options=u};s.DEFAULTS={},n.default=s},function(t,n,A){Object.defineProperty(n,"__esModule",{value:!0});var i=["error","warn","log","info"],s="warn";function o(u){if(i.indexOf(u)<=i.indexOf(s)){for(var l,c=arguments.length,h=Array(c>1?c-1:0),d=1;d<c;d++)h[d-1]=arguments[d];(l=console)[u].apply(l,h)}}function a(u){return i.reduce(function(l,c){return l[c]=o.bind(console,c,u),l},{})}o.level=a.level=function(u){s=u},n.default=a},function(t,n,A){var i=Array.prototype.slice,s=A(52),o=A(53),a=t.exports=function(h,d,m){return m||(m={}),h===d?!0:h instanceof Date&&d instanceof Date?h.getTime()===d.getTime():!h||!d||typeof h!="object"&&typeof d!="object"?m.strict?h===d:h==d:c(h,d,m)};function u(h){return h==null}function l(h){return!(!h||typeof h!="object"||typeof h.length!="number"||typeof h.copy!="function"||typeof h.slice!="function"||h.length>0&&typeof h[0]!="number")}function c(h,d,m){var g,y;if(u(h)||u(d)||h.prototype!==d.prototype)return!1;if(o(h))return o(d)?(h=i.call(h),d=i.call(d),a(h,d,m)):!1;if(l(h)){if(!l(d)||h.length!==d.length)return!1;for(g=0;g<h.length;g++)if(h[g]!==d[g])return!1;return!0}try{var v=s(h),w=s(d)}catch{return!1}if(v.length!=w.length)return!1;for(v.sort(),w.sort(),g=v.length-1;g>=0;g--)if(v[g]!=w[g])return!1;for(g=v.length-1;g>=0;g--)if(y=v[g],!a(h[y],d[y],m))return!1;return typeof h==typeof d}},function(t,n,A){Object.defineProperty(n,"__esModule",{value:!0});var i=A(1),s=function(){function o(a,u,l){l===void 0&&(l={}),this.attrName=a,this.keyName=u;var c=i.Scope.TYPE&i.Scope.ATTRIBUTE;l.scope!=null?this.scope=l.scope&i.Scope.LEVEL|c:this.scope=i.Scope.ATTRIBUTE,l.whitelist!=null&&(this.whitelist=l.whitelist)}return o.keys=function(a){return[].map.call(a.attributes,function(u){return u.name})},o.prototype.add=function(a,u){return this.canAdd(a,u)?(a.setAttribute(this.keyName,u),!0):!1},o.prototype.canAdd=function(a,u){var l=i.query(a,i.Scope.BLOT&(this.scope|i.Scope.TYPE));return l==null?!1:this.whitelist==null?!0:typeof u=="string"?this.whitelist.indexOf(u.replace(/["']/g,""))>-1:this.whitelist.indexOf(u)>-1},o.prototype.remove=function(a){a.removeAttribute(this.keyName)},o.prototype.value=function(a){var u=a.getAttribute(this.keyName);return this.canAdd(a,u)&&u?u:""},o}();n.default=s},function(t,n,A){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Code=void 0;var i=function(){function U(k,D){var _=[],L=!0,O=!1,V=void 0;try{for(var $=k[Symbol.iterator](),Y;!(L=(Y=$.next()).done)&&(_.push(Y.value),!(D&&_.length===D));L=!0);}catch(re){O=!0,V=re}finally{try{!L&&$.return&&$.return()}finally{if(O)throw V}}return _}return function(k,D){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return U(k,D);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function U(k,D){for(var _=0;_<D.length;_++){var L=D[_];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(k,L.key,L)}}return function(k,D,_){return D&&U(k.prototype,D),_&&U(k,_),k}}(),o=function U(k,D,_){k===null&&(k=Function.prototype);var L=Object.getOwnPropertyDescriptor(k,D);if(L===void 0){var O=Object.getPrototypeOf(k);return O===null?void 0:U(O,D,_)}else{if("value"in L)return L.value;var V=L.get;return V===void 0?void 0:V.call(_)}},a=A(2),u=w(a),l=A(0),c=w(l),h=A(4),d=w(h),m=A(6),g=w(m),y=A(7),v=w(y);function w(U){return U&&U.__esModule?U:{default:U}}function b(U,k){if(!(U instanceof k))throw new TypeError("Cannot call a class as a function")}function B(U,k){if(!U)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:U}function F(U,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);U.prototype=Object.create(k&&k.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(U,k):U.__proto__=k)}var N=function(U){F(k,U);function k(){return b(this,k),B(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return k}(g.default);N.blotName="code",N.tagName="CODE";var T=function(U){F(k,U);function k(){return b(this,k),B(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return s(k,[{key:"delta",value:function(){var _=this,L=this.domNode.textContent;return L.endsWith(`
`)&&(L=L.slice(0,-1)),L.split(`
`).reduce(function(O,V){return O.insert(V).insert(`
`,_.formats())},new u.default)}},{key:"format",value:function(_,L){if(!(_===this.statics.blotName&&L)){var O=this.descendant(v.default,this.length()-1),V=i(O,1),$=V[0];$!=null&&$.deleteAt($.length()-1,1),o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"format",this).call(this,_,L)}}},{key:"formatAt",value:function(_,L,O,V){if(L!==0&&!(c.default.query(O,c.default.Scope.BLOCK)==null||O===this.statics.blotName&&V===this.statics.formats(this.domNode))){var $=this.newlineIndex(_);if(!($<0||$>=_+L)){var Y=this.newlineIndex(_,!0)+1,re=$-Y+1,le=this.isolate(Y,re),ne=le.next;le.format(O,V),ne instanceof k&&ne.formatAt(0,_-Y+L-re,O,V)}}}},{key:"insertAt",value:function(_,L,O){if(O==null){var V=this.descendant(v.default,_),$=i(V,2),Y=$[0],re=$[1];Y.insertAt(re,L)}}},{key:"length",value:function(){var _=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?_:_+1}},{key:"newlineIndex",value:function(_){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(L)return this.domNode.textContent.slice(0,_).lastIndexOf(`
`);var O=this.domNode.textContent.slice(_).indexOf(`
`);return O>-1?_+O:-1}},{key:"optimize",value:function(_){this.domNode.textContent.endsWith(`
`)||this.appendChild(c.default.create("text",`
`)),o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"optimize",this).call(this,_);var L=this.next;L!=null&&L.prev===this&&L.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===L.statics.formats(L.domNode)&&(L.optimize(_),L.moveChildren(this),L.remove())}},{key:"replace",value:function(_){o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"replace",this).call(this,_),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(L){var O=c.default.find(L);O==null?L.parentNode.removeChild(L):O instanceof c.default.Embed?O.remove():O.unwrap()})}}],[{key:"create",value:function(_){var L=o(k.__proto__||Object.getPrototypeOf(k),"create",this).call(this,_);return L.setAttribute("spellcheck",!1),L}},{key:"formats",value:function(){return!0}}]),k}(d.default);T.blotName="code-block",T.tagName="PRE",T.TAB="  ",n.Code=N,n.default=T},function(t,n,A){Object.defineProperty(n,"__esModule",{value:!0});var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ne){return typeof ne}:function(ne){return ne&&typeof Symbol=="function"&&ne.constructor===Symbol&&ne!==Symbol.prototype?"symbol":typeof ne},s=function(){function ne(te,G){var H=[],z=!0,oe=!1,ae=void 0;try{for(var ie=te[Symbol.iterator](),pe;!(z=(pe=ie.next()).done)&&(H.push(pe.value),!(G&&H.length===G));z=!0);}catch(Ce){oe=!0,ae=Ce}finally{try{!z&&ie.return&&ie.return()}finally{if(oe)throw ae}}return H}return function(te,G){if(Array.isArray(te))return te;if(Symbol.iterator in Object(te))return ne(te,G);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function ne(te,G){for(var H=0;H<G.length;H++){var z=G[H];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(te,z.key,z)}}return function(te,G,H){return G&&ne(te.prototype,G),H&&ne(te,H),te}}(),a=A(2),u=L(a),l=A(20),c=L(l),h=A(0),d=L(h),m=A(13),g=L(m),y=A(24),v=L(y),w=A(4),b=L(w),B=A(16),F=L(B),N=A(21),T=L(N),U=A(11),k=L(U),D=A(3),_=L(D);function L(ne){return ne&&ne.__esModule?ne:{default:ne}}function O(ne,te,G){return te in ne?Object.defineProperty(ne,te,{value:G,enumerable:!0,configurable:!0,writable:!0}):ne[te]=G,ne}function V(ne,te){if(!(ne instanceof te))throw new TypeError("Cannot call a class as a function")}var $=/^[ -~]*$/,Y=function(){function ne(te){V(this,ne),this.scroll=te,this.delta=this.getDelta()}return o(ne,[{key:"applyDelta",value:function(G){var H=this,z=!1;this.scroll.update();var oe=this.scroll.length();return this.scroll.batchStart(),G=le(G),G.reduce(function(ae,ie){var pe=ie.retain||ie.delete||ie.insert.length||1,Ce=ie.attributes||{};if(ie.insert!=null){if(typeof ie.insert=="string"){var Ie=ie.insert;Ie.endsWith(`
`)&&z&&(z=!1,Ie=Ie.slice(0,-1)),ae>=oe&&!Ie.endsWith(`
`)&&(z=!0),H.scroll.insertAt(ae,Ie);var Qe=H.scroll.line(ae),qe=s(Qe,2),et=qe[0],nt=qe[1],pt=(0,_.default)({},(0,w.bubbleFormats)(et));if(et instanceof b.default){var Ke=et.descendant(d.default.Leaf,nt),Le=s(Ke,1),Ut=Le[0];pt=(0,_.default)(pt,(0,w.bubbleFormats)(Ut))}Ce=c.default.attributes.diff(pt,Ce)||{}}else if(i(ie.insert)==="object"){var ke=Object.keys(ie.insert)[0];if(ke==null)return ae;H.scroll.insertAt(ae,ke,ie.insert[ke])}oe+=pe}return Object.keys(Ce).forEach(function(Me){H.scroll.formatAt(ae,pe,Me,Ce[Me])}),ae+pe},0),G.reduce(function(ae,ie){return typeof ie.delete=="number"?(H.scroll.deleteAt(ae,ie.delete),ae):ae+(ie.retain||ie.insert.length||1)},0),this.scroll.batchEnd(),this.update(G)}},{key:"deleteText",value:function(G,H){return this.scroll.deleteAt(G,H),this.update(new u.default().retain(G).delete(H))}},{key:"formatLine",value:function(G,H){var z=this,oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(oe).forEach(function(ae){if(!(z.scroll.whitelist!=null&&!z.scroll.whitelist[ae])){var ie=z.scroll.lines(G,Math.max(H,1)),pe=H;ie.forEach(function(Ce){var Ie=Ce.length();if(!(Ce instanceof g.default))Ce.format(ae,oe[ae]);else{var Qe=G-Ce.offset(z.scroll),qe=Ce.newlineIndex(Qe+pe)-Qe+1;Ce.formatAt(Qe,qe,ae,oe[ae])}pe-=Ie})}}),this.scroll.optimize(),this.update(new u.default().retain(G).retain(H,(0,T.default)(oe)))}},{key:"formatText",value:function(G,H){var z=this,oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(oe).forEach(function(ae){z.scroll.formatAt(G,H,ae,oe[ae])}),this.update(new u.default().retain(G).retain(H,(0,T.default)(oe)))}},{key:"getContents",value:function(G,H){return this.delta.slice(G,G+H)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(G,H){return G.concat(H.delta())},new u.default)}},{key:"getFormat",value:function(G){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,z=[],oe=[];H===0?this.scroll.path(G).forEach(function(ie){var pe=s(ie,1),Ce=pe[0];Ce instanceof b.default?z.push(Ce):Ce instanceof d.default.Leaf&&oe.push(Ce)}):(z=this.scroll.lines(G,H),oe=this.scroll.descendants(d.default.Leaf,G,H));var ae=[z,oe].map(function(ie){if(ie.length===0)return{};for(var pe=(0,w.bubbleFormats)(ie.shift());Object.keys(pe).length>0;){var Ce=ie.shift();if(Ce==null)return pe;pe=re((0,w.bubbleFormats)(Ce),pe)}return pe});return _.default.apply(_.default,ae)}},{key:"getText",value:function(G,H){return this.getContents(G,H).filter(function(z){return typeof z.insert=="string"}).map(function(z){return z.insert}).join("")}},{key:"insertEmbed",value:function(G,H,z){return this.scroll.insertAt(G,H,z),this.update(new u.default().retain(G).insert(O({},H,z)))}},{key:"insertText",value:function(G,H){var z=this,oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return H=H.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(G,H),Object.keys(oe).forEach(function(ae){z.scroll.formatAt(G,H.length,ae,oe[ae])}),this.update(new u.default().retain(G).insert(H,(0,T.default)(oe)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var G=this.scroll.children.head;return G.statics.blotName!==b.default.blotName||G.children.length>1?!1:G.children.head instanceof F.default}},{key:"removeFormat",value:function(G,H){var z=this.getText(G,H),oe=this.scroll.line(G+H),ae=s(oe,2),ie=ae[0],pe=ae[1],Ce=0,Ie=new u.default;ie!=null&&(ie instanceof g.default?Ce=ie.newlineIndex(pe)-pe+1:Ce=ie.length()-pe,Ie=ie.delta().slice(pe,pe+Ce-1).insert(`
`));var Qe=this.getContents(G,H+Ce),qe=Qe.diff(new u.default().insert(z).concat(Ie)),et=new u.default().retain(G).concat(qe);return this.applyDelta(et)}},{key:"update",value:function(G){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,oe=this.delta;if(H.length===1&&H[0].type==="characterData"&&H[0].target.data.match($)&&d.default.find(H[0].target)){var ae=d.default.find(H[0].target),ie=(0,w.bubbleFormats)(ae),pe=ae.offset(this.scroll),Ce=H[0].oldValue.replace(v.default.CONTENTS,""),Ie=new u.default().insert(Ce),Qe=new u.default().insert(ae.value()),qe=new u.default().retain(pe).concat(Ie.diff(Qe,z));G=qe.reduce(function(et,nt){return nt.insert?et.insert(nt.insert,ie):et.push(nt)},new u.default),this.delta=oe.compose(G)}else this.delta=this.getDelta(),(!G||!(0,k.default)(oe.compose(G),this.delta))&&(G=oe.diff(this.delta,z));return G}}]),ne}();function re(ne,te){return Object.keys(te).reduce(function(G,H){return ne[H]==null||(te[H]===ne[H]?G[H]=te[H]:Array.isArray(te[H])?te[H].indexOf(ne[H])<0&&(G[H]=te[H].concat([ne[H]])):G[H]=[te[H],ne[H]]),G},{})}function le(ne){return ne.reduce(function(te,G){if(G.insert===1){var H=(0,T.default)(G.attributes);return delete H.image,te.insert({image:G.attributes.image},H)}if(G.attributes!=null&&(G.attributes.list===!0||G.attributes.bullet===!0)&&(G=(0,T.default)(G),G.attributes.list?G.attributes.list="ordered":(G.attributes.list="bullet",delete G.attributes.bullet)),typeof G.insert=="string"){var z=G.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return te.insert(z,G.attributes)}return te.push(G)},new u.default)}n.default=Y},function(t,n,A){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Range=void 0;var i=function(){function U(k,D){var _=[],L=!0,O=!1,V=void 0;try{for(var $=k[Symbol.iterator](),Y;!(L=(Y=$.next()).done)&&(_.push(Y.value),!(D&&_.length===D));L=!0);}catch(re){O=!0,V=re}finally{try{!L&&$.return&&$.return()}finally{if(O)throw V}}return _}return function(k,D){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return U(k,D);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function U(k,D){for(var _=0;_<D.length;_++){var L=D[_];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(k,L.key,L)}}return function(k,D,_){return D&&U(k.prototype,D),_&&U(k,_),k}}(),o=A(0),a=v(o),u=A(21),l=v(u),c=A(11),h=v(c),d=A(8),m=v(d),g=A(10),y=v(g);function v(U){return U&&U.__esModule?U:{default:U}}function w(U){if(Array.isArray(U)){for(var k=0,D=Array(U.length);k<U.length;k++)D[k]=U[k];return D}else return Array.from(U)}function b(U,k){if(!(U instanceof k))throw new TypeError("Cannot call a class as a function")}var B=(0,y.default)("quill:selection"),F=function U(k){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;b(this,U),this.index=k,this.length=D},N=function(){function U(k,D){var _=this;b(this,U),this.emitter=D,this.scroll=k,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=a.default.create("cursor",this),this.lastRange=this.savedRange=new F(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){_.mouseDown||setTimeout(_.update.bind(_,m.default.sources.USER),1)}),this.emitter.on(m.default.events.EDITOR_CHANGE,function(L,O){L===m.default.events.TEXT_CHANGE&&O.length()>0&&_.update(m.default.sources.SILENT)}),this.emitter.on(m.default.events.SCROLL_BEFORE_UPDATE,function(){if(_.hasFocus()){var L=_.getNativeRange();L!=null&&L.start.node!==_.cursor.textNode&&_.emitter.once(m.default.events.SCROLL_UPDATE,function(){try{_.setNativeRange(L.start.node,L.start.offset,L.end.node,L.end.offset)}catch{}})}}),this.emitter.on(m.default.events.SCROLL_OPTIMIZE,function(L,O){if(O.range){var V=O.range,$=V.startNode,Y=V.startOffset,re=V.endNode,le=V.endOffset;_.setNativeRange($,Y,re,le)}}),this.update(m.default.sources.SILENT)}return s(U,[{key:"handleComposition",value:function(){var D=this;this.root.addEventListener("compositionstart",function(){D.composing=!0}),this.root.addEventListener("compositionend",function(){if(D.composing=!1,D.cursor.parent){var _=D.cursor.restore();if(!_)return;setTimeout(function(){D.setNativeRange(_.startNode,_.startOffset,_.endNode,_.endOffset)},1)}})}},{key:"handleDragging",value:function(){var D=this;this.emitter.listenDOM("mousedown",document.body,function(){D.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){D.mouseDown=!1,D.update(m.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(D,_){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[D])){this.scroll.update();var L=this.getNativeRange();if(!(L==null||!L.native.collapsed||a.default.query(D,a.default.Scope.BLOCK))){if(L.start.node!==this.cursor.textNode){var O=a.default.find(L.start.node,!1);if(O==null)return;if(O instanceof a.default.Leaf){var V=O.split(L.start.offset);O.parent.insertBefore(this.cursor,V)}else O.insertBefore(this.cursor,L.start.node);this.cursor.attach()}this.cursor.format(D,_),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(D){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,L=this.scroll.length();D=Math.min(D,L-1),_=Math.min(D+_,L-1)-D;var O=void 0,V=this.scroll.leaf(D),$=i(V,2),Y=$[0],re=$[1];if(Y==null)return null;var le=Y.position(re,!0),ne=i(le,2);O=ne[0],re=ne[1];var te=document.createRange();if(_>0){te.setStart(O,re);var G=this.scroll.leaf(D+_),H=i(G,2);if(Y=H[0],re=H[1],Y==null)return null;var z=Y.position(re,!0),oe=i(z,2);return O=oe[0],re=oe[1],te.setEnd(O,re),te.getBoundingClientRect()}else{var ae="left",ie=void 0;return O instanceof Text?(re<O.data.length?(te.setStart(O,re),te.setEnd(O,re+1)):(te.setStart(O,re-1),te.setEnd(O,re),ae="right"),ie=te.getBoundingClientRect()):(ie=Y.domNode.getBoundingClientRect(),re>0&&(ae="right")),{bottom:ie.top+ie.height,height:ie.height,left:ie[ae],right:ie[ae],top:ie.top,width:0}}}},{key:"getNativeRange",value:function(){var D=document.getSelection();if(D==null||D.rangeCount<=0)return null;var _=D.getRangeAt(0);if(_==null)return null;var L=this.normalizeNative(_);return B.info("getNativeRange",L),L}},{key:"getRange",value:function(){var D=this.getNativeRange();if(D==null)return[null,null];var _=this.normalizedToRange(D);return[_,D]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(D){var _=this,L=[[D.start.node,D.start.offset]];D.native.collapsed||L.push([D.end.node,D.end.offset]);var O=L.map(function(Y){var re=i(Y,2),le=re[0],ne=re[1],te=a.default.find(le,!0),G=te.offset(_.scroll);return ne===0?G:te instanceof a.default.Container?G+te.length():G+te.index(le,ne)}),V=Math.min(Math.max.apply(Math,w(O)),this.scroll.length()-1),$=Math.min.apply(Math,[V].concat(w(O)));return new F($,V-$)}},{key:"normalizeNative",value:function(D){if(!T(this.root,D.startContainer)||!D.collapsed&&!T(this.root,D.endContainer))return null;var _={start:{node:D.startContainer,offset:D.startOffset},end:{node:D.endContainer,offset:D.endOffset},native:D};return[_.start,_.end].forEach(function(L){for(var O=L.node,V=L.offset;!(O instanceof Text)&&O.childNodes.length>0;)if(O.childNodes.length>V)O=O.childNodes[V],V=0;else if(O.childNodes.length===V)O=O.lastChild,V=O instanceof Text?O.data.length:O.childNodes.length+1;else break;L.node=O,L.offset=V}),_}},{key:"rangeToNative",value:function(D){var _=this,L=D.collapsed?[D.index]:[D.index,D.index+D.length],O=[],V=this.scroll.length();return L.forEach(function($,Y){$=Math.min(V-1,$);var re=void 0,le=_.scroll.leaf($),ne=i(le,2),te=ne[0],G=ne[1],H=te.position(G,Y!==0),z=i(H,2);re=z[0],G=z[1],O.push(re,G)}),O.length<2&&(O=O.concat(O)),O}},{key:"scrollIntoView",value:function(D){var _=this.lastRange;if(_!=null){var L=this.getBounds(_.index,_.length);if(L!=null){var O=this.scroll.length()-1,V=this.scroll.line(Math.min(_.index,O)),$=i(V,1),Y=$[0],re=Y;if(_.length>0){var le=this.scroll.line(Math.min(_.index+_.length,O)),ne=i(le,1);re=ne[0]}if(!(Y==null||re==null)){var te=D.getBoundingClientRect();L.top<te.top?D.scrollTop-=te.top-L.top:L.bottom>te.bottom&&(D.scrollTop+=L.bottom-te.bottom)}}}}},{key:"setNativeRange",value:function(D,_){var L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:D,O=arguments.length>3&&arguments[3]!==void 0?arguments[3]:_,V=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(B.info("setNativeRange",D,_,L,O),!(D!=null&&(this.root.parentNode==null||D.parentNode==null||L.parentNode==null))){var $=document.getSelection();if($!=null)if(D!=null){this.hasFocus()||this.root.focus();var Y=(this.getNativeRange()||{}).native;if(Y==null||V||D!==Y.startContainer||_!==Y.startOffset||L!==Y.endContainer||O!==Y.endOffset){D.tagName=="BR"&&(_=[].indexOf.call(D.parentNode.childNodes,D),D=D.parentNode),L.tagName=="BR"&&(O=[].indexOf.call(L.parentNode.childNodes,L),L=L.parentNode);var re=document.createRange();re.setStart(D,_),re.setEnd(L,O),$.removeAllRanges(),$.addRange(re)}}else $.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(D){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m.default.sources.API;if(typeof _=="string"&&(L=_,_=!1),B.info("setRange",D),D!=null){var O=this.rangeToNative(D);this.setNativeRange.apply(this,w(O).concat([_]))}else this.setNativeRange(null);this.update(L)}},{key:"update",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m.default.sources.USER,_=this.lastRange,L=this.getRange(),O=i(L,2),V=O[0],$=O[1];if(this.lastRange=V,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,h.default)(_,this.lastRange)){var Y;!this.composing&&$!=null&&$.native.collapsed&&$.start.node!==this.cursor.textNode&&this.cursor.restore();var re=[m.default.events.SELECTION_CHANGE,(0,l.default)(this.lastRange),(0,l.default)(_),D];if((Y=this.emitter).emit.apply(Y,[m.default.events.EDITOR_CHANGE].concat(re)),D!==m.default.sources.SILENT){var le;(le=this.emitter).emit.apply(le,re)}}}}]),U}();function T(U,k){try{k.parentNode}catch{return!1}return k instanceof Text&&(k=k.parentNode),U.contains(k)}n.Range=F,n.default=N},function(t,n,A){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function m(g,y){for(var v=0;v<y.length;v++){var w=y[v];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(g,w.key,w)}}return function(g,y,v){return y&&m(g.prototype,y),v&&m(g,v),g}}(),s=function m(g,y,v){g===null&&(g=Function.prototype);var w=Object.getOwnPropertyDescriptor(g,y);if(w===void 0){var b=Object.getPrototypeOf(g);return b===null?void 0:m(b,y,v)}else{if("value"in w)return w.value;var B=w.get;return B===void 0?void 0:B.call(v)}},o=A(0),a=u(o);function u(m){return m&&m.__esModule?m:{default:m}}function l(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function c(m,g){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:m}function h(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(m,g):m.__proto__=g)}var d=function(m){h(g,m);function g(){return l(this,g),c(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return i(g,[{key:"insertInto",value:function(v,w){v.children.length===0?s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"insertInto",this).call(this,v,w):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),g}(a.default.Embed);d.blotName="break",d.tagName="BR",n.default=d},function(t,n,A){var i=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var m in d)d.hasOwnProperty(m)&&(h[m]=d[m])};return function(h,d){c(h,d);function m(){this.constructor=h}h.prototype=d===null?Object.create(d):(m.prototype=d.prototype,new m)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=A(44),o=A(30),a=A(1),u=function(c){i(h,c);function h(d){var m=c.call(this,d)||this;return m.build(),m}return h.prototype.appendChild=function(d){this.insertBefore(d)},h.prototype.attach=function(){c.prototype.attach.call(this),this.children.forEach(function(d){d.attach()})},h.prototype.build=function(){var d=this;this.children=new s.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(m){try{var g=l(m);d.insertBefore(g,d.children.head||void 0)}catch(y){if(y instanceof a.ParchmentError)return;throw y}})},h.prototype.deleteAt=function(d,m){if(d===0&&m===this.length())return this.remove();this.children.forEachAt(d,m,function(g,y,v){g.deleteAt(y,v)})},h.prototype.descendant=function(d,m){var g=this.children.find(m),y=g[0],v=g[1];return d.blotName==null&&d(y)||d.blotName!=null&&y instanceof d?[y,v]:y instanceof h?y.descendant(d,v):[null,-1]},h.prototype.descendants=function(d,m,g){m===void 0&&(m=0),g===void 0&&(g=Number.MAX_VALUE);var y=[],v=g;return this.children.forEachAt(m,g,function(w,b,B){(d.blotName==null&&d(w)||d.blotName!=null&&w instanceof d)&&y.push(w),w instanceof h&&(y=y.concat(w.descendants(d,b,v))),v-=B}),y},h.prototype.detach=function(){this.children.forEach(function(d){d.detach()}),c.prototype.detach.call(this)},h.prototype.formatAt=function(d,m,g,y){this.children.forEachAt(d,m,function(v,w,b){v.formatAt(w,b,g,y)})},h.prototype.insertAt=function(d,m,g){var y=this.children.find(d),v=y[0],w=y[1];if(v)v.insertAt(w,m,g);else{var b=g==null?a.create("text",m):a.create(m,g);this.appendChild(b)}},h.prototype.insertBefore=function(d,m){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(g){return d instanceof g}))throw new a.ParchmentError("Cannot insert "+d.statics.blotName+" into "+this.statics.blotName);d.insertInto(this,m)},h.prototype.length=function(){return this.children.reduce(function(d,m){return d+m.length()},0)},h.prototype.moveChildren=function(d,m){this.children.forEach(function(g){d.insertBefore(g,m)})},h.prototype.optimize=function(d){if(c.prototype.optimize.call(this,d),this.children.length===0)if(this.statics.defaultChild!=null){var m=a.create(this.statics.defaultChild);this.appendChild(m),m.optimize(d)}else this.remove()},h.prototype.path=function(d,m){m===void 0&&(m=!1);var g=this.children.find(d,m),y=g[0],v=g[1],w=[[this,d]];return y instanceof h?w.concat(y.path(v,m)):(y!=null&&w.push([y,v]),w)},h.prototype.removeChild=function(d){this.children.remove(d)},h.prototype.replace=function(d){d instanceof h&&d.moveChildren(this),c.prototype.replace.call(this,d)},h.prototype.split=function(d,m){if(m===void 0&&(m=!1),!m){if(d===0)return this;if(d===this.length())return this.next}var g=this.clone();return this.parent.insertBefore(g,this.next),this.children.forEachAt(d,this.length(),function(y,v,w){y=y.split(v,m),g.appendChild(y)}),g},h.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},h.prototype.update=function(d,m){var g=this,y=[],v=[];d.forEach(function(w){w.target===g.domNode&&w.type==="childList"&&(y.push.apply(y,w.addedNodes),v.push.apply(v,w.removedNodes))}),v.forEach(function(w){if(!(w.parentNode!=null&&w.tagName!=="IFRAME"&&document.body.compareDocumentPosition(w)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var b=a.find(w);b!=null&&(b.domNode.parentNode==null||b.domNode.parentNode===g.domNode)&&b.detach()}}),y.filter(function(w){return w.parentNode==g.domNode}).sort(function(w,b){return w===b?0:w.compareDocumentPosition(b)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(w){var b=null;w.nextSibling!=null&&(b=a.find(w.nextSibling));var B=l(w);(B.next!=b||B.next==null)&&(B.parent!=null&&B.parent.removeChild(g),g.insertBefore(B,b||void 0))})},h}(o.default);function l(c){var h=a.find(c);if(h==null)try{h=a.create(c)}catch{h=a.create(a.Scope.INLINE),[].slice.call(c.childNodes).forEach(function(m){h.domNode.appendChild(m)}),c.parentNode&&c.parentNode.replaceChild(h.domNode,c),h.attach()}return h}n.default=u},function(t,n,A){var i=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var m in d)d.hasOwnProperty(m)&&(h[m]=d[m])};return function(h,d){c(h,d);function m(){this.constructor=h}h.prototype=d===null?Object.create(d):(m.prototype=d.prototype,new m)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=A(12),o=A(31),a=A(17),u=A(1),l=function(c){i(h,c);function h(d){var m=c.call(this,d)||this;return m.attributes=new o.default(m.domNode),m}return h.formats=function(d){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return d.tagName.toLowerCase()},h.prototype.format=function(d,m){var g=u.query(d);g instanceof s.default?this.attributes.attribute(g,m):m&&g!=null&&(d!==this.statics.blotName||this.formats()[d]!==m)&&this.replaceWith(d,m)},h.prototype.formats=function(){var d=this.attributes.values(),m=this.statics.formats(this.domNode);return m!=null&&(d[this.statics.blotName]=m),d},h.prototype.replaceWith=function(d,m){var g=c.prototype.replaceWith.call(this,d,m);return this.attributes.copy(g),g},h.prototype.update=function(d,m){var g=this;c.prototype.update.call(this,d,m),d.some(function(y){return y.target===g.domNode&&y.type==="attributes"})&&this.attributes.build()},h.prototype.wrap=function(d,m){var g=c.prototype.wrap.call(this,d,m);return g instanceof h&&g.statics.scope===this.statics.scope&&this.attributes.move(g),g},h}(a.default);n.default=l},function(t,n,A){var i=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,c){l.__proto__=c}||function(l,c){for(var h in c)c.hasOwnProperty(h)&&(l[h]=c[h])};return function(l,c){u(l,c);function h(){this.constructor=l}l.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=A(30),o=A(1),a=function(u){i(l,u);function l(){return u!==null&&u.apply(this,arguments)||this}return l.value=function(c){return!0},l.prototype.index=function(c,h){return this.domNode===c||this.domNode.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(h,1):-1},l.prototype.position=function(c,h){var d=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return c>0&&(d+=1),[this.parent.domNode,d]},l.prototype.value=function(){var c;return c={},c[this.statics.blotName]=this.statics.value(this.domNode)||!0,c},l.scope=o.Scope.INLINE_BLOT,l}(s.default);n.default=a},function(t,n,A){var i=A(11),s=A(3),o={attributes:{compose:function(u,l,c){typeof u!="object"&&(u={}),typeof l!="object"&&(l={});var h=s(!0,{},l);c||(h=Object.keys(h).reduce(function(m,g){return h[g]!=null&&(m[g]=h[g]),m},{}));for(var d in u)u[d]!==void 0&&l[d]===void 0&&(h[d]=u[d]);return Object.keys(h).length>0?h:void 0},diff:function(u,l){typeof u!="object"&&(u={}),typeof l!="object"&&(l={});var c=Object.keys(u).concat(Object.keys(l)).reduce(function(h,d){return i(u[d],l[d])||(h[d]=l[d]===void 0?null:l[d]),h},{});return Object.keys(c).length>0?c:void 0},transform:function(u,l,c){if(typeof u!="object")return l;if(typeof l=="object"){if(!c)return l;var h=Object.keys(l).reduce(function(d,m){return u[m]===void 0&&(d[m]=l[m]),d},{});return Object.keys(h).length>0?h:void 0}}},iterator:function(u){return new a(u)},length:function(u){return typeof u.delete=="number"?u.delete:typeof u.retain=="number"?u.retain:typeof u.insert=="string"?u.insert.length:1}};function a(u){this.ops=u,this.index=0,this.offset=0}a.prototype.hasNext=function(){return this.peekLength()<1/0},a.prototype.next=function(u){u||(u=1/0);var l=this.ops[this.index];if(l){var c=this.offset,h=o.length(l);if(u>=h-c?(u=h-c,this.index+=1,this.offset=0):this.offset+=u,typeof l.delete=="number")return{delete:u};var d={};return l.attributes&&(d.attributes=l.attributes),typeof l.retain=="number"?d.retain=u:typeof l.insert=="string"?d.insert=l.insert.substr(c,u):d.insert=l.insert,d}else return{retain:1/0}},a.prototype.peek=function(){return this.ops[this.index]},a.prototype.peekLength=function(){return this.ops[this.index]?o.length(this.ops[this.index])-this.offset:1/0},a.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},a.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var u=this.offset,l=this.index,c=this.next(),h=this.ops.slice(this.index);return this.offset=u,this.index=l,[c].concat(h)}else return[]},t.exports=o},function(t,n){var A=function(){function i(g,y){return y!=null&&g instanceof y}var s;try{s=Map}catch{s=function(){}}var o;try{o=Set}catch{o=function(){}}var a;try{a=Promise}catch{a=function(){}}function u(g,y,v,w,b){typeof y=="object"&&(v=y.depth,w=y.prototype,b=y.includeNonEnumerable,y=y.circular);var B=[],F=[],N=typeof bg.Buffer<"u";typeof y>"u"&&(y=!0),typeof v>"u"&&(v=1/0);function T(U,k){if(U===null)return null;if(k===0)return U;var D,_;if(typeof U!="object")return U;if(i(U,s))D=new s;else if(i(U,o))D=new o;else if(i(U,a))D=new a(function(te,G){U.then(function(H){te(T(H,k-1))},function(H){G(T(H,k-1))})});else if(u.__isArray(U))D=[];else if(u.__isRegExp(U))D=new RegExp(U.source,m(U)),U.lastIndex&&(D.lastIndex=U.lastIndex);else if(u.__isDate(U))D=new Date(U.getTime());else{if(N&&bg.Buffer.isBuffer(U))return bg.Buffer.allocUnsafe?D=bg.Buffer.allocUnsafe(U.length):D=new bg.Buffer(U.length),U.copy(D),D;i(U,Error)?D=Object.create(U):typeof w>"u"?(_=Object.getPrototypeOf(U),D=Object.create(_)):(D=Object.create(w),_=w)}if(y){var L=B.indexOf(U);if(L!=-1)return F[L];B.push(U),F.push(D)}i(U,s)&&U.forEach(function(te,G){var H=T(G,k-1),z=T(te,k-1);D.set(H,z)}),i(U,o)&&U.forEach(function(te){var G=T(te,k-1);D.add(G)});for(var O in U){var V;_&&(V=Object.getOwnPropertyDescriptor(_,O)),!(V&&V.set==null)&&(D[O]=T(U[O],k-1))}if(Object.getOwnPropertySymbols)for(var $=Object.getOwnPropertySymbols(U),O=0;O<$.length;O++){var Y=$[O],re=Object.getOwnPropertyDescriptor(U,Y);re&&!re.enumerable&&!b||(D[Y]=T(U[Y],k-1),re.enumerable||Object.defineProperty(D,Y,{enumerable:!1}))}if(b)for(var le=Object.getOwnPropertyNames(U),O=0;O<le.length;O++){var ne=le[O],re=Object.getOwnPropertyDescriptor(U,ne);re&&re.enumerable||(D[ne]=T(U[ne],k-1),Object.defineProperty(D,ne,{enumerable:!1}))}return D}return T(g,v)}u.clonePrototype=function(y){if(y===null)return null;var v=function(){};return v.prototype=y,new v};function l(g){return Object.prototype.toString.call(g)}u.__objToStr=l;function c(g){return typeof g=="object"&&l(g)==="[object Date]"}u.__isDate=c;function h(g){return typeof g=="object"&&l(g)==="[object Array]"}u.__isArray=h;function d(g){return typeof g=="object"&&l(g)==="[object RegExp]"}u.__isRegExp=d;function m(g){var y="";return g.global&&(y+="g"),g.ignoreCase&&(y+="i"),g.multiline&&(y+="m"),y}return u.__getRegExpFlags=m,u}();typeof t=="object"&&t.exports&&(t.exports=A)},function(t,n,A){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function D(_,L){var O=[],V=!0,$=!1,Y=void 0;try{for(var re=_[Symbol.iterator](),le;!(V=(le=re.next()).done)&&(O.push(le.value),!(L&&O.length===L));V=!0);}catch(ne){$=!0,Y=ne}finally{try{!V&&re.return&&re.return()}finally{if($)throw Y}}return O}return function(_,L){if(Array.isArray(_))return _;if(Symbol.iterator in Object(_))return D(_,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function D(_,L){for(var O=0;O<L.length;O++){var V=L[O];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(_,V.key,V)}}return function(_,L,O){return L&&D(_.prototype,L),O&&D(_,O),_}}(),o=function D(_,L,O){_===null&&(_=Function.prototype);var V=Object.getOwnPropertyDescriptor(_,L);if(V===void 0){var $=Object.getPrototypeOf(_);return $===null?void 0:D($,L,O)}else{if("value"in V)return V.value;var Y=V.get;return Y===void 0?void 0:Y.call(O)}},a=A(0),u=B(a),l=A(8),c=B(l),h=A(4),d=B(h),m=A(16),g=B(m),y=A(13),v=B(y),w=A(25),b=B(w);function B(D){return D&&D.__esModule?D:{default:D}}function F(D,_){if(!(D instanceof _))throw new TypeError("Cannot call a class as a function")}function N(D,_){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:D}function T(D,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);D.prototype=Object.create(_&&_.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(D,_):D.__proto__=_)}function U(D){return D instanceof d.default||D instanceof h.BlockEmbed}var k=function(D){T(_,D);function _(L,O){F(this,_);var V=N(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,L));return V.emitter=O.emitter,Array.isArray(O.whitelist)&&(V.whitelist=O.whitelist.reduce(function($,Y){return $[Y]=!0,$},{})),V.domNode.addEventListener("DOMNodeInserted",function(){}),V.optimize(),V.enable(),V}return s(_,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(O,V){var $=this.line(O),Y=i($,2),re=Y[0],le=Y[1],ne=this.line(O+V),te=i(ne,1),G=te[0];if(o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"deleteAt",this).call(this,O,V),G!=null&&re!==G&&le>0){if(re instanceof h.BlockEmbed||G instanceof h.BlockEmbed){this.optimize();return}if(re instanceof v.default){var H=re.newlineIndex(re.length(),!0);if(H>-1&&(re=re.split(H+1),re===G)){this.optimize();return}}else if(G instanceof v.default){var z=G.newlineIndex(0);z>-1&&G.split(z+1)}var oe=G.children.head instanceof g.default?null:G.children.head;re.moveChildren(G,oe),re.remove()}this.optimize()}},{key:"enable",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",O)}},{key:"formatAt",value:function(O,V,$,Y){this.whitelist!=null&&!this.whitelist[$]||(o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"formatAt",this).call(this,O,V,$,Y),this.optimize())}},{key:"insertAt",value:function(O,V,$){if(!($!=null&&this.whitelist!=null&&!this.whitelist[V])){if(O>=this.length())if($==null||u.default.query(V,u.default.Scope.BLOCK)==null){var Y=u.default.create(this.statics.defaultChild);this.appendChild(Y),$==null&&V.endsWith(`
`)&&(V=V.slice(0,-1)),Y.insertAt(0,V,$)}else{var re=u.default.create(V,$);this.appendChild(re)}else o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"insertAt",this).call(this,O,V,$);this.optimize()}}},{key:"insertBefore",value:function(O,V){if(O.statics.scope===u.default.Scope.INLINE_BLOT){var $=u.default.create(this.statics.defaultChild);$.appendChild(O),O=$}o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"insertBefore",this).call(this,O,V)}},{key:"leaf",value:function(O){return this.path(O).pop()||[null,-1]}},{key:"line",value:function(O){return O===this.length()?this.line(O-1):this.descendant(U,O)}},{key:"lines",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,$=function Y(re,le,ne){var te=[],G=ne;return re.children.forEachAt(le,ne,function(H,z,oe){U(H)?te.push(H):H instanceof u.default.Container&&(te=te.concat(Y(H,z,G))),G-=oe}),te};return $(this,O,V)}},{key:"optimize",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"optimize",this).call(this,O,V),O.length>0&&this.emitter.emit(c.default.events.SCROLL_OPTIMIZE,O,V))}},{key:"path",value:function(O){return o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"path",this).call(this,O).slice(1)}},{key:"update",value:function(O){if(this.batch!==!0){var V=c.default.sources.USER;typeof O=="string"&&(V=O),Array.isArray(O)||(O=this.observer.takeRecords()),O.length>0&&this.emitter.emit(c.default.events.SCROLL_BEFORE_UPDATE,V,O),o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"update",this).call(this,O.concat([])),O.length>0&&this.emitter.emit(c.default.events.SCROLL_UPDATE,V,O)}}}]),_}(u.default.Scroll);k.blotName="scroll",k.className="ql-editor",k.tagName="DIV",k.defaultChild="block",k.allowedChildren=[d.default,h.BlockEmbed,b.default],n.default=k},function(t,n,A){Object.defineProperty(n,"__esModule",{value:!0}),n.SHORTKEY=n.default=void 0;var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ie){return typeof ie}:function(ie){return ie&&typeof Symbol=="function"&&ie.constructor===Symbol&&ie!==Symbol.prototype?"symbol":typeof ie},s=function(){function ie(pe,Ce){var Ie=[],Qe=!0,qe=!1,et=void 0;try{for(var nt=pe[Symbol.iterator](),pt;!(Qe=(pt=nt.next()).done)&&(Ie.push(pt.value),!(Ce&&Ie.length===Ce));Qe=!0);}catch(Ke){qe=!0,et=Ke}finally{try{!Qe&&nt.return&&nt.return()}finally{if(qe)throw et}}return Ie}return function(pe,Ce){if(Array.isArray(pe))return pe;if(Symbol.iterator in Object(pe))return ie(pe,Ce);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function ie(pe,Ce){for(var Ie=0;Ie<Ce.length;Ie++){var Qe=Ce[Ie];Qe.enumerable=Qe.enumerable||!1,Qe.configurable=!0,"value"in Qe&&(Qe.writable=!0),Object.defineProperty(pe,Qe.key,Qe)}}return function(pe,Ce,Ie){return Ce&&ie(pe.prototype,Ce),Ie&&ie(pe,Ie),pe}}(),a=A(21),u=D(a),l=A(11),c=D(l),h=A(3),d=D(h),m=A(2),g=D(m),y=A(20),v=D(y),w=A(0),b=D(w),B=A(5),F=D(B),N=A(10),T=D(N),U=A(9),k=D(U);function D(ie){return ie&&ie.__esModule?ie:{default:ie}}function _(ie,pe,Ce){return pe in ie?Object.defineProperty(ie,pe,{value:Ce,enumerable:!0,configurable:!0,writable:!0}):ie[pe]=Ce,ie}function L(ie,pe){if(!(ie instanceof pe))throw new TypeError("Cannot call a class as a function")}function O(ie,pe){if(!ie)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return pe&&(typeof pe=="object"||typeof pe=="function")?pe:ie}function V(ie,pe){if(typeof pe!="function"&&pe!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof pe);ie.prototype=Object.create(pe&&pe.prototype,{constructor:{value:ie,enumerable:!1,writable:!0,configurable:!0}}),pe&&(Object.setPrototypeOf?Object.setPrototypeOf(ie,pe):ie.__proto__=pe)}var $=(0,T.default)("quill:keyboard"),Y=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",re=function(ie){V(pe,ie),o(pe,null,[{key:"match",value:function(Ie,Qe){return Qe=ae(Qe),["altKey","ctrlKey","metaKey","shiftKey"].some(function(qe){return!!Qe[qe]!==Ie[qe]&&Qe[qe]!==null})?!1:Qe.key===(Ie.which||Ie.keyCode)}}]);function pe(Ce,Ie){L(this,pe);var Qe=O(this,(pe.__proto__||Object.getPrototypeOf(pe)).call(this,Ce,Ie));return Qe.bindings={},Object.keys(Qe.options.bindings).forEach(function(qe){qe==="list autofill"&&Ce.scroll.whitelist!=null&&!Ce.scroll.whitelist.list||Qe.options.bindings[qe]&&Qe.addBinding(Qe.options.bindings[qe])}),Qe.addBinding({key:pe.keys.ENTER,shiftKey:null},H),Qe.addBinding({key:pe.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(Qe.addBinding({key:pe.keys.BACKSPACE},{collapsed:!0},ne),Qe.addBinding({key:pe.keys.DELETE},{collapsed:!0},te)):(Qe.addBinding({key:pe.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},ne),Qe.addBinding({key:pe.keys.DELETE},{collapsed:!0,suffix:/^.?$/},te)),Qe.addBinding({key:pe.keys.BACKSPACE},{collapsed:!1},G),Qe.addBinding({key:pe.keys.DELETE},{collapsed:!1},G),Qe.addBinding({key:pe.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},ne),Qe.listen(),Qe}return o(pe,[{key:"addBinding",value:function(Ie){var Qe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},qe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},et=ae(Ie);if(et==null||et.key==null)return $.warn("Attempted to add invalid keyboard binding",et);typeof Qe=="function"&&(Qe={handler:Qe}),typeof qe=="function"&&(qe={handler:qe}),et=(0,d.default)(et,Qe,qe),this.bindings[et.key]=this.bindings[et.key]||[],this.bindings[et.key].push(et)}},{key:"listen",value:function(){var Ie=this;this.quill.root.addEventListener("keydown",function(Qe){if(!Qe.defaultPrevented){var qe=Qe.which||Qe.keyCode,et=(Ie.bindings[qe]||[]).filter(function(de){return pe.match(Qe,de)});if(et.length!==0){var nt=Ie.quill.getSelection();if(!(nt==null||!Ie.quill.hasFocus())){var pt=Ie.quill.getLine(nt.index),Ke=s(pt,2),Le=Ke[0],Ut=Ke[1],ke=Ie.quill.getLeaf(nt.index),Me=s(ke,2),it=Me[0],ut=Me[1],ze=nt.length===0?[it,ut]:Ie.quill.getLeaf(nt.index+nt.length),Ve=s(ze,2),At=Ve[0],lt=Ve[1],yt=it instanceof b.default.Text?it.value().slice(0,ut):"",ge=At instanceof b.default.Text?At.value().slice(lt):"",X={collapsed:nt.length===0,empty:nt.length===0&&Le.length()<=1,format:Ie.quill.getFormat(nt),offset:Ut,prefix:yt,suffix:ge},Ae=et.some(function(de){if(de.collapsed!=null&&de.collapsed!==X.collapsed||de.empty!=null&&de.empty!==X.empty||de.offset!=null&&de.offset!==X.offset)return!1;if(Array.isArray(de.format)){if(de.format.every(function(we){return X.format[we]==null}))return!1}else if(i(de.format)==="object"&&!Object.keys(de.format).every(function(we){return de.format[we]===!0?X.format[we]!=null:de.format[we]===!1?X.format[we]==null:(0,c.default)(de.format[we],X.format[we])}))return!1;return de.prefix!=null&&!de.prefix.test(X.prefix)||de.suffix!=null&&!de.suffix.test(X.suffix)?!1:de.handler.call(Ie,nt,X)!==!0});Ae&&Qe.preventDefault()}}}})}}]),pe}(k.default);re.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},re.DEFAULTS={bindings:{bold:oe("bold"),italic:oe("italic"),underline:oe("underline"),indent:{key:re.keys.TAB,format:["blockquote","indent","list"],handler:function(pe,Ce){if(Ce.collapsed&&Ce.offset!==0)return!0;this.quill.format("indent","+1",F.default.sources.USER)}},outdent:{key:re.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(pe,Ce){if(Ce.collapsed&&Ce.offset!==0)return!0;this.quill.format("indent","-1",F.default.sources.USER)}},"outdent backspace":{key:re.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(pe,Ce){Ce.format.indent!=null?this.quill.format("indent","-1",F.default.sources.USER):Ce.format.list!=null&&this.quill.format("list",!1,F.default.sources.USER)}},"indent code-block":z(!0),"outdent code-block":z(!1),"remove tab":{key:re.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(pe){this.quill.deleteText(pe.index-1,1,F.default.sources.USER)}},tab:{key:re.keys.TAB,handler:function(pe){this.quill.history.cutoff();var Ce=new g.default().retain(pe.index).delete(pe.length).insert("	");this.quill.updateContents(Ce,F.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(pe.index+1,F.default.sources.SILENT)}},"list empty enter":{key:re.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(pe,Ce){this.quill.format("list",!1,F.default.sources.USER),Ce.format.indent&&this.quill.format("indent",!1,F.default.sources.USER)}},"checklist enter":{key:re.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(pe){var Ce=this.quill.getLine(pe.index),Ie=s(Ce,2),Qe=Ie[0],qe=Ie[1],et=(0,d.default)({},Qe.formats(),{list:"checked"}),nt=new g.default().retain(pe.index).insert(`
`,et).retain(Qe.length()-qe-1).retain(1,{list:"unchecked"});this.quill.updateContents(nt,F.default.sources.USER),this.quill.setSelection(pe.index+1,F.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:re.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(pe,Ce){var Ie=this.quill.getLine(pe.index),Qe=s(Ie,2),qe=Qe[0],et=Qe[1],nt=new g.default().retain(pe.index).insert(`
`,Ce.format).retain(qe.length()-et-1).retain(1,{header:null});this.quill.updateContents(nt,F.default.sources.USER),this.quill.setSelection(pe.index+1,F.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(pe,Ce){var Ie=Ce.prefix.length,Qe=this.quill.getLine(pe.index),qe=s(Qe,2),et=qe[0],nt=qe[1];if(nt>Ie)return!0;var pt=void 0;switch(Ce.prefix.trim()){case"[]":case"[ ]":pt="unchecked";break;case"[x]":pt="checked";break;case"-":case"*":pt="bullet";break;default:pt="ordered"}this.quill.insertText(pe.index," ",F.default.sources.USER),this.quill.history.cutoff();var Ke=new g.default().retain(pe.index-nt).delete(Ie+1).retain(et.length()-2-nt).retain(1,{list:pt});this.quill.updateContents(Ke,F.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(pe.index-Ie,F.default.sources.SILENT)}},"code exit":{key:re.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(pe){var Ce=this.quill.getLine(pe.index),Ie=s(Ce,2),Qe=Ie[0],qe=Ie[1],et=new g.default().retain(pe.index+Qe.length()-qe-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(et,F.default.sources.USER)}},"embed left":le(re.keys.LEFT,!1),"embed left shift":le(re.keys.LEFT,!0),"embed right":le(re.keys.RIGHT,!1),"embed right shift":le(re.keys.RIGHT,!0)}};function le(ie,pe){var Ce,Ie=ie===re.keys.LEFT?"prefix":"suffix";return Ce={key:ie,shiftKey:pe,altKey:null},_(Ce,Ie,/^$/),_(Ce,"handler",function(qe){var et=qe.index;ie===re.keys.RIGHT&&(et+=qe.length+1);var nt=this.quill.getLeaf(et),pt=s(nt,1),Ke=pt[0];return Ke instanceof b.default.Embed?(ie===re.keys.LEFT?pe?this.quill.setSelection(qe.index-1,qe.length+1,F.default.sources.USER):this.quill.setSelection(qe.index-1,F.default.sources.USER):pe?this.quill.setSelection(qe.index,qe.length+1,F.default.sources.USER):this.quill.setSelection(qe.index+qe.length+1,F.default.sources.USER),!1):!0}),Ce}function ne(ie,pe){if(!(ie.index===0||this.quill.getLength()<=1)){var Ce=this.quill.getLine(ie.index),Ie=s(Ce,1),Qe=Ie[0],qe={};if(pe.offset===0){var et=this.quill.getLine(ie.index-1),nt=s(et,1),pt=nt[0];if(pt!=null&&pt.length()>1){var Ke=Qe.formats(),Le=this.quill.getFormat(ie.index-1,1);qe=v.default.attributes.diff(Ke,Le)||{}}}var Ut=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(pe.prefix)?2:1;this.quill.deleteText(ie.index-Ut,Ut,F.default.sources.USER),Object.keys(qe).length>0&&this.quill.formatLine(ie.index-Ut,Ut,qe,F.default.sources.USER),this.quill.focus()}}function te(ie,pe){var Ce=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(pe.suffix)?2:1;if(!(ie.index>=this.quill.getLength()-Ce)){var Ie={},Qe=0,qe=this.quill.getLine(ie.index),et=s(qe,1),nt=et[0];if(pe.offset>=nt.length()-1){var pt=this.quill.getLine(ie.index+1),Ke=s(pt,1),Le=Ke[0];if(Le){var Ut=nt.formats(),ke=this.quill.getFormat(ie.index,1);Ie=v.default.attributes.diff(Ut,ke)||{},Qe=Le.length()}}this.quill.deleteText(ie.index,Ce,F.default.sources.USER),Object.keys(Ie).length>0&&this.quill.formatLine(ie.index+Qe-1,Ce,Ie,F.default.sources.USER)}}function G(ie){var pe=this.quill.getLines(ie),Ce={};if(pe.length>1){var Ie=pe[0].formats(),Qe=pe[pe.length-1].formats();Ce=v.default.attributes.diff(Qe,Ie)||{}}this.quill.deleteText(ie,F.default.sources.USER),Object.keys(Ce).length>0&&this.quill.formatLine(ie.index,1,Ce,F.default.sources.USER),this.quill.setSelection(ie.index,F.default.sources.SILENT),this.quill.focus()}function H(ie,pe){var Ce=this;ie.length>0&&this.quill.scroll.deleteAt(ie.index,ie.length);var Ie=Object.keys(pe.format).reduce(function(Qe,qe){return b.default.query(qe,b.default.Scope.BLOCK)&&!Array.isArray(pe.format[qe])&&(Qe[qe]=pe.format[qe]),Qe},{});this.quill.insertText(ie.index,`
`,Ie,F.default.sources.USER),this.quill.setSelection(ie.index+1,F.default.sources.SILENT),this.quill.focus(),Object.keys(pe.format).forEach(function(Qe){Ie[Qe]==null&&(Array.isArray(pe.format[Qe])||Qe!=="link"&&Ce.quill.format(Qe,pe.format[Qe],F.default.sources.USER))})}function z(ie){return{key:re.keys.TAB,shiftKey:!ie,format:{"code-block":!0},handler:function(Ce){var Ie=b.default.query("code-block"),Qe=Ce.index,qe=Ce.length,et=this.quill.scroll.descendant(Ie,Qe),nt=s(et,2),pt=nt[0],Ke=nt[1];if(pt!=null){var Le=this.quill.getIndex(pt),Ut=pt.newlineIndex(Ke,!0)+1,ke=pt.newlineIndex(Le+Ke+qe),Me=pt.domNode.textContent.slice(Ut,ke).split(`
`);Ke=0,Me.forEach(function(it,ut){ie?(pt.insertAt(Ut+Ke,Ie.TAB),Ke+=Ie.TAB.length,ut===0?Qe+=Ie.TAB.length:qe+=Ie.TAB.length):it.startsWith(Ie.TAB)&&(pt.deleteAt(Ut+Ke,Ie.TAB.length),Ke-=Ie.TAB.length,ut===0?Qe-=Ie.TAB.length:qe-=Ie.TAB.length),Ke+=it.length+1}),this.quill.update(F.default.sources.USER),this.quill.setSelection(Qe,qe,F.default.sources.SILENT)}}}}function oe(ie){return{key:ie[0].toUpperCase(),shortKey:!0,handler:function(Ce,Ie){this.quill.format(ie,!Ie.format[ie],F.default.sources.USER)}}}function ae(ie){if(typeof ie=="string"||typeof ie=="number")return ae({key:ie});if((typeof ie>"u"?"undefined":i(ie))==="object"&&(ie=(0,u.default)(ie,!1)),typeof ie.key=="string")if(re.keys[ie.key.toUpperCase()]!=null)ie.key=re.keys[ie.key.toUpperCase()];else if(ie.key.length===1)ie.key=ie.key.toUpperCase().charCodeAt(0);else return null;return ie.shortKey&&(ie[Y]=ie.shortKey,delete ie.shortKey),ie}n.default=re,n.SHORTKEY=Y},function(t,n,A){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function v(w,b){var B=[],F=!0,N=!1,T=void 0;try{for(var U=w[Symbol.iterator](),k;!(F=(k=U.next()).done)&&(B.push(k.value),!(b&&B.length===b));F=!0);}catch(D){N=!0,T=D}finally{try{!F&&U.return&&U.return()}finally{if(N)throw T}}return B}return function(w,b){if(Array.isArray(w))return w;if(Symbol.iterator in Object(w))return v(w,b);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function v(w,b,B){w===null&&(w=Function.prototype);var F=Object.getOwnPropertyDescriptor(w,b);if(F===void 0){var N=Object.getPrototypeOf(w);return N===null?void 0:v(N,b,B)}else{if("value"in F)return F.value;var T=F.get;return T===void 0?void 0:T.call(B)}},o=function(){function v(w,b){for(var B=0;B<b.length;B++){var F=b[B];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(w,F.key,F)}}return function(w,b,B){return b&&v(w.prototype,b),B&&v(w,B),w}}(),a=A(0),u=h(a),l=A(7),c=h(l);function h(v){return v&&v.__esModule?v:{default:v}}function d(v,w){if(!(v instanceof w))throw new TypeError("Cannot call a class as a function")}function m(v,w){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:v}function g(v,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);v.prototype=Object.create(w&&w.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(v,w):v.__proto__=w)}var y=function(v){g(w,v),o(w,null,[{key:"value",value:function(){}}]);function w(b,B){d(this,w);var F=m(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,b));return F.selection=B,F.textNode=document.createTextNode(w.CONTENTS),F.domNode.appendChild(F.textNode),F._length=0,F}return o(w,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(B,F){if(this._length!==0)return s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"format",this).call(this,B,F);for(var N=this,T=0;N!=null&&N.statics.scope!==u.default.Scope.BLOCK_BLOT;)T+=N.offset(N.parent),N=N.parent;N!=null&&(this._length=w.CONTENTS.length,N.optimize(),N.formatAt(T,w.CONTENTS.length,B,F),this._length=0)}},{key:"index",value:function(B,F){return B===this.textNode?0:s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"index",this).call(this,B,F)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var B=this.textNode,F=this.selection.getNativeRange(),N=void 0,T=void 0,U=void 0;if(F!=null&&F.start.node===B&&F.end.node===B){var k=[B,F.start.offset,F.end.offset];N=k[0],T=k[1],U=k[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==w.CONTENTS){var D=this.textNode.data.split(w.CONTENTS).join("");this.next instanceof c.default?(N=this.next.domNode,this.next.insertAt(0,D),this.textNode.data=w.CONTENTS):(this.textNode.data=D,this.parent.insertBefore(u.default.create(this.textNode),this),this.textNode=document.createTextNode(w.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),T!=null){var _=[T,U].map(function(O){return Math.max(0,Math.min(N.data.length,O-1))}),L=i(_,2);return T=L[0],U=L[1],{startNode:N,startOffset:T,endNode:N,endOffset:U}}}}},{key:"update",value:function(B,F){var N=this;if(B.some(function(U){return U.type==="characterData"&&U.target===N.textNode})){var T=this.restore();T&&(F.range=T)}}},{key:"value",value:function(){return""}}]),w}(u.default.Embed);y.blotName="cursor",y.className="ql-cursor",y.tagName="span",y.CONTENTS="\uFEFF",n.default=y},function(t,n,A){Object.defineProperty(n,"__esModule",{value:!0});var i=A(0),s=u(i),o=A(4),a=u(o);function u(m){return m&&m.__esModule?m:{default:m}}function l(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function c(m,g){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:m}function h(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(m,g):m.__proto__=g)}var d=function(m){h(g,m);function g(){return l(this,g),c(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return g}(s.default.Container);d.allowedChildren=[a.default,o.BlockEmbed,d],n.default=d},function(t,n,A){Object.defineProperty(n,"__esModule",{value:!0}),n.ColorStyle=n.ColorClass=n.ColorAttributor=void 0;var i=function(){function y(v,w){for(var b=0;b<w.length;b++){var B=w[b];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(v,B.key,B)}}return function(v,w,b){return w&&y(v.prototype,w),b&&y(v,b),v}}(),s=function y(v,w,b){v===null&&(v=Function.prototype);var B=Object.getOwnPropertyDescriptor(v,w);if(B===void 0){var F=Object.getPrototypeOf(v);return F===null?void 0:y(F,w,b)}else{if("value"in B)return B.value;var N=B.get;return N===void 0?void 0:N.call(b)}},o=A(0),a=u(o);function u(y){return y&&y.__esModule?y:{default:y}}function l(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function c(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function h(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var d=function(y){h(v,y);function v(){return l(this,v),c(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return i(v,[{key:"value",value:function(b){var B=s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"value",this).call(this,b);return B.startsWith("rgb(")?(B=B.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+B.split(",").map(function(F){return("00"+parseInt(F).toString(16)).slice(-2)}).join("")):B}}]),v}(a.default.Attributor.Style),m=new a.default.Attributor.Class("color","ql-color",{scope:a.default.Scope.INLINE}),g=new d("color","color",{scope:a.default.Scope.INLINE});n.ColorAttributor=d,n.ColorClass=m,n.ColorStyle=g},function(t,n,A){Object.defineProperty(n,"__esModule",{value:!0}),n.sanitize=n.default=void 0;var i=function(){function g(y,v){for(var w=0;w<v.length;w++){var b=v[w];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,b.key,b)}}return function(y,v,w){return v&&g(y.prototype,v),w&&g(y,w),y}}(),s=function g(y,v,w){y===null&&(y=Function.prototype);var b=Object.getOwnPropertyDescriptor(y,v);if(b===void 0){var B=Object.getPrototypeOf(y);return B===null?void 0:g(B,v,w)}else{if("value"in b)return b.value;var F=b.get;return F===void 0?void 0:F.call(w)}},o=A(6),a=u(o);function u(g){return g&&g.__esModule?g:{default:g}}function l(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function c(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function h(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var d=function(g){h(y,g);function y(){return l(this,y),c(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return i(y,[{key:"format",value:function(w,b){if(w!==this.statics.blotName||!b)return s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"format",this).call(this,w,b);b=this.constructor.sanitize(b),this.domNode.setAttribute("href",b)}}],[{key:"create",value:function(w){var b=s(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,w);return w=this.sanitize(w),b.setAttribute("href",w),b.setAttribute("rel","noopener noreferrer"),b.setAttribute("target","_blank"),b}},{key:"formats",value:function(w){return w.getAttribute("href")}},{key:"sanitize",value:function(w){return m(w,this.PROTOCOL_WHITELIST)?w:this.SANITIZED_URL}}]),y}(a.default);d.blotName="link",d.tagName="A",d.SANITIZED_URL="about:blank",d.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function m(g,y){var v=document.createElement("a");v.href=g;var w=v.href.slice(0,v.href.indexOf(":"));return y.indexOf(w)>-1}n.default=d,n.sanitize=m},function(t,n,A){Object.defineProperty(n,"__esModule",{value:!0});var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},s=function(){function y(v,w){for(var b=0;b<w.length;b++){var B=w[b];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(v,B.key,B)}}return function(v,w,b){return w&&y(v.prototype,w),b&&y(v,b),v}}(),o=A(23),a=c(o),u=A(107),l=c(u);function c(y){return y&&y.__esModule?y:{default:y}}function h(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}var d=0;function m(y,v){y.setAttribute(v,y.getAttribute(v)!=="true")}var g=function(){function y(v){var w=this;h(this,y),this.select=v,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){w.togglePicker()}),this.label.addEventListener("keydown",function(b){switch(b.keyCode){case a.default.keys.ENTER:w.togglePicker();break;case a.default.keys.ESCAPE:w.escape(),b.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return s(y,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),m(this.label,"aria-expanded"),m(this.options,"aria-hidden")}},{key:"buildItem",value:function(w){var b=this,B=document.createElement("span");return B.tabIndex="0",B.setAttribute("role","button"),B.classList.add("ql-picker-item"),w.hasAttribute("value")&&B.setAttribute("data-value",w.getAttribute("value")),w.textContent&&B.setAttribute("data-label",w.textContent),B.addEventListener("click",function(){b.selectItem(B,!0)}),B.addEventListener("keydown",function(F){switch(F.keyCode){case a.default.keys.ENTER:b.selectItem(B,!0),F.preventDefault();break;case a.default.keys.ESCAPE:b.escape(),F.preventDefault();break}}),B}},{key:"buildLabel",value:function(){var w=document.createElement("span");return w.classList.add("ql-picker-label"),w.innerHTML=l.default,w.tabIndex="0",w.setAttribute("role","button"),w.setAttribute("aria-expanded","false"),this.container.appendChild(w),w}},{key:"buildOptions",value:function(){var w=this,b=document.createElement("span");b.classList.add("ql-picker-options"),b.setAttribute("aria-hidden","true"),b.tabIndex="-1",b.id="ql-picker-options-"+d,d+=1,this.label.setAttribute("aria-controls",b.id),this.options=b,[].slice.call(this.select.options).forEach(function(B){var F=w.buildItem(B);b.appendChild(F),B.selected===!0&&w.selectItem(F)}),this.container.appendChild(b)}},{key:"buildPicker",value:function(){var w=this;[].slice.call(this.select.attributes).forEach(function(b){w.container.setAttribute(b.name,b.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var w=this;this.close(),setTimeout(function(){return w.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(w){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,B=this.container.querySelector(".ql-selected");if(w!==B&&(B!=null&&B.classList.remove("ql-selected"),w!=null&&(w.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(w.parentNode.children,w),w.hasAttribute("data-value")?this.label.setAttribute("data-value",w.getAttribute("data-value")):this.label.removeAttribute("data-value"),w.hasAttribute("data-label")?this.label.setAttribute("data-label",w.getAttribute("data-label")):this.label.removeAttribute("data-label"),b))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":i(Event))==="object"){var F=document.createEvent("Event");F.initEvent("change",!0,!0),this.select.dispatchEvent(F)}this.close()}}},{key:"update",value:function(){var w=void 0;if(this.select.selectedIndex>-1){var b=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];w=this.select.options[this.select.selectedIndex],this.selectItem(b)}else this.selectItem(null);var B=w!=null&&w!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",B)}}]),y}();n.default=g},function(t,n,A){Object.defineProperty(n,"__esModule",{value:!0});var i=A(0),s=$(i),o=A(5),a=$(o),u=A(4),l=$(u),c=A(16),h=$(c),d=A(25),m=$(d),g=A(24),y=$(g),v=A(35),w=$(v),b=A(6),B=$(b),F=A(22),N=$(F),T=A(7),U=$(T),k=A(55),D=$(k),_=A(42),L=$(_),O=A(23),V=$(O);function $(Y){return Y&&Y.__esModule?Y:{default:Y}}a.default.register({"blots/block":l.default,"blots/block/embed":u.BlockEmbed,"blots/break":h.default,"blots/container":m.default,"blots/cursor":y.default,"blots/embed":w.default,"blots/inline":B.default,"blots/scroll":N.default,"blots/text":U.default,"modules/clipboard":D.default,"modules/history":L.default,"modules/keyboard":V.default}),s.default.register(l.default,h.default,y.default,B.default,N.default,U.default),n.default=a.default},function(t,n,A){Object.defineProperty(n,"__esModule",{value:!0});var i=A(1),s=function(){function o(a){this.domNode=a,this.domNode[i.DATA_KEY]={blot:this}}return Object.defineProperty(o.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),o.create=function(a){if(this.tagName==null)throw new i.ParchmentError("Blot definition missing tagName");var u;return Array.isArray(this.tagName)?(typeof a=="string"&&(a=a.toUpperCase(),parseInt(a).toString()===a&&(a=parseInt(a))),typeof a=="number"?u=document.createElement(this.tagName[a-1]):this.tagName.indexOf(a)>-1?u=document.createElement(a):u=document.createElement(this.tagName[0])):u=document.createElement(this.tagName),this.className&&u.classList.add(this.className),u},o.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},o.prototype.clone=function(){var a=this.domNode.cloneNode(!1);return i.create(a)},o.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[i.DATA_KEY]},o.prototype.deleteAt=function(a,u){var l=this.isolate(a,u);l.remove()},o.prototype.formatAt=function(a,u,l,c){var h=this.isolate(a,u);if(i.query(l,i.Scope.BLOT)!=null&&c)h.wrap(l,c);else if(i.query(l,i.Scope.ATTRIBUTE)!=null){var d=i.create(this.statics.scope);h.wrap(d),d.format(l,c)}},o.prototype.insertAt=function(a,u,l){var c=l==null?i.create("text",u):i.create(u,l),h=this.split(a);this.parent.insertBefore(c,h)},o.prototype.insertInto=function(a,u){u===void 0&&(u=null),this.parent!=null&&this.parent.children.remove(this);var l=null;a.children.insertBefore(this,u),u!=null&&(l=u.domNode),(this.domNode.parentNode!=a.domNode||this.domNode.nextSibling!=l)&&a.domNode.insertBefore(this.domNode,l),this.parent=a,this.attach()},o.prototype.isolate=function(a,u){var l=this.split(a);return l.split(u),l},o.prototype.length=function(){return 1},o.prototype.offset=function(a){return a===void 0&&(a=this.parent),this.parent==null||this==a?0:this.parent.children.offset(this)+this.parent.offset(a)},o.prototype.optimize=function(a){this.domNode[i.DATA_KEY]!=null&&delete this.domNode[i.DATA_KEY].mutations},o.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},o.prototype.replace=function(a){a.parent!=null&&(a.parent.insertBefore(this,a.next),a.remove())},o.prototype.replaceWith=function(a,u){var l=typeof a=="string"?i.create(a,u):a;return l.replace(this),l},o.prototype.split=function(a,u){return a===0?this:this.next},o.prototype.update=function(a,u){},o.prototype.wrap=function(a,u){var l=typeof a=="string"?i.create(a,u):a;return this.parent!=null&&this.parent.insertBefore(l,this.next),l.appendChild(this),l},o.blotName="abstract",o}();n.default=s},function(t,n,A){Object.defineProperty(n,"__esModule",{value:!0});var i=A(12),s=A(32),o=A(33),a=A(1),u=function(){function l(c){this.attributes={},this.domNode=c,this.build()}return l.prototype.attribute=function(c,h){h?c.add(this.domNode,h)&&(c.value(this.domNode)!=null?this.attributes[c.attrName]=c:delete this.attributes[c.attrName]):(c.remove(this.domNode),delete this.attributes[c.attrName])},l.prototype.build=function(){var c=this;this.attributes={};var h=i.default.keys(this.domNode),d=s.default.keys(this.domNode),m=o.default.keys(this.domNode);h.concat(d).concat(m).forEach(function(g){var y=a.query(g,a.Scope.ATTRIBUTE);y instanceof i.default&&(c.attributes[y.attrName]=y)})},l.prototype.copy=function(c){var h=this;Object.keys(this.attributes).forEach(function(d){var m=h.attributes[d].value(h.domNode);c.format(d,m)})},l.prototype.move=function(c){var h=this;this.copy(c),Object.keys(this.attributes).forEach(function(d){h.attributes[d].remove(h.domNode)}),this.attributes={}},l.prototype.values=function(){var c=this;return Object.keys(this.attributes).reduce(function(h,d){return h[d]=c.attributes[d].value(c.domNode),h},{})},l}();n.default=u},function(t,n,A){var i=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,c){l.__proto__=c}||function(l,c){for(var h in c)c.hasOwnProperty(h)&&(l[h]=c[h])};return function(l,c){u(l,c);function h(){this.constructor=l}l.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=A(12);function o(u,l){var c=u.getAttribute("class")||"";return c.split(/\s+/).filter(function(h){return h.indexOf(l+"-")===0})}var a=function(u){i(l,u);function l(){return u!==null&&u.apply(this,arguments)||this}return l.keys=function(c){return(c.getAttribute("class")||"").split(/\s+/).map(function(h){return h.split("-").slice(0,-1).join("-")})},l.prototype.add=function(c,h){return this.canAdd(c,h)?(this.remove(c),c.classList.add(this.keyName+"-"+h),!0):!1},l.prototype.remove=function(c){var h=o(c,this.keyName);h.forEach(function(d){c.classList.remove(d)}),c.classList.length===0&&c.removeAttribute("class")},l.prototype.value=function(c){var h=o(c,this.keyName)[0]||"",d=h.slice(this.keyName.length+1);return this.canAdd(c,d)?d:""},l}(s.default);n.default=a},function(t,n,A){var i=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,c){l.__proto__=c}||function(l,c){for(var h in c)c.hasOwnProperty(h)&&(l[h]=c[h])};return function(l,c){u(l,c);function h(){this.constructor=l}l.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=A(12);function o(u){var l=u.split("-"),c=l.slice(1).map(function(h){return h[0].toUpperCase()+h.slice(1)}).join("");return l[0]+c}var a=function(u){i(l,u);function l(){return u!==null&&u.apply(this,arguments)||this}return l.keys=function(c){return(c.getAttribute("style")||"").split(";").map(function(h){var d=h.split(":");return d[0].trim()})},l.prototype.add=function(c,h){return this.canAdd(c,h)?(c.style[o(this.keyName)]=h,!0):!1},l.prototype.remove=function(c){c.style[o(this.keyName)]="",c.getAttribute("style")||c.removeAttribute("style")},l.prototype.value=function(c){var h=c.style[o(this.keyName)];return this.canAdd(c,h)?h:""},l}(s.default);n.default=a},function(t,n,A){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function a(u,l){for(var c=0;c<l.length;c++){var h=l[c];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(u,h.key,h)}}return function(u,l,c){return l&&a(u.prototype,l),c&&a(u,c),u}}();function s(a,u){if(!(a instanceof u))throw new TypeError("Cannot call a class as a function")}var o=function(){function a(u,l){s(this,a),this.quill=u,this.options=l,this.modules={}}return i(a,[{key:"init",value:function(){var l=this;Object.keys(this.options.modules).forEach(function(c){l.modules[c]==null&&l.addModule(c)})}},{key:"addModule",value:function(l){var c=this.quill.constructor.import("modules/"+l);return this.modules[l]=new c(this.quill,this.options.modules[l]||{}),this.modules[l]}}]),a}();o.DEFAULTS={modules:{}},o.themes={default:o},n.default=o},function(t,n,A){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function v(w,b){for(var B=0;B<b.length;B++){var F=b[B];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(w,F.key,F)}}return function(w,b,B){return b&&v(w.prototype,b),B&&v(w,B),w}}(),s=function v(w,b,B){w===null&&(w=Function.prototype);var F=Object.getOwnPropertyDescriptor(w,b);if(F===void 0){var N=Object.getPrototypeOf(w);return N===null?void 0:v(N,b,B)}else{if("value"in F)return F.value;var T=F.get;return T===void 0?void 0:T.call(B)}},o=A(0),a=c(o),u=A(7),l=c(u);function c(v){return v&&v.__esModule?v:{default:v}}function h(v,w){if(!(v instanceof w))throw new TypeError("Cannot call a class as a function")}function d(v,w){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:v}function m(v,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);v.prototype=Object.create(w&&w.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(v,w):v.__proto__=w)}var g="\uFEFF",y=function(v){m(w,v);function w(b){h(this,w);var B=d(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,b));return B.contentNode=document.createElement("span"),B.contentNode.setAttribute("contenteditable",!1),[].slice.call(B.domNode.childNodes).forEach(function(F){B.contentNode.appendChild(F)}),B.leftGuard=document.createTextNode(g),B.rightGuard=document.createTextNode(g),B.domNode.appendChild(B.leftGuard),B.domNode.appendChild(B.contentNode),B.domNode.appendChild(B.rightGuard),B}return i(w,[{key:"index",value:function(B,F){return B===this.leftGuard?0:B===this.rightGuard?1:s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"index",this).call(this,B,F)}},{key:"restore",value:function(B){var F=void 0,N=void 0,T=B.data.split(g).join("");if(B===this.leftGuard)if(this.prev instanceof l.default){var U=this.prev.length();this.prev.insertAt(U,T),F={startNode:this.prev.domNode,startOffset:U+T.length}}else N=document.createTextNode(T),this.parent.insertBefore(a.default.create(N),this),F={startNode:N,startOffset:T.length};else B===this.rightGuard&&(this.next instanceof l.default?(this.next.insertAt(0,T),F={startNode:this.next.domNode,startOffset:T.length}):(N=document.createTextNode(T),this.parent.insertBefore(a.default.create(N),this.next),F={startNode:N,startOffset:T.length}));return B.data=g,F}},{key:"update",value:function(B,F){var N=this;B.forEach(function(T){if(T.type==="characterData"&&(T.target===N.leftGuard||T.target===N.rightGuard)){var U=N.restore(T.target);U&&(F.range=U)}})}}]),w}(a.default.Embed);n.default=y},function(t,n,A){Object.defineProperty(n,"__esModule",{value:!0}),n.AlignStyle=n.AlignClass=n.AlignAttribute=void 0;var i=A(0),s=o(i);function o(h){return h&&h.__esModule?h:{default:h}}var a={scope:s.default.Scope.BLOCK,whitelist:["right","center","justify"]},u=new s.default.Attributor.Attribute("align","align",a),l=new s.default.Attributor.Class("align","ql-align",a),c=new s.default.Attributor.Style("align","text-align",a);n.AlignAttribute=u,n.AlignClass=l,n.AlignStyle=c},function(t,n,A){Object.defineProperty(n,"__esModule",{value:!0}),n.BackgroundStyle=n.BackgroundClass=void 0;var i=A(0),s=a(i),o=A(26);function a(c){return c&&c.__esModule?c:{default:c}}var u=new s.default.Attributor.Class("background","ql-bg",{scope:s.default.Scope.INLINE}),l=new o.ColorAttributor("background","background-color",{scope:s.default.Scope.INLINE});n.BackgroundClass=u,n.BackgroundStyle=l},function(t,n,A){Object.defineProperty(n,"__esModule",{value:!0}),n.DirectionStyle=n.DirectionClass=n.DirectionAttribute=void 0;var i=A(0),s=o(i);function o(h){return h&&h.__esModule?h:{default:h}}var a={scope:s.default.Scope.BLOCK,whitelist:["rtl"]},u=new s.default.Attributor.Attribute("direction","dir",a),l=new s.default.Attributor.Class("direction","ql-direction",a),c=new s.default.Attributor.Style("direction","direction",a);n.DirectionAttribute=u,n.DirectionClass=l,n.DirectionStyle=c},function(t,n,A){Object.defineProperty(n,"__esModule",{value:!0}),n.FontClass=n.FontStyle=void 0;var i=function(){function v(w,b){for(var B=0;B<b.length;B++){var F=b[B];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(w,F.key,F)}}return function(w,b,B){return b&&v(w.prototype,b),B&&v(w,B),w}}(),s=function v(w,b,B){w===null&&(w=Function.prototype);var F=Object.getOwnPropertyDescriptor(w,b);if(F===void 0){var N=Object.getPrototypeOf(w);return N===null?void 0:v(N,b,B)}else{if("value"in F)return F.value;var T=F.get;return T===void 0?void 0:T.call(B)}},o=A(0),a=u(o);function u(v){return v&&v.__esModule?v:{default:v}}function l(v,w){if(!(v instanceof w))throw new TypeError("Cannot call a class as a function")}function c(v,w){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:v}function h(v,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);v.prototype=Object.create(w&&w.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(v,w):v.__proto__=w)}var d={scope:a.default.Scope.INLINE,whitelist:["serif","monospace"]},m=new a.default.Attributor.Class("font","ql-font",d),g=function(v){h(w,v);function w(){return l(this,w),c(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return i(w,[{key:"value",value:function(B){return s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"value",this).call(this,B).replace(/["']/g,"")}}]),w}(a.default.Attributor.Style),y=new g("font","font-family",d);n.FontStyle=y,n.FontClass=m},function(t,n,A){Object.defineProperty(n,"__esModule",{value:!0}),n.SizeStyle=n.SizeClass=void 0;var i=A(0),s=o(i);function o(l){return l&&l.__esModule?l:{default:l}}var a=new s.default.Attributor.Class("size","ql-size",{scope:s.default.Scope.INLINE,whitelist:["small","large","huge"]}),u=new s.default.Attributor.Style("size","font-size",{scope:s.default.Scope.INLINE,whitelist:["10px","18px","32px"]});n.SizeClass=a,n.SizeStyle=u},function(t,n,A){t.exports={align:{"":A(76),center:A(77),right:A(78),justify:A(79)},background:A(80),blockquote:A(81),bold:A(82),clean:A(83),code:A(58),"code-block":A(58),color:A(84),direction:{"":A(85),rtl:A(86)},float:{center:A(87),full:A(88),left:A(89),right:A(90)},formula:A(91),header:{1:A(92),2:A(93)},italic:A(94),image:A(95),indent:{"+1":A(96),"-1":A(97)},link:A(98),list:{ordered:A(99),bullet:A(100),check:A(101)},script:{sub:A(102),super:A(103)},strike:A(104),underline:A(105),video:A(106)}},function(t,n,A){Object.defineProperty(n,"__esModule",{value:!0}),n.getLastChangeIndex=n.default=void 0;var i=function(){function b(B,F){for(var N=0;N<F.length;N++){var T=F[N];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(B,T.key,T)}}return function(B,F,N){return F&&b(B.prototype,F),N&&b(B,N),B}}(),s=A(0),o=h(s),a=A(5),u=h(a),l=A(9),c=h(l);function h(b){return b&&b.__esModule?b:{default:b}}function d(b,B){if(!(b instanceof B))throw new TypeError("Cannot call a class as a function")}function m(b,B){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B&&(typeof B=="object"||typeof B=="function")?B:b}function g(b,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof B);b.prototype=Object.create(B&&B.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),B&&(Object.setPrototypeOf?Object.setPrototypeOf(b,B):b.__proto__=B)}var y=function(b){g(B,b);function B(F,N){d(this,B);var T=m(this,(B.__proto__||Object.getPrototypeOf(B)).call(this,F,N));return T.lastRecorded=0,T.ignoreChange=!1,T.clear(),T.quill.on(u.default.events.EDITOR_CHANGE,function(U,k,D,_){U!==u.default.events.TEXT_CHANGE||T.ignoreChange||(!T.options.userOnly||_===u.default.sources.USER?T.record(k,D):T.transform(k))}),T.quill.keyboard.addBinding({key:"Z",shortKey:!0},T.undo.bind(T)),T.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},T.redo.bind(T)),/Win/i.test(navigator.platform)&&T.quill.keyboard.addBinding({key:"Y",shortKey:!0},T.redo.bind(T)),T}return i(B,[{key:"change",value:function(N,T){if(this.stack[N].length!==0){var U=this.stack[N].pop();this.stack[T].push(U),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(U[N],u.default.sources.USER),this.ignoreChange=!1;var k=w(U[N]);this.quill.setSelection(k)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(N,T){if(N.ops.length!==0){this.stack.redo=[];var U=this.quill.getContents().diff(T),k=Date.now();if(this.lastRecorded+this.options.delay>k&&this.stack.undo.length>0){var D=this.stack.undo.pop();U=U.compose(D.undo),N=D.redo.compose(N)}else this.lastRecorded=k;this.stack.undo.push({redo:N,undo:U}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(N){this.stack.undo.forEach(function(T){T.undo=N.transform(T.undo,!0),T.redo=N.transform(T.redo,!0)}),this.stack.redo.forEach(function(T){T.undo=N.transform(T.undo,!0),T.redo=N.transform(T.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),B}(c.default);y.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function v(b){var B=b.ops[b.ops.length-1];return B==null?!1:B.insert!=null?typeof B.insert=="string"&&B.insert.endsWith(`
`):B.attributes!=null?Object.keys(B.attributes).some(function(F){return o.default.query(F,o.default.Scope.BLOCK)!=null}):!1}function w(b){var B=b.reduce(function(N,T){return N+=T.delete||0,N},0),F=b.length()-B;return v(b)&&(F-=1),F}n.default=y,n.getLastChangeIndex=w},function(t,n,A){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BaseTooltip=void 0;var i=function(){function H(z,oe){for(var ae=0;ae<oe.length;ae++){var ie=oe[ae];ie.enumerable=ie.enumerable||!1,ie.configurable=!0,"value"in ie&&(ie.writable=!0),Object.defineProperty(z,ie.key,ie)}}return function(z,oe,ae){return oe&&H(z.prototype,oe),ae&&H(z,ae),z}}(),s=function H(z,oe,ae){z===null&&(z=Function.prototype);var ie=Object.getOwnPropertyDescriptor(z,oe);if(ie===void 0){var pe=Object.getPrototypeOf(z);return pe===null?void 0:H(pe,oe,ae)}else{if("value"in ie)return ie.value;var Ce=ie.get;return Ce===void 0?void 0:Ce.call(ae)}},o=A(3),a=k(o),u=A(2),l=k(u),c=A(8),h=k(c),d=A(23),m=k(d),g=A(34),y=k(g),v=A(59),w=k(v),b=A(60),B=k(b),F=A(28),N=k(F),T=A(61),U=k(T);function k(H){return H&&H.__esModule?H:{default:H}}function D(H,z){if(!(H instanceof z))throw new TypeError("Cannot call a class as a function")}function _(H,z){if(!H)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z&&(typeof z=="object"||typeof z=="function")?z:H}function L(H,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof z);H.prototype=Object.create(z&&z.prototype,{constructor:{value:H,enumerable:!1,writable:!0,configurable:!0}}),z&&(Object.setPrototypeOf?Object.setPrototypeOf(H,z):H.__proto__=z)}var O=[!1,"center","right","justify"],V=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],$=[!1,"serif","monospace"],Y=["1","2","3",!1],re=["small",!1,"large","huge"],le=function(H){L(z,H);function z(oe,ae){D(this,z);var ie=_(this,(z.__proto__||Object.getPrototypeOf(z)).call(this,oe,ae)),pe=function Ce(Ie){if(!document.body.contains(oe.root))return document.body.removeEventListener("click",Ce);ie.tooltip!=null&&!ie.tooltip.root.contains(Ie.target)&&document.activeElement!==ie.tooltip.textbox&&!ie.quill.hasFocus()&&ie.tooltip.hide(),ie.pickers!=null&&ie.pickers.forEach(function(Qe){Qe.container.contains(Ie.target)||Qe.close()})};return oe.emitter.listenDOM("click",document.body,pe),ie}return i(z,[{key:"addModule",value:function(ae){var ie=s(z.prototype.__proto__||Object.getPrototypeOf(z.prototype),"addModule",this).call(this,ae);return ae==="toolbar"&&this.extendToolbar(ie),ie}},{key:"buildButtons",value:function(ae,ie){ae.forEach(function(pe){var Ce=pe.getAttribute("class")||"";Ce.split(/\s+/).forEach(function(Ie){if(Ie.startsWith("ql-")&&(Ie=Ie.slice(3),ie[Ie]!=null))if(Ie==="direction")pe.innerHTML=ie[Ie][""]+ie[Ie].rtl;else if(typeof ie[Ie]=="string")pe.innerHTML=ie[Ie];else{var Qe=pe.value||"";Qe!=null&&ie[Ie][Qe]&&(pe.innerHTML=ie[Ie][Qe])}})})}},{key:"buildPickers",value:function(ae,ie){var pe=this;this.pickers=ae.map(function(Ie){if(Ie.classList.contains("ql-align"))return Ie.querySelector("option")==null&&G(Ie,O),new B.default(Ie,ie.align);if(Ie.classList.contains("ql-background")||Ie.classList.contains("ql-color")){var Qe=Ie.classList.contains("ql-background")?"background":"color";return Ie.querySelector("option")==null&&G(Ie,V,Qe==="background"?"#ffffff":"#000000"),new w.default(Ie,ie[Qe])}else return Ie.querySelector("option")==null&&(Ie.classList.contains("ql-font")?G(Ie,$):Ie.classList.contains("ql-header")?G(Ie,Y):Ie.classList.contains("ql-size")&&G(Ie,re)),new N.default(Ie)});var Ce=function(){pe.pickers.forEach(function(Qe){Qe.update()})};this.quill.on(h.default.events.EDITOR_CHANGE,Ce)}}]),z}(y.default);le.DEFAULTS=(0,a.default)(!0,{},y.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var z=this,oe=this.container.querySelector("input.ql-image[type=file]");oe==null&&(oe=document.createElement("input"),oe.setAttribute("type","file"),oe.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),oe.classList.add("ql-image"),oe.addEventListener("change",function(){if(oe.files!=null&&oe.files[0]!=null){var ae=new FileReader;ae.onload=function(ie){var pe=z.quill.getSelection(!0);z.quill.updateContents(new l.default().retain(pe.index).delete(pe.length).insert({image:ie.target.result}),h.default.sources.USER),z.quill.setSelection(pe.index+1,h.default.sources.SILENT),oe.value=""},ae.readAsDataURL(oe.files[0])}}),this.container.appendChild(oe)),oe.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var ne=function(H){L(z,H);function z(oe,ae){D(this,z);var ie=_(this,(z.__proto__||Object.getPrototypeOf(z)).call(this,oe,ae));return ie.textbox=ie.root.querySelector('input[type="text"]'),ie.listen(),ie}return i(z,[{key:"listen",value:function(){var ae=this;this.textbox.addEventListener("keydown",function(ie){m.default.match(ie,"enter")?(ae.save(),ie.preventDefault()):m.default.match(ie,"escape")&&(ae.cancel(),ie.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),ie!=null?this.textbox.value=ie:ae!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+ae)||""),this.root.setAttribute("data-mode",ae)}},{key:"restoreFocus",value:function(){var ae=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=ae}},{key:"save",value:function(){var ae=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var ie=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",ae,h.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",ae,h.default.sources.USER)),this.quill.root.scrollTop=ie;break}case"video":ae=te(ae);case"formula":{if(!ae)break;var pe=this.quill.getSelection(!0);if(pe!=null){var Ce=pe.index+pe.length;this.quill.insertEmbed(Ce,this.root.getAttribute("data-mode"),ae,h.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(Ce+1," ",h.default.sources.USER),this.quill.setSelection(Ce+2,h.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),z}(U.default);function te(H){var z=H.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||H.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return z?(z[1]||"https")+"://www.youtube.com/embed/"+z[2]+"?showinfo=0":(z=H.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(z[1]||"https")+"://player.vimeo.com/video/"+z[2]+"/":H}function G(H,z){var oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;z.forEach(function(ae){var ie=document.createElement("option");ae===oe?ie.setAttribute("selected","selected"):ie.setAttribute("value",ae),H.appendChild(ie)})}n.BaseTooltip=ne,n.default=le},function(t,n,A){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function s(){this.head=this.tail=null,this.length=0}return s.prototype.append=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];this.insertBefore(o[0],null),o.length>1&&this.append.apply(this,o.slice(1))},s.prototype.contains=function(o){for(var a,u=this.iterator();a=u();)if(a===o)return!0;return!1},s.prototype.insertBefore=function(o,a){o&&(o.next=a,a!=null?(o.prev=a.prev,a.prev!=null&&(a.prev.next=o),a.prev=o,a===this.head&&(this.head=o)):this.tail!=null?(this.tail.next=o,o.prev=this.tail,this.tail=o):(o.prev=null,this.head=this.tail=o),this.length+=1)},s.prototype.offset=function(o){for(var a=0,u=this.head;u!=null;){if(u===o)return a;a+=u.length(),u=u.next}return-1},s.prototype.remove=function(o){this.contains(o)&&(o.prev!=null&&(o.prev.next=o.next),o.next!=null&&(o.next.prev=o.prev),o===this.head&&(this.head=o.next),o===this.tail&&(this.tail=o.prev),this.length-=1)},s.prototype.iterator=function(o){return o===void 0&&(o=this.head),function(){var a=o;return o!=null&&(o=o.next),a}},s.prototype.find=function(o,a){a===void 0&&(a=!1);for(var u,l=this.iterator();u=l();){var c=u.length();if(o<c||a&&o===c&&(u.next==null||u.next.length()!==0))return[u,o];o-=c}return[null,0]},s.prototype.forEach=function(o){for(var a,u=this.iterator();a=u();)o(a)},s.prototype.forEachAt=function(o,a,u){if(!(a<=0))for(var l=this.find(o),c=l[0],h=l[1],d,m=o-h,g=this.iterator(c);(d=g())&&m<o+a;){var y=d.length();o>m?u(d,o-m,Math.min(a,m+y-o)):u(d,0,Math.min(y,o+a-m)),m+=y}},s.prototype.map=function(o){return this.reduce(function(a,u){return a.push(o(u)),a},[])},s.prototype.reduce=function(o,a){for(var u,l=this.iterator();u=l();)a=o(a,u);return a},s}();n.default=i},function(t,n,A){var i=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var m in d)d.hasOwnProperty(m)&&(h[m]=d[m])};return function(h,d){c(h,d);function m(){this.constructor=h}h.prototype=d===null?Object.create(d):(m.prototype=d.prototype,new m)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=A(17),o=A(1),a={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},u=100,l=function(c){i(h,c);function h(d){var m=c.call(this,d)||this;return m.scroll=m,m.observer=new MutationObserver(function(g){m.update(g)}),m.observer.observe(m.domNode,a),m.attach(),m}return h.prototype.detach=function(){c.prototype.detach.call(this),this.observer.disconnect()},h.prototype.deleteAt=function(d,m){this.update(),d===0&&m===this.length()?this.children.forEach(function(g){g.remove()}):c.prototype.deleteAt.call(this,d,m)},h.prototype.formatAt=function(d,m,g,y){this.update(),c.prototype.formatAt.call(this,d,m,g,y)},h.prototype.insertAt=function(d,m,g){this.update(),c.prototype.insertAt.call(this,d,m,g)},h.prototype.optimize=function(d,m){var g=this;d===void 0&&(d=[]),m===void 0&&(m={}),c.prototype.optimize.call(this,m);for(var y=[].slice.call(this.observer.takeRecords());y.length>0;)d.push(y.pop());for(var v=function(F,N){N===void 0&&(N=!0),!(F==null||F===g)&&F.domNode.parentNode!=null&&(F.domNode[o.DATA_KEY].mutations==null&&(F.domNode[o.DATA_KEY].mutations=[]),N&&v(F.parent))},w=function(F){F.domNode[o.DATA_KEY]==null||F.domNode[o.DATA_KEY].mutations==null||(F instanceof s.default&&F.children.forEach(w),F.optimize(m))},b=d,B=0;b.length>0;B+=1){if(B>=u)throw new Error("[Parchment] Maximum optimize iterations reached");for(b.forEach(function(F){var N=o.find(F.target,!0);N!=null&&(N.domNode===F.target&&(F.type==="childList"?(v(o.find(F.previousSibling,!1)),[].forEach.call(F.addedNodes,function(T){var U=o.find(T,!1);v(U,!1),U instanceof s.default&&U.children.forEach(function(k){v(k,!1)})})):F.type==="attributes"&&v(N.prev)),v(N))}),this.children.forEach(w),b=[].slice.call(this.observer.takeRecords()),y=b.slice();y.length>0;)d.push(y.pop())}},h.prototype.update=function(d,m){var g=this;m===void 0&&(m={}),d=d||this.observer.takeRecords(),d.map(function(y){var v=o.find(y.target,!0);return v==null?null:v.domNode[o.DATA_KEY].mutations==null?(v.domNode[o.DATA_KEY].mutations=[y],v):(v.domNode[o.DATA_KEY].mutations.push(y),null)}).forEach(function(y){y==null||y===g||y.domNode[o.DATA_KEY]==null||y.update(y.domNode[o.DATA_KEY].mutations||[],m)}),this.domNode[o.DATA_KEY].mutations!=null&&c.prototype.update.call(this,this.domNode[o.DATA_KEY].mutations,m),this.optimize(d,m)},h.blotName="scroll",h.defaultChild="block",h.scope=o.Scope.BLOCK_BLOT,h.tagName="DIV",h}(s.default);n.default=l},function(t,n,A){var i=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var d in h)h.hasOwnProperty(d)&&(c[d]=h[d])};return function(c,h){l(c,h);function d(){this.constructor=c}c.prototype=h===null?Object.create(h):(d.prototype=h.prototype,new d)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=A(18),o=A(1);function a(l,c){if(Object.keys(l).length!==Object.keys(c).length)return!1;for(var h in l)if(l[h]!==c[h])return!1;return!0}var u=function(l){i(c,l);function c(){return l!==null&&l.apply(this,arguments)||this}return c.formats=function(h){if(h.tagName!==c.tagName)return l.formats.call(this,h)},c.prototype.format=function(h,d){var m=this;h===this.statics.blotName&&!d?(this.children.forEach(function(g){g instanceof s.default||(g=g.wrap(c.blotName,!0)),m.attributes.copy(g)}),this.unwrap()):l.prototype.format.call(this,h,d)},c.prototype.formatAt=function(h,d,m,g){if(this.formats()[m]!=null||o.query(m,o.Scope.ATTRIBUTE)){var y=this.isolate(h,d);y.format(m,g)}else l.prototype.formatAt.call(this,h,d,m,g)},c.prototype.optimize=function(h){l.prototype.optimize.call(this,h);var d=this.formats();if(Object.keys(d).length===0)return this.unwrap();var m=this.next;m instanceof c&&m.prev===this&&a(d,m.formats())&&(m.moveChildren(this),m.remove())},c.blotName="inline",c.scope=o.Scope.INLINE_BLOT,c.tagName="SPAN",c}(s.default);n.default=u},function(t,n,A){var i=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,c){l.__proto__=c}||function(l,c){for(var h in c)c.hasOwnProperty(h)&&(l[h]=c[h])};return function(l,c){u(l,c);function h(){this.constructor=l}l.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=A(18),o=A(1),a=function(u){i(l,u);function l(){return u!==null&&u.apply(this,arguments)||this}return l.formats=function(c){var h=o.query(l.blotName).tagName;if(c.tagName!==h)return u.formats.call(this,c)},l.prototype.format=function(c,h){o.query(c,o.Scope.BLOCK)!=null&&(c===this.statics.blotName&&!h?this.replaceWith(l.blotName):u.prototype.format.call(this,c,h))},l.prototype.formatAt=function(c,h,d,m){o.query(d,o.Scope.BLOCK)!=null?this.format(d,m):u.prototype.formatAt.call(this,c,h,d,m)},l.prototype.insertAt=function(c,h,d){if(d==null||o.query(h,o.Scope.INLINE)!=null)u.prototype.insertAt.call(this,c,h,d);else{var m=this.split(c),g=o.create(h,d);m.parent.insertBefore(g,m)}},l.prototype.update=function(c,h){navigator.userAgent.match(/Trident/)?this.build():u.prototype.update.call(this,c,h)},l.blotName="block",l.scope=o.Scope.BLOCK_BLOT,l.tagName="P",l}(s.default);n.default=a},function(t,n,A){var i=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,l){u.__proto__=l}||function(u,l){for(var c in l)l.hasOwnProperty(c)&&(u[c]=l[c])};return function(u,l){a(u,l);function c(){this.constructor=u}u.prototype=l===null?Object.create(l):(c.prototype=l.prototype,new c)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=A(19),o=function(a){i(u,a);function u(){return a!==null&&a.apply(this,arguments)||this}return u.formats=function(l){},u.prototype.format=function(l,c){a.prototype.formatAt.call(this,0,this.length(),l,c)},u.prototype.formatAt=function(l,c,h,d){l===0&&c===this.length()?this.format(h,d):a.prototype.formatAt.call(this,l,c,h,d)},u.prototype.formats=function(){return this.statics.formats(this.domNode)},u}(s.default);n.default=o},function(t,n,A){var i=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,c){l.__proto__=c}||function(l,c){for(var h in c)c.hasOwnProperty(h)&&(l[h]=c[h])};return function(l,c){u(l,c);function h(){this.constructor=l}l.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=A(19),o=A(1),a=function(u){i(l,u);function l(c){var h=u.call(this,c)||this;return h.text=h.statics.value(h.domNode),h}return l.create=function(c){return document.createTextNode(c)},l.value=function(c){var h=c.data;return h.normalize&&(h=h.normalize()),h},l.prototype.deleteAt=function(c,h){this.domNode.data=this.text=this.text.slice(0,c)+this.text.slice(c+h)},l.prototype.index=function(c,h){return this.domNode===c?h:-1},l.prototype.insertAt=function(c,h,d){d==null?(this.text=this.text.slice(0,c)+h+this.text.slice(c),this.domNode.data=this.text):u.prototype.insertAt.call(this,c,h,d)},l.prototype.length=function(){return this.text.length},l.prototype.optimize=function(c){u.prototype.optimize.call(this,c),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof l&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},l.prototype.position=function(c,h){return[this.domNode,c]},l.prototype.split=function(c,h){if(h===void 0&&(h=!1),!h){if(c===0)return this;if(c===this.length())return this.next}var d=o.create(this.domNode.splitText(c));return this.parent.insertBefore(d,this.next),this.text=this.statics.value(this.domNode),d},l.prototype.update=function(c,h){var d=this;c.some(function(m){return m.type==="characterData"&&m.target===d.domNode})&&(this.text=this.statics.value(this.domNode))},l.prototype.value=function(){return this.text},l.blotName="text",l.scope=o.Scope.INLINE_BLOT,l}(s.default);n.default=a},function(t,n,A){var i=document.createElement("div");if(i.classList.toggle("test-class",!1),i.classList.contains("test-class")){var s=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(o,a){return arguments.length>1&&!this.contains(o)==!a?a:s.call(this,o)}}String.prototype.startsWith||(String.prototype.startsWith=function(o,a){return a=a||0,this.substr(a,o.length)===o}),String.prototype.endsWith||(String.prototype.endsWith=function(o,a){var u=this.toString();(typeof a!="number"||!isFinite(a)||Math.floor(a)!==a||a>u.length)&&(a=u.length),a-=o.length;var l=u.indexOf(o,a);return l!==-1&&l===a}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(a){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof a!="function")throw new TypeError("predicate must be a function");for(var u=Object(this),l=u.length>>>0,c=arguments[1],h,d=0;d<l;d++)if(h=u[d],a.call(c,h,d,u))return h}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(t,n){var A=-1,i=1,s=0;function o(B,F,N){if(B==F)return B?[[s,B]]:[];(N<0||B.length<N)&&(N=null);var T=c(B,F),U=B.substring(0,T);B=B.substring(T),F=F.substring(T),T=h(B,F);var k=B.substring(B.length-T);B=B.substring(0,B.length-T),F=F.substring(0,F.length-T);var D=a(B,F);return U&&D.unshift([s,U]),k&&D.push([s,k]),m(D),N!=null&&(D=v(D,N)),D=w(D),D}function a(B,F){var N;if(!B)return[[i,F]];if(!F)return[[A,B]];var T=B.length>F.length?B:F,U=B.length>F.length?F:B,k=T.indexOf(U);if(k!=-1)return N=[[i,T.substring(0,k)],[s,U],[i,T.substring(k+U.length)]],B.length>F.length&&(N[0][0]=N[2][0]=A),N;if(U.length==1)return[[A,B],[i,F]];var D=d(B,F);if(D){var _=D[0],L=D[1],O=D[2],V=D[3],$=D[4],Y=o(_,O),re=o(L,V);return Y.concat([[s,$]],re)}return u(B,F)}function u(B,F){for(var N=B.length,T=F.length,U=Math.ceil((N+T)/2),k=U,D=2*U,_=new Array(D),L=new Array(D),O=0;O<D;O++)_[O]=-1,L[O]=-1;_[k+1]=0,L[k+1]=0;for(var V=N-T,$=V%2!=0,Y=0,re=0,le=0,ne=0,te=0;te<U;te++){for(var G=-te+Y;G<=te-re;G+=2){var H=k+G,z;G==-te||G!=te&&_[H-1]<_[H+1]?z=_[H+1]:z=_[H-1]+1;for(var oe=z-G;z<N&&oe<T&&B.charAt(z)==F.charAt(oe);)z++,oe++;if(_[H]=z,z>N)re+=2;else if(oe>T)Y+=2;else if($){var ae=k+V-G;if(ae>=0&&ae<D&&L[ae]!=-1){var ie=N-L[ae];if(z>=ie)return l(B,F,z,oe)}}}for(var pe=-te+le;pe<=te-ne;pe+=2){var ae=k+pe,ie;pe==-te||pe!=te&&L[ae-1]<L[ae+1]?ie=L[ae+1]:ie=L[ae-1]+1;for(var Ce=ie-pe;ie<N&&Ce<T&&B.charAt(N-ie-1)==F.charAt(T-Ce-1);)ie++,Ce++;if(L[ae]=ie,ie>N)ne+=2;else if(Ce>T)le+=2;else if(!$){var H=k+V-pe;if(H>=0&&H<D&&_[H]!=-1){var z=_[H],oe=k+z-H;if(ie=N-ie,z>=ie)return l(B,F,z,oe)}}}}return[[A,B],[i,F]]}function l(B,F,N,T){var U=B.substring(0,N),k=F.substring(0,T),D=B.substring(N),_=F.substring(T),L=o(U,k),O=o(D,_);return L.concat(O)}function c(B,F){if(!B||!F||B.charAt(0)!=F.charAt(0))return 0;for(var N=0,T=Math.min(B.length,F.length),U=T,k=0;N<U;)B.substring(k,U)==F.substring(k,U)?(N=U,k=N):T=U,U=Math.floor((T-N)/2+N);return U}function h(B,F){if(!B||!F||B.charAt(B.length-1)!=F.charAt(F.length-1))return 0;for(var N=0,T=Math.min(B.length,F.length),U=T,k=0;N<U;)B.substring(B.length-U,B.length-k)==F.substring(F.length-U,F.length-k)?(N=U,k=N):T=U,U=Math.floor((T-N)/2+N);return U}function d(B,F){var N=B.length>F.length?B:F,T=B.length>F.length?F:B;if(N.length<4||T.length*2<N.length)return null;function U(re,le,ne){for(var te=re.substring(ne,ne+Math.floor(re.length/4)),G=-1,H="",z,oe,ae,ie;(G=le.indexOf(te,G+1))!=-1;){var pe=c(re.substring(ne),le.substring(G)),Ce=h(re.substring(0,ne),le.substring(0,G));H.length<Ce+pe&&(H=le.substring(G-Ce,G)+le.substring(G,G+pe),z=re.substring(0,ne-Ce),oe=re.substring(ne+pe),ae=le.substring(0,G-Ce),ie=le.substring(G+pe))}return H.length*2>=re.length?[z,oe,ae,ie,H]:null}var k=U(N,T,Math.ceil(N.length/4)),D=U(N,T,Math.ceil(N.length/2)),_;if(!k&&!D)return null;D?k?_=k[4].length>D[4].length?k:D:_=D:_=k;var L,O,V,$;B.length>F.length?(L=_[0],O=_[1],V=_[2],$=_[3]):(V=_[0],$=_[1],L=_[2],O=_[3]);var Y=_[4];return[L,O,V,$,Y]}function m(B){B.push([s,""]);for(var F=0,N=0,T=0,U="",k="",D;F<B.length;)switch(B[F][0]){case i:T++,k+=B[F][1],F++;break;case A:N++,U+=B[F][1],F++;break;case s:N+T>1?(N!==0&&T!==0&&(D=c(k,U),D!==0&&(F-N-T>0&&B[F-N-T-1][0]==s?B[F-N-T-1][1]+=k.substring(0,D):(B.splice(0,0,[s,k.substring(0,D)]),F++),k=k.substring(D),U=U.substring(D)),D=h(k,U),D!==0&&(B[F][1]=k.substring(k.length-D)+B[F][1],k=k.substring(0,k.length-D),U=U.substring(0,U.length-D))),N===0?B.splice(F-T,N+T,[i,k]):T===0?B.splice(F-N,N+T,[A,U]):B.splice(F-N-T,N+T,[A,U],[i,k]),F=F-N-T+(N?1:0)+(T?1:0)+1):F!==0&&B[F-1][0]==s?(B[F-1][1]+=B[F][1],B.splice(F,1)):F++,T=0,N=0,U="",k="";break}B[B.length-1][1]===""&&B.pop();var _=!1;for(F=1;F<B.length-1;)B[F-1][0]==s&&B[F+1][0]==s&&(B[F][1].substring(B[F][1].length-B[F-1][1].length)==B[F-1][1]?(B[F][1]=B[F-1][1]+B[F][1].substring(0,B[F][1].length-B[F-1][1].length),B[F+1][1]=B[F-1][1]+B[F+1][1],B.splice(F-1,1),_=!0):B[F][1].substring(0,B[F+1][1].length)==B[F+1][1]&&(B[F-1][1]+=B[F+1][1],B[F][1]=B[F][1].substring(B[F+1][1].length)+B[F+1][1],B.splice(F+1,1),_=!0)),F++;_&&m(B)}var g=o;g.INSERT=i,g.DELETE=A,g.EQUAL=s,t.exports=g;function y(B,F){if(F===0)return[s,B];for(var N=0,T=0;T<B.length;T++){var U=B[T];if(U[0]===A||U[0]===s){var k=N+U[1].length;if(F===k)return[T+1,B];if(F<k){B=B.slice();var D=F-N,_=[U[0],U[1].slice(0,D)],L=[U[0],U[1].slice(D)];return B.splice(T,1,_,L),[T+1,B]}else N=k}}throw new Error("cursor_pos is out of bounds!")}function v(B,F){var N=y(B,F),T=N[1],U=N[0],k=T[U],D=T[U+1];if(k==null)return B;if(k[0]!==s)return B;if(D!=null&&k[1]+D[1]===D[1]+k[1])return T.splice(U,2,D,k),b(T,U,2);if(D!=null&&D[1].indexOf(k[1])===0){T.splice(U,2,[D[0],k[1]],[0,k[1]]);var _=D[1].slice(k[1].length);return _.length>0&&T.splice(U+2,0,[D[0],_]),b(T,U,3)}else return B}function w(B){for(var F=!1,N=function(D){return D.charCodeAt(0)>=56320&&D.charCodeAt(0)<=57343},T=function(D){return D.charCodeAt(D.length-1)>=55296&&D.charCodeAt(D.length-1)<=56319},U=2;U<B.length;U+=1)B[U-2][0]===s&&T(B[U-2][1])&&B[U-1][0]===A&&N(B[U-1][1])&&B[U][0]===i&&N(B[U][1])&&(F=!0,B[U-1][1]=B[U-2][1].slice(-1)+B[U-1][1],B[U][1]=B[U-2][1].slice(-1)+B[U][1],B[U-2][1]=B[U-2][1].slice(0,-1));if(!F)return B;for(var k=[],U=0;U<B.length;U+=1)B[U][1].length>0&&k.push(B[U]);return k}function b(B,F,N){for(var T=F+N-1;T>=0&&T>=F-1;T--)if(T+1<B.length){var U=B[T],k=B[T+1];U[0]===k[1]&&B.splice(T,2,[U[0],U[1]+k[1]])}return B}},function(t,n){n=t.exports=typeof Object.keys=="function"?Object.keys:A,n.shim=A;function A(i){var s=[];for(var o in i)s.push(o);return s}},function(t,n){var A=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";n=t.exports=A?i:s,n.supported=i;function i(o){return Object.prototype.toString.call(o)=="[object Arguments]"}n.unsupported=s;function s(o){return o&&typeof o=="object"&&typeof o.length=="number"&&Object.prototype.hasOwnProperty.call(o,"callee")&&!Object.prototype.propertyIsEnumerable.call(o,"callee")||!1}},function(t,n){var A=Object.prototype.hasOwnProperty,i="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(i=!1));function o(u,l,c){this.fn=u,this.context=l,this.once=c||!1}function a(){this._events=new s,this._eventsCount=0}a.prototype.eventNames=function(){var l=[],c,h;if(this._eventsCount===0)return l;for(h in c=this._events)A.call(c,h)&&l.push(i?h.slice(1):h);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(c)):l},a.prototype.listeners=function(l,c){var h=i?i+l:l,d=this._events[h];if(c)return!!d;if(!d)return[];if(d.fn)return[d.fn];for(var m=0,g=d.length,y=new Array(g);m<g;m++)y[m]=d[m].fn;return y},a.prototype.emit=function(l,c,h,d,m,g){var y=i?i+l:l;if(!this._events[y])return!1;var v=this._events[y],w=arguments.length,b,B;if(v.fn){switch(v.once&&this.removeListener(l,v.fn,void 0,!0),w){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,c),!0;case 3:return v.fn.call(v.context,c,h),!0;case 4:return v.fn.call(v.context,c,h,d),!0;case 5:return v.fn.call(v.context,c,h,d,m),!0;case 6:return v.fn.call(v.context,c,h,d,m,g),!0}for(B=1,b=new Array(w-1);B<w;B++)b[B-1]=arguments[B];v.fn.apply(v.context,b)}else{var F=v.length,N;for(B=0;B<F;B++)switch(v[B].once&&this.removeListener(l,v[B].fn,void 0,!0),w){case 1:v[B].fn.call(v[B].context);break;case 2:v[B].fn.call(v[B].context,c);break;case 3:v[B].fn.call(v[B].context,c,h);break;case 4:v[B].fn.call(v[B].context,c,h,d);break;default:if(!b)for(N=1,b=new Array(w-1);N<w;N++)b[N-1]=arguments[N];v[B].fn.apply(v[B].context,b)}}return!0},a.prototype.on=function(l,c,h){var d=new o(c,h||this),m=i?i+l:l;return this._events[m]?this._events[m].fn?this._events[m]=[this._events[m],d]:this._events[m].push(d):(this._events[m]=d,this._eventsCount++),this},a.prototype.once=function(l,c,h){var d=new o(c,h||this,!0),m=i?i+l:l;return this._events[m]?this._events[m].fn?this._events[m]=[this._events[m],d]:this._events[m].push(d):(this._events[m]=d,this._eventsCount++),this},a.prototype.removeListener=function(l,c,h,d){var m=i?i+l:l;if(!this._events[m])return this;if(!c)return--this._eventsCount===0?this._events=new s:delete this._events[m],this;var g=this._events[m];if(g.fn)g.fn===c&&(!d||g.once)&&(!h||g.context===h)&&(--this._eventsCount===0?this._events=new s:delete this._events[m]);else{for(var y=0,v=[],w=g.length;y<w;y++)(g[y].fn!==c||d&&!g[y].once||h&&g[y].context!==h)&&v.push(g[y]);v.length?this._events[m]=v.length===1?v[0]:v:--this._eventsCount===0?this._events=new s:delete this._events[m]}return this},a.prototype.removeAllListeners=function(l){var c;return l?(c=i?i+l:l,this._events[c]&&(--this._eventsCount===0?this._events=new s:delete this._events[c])):(this._events=new s,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prototype.setMaxListeners=function(){return this},a.prefixed=i,a.EventEmitter=a,typeof t<"u"&&(t.exports=a)},function(t,n,A){Object.defineProperty(n,"__esModule",{value:!0}),n.matchText=n.matchSpacing=n.matchNewline=n.matchBlot=n.matchAttributor=n.default=void 0;var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ke){return typeof ke}:function(ke){return ke&&typeof Symbol=="function"&&ke.constructor===Symbol&&ke!==Symbol.prototype?"symbol":typeof ke},s=function(){function ke(Me,it){var ut=[],ze=!0,Ve=!1,At=void 0;try{for(var lt=Me[Symbol.iterator](),yt;!(ze=(yt=lt.next()).done)&&(ut.push(yt.value),!(it&&ut.length===it));ze=!0);}catch(ge){Ve=!0,At=ge}finally{try{!ze&&lt.return&&lt.return()}finally{if(Ve)throw At}}return ut}return function(Me,it){if(Array.isArray(Me))return Me;if(Symbol.iterator in Object(Me))return ke(Me,it);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function ke(Me,it){for(var ut=0;ut<it.length;ut++){var ze=it[ut];ze.enumerable=ze.enumerable||!1,ze.configurable=!0,"value"in ze&&(ze.writable=!0),Object.defineProperty(Me,ze.key,ze)}}return function(Me,it,ut){return it&&ke(Me.prototype,it),ut&&ke(Me,ut),Me}}(),a=A(3),u=L(a),l=A(2),c=L(l),h=A(0),d=L(h),m=A(5),g=L(m),y=A(10),v=L(y),w=A(9),b=L(w),B=A(36),F=A(37),N=A(13),T=L(N),U=A(26),k=A(38),D=A(39),_=A(40);function L(ke){return ke&&ke.__esModule?ke:{default:ke}}function O(ke,Me,it){return Me in ke?Object.defineProperty(ke,Me,{value:it,enumerable:!0,configurable:!0,writable:!0}):ke[Me]=it,ke}function V(ke,Me){if(!(ke instanceof Me))throw new TypeError("Cannot call a class as a function")}function $(ke,Me){if(!ke)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Me&&(typeof Me=="object"||typeof Me=="function")?Me:ke}function Y(ke,Me){if(typeof Me!="function"&&Me!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Me);ke.prototype=Object.create(Me&&Me.prototype,{constructor:{value:ke,enumerable:!1,writable:!0,configurable:!0}}),Me&&(Object.setPrototypeOf?Object.setPrototypeOf(ke,Me):ke.__proto__=Me)}var re=(0,v.default)("quill:clipboard"),le="__ql-matcher",ne=[[Node.TEXT_NODE,Ut],[Node.TEXT_NODE,pt],["br",qe],[Node.ELEMENT_NODE,pt],[Node.ELEMENT_NODE,Qe],[Node.ELEMENT_NODE,Ke],[Node.ELEMENT_NODE,Ie],[Node.ELEMENT_NODE,Le],["li",nt],["b",Ce.bind(Ce,"bold")],["i",Ce.bind(Ce,"italic")],["style",et]],te=[B.AlignAttribute,k.DirectionAttribute].reduce(function(ke,Me){return ke[Me.keyName]=Me,ke},{}),G=[B.AlignStyle,F.BackgroundStyle,U.ColorStyle,k.DirectionStyle,D.FontStyle,_.SizeStyle].reduce(function(ke,Me){return ke[Me.keyName]=Me,ke},{}),H=function(ke){Y(Me,ke);function Me(it,ut){V(this,Me);var ze=$(this,(Me.__proto__||Object.getPrototypeOf(Me)).call(this,it,ut));return ze.quill.root.addEventListener("paste",ze.onPaste.bind(ze)),ze.container=ze.quill.addContainer("ql-clipboard"),ze.container.setAttribute("contenteditable",!0),ze.container.setAttribute("tabindex",-1),ze.matchers=[],ne.concat(ze.options.matchers).forEach(function(Ve){var At=s(Ve,2),lt=At[0],yt=At[1];!ut.matchVisual&&yt===Ke||ze.addMatcher(lt,yt)}),ze}return o(Me,[{key:"addMatcher",value:function(ut,ze){this.matchers.push([ut,ze])}},{key:"convert",value:function(ut){if(typeof ut=="string")return this.container.innerHTML=ut.replace(/\>\r?\n +\</g,"><"),this.convert();var ze=this.quill.getFormat(this.quill.selection.savedRange.index);if(ze[T.default.blotName]){var Ve=this.container.innerText;return this.container.innerHTML="",new c.default().insert(Ve,O({},T.default.blotName,ze[T.default.blotName]))}var At=this.prepareMatching(),lt=s(At,2),yt=lt[0],ge=lt[1],X=pe(this.container,yt,ge);return ae(X,`
`)&&X.ops[X.ops.length-1].attributes==null&&(X=X.compose(new c.default().retain(X.length()-1).delete(1))),re.log("convert",this.container.innerHTML,X),this.container.innerHTML="",X}},{key:"dangerouslyPasteHTML",value:function(ut,ze){var Ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g.default.sources.API;if(typeof ut=="string")this.quill.setContents(this.convert(ut),ze),this.quill.setSelection(0,g.default.sources.SILENT);else{var At=this.convert(ze);this.quill.updateContents(new c.default().retain(ut).concat(At),Ve),this.quill.setSelection(ut+At.length(),g.default.sources.SILENT)}}},{key:"onPaste",value:function(ut){var ze=this;if(!(ut.defaultPrevented||!this.quill.isEnabled())){var Ve=this.quill.getSelection(),At=new c.default().retain(Ve.index),lt=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(g.default.sources.SILENT),setTimeout(function(){At=At.concat(ze.convert()).delete(Ve.length),ze.quill.updateContents(At,g.default.sources.USER),ze.quill.setSelection(At.length()-Ve.length,g.default.sources.SILENT),ze.quill.scrollingContainer.scrollTop=lt,ze.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var ut=this,ze=[],Ve=[];return this.matchers.forEach(function(At){var lt=s(At,2),yt=lt[0],ge=lt[1];switch(yt){case Node.TEXT_NODE:Ve.push(ge);break;case Node.ELEMENT_NODE:ze.push(ge);break;default:[].forEach.call(ut.container.querySelectorAll(yt),function(X){X[le]=X[le]||[],X[le].push(ge)});break}}),[ze,Ve]}}]),Me}(b.default);H.DEFAULTS={matchers:[],matchVisual:!0};function z(ke,Me,it){return(typeof Me>"u"?"undefined":i(Me))==="object"?Object.keys(Me).reduce(function(ut,ze){return z(ut,ze,Me[ze])},ke):ke.reduce(function(ut,ze){return ze.attributes&&ze.attributes[Me]?ut.push(ze):ut.insert(ze.insert,(0,u.default)({},O({},Me,it),ze.attributes))},new c.default)}function oe(ke){if(ke.nodeType!==Node.ELEMENT_NODE)return{};var Me="__ql-computed-style";return ke[Me]||(ke[Me]=window.getComputedStyle(ke))}function ae(ke,Me){for(var it="",ut=ke.ops.length-1;ut>=0&&it.length<Me.length;--ut){var ze=ke.ops[ut];if(typeof ze.insert!="string")break;it=ze.insert+it}return it.slice(-1*Me.length)===Me}function ie(ke){if(ke.childNodes.length===0)return!1;var Me=oe(ke);return["block","list-item"].indexOf(Me.display)>-1}function pe(ke,Me,it){return ke.nodeType===ke.TEXT_NODE?it.reduce(function(ut,ze){return ze(ke,ut)},new c.default):ke.nodeType===ke.ELEMENT_NODE?[].reduce.call(ke.childNodes||[],function(ut,ze){var Ve=pe(ze,Me,it);return ze.nodeType===ke.ELEMENT_NODE&&(Ve=Me.reduce(function(At,lt){return lt(ze,At)},Ve),Ve=(ze[le]||[]).reduce(function(At,lt){return lt(ze,At)},Ve)),ut.concat(Ve)},new c.default):new c.default}function Ce(ke,Me,it){return z(it,ke,!0)}function Ie(ke,Me){var it=d.default.Attributor.Attribute.keys(ke),ut=d.default.Attributor.Class.keys(ke),ze=d.default.Attributor.Style.keys(ke),Ve={};return it.concat(ut).concat(ze).forEach(function(At){var lt=d.default.query(At,d.default.Scope.ATTRIBUTE);lt!=null&&(Ve[lt.attrName]=lt.value(ke),Ve[lt.attrName])||(lt=te[At],lt!=null&&(lt.attrName===At||lt.keyName===At)&&(Ve[lt.attrName]=lt.value(ke)||void 0),lt=G[At],lt!=null&&(lt.attrName===At||lt.keyName===At)&&(lt=G[At],Ve[lt.attrName]=lt.value(ke)||void 0))}),Object.keys(Ve).length>0&&(Me=z(Me,Ve)),Me}function Qe(ke,Me){var it=d.default.query(ke);if(it==null)return Me;if(it.prototype instanceof d.default.Embed){var ut={},ze=it.value(ke);ze!=null&&(ut[it.blotName]=ze,Me=new c.default().insert(ut,it.formats(ke)))}else typeof it.formats=="function"&&(Me=z(Me,it.blotName,it.formats(ke)));return Me}function qe(ke,Me){return ae(Me,`
`)||Me.insert(`
`),Me}function et(){return new c.default}function nt(ke,Me){var it=d.default.query(ke);if(it==null||it.blotName!=="list-item"||!ae(Me,`
`))return Me;for(var ut=-1,ze=ke.parentNode;!ze.classList.contains("ql-clipboard");)(d.default.query(ze)||{}).blotName==="list"&&(ut+=1),ze=ze.parentNode;return ut<=0?Me:Me.compose(new c.default().retain(Me.length()-1).retain(1,{indent:ut}))}function pt(ke,Me){return ae(Me,`
`)||(ie(ke)||Me.length()>0&&ke.nextSibling&&ie(ke.nextSibling))&&Me.insert(`
`),Me}function Ke(ke,Me){if(ie(ke)&&ke.nextElementSibling!=null&&!ae(Me,`

`)){var it=ke.offsetHeight+parseFloat(oe(ke).marginTop)+parseFloat(oe(ke).marginBottom);ke.nextElementSibling.offsetTop>ke.offsetTop+it*1.5&&Me.insert(`
`)}return Me}function Le(ke,Me){var it={},ut=ke.style||{};return ut.fontStyle&&oe(ke).fontStyle==="italic"&&(it.italic=!0),ut.fontWeight&&(oe(ke).fontWeight.startsWith("bold")||parseInt(oe(ke).fontWeight)>=700)&&(it.bold=!0),Object.keys(it).length>0&&(Me=z(Me,it)),parseFloat(ut.textIndent||0)>0&&(Me=new c.default().insert("	").concat(Me)),Me}function Ut(ke,Me){var it=ke.data;if(ke.parentNode.tagName==="O:P")return Me.insert(it.trim());if(it.trim().length===0&&ke.parentNode.classList.contains("ql-clipboard"))return Me;if(!oe(ke.parentNode).whiteSpace.startsWith("pre")){var ut=function(Ve,At){return At=At.replace(/[^\u00a0]/g,""),At.length<1&&Ve?" ":At};it=it.replace(/\r\n/g," ").replace(/\n/g," "),it=it.replace(/\s\s+/g,ut.bind(ut,!0)),(ke.previousSibling==null&&ie(ke.parentNode)||ke.previousSibling!=null&&ie(ke.previousSibling))&&(it=it.replace(/^\s+/,ut.bind(ut,!1))),(ke.nextSibling==null&&ie(ke.parentNode)||ke.nextSibling!=null&&ie(ke.nextSibling))&&(it=it.replace(/\s+$/,ut.bind(ut,!1)))}return Me.insert(it)}n.default=H,n.matchAttributor=Ie,n.matchBlot=Qe,n.matchNewline=pt,n.matchSpacing=Ke,n.matchText=Ut},function(t,n,A){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function m(g,y){for(var v=0;v<y.length;v++){var w=y[v];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(g,w.key,w)}}return function(g,y,v){return y&&m(g.prototype,y),v&&m(g,v),g}}(),s=function m(g,y,v){g===null&&(g=Function.prototype);var w=Object.getOwnPropertyDescriptor(g,y);if(w===void 0){var b=Object.getPrototypeOf(g);return b===null?void 0:m(b,y,v)}else{if("value"in w)return w.value;var B=w.get;return B===void 0?void 0:B.call(v)}},o=A(6),a=u(o);function u(m){return m&&m.__esModule?m:{default:m}}function l(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function c(m,g){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:m}function h(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(m,g):m.__proto__=g)}var d=function(m){h(g,m);function g(){return l(this,g),c(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return i(g,[{key:"optimize",value:function(v){s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"optimize",this).call(this,v),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return s(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),g}(a.default);d.blotName="bold",d.tagName=["STRONG","B"],n.default=d},function(t,n,A){Object.defineProperty(n,"__esModule",{value:!0}),n.addControls=n.default=void 0;var i=function(){function _(L,O){var V=[],$=!0,Y=!1,re=void 0;try{for(var le=L[Symbol.iterator](),ne;!($=(ne=le.next()).done)&&(V.push(ne.value),!(O&&V.length===O));$=!0);}catch(te){Y=!0,re=te}finally{try{!$&&le.return&&le.return()}finally{if(Y)throw re}}return V}return function(L,O){if(Array.isArray(L))return L;if(Symbol.iterator in Object(L))return _(L,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function _(L,O){for(var V=0;V<O.length;V++){var $=O[V];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(L,$.key,$)}}return function(L,O,V){return O&&_(L.prototype,O),V&&_(L,V),L}}(),o=A(2),a=v(o),u=A(0),l=v(u),c=A(5),h=v(c),d=A(10),m=v(d),g=A(9),y=v(g);function v(_){return _&&_.__esModule?_:{default:_}}function w(_,L,O){return L in _?Object.defineProperty(_,L,{value:O,enumerable:!0,configurable:!0,writable:!0}):_[L]=O,_}function b(_,L){if(!(_ instanceof L))throw new TypeError("Cannot call a class as a function")}function B(_,L){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L&&(typeof L=="object"||typeof L=="function")?L:_}function F(_,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof L);_.prototype=Object.create(L&&L.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(_,L):_.__proto__=L)}var N=(0,m.default)("quill:toolbar"),T=function(_){F(L,_);function L(O,V){b(this,L);var $=B(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,O,V));if(Array.isArray($.options.container)){var Y=document.createElement("div");k(Y,$.options.container),O.container.parentNode.insertBefore(Y,O.container),$.container=Y}else typeof $.options.container=="string"?$.container=document.querySelector($.options.container):$.container=$.options.container;if(!($.container instanceof HTMLElement)){var re;return re=N.error("Container required for toolbar",$.options),B($,re)}return $.container.classList.add("ql-toolbar"),$.controls=[],$.handlers={},Object.keys($.options.handlers).forEach(function(le){$.addHandler(le,$.options.handlers[le])}),[].forEach.call($.container.querySelectorAll("button, select"),function(le){$.attach(le)}),$.quill.on(h.default.events.EDITOR_CHANGE,function(le,ne){le===h.default.events.SELECTION_CHANGE&&$.update(ne)}),$.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){var le=$.quill.selection.getRange(),ne=i(le,1),te=ne[0];$.update(te)}),$}return s(L,[{key:"addHandler",value:function(V,$){this.handlers[V]=$}},{key:"attach",value:function(V){var $=this,Y=[].find.call(V.classList,function(le){return le.indexOf("ql-")===0});if(Y){if(Y=Y.slice(3),V.tagName==="BUTTON"&&V.setAttribute("type","button"),this.handlers[Y]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[Y]==null){N.warn("ignoring attaching to disabled format",Y,V);return}if(l.default.query(Y)==null){N.warn("ignoring attaching to nonexistent format",Y,V);return}}var re=V.tagName==="SELECT"?"change":"click";V.addEventListener(re,function(le){var ne=void 0;if(V.tagName==="SELECT"){if(V.selectedIndex<0)return;var te=V.options[V.selectedIndex];te.hasAttribute("selected")?ne=!1:ne=te.value||!1}else V.classList.contains("ql-active")?ne=!1:ne=V.value||!V.hasAttribute("value"),le.preventDefault();$.quill.focus();var G=$.quill.selection.getRange(),H=i(G,1),z=H[0];if($.handlers[Y]!=null)$.handlers[Y].call($,ne);else if(l.default.query(Y).prototype instanceof l.default.Embed){if(ne=prompt("Enter "+Y),!ne)return;$.quill.updateContents(new a.default().retain(z.index).delete(z.length).insert(w({},Y,ne)),h.default.sources.USER)}else $.quill.format(Y,ne,h.default.sources.USER);$.update(z)}),this.controls.push([Y,V])}}},{key:"update",value:function(V){var $=V==null?{}:this.quill.getFormat(V);this.controls.forEach(function(Y){var re=i(Y,2),le=re[0],ne=re[1];if(ne.tagName==="SELECT"){var te=void 0;if(V==null)te=null;else if($[le]==null)te=ne.querySelector("option[selected]");else if(!Array.isArray($[le])){var G=$[le];typeof G=="string"&&(G=G.replace(/\"/g,'\\"')),te=ne.querySelector('option[value="'+G+'"]')}te==null?(ne.value="",ne.selectedIndex=-1):te.selected=!0}else if(V==null)ne.classList.remove("ql-active");else if(ne.hasAttribute("value")){var H=$[le]===ne.getAttribute("value")||$[le]!=null&&$[le].toString()===ne.getAttribute("value")||$[le]==null&&!ne.getAttribute("value");ne.classList.toggle("ql-active",H)}else ne.classList.toggle("ql-active",$[le]!=null)})}}]),L}(y.default);T.DEFAULTS={};function U(_,L,O){var V=document.createElement("button");V.setAttribute("type","button"),V.classList.add("ql-"+L),O!=null&&(V.value=O),_.appendChild(V)}function k(_,L){Array.isArray(L[0])||(L=[L]),L.forEach(function(O){var V=document.createElement("span");V.classList.add("ql-formats"),O.forEach(function($){if(typeof $=="string")U(V,$);else{var Y=Object.keys($)[0],re=$[Y];Array.isArray(re)?D(V,Y,re):U(V,Y,re)}}),_.appendChild(V)})}function D(_,L,O){var V=document.createElement("select");V.classList.add("ql-"+L),O.forEach(function($){var Y=document.createElement("option");$!==!1?Y.setAttribute("value",$):Y.setAttribute("selected","selected"),V.appendChild(Y)}),_.appendChild(V)}T.DEFAULTS={container:null,handlers:{clean:function(){var L=this,O=this.quill.getSelection();if(O!=null)if(O.length==0){var V=this.quill.getFormat();Object.keys(V).forEach(function($){l.default.query($,l.default.Scope.INLINE)!=null&&L.quill.format($,!1)})}else this.quill.removeFormat(O,h.default.sources.USER)},direction:function(L){var O=this.quill.getFormat().align;L==="rtl"&&O==null?this.quill.format("align","right",h.default.sources.USER):!L&&O==="right"&&this.quill.format("align",!1,h.default.sources.USER),this.quill.format("direction",L,h.default.sources.USER)},indent:function(L){var O=this.quill.getSelection(),V=this.quill.getFormat(O),$=parseInt(V.indent||0);if(L==="+1"||L==="-1"){var Y=L==="+1"?1:-1;V.direction==="rtl"&&(Y*=-1),this.quill.format("indent",$+Y,h.default.sources.USER)}},link:function(L){L===!0&&(L=prompt("Enter link URL:")),this.quill.format("link",L,h.default.sources.USER)},list:function(L){var O=this.quill.getSelection(),V=this.quill.getFormat(O);L==="check"?V.list==="checked"||V.list==="unchecked"?this.quill.format("list",!1,h.default.sources.USER):this.quill.format("list","unchecked",h.default.sources.USER):this.quill.format("list",L,h.default.sources.USER)}}},n.default=T,n.addControls=k},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(t,n,A){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function m(g,y){for(var v=0;v<y.length;v++){var w=y[v];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(g,w.key,w)}}return function(g,y,v){return y&&m(g.prototype,y),v&&m(g,v),g}}(),s=function m(g,y,v){g===null&&(g=Function.prototype);var w=Object.getOwnPropertyDescriptor(g,y);if(w===void 0){var b=Object.getPrototypeOf(g);return b===null?void 0:m(b,y,v)}else{if("value"in w)return w.value;var B=w.get;return B===void 0?void 0:B.call(v)}},o=A(28),a=u(o);function u(m){return m&&m.__esModule?m:{default:m}}function l(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function c(m,g){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:m}function h(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(m,g):m.__proto__=g)}var d=function(m){h(g,m);function g(y,v){l(this,g);var w=c(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,y));return w.label.innerHTML=v,w.container.classList.add("ql-color-picker"),[].slice.call(w.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(b){b.classList.add("ql-primary")}),w}return i(g,[{key:"buildItem",value:function(v){var w=s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"buildItem",this).call(this,v);return w.style.backgroundColor=v.getAttribute("value")||"",w}},{key:"selectItem",value:function(v,w){s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"selectItem",this).call(this,v,w);var b=this.label.querySelector(".ql-color-label"),B=v&&v.getAttribute("data-value")||"";b&&(b.tagName==="line"?b.style.stroke=B:b.style.fill=B)}}]),g}(a.default);n.default=d},function(t,n,A){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function m(g,y){for(var v=0;v<y.length;v++){var w=y[v];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(g,w.key,w)}}return function(g,y,v){return y&&m(g.prototype,y),v&&m(g,v),g}}(),s=function m(g,y,v){g===null&&(g=Function.prototype);var w=Object.getOwnPropertyDescriptor(g,y);if(w===void 0){var b=Object.getPrototypeOf(g);return b===null?void 0:m(b,y,v)}else{if("value"in w)return w.value;var B=w.get;return B===void 0?void 0:B.call(v)}},o=A(28),a=u(o);function u(m){return m&&m.__esModule?m:{default:m}}function l(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function c(m,g){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:m}function h(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(m,g):m.__proto__=g)}var d=function(m){h(g,m);function g(y,v){l(this,g);var w=c(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,y));return w.container.classList.add("ql-icon-picker"),[].forEach.call(w.container.querySelectorAll(".ql-picker-item"),function(b){b.innerHTML=v[b.getAttribute("data-value")||""]}),w.defaultItem=w.container.querySelector(".ql-selected"),w.selectItem(w.defaultItem),w}return i(g,[{key:"selectItem",value:function(v,w){s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"selectItem",this).call(this,v,w),v=v||this.defaultItem,this.label.innerHTML=v.innerHTML}}]),g}(a.default);n.default=d},function(t,n,A){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function a(u,l){for(var c=0;c<l.length;c++){var h=l[c];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(u,h.key,h)}}return function(u,l,c){return l&&a(u.prototype,l),c&&a(u,c),u}}();function s(a,u){if(!(a instanceof u))throw new TypeError("Cannot call a class as a function")}var o=function(){function a(u,l){var c=this;s(this,a),this.quill=u,this.boundsContainer=l||document.body,this.root=u.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){c.root.style.marginTop=-1*c.quill.root.scrollTop+"px"}),this.hide()}return i(a,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(l){var c=l.left+l.width/2-this.root.offsetWidth/2,h=l.bottom+this.quill.root.scrollTop;this.root.style.left=c+"px",this.root.style.top=h+"px",this.root.classList.remove("ql-flip");var d=this.boundsContainer.getBoundingClientRect(),m=this.root.getBoundingClientRect(),g=0;if(m.right>d.right&&(g=d.right-m.right,this.root.style.left=c+g+"px"),m.left<d.left&&(g=d.left-m.left,this.root.style.left=c+g+"px"),m.bottom>d.bottom){var y=m.bottom-m.top,v=l.bottom-l.top+y;this.root.style.top=h-v+"px",this.root.classList.add("ql-flip")}return g}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),a}();n.default=o},function(t,n,A){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function D(_,L){var O=[],V=!0,$=!1,Y=void 0;try{for(var re=_[Symbol.iterator](),le;!(V=(le=re.next()).done)&&(O.push(le.value),!(L&&O.length===L));V=!0);}catch(ne){$=!0,Y=ne}finally{try{!V&&re.return&&re.return()}finally{if($)throw Y}}return O}return function(_,L){if(Array.isArray(_))return _;if(Symbol.iterator in Object(_))return D(_,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function D(_,L,O){_===null&&(_=Function.prototype);var V=Object.getOwnPropertyDescriptor(_,L);if(V===void 0){var $=Object.getPrototypeOf(_);return $===null?void 0:D($,L,O)}else{if("value"in V)return V.value;var Y=V.get;return Y===void 0?void 0:Y.call(O)}},o=function(){function D(_,L){for(var O=0;O<L.length;O++){var V=L[O];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(_,V.key,V)}}return function(_,L,O){return L&&D(_.prototype,L),O&&D(_,O),_}}(),a=A(3),u=b(a),l=A(8),c=b(l),h=A(43),d=b(h),m=A(27),g=b(m),y=A(15),v=A(41),w=b(v);function b(D){return D&&D.__esModule?D:{default:D}}function B(D,_){if(!(D instanceof _))throw new TypeError("Cannot call a class as a function")}function F(D,_){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:D}function N(D,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);D.prototype=Object.create(_&&_.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(D,_):D.__proto__=_)}var T=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],U=function(D){N(_,D);function _(L,O){B(this,_),O.modules.toolbar!=null&&O.modules.toolbar.container==null&&(O.modules.toolbar.container=T);var V=F(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,L,O));return V.quill.container.classList.add("ql-snow"),V}return o(_,[{key:"extendToolbar",value:function(O){O.container.classList.add("ql-snow"),this.buildButtons([].slice.call(O.container.querySelectorAll("button")),w.default),this.buildPickers([].slice.call(O.container.querySelectorAll("select")),w.default),this.tooltip=new k(this.quill,this.options.bounds),O.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(V,$){O.handlers.link.call(O,!$.format.link)})}}]),_}(d.default);U.DEFAULTS=(0,u.default)(!0,{},d.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(_){if(_){var L=this.quill.getSelection();if(L==null||L.length==0)return;var O=this.quill.getText(L);/^\S+@\S+\.\S+$/.test(O)&&O.indexOf("mailto:")!==0&&(O="mailto:"+O);var V=this.quill.theme.tooltip;V.edit("link",O)}else this.quill.format("link",!1)}}}}});var k=function(D){N(_,D);function _(L,O){B(this,_);var V=F(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,L,O));return V.preview=V.root.querySelector("a.ql-preview"),V}return o(_,[{key:"listen",value:function(){var O=this;s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(V){O.root.classList.contains("ql-editing")?O.save():O.edit("link",O.preview.textContent),V.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(V){if(O.linkRange!=null){var $=O.linkRange;O.restoreFocus(),O.quill.formatText($,"link",!1,c.default.sources.USER),delete O.linkRange}V.preventDefault(),O.hide()}),this.quill.on(c.default.events.SELECTION_CHANGE,function(V,$,Y){if(V!=null){if(V.length===0&&Y===c.default.sources.USER){var re=O.quill.scroll.descendant(g.default,V.index),le=i(re,2),ne=le[0],te=le[1];if(ne!=null){O.linkRange=new y.Range(V.index-te,ne.length());var G=g.default.formats(ne.domNode);O.preview.textContent=G,O.preview.setAttribute("href",G),O.show(),O.position(O.quill.getBounds(O.linkRange));return}}else delete O.linkRange;O.hide()}})}},{key:"show",value:function(){s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),_}(h.BaseTooltip);k.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),n.default=U},function(t,n,A){Object.defineProperty(n,"__esModule",{value:!0});var i=A(29),s=ze(i),o=A(36),a=A(38),u=A(64),l=A(65),c=ze(l),h=A(66),d=ze(h),m=A(67),g=ze(m),y=A(37),v=A(26),w=A(39),b=A(40),B=A(56),F=ze(B),N=A(68),T=ze(N),U=A(27),k=ze(U),D=A(69),_=ze(D),L=A(70),O=ze(L),V=A(71),$=ze(V),Y=A(72),re=ze(Y),le=A(73),ne=ze(le),te=A(13),G=ze(te),H=A(74),z=ze(H),oe=A(75),ae=ze(oe),ie=A(57),pe=ze(ie),Ce=A(41),Ie=ze(Ce),Qe=A(28),qe=ze(Qe),et=A(59),nt=ze(et),pt=A(60),Ke=ze(pt),Le=A(61),Ut=ze(Le),ke=A(108),Me=ze(ke),it=A(62),ut=ze(it);function ze(Ve){return Ve&&Ve.__esModule?Ve:{default:Ve}}s.default.register({"attributors/attribute/direction":a.DirectionAttribute,"attributors/class/align":o.AlignClass,"attributors/class/background":y.BackgroundClass,"attributors/class/color":v.ColorClass,"attributors/class/direction":a.DirectionClass,"attributors/class/font":w.FontClass,"attributors/class/size":b.SizeClass,"attributors/style/align":o.AlignStyle,"attributors/style/background":y.BackgroundStyle,"attributors/style/color":v.ColorStyle,"attributors/style/direction":a.DirectionStyle,"attributors/style/font":w.FontStyle,"attributors/style/size":b.SizeStyle},!0),s.default.register({"formats/align":o.AlignClass,"formats/direction":a.DirectionClass,"formats/indent":u.IndentClass,"formats/background":y.BackgroundStyle,"formats/color":v.ColorStyle,"formats/font":w.FontClass,"formats/size":b.SizeClass,"formats/blockquote":c.default,"formats/code-block":G.default,"formats/header":d.default,"formats/list":g.default,"formats/bold":F.default,"formats/code":te.Code,"formats/italic":T.default,"formats/link":k.default,"formats/script":_.default,"formats/strike":O.default,"formats/underline":$.default,"formats/image":re.default,"formats/video":ne.default,"formats/list/item":m.ListItem,"modules/formula":z.default,"modules/syntax":ae.default,"modules/toolbar":pe.default,"themes/bubble":Me.default,"themes/snow":ut.default,"ui/icons":Ie.default,"ui/picker":qe.default,"ui/icon-picker":Ke.default,"ui/color-picker":nt.default,"ui/tooltip":Ut.default},!0),n.default=s.default},function(t,n,A){Object.defineProperty(n,"__esModule",{value:!0}),n.IndentClass=void 0;var i=function(){function g(y,v){for(var w=0;w<v.length;w++){var b=v[w];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,b.key,b)}}return function(y,v,w){return v&&g(y.prototype,v),w&&g(y,w),y}}(),s=function g(y,v,w){y===null&&(y=Function.prototype);var b=Object.getOwnPropertyDescriptor(y,v);if(b===void 0){var B=Object.getPrototypeOf(y);return B===null?void 0:g(B,v,w)}else{if("value"in b)return b.value;var F=b.get;return F===void 0?void 0:F.call(w)}},o=A(0),a=u(o);function u(g){return g&&g.__esModule?g:{default:g}}function l(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function c(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function h(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var d=function(g){h(y,g);function y(){return l(this,y),c(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return i(y,[{key:"add",value:function(w,b){if(b==="+1"||b==="-1"){var B=this.value(w)||0;b=b==="+1"?B+1:B-1}return b===0?(this.remove(w),!0):s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"add",this).call(this,w,b)}},{key:"canAdd",value:function(w,b){return s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"canAdd",this).call(this,w,b)||s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"canAdd",this).call(this,w,parseInt(b))}},{key:"value",value:function(w){return parseInt(s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"value",this).call(this,w))||void 0}}]),y}(a.default.Attributor.Class),m=new d("indent","ql-indent",{scope:a.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});n.IndentClass=m},function(t,n,A){Object.defineProperty(n,"__esModule",{value:!0});var i=A(4),s=o(i);function o(h){return h&&h.__esModule?h:{default:h}}function a(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")}function u(h,d){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:h}function l(h,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);h.prototype=Object.create(d&&d.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(h,d):h.__proto__=d)}var c=function(h){l(d,h);function d(){return a(this,d),u(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(s.default);c.blotName="blockquote",c.tagName="blockquote",n.default=c},function(t,n,A){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function d(m,g){for(var y=0;y<g.length;y++){var v=g[y];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,v.key,v)}}return function(m,g,y){return g&&d(m.prototype,g),y&&d(m,y),m}}(),s=A(4),o=a(s);function a(d){return d&&d.__esModule?d:{default:d}}function u(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")}function l(d,m){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:d}function c(d,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);d.prototype=Object.create(m&&m.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(d,m):d.__proto__=m)}var h=function(d){c(m,d);function m(){return u(this,m),l(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return i(m,null,[{key:"formats",value:function(y){return this.tagName.indexOf(y.tagName)+1}}]),m}(o.default);h.blotName="header",h.tagName=["H1","H2","H3","H4","H5","H6"],n.default=h},function(t,n,A){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.ListItem=void 0;var i=function(){function B(F,N){for(var T=0;T<N.length;T++){var U=N[T];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(F,U.key,U)}}return function(F,N,T){return N&&B(F.prototype,N),T&&B(F,T),F}}(),s=function B(F,N,T){F===null&&(F=Function.prototype);var U=Object.getOwnPropertyDescriptor(F,N);if(U===void 0){var k=Object.getPrototypeOf(F);return k===null?void 0:B(k,N,T)}else{if("value"in U)return U.value;var D=U.get;return D===void 0?void 0:D.call(T)}},o=A(0),a=d(o),u=A(4),l=d(u),c=A(25),h=d(c);function d(B){return B&&B.__esModule?B:{default:B}}function m(B,F,N){return F in B?Object.defineProperty(B,F,{value:N,enumerable:!0,configurable:!0,writable:!0}):B[F]=N,B}function g(B,F){if(!(B instanceof F))throw new TypeError("Cannot call a class as a function")}function y(B,F){if(!B)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F&&(typeof F=="object"||typeof F=="function")?F:B}function v(B,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof F);B.prototype=Object.create(F&&F.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(B,F):B.__proto__=F)}var w=function(B){v(F,B);function F(){return g(this,F),y(this,(F.__proto__||Object.getPrototypeOf(F)).apply(this,arguments))}return i(F,[{key:"format",value:function(T,U){T===b.blotName&&!U?this.replaceWith(a.default.create(this.statics.scope)):s(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"format",this).call(this,T,U)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():s(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(T,U){return this.parent.isolate(this.offset(this.parent),this.length()),T===this.parent.statics.blotName?(this.parent.replaceWith(T,U),this):(this.parent.unwrap(),s(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"replaceWith",this).call(this,T,U))}}],[{key:"formats",value:function(T){return T.tagName===this.tagName?void 0:s(F.__proto__||Object.getPrototypeOf(F),"formats",this).call(this,T)}}]),F}(l.default);w.blotName="list-item",w.tagName="LI";var b=function(B){v(F,B),i(F,null,[{key:"create",value:function(T){var U=T==="ordered"?"OL":"UL",k=s(F.__proto__||Object.getPrototypeOf(F),"create",this).call(this,U);return(T==="checked"||T==="unchecked")&&k.setAttribute("data-checked",T==="checked"),k}},{key:"formats",value:function(T){if(T.tagName==="OL")return"ordered";if(T.tagName==="UL")return T.hasAttribute("data-checked")?T.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function F(N){g(this,F);var T=y(this,(F.__proto__||Object.getPrototypeOf(F)).call(this,N)),U=function(D){if(D.target.parentNode===N){var _=T.statics.formats(N),L=a.default.find(D.target);_==="checked"?L.format("list","unchecked"):_==="unchecked"&&L.format("list","checked")}};return N.addEventListener("touchstart",U),N.addEventListener("mousedown",U),T}return i(F,[{key:"format",value:function(T,U){this.children.length>0&&this.children.tail.format(T,U)}},{key:"formats",value:function(){return m({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(T,U){if(T instanceof w)s(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"insertBefore",this).call(this,T,U);else{var k=U==null?this.length():U.offset(this),D=this.split(k);D.parent.insertBefore(T,D)}}},{key:"optimize",value:function(T){s(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"optimize",this).call(this,T);var U=this.next;U!=null&&U.prev===this&&U.statics.blotName===this.statics.blotName&&U.domNode.tagName===this.domNode.tagName&&U.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(U.moveChildren(this),U.remove())}},{key:"replace",value:function(T){if(T.statics.blotName!==this.statics.blotName){var U=a.default.create(this.statics.defaultChild);T.moveChildren(U),this.appendChild(U)}s(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"replace",this).call(this,T)}}]),F}(h.default);b.blotName="list",b.scope=a.default.Scope.BLOCK_BLOT,b.tagName=["OL","UL"],b.defaultChild="list-item",b.allowedChildren=[w],n.ListItem=w,n.default=b},function(t,n,A){Object.defineProperty(n,"__esModule",{value:!0});var i=A(56),s=o(i);function o(h){return h&&h.__esModule?h:{default:h}}function a(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")}function u(h,d){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:h}function l(h,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);h.prototype=Object.create(d&&d.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(h,d):h.__proto__=d)}var c=function(h){l(d,h);function d(){return a(this,d),u(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(s.default);c.blotName="italic",c.tagName=["EM","I"],n.default=c},function(t,n,A){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function m(g,y){for(var v=0;v<y.length;v++){var w=y[v];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(g,w.key,w)}}return function(g,y,v){return y&&m(g.prototype,y),v&&m(g,v),g}}(),s=function m(g,y,v){g===null&&(g=Function.prototype);var w=Object.getOwnPropertyDescriptor(g,y);if(w===void 0){var b=Object.getPrototypeOf(g);return b===null?void 0:m(b,y,v)}else{if("value"in w)return w.value;var B=w.get;return B===void 0?void 0:B.call(v)}},o=A(6),a=u(o);function u(m){return m&&m.__esModule?m:{default:m}}function l(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function c(m,g){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:m}function h(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(m,g):m.__proto__=g)}var d=function(m){h(g,m);function g(){return l(this,g),c(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return i(g,null,[{key:"create",value:function(v){return v==="super"?document.createElement("sup"):v==="sub"?document.createElement("sub"):s(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,v)}},{key:"formats",value:function(v){if(v.tagName==="SUB")return"sub";if(v.tagName==="SUP")return"super"}}]),g}(a.default);d.blotName="script",d.tagName=["SUB","SUP"],n.default=d},function(t,n,A){Object.defineProperty(n,"__esModule",{value:!0});var i=A(6),s=o(i);function o(h){return h&&h.__esModule?h:{default:h}}function a(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")}function u(h,d){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:h}function l(h,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);h.prototype=Object.create(d&&d.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(h,d):h.__proto__=d)}var c=function(h){l(d,h);function d(){return a(this,d),u(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(s.default);c.blotName="strike",c.tagName="S",n.default=c},function(t,n,A){Object.defineProperty(n,"__esModule",{value:!0});var i=A(6),s=o(i);function o(h){return h&&h.__esModule?h:{default:h}}function a(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")}function u(h,d){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:h}function l(h,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);h.prototype=Object.create(d&&d.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(h,d):h.__proto__=d)}var c=function(h){l(d,h);function d(){return a(this,d),u(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(s.default);c.blotName="underline",c.tagName="U",n.default=c},function(t,n,A){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function y(v,w){for(var b=0;b<w.length;b++){var B=w[b];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(v,B.key,B)}}return function(v,w,b){return w&&y(v.prototype,w),b&&y(v,b),v}}(),s=function y(v,w,b){v===null&&(v=Function.prototype);var B=Object.getOwnPropertyDescriptor(v,w);if(B===void 0){var F=Object.getPrototypeOf(v);return F===null?void 0:y(F,w,b)}else{if("value"in B)return B.value;var N=B.get;return N===void 0?void 0:N.call(b)}},o=A(0),a=l(o),u=A(27);function l(y){return y&&y.__esModule?y:{default:y}}function c(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function h(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function d(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var m=["alt","height","width"],g=function(y){d(v,y);function v(){return c(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return i(v,[{key:"format",value:function(b,B){m.indexOf(b)>-1?B?this.domNode.setAttribute(b,B):this.domNode.removeAttribute(b):s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"format",this).call(this,b,B)}}],[{key:"create",value:function(b){var B=s(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,b);return typeof b=="string"&&B.setAttribute("src",this.sanitize(b)),B}},{key:"formats",value:function(b){return m.reduce(function(B,F){return b.hasAttribute(F)&&(B[F]=b.getAttribute(F)),B},{})}},{key:"match",value:function(b){return/\.(jpe?g|gif|png)$/.test(b)||/^data:image\/.+;base64/.test(b)}},{key:"sanitize",value:function(b){return(0,u.sanitize)(b,["http","https","data"])?b:"//:0"}},{key:"value",value:function(b){return b.getAttribute("src")}}]),v}(a.default.Embed);g.blotName="image",g.tagName="IMG",n.default=g},function(t,n,A){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function y(v,w){for(var b=0;b<w.length;b++){var B=w[b];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(v,B.key,B)}}return function(v,w,b){return w&&y(v.prototype,w),b&&y(v,b),v}}(),s=function y(v,w,b){v===null&&(v=Function.prototype);var B=Object.getOwnPropertyDescriptor(v,w);if(B===void 0){var F=Object.getPrototypeOf(v);return F===null?void 0:y(F,w,b)}else{if("value"in B)return B.value;var N=B.get;return N===void 0?void 0:N.call(b)}},o=A(4),a=A(27),u=l(a);function l(y){return y&&y.__esModule?y:{default:y}}function c(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function h(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function d(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var m=["height","width"],g=function(y){d(v,y);function v(){return c(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return i(v,[{key:"format",value:function(b,B){m.indexOf(b)>-1?B?this.domNode.setAttribute(b,B):this.domNode.removeAttribute(b):s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"format",this).call(this,b,B)}}],[{key:"create",value:function(b){var B=s(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,b);return B.setAttribute("frameborder","0"),B.setAttribute("allowfullscreen",!0),B.setAttribute("src",this.sanitize(b)),B}},{key:"formats",value:function(b){return m.reduce(function(B,F){return b.hasAttribute(F)&&(B[F]=b.getAttribute(F)),B},{})}},{key:"sanitize",value:function(b){return u.default.sanitize(b)}},{key:"value",value:function(b){return b.getAttribute("src")}}]),v}(o.BlockEmbed);g.blotName="video",g.className="ql-video",g.tagName="IFRAME",n.default=g},function(t,n,A){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.FormulaBlot=void 0;var i=function(){function b(B,F){for(var N=0;N<F.length;N++){var T=F[N];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(B,T.key,T)}}return function(B,F,N){return F&&b(B.prototype,F),N&&b(B,N),B}}(),s=function b(B,F,N){B===null&&(B=Function.prototype);var T=Object.getOwnPropertyDescriptor(B,F);if(T===void 0){var U=Object.getPrototypeOf(B);return U===null?void 0:b(U,F,N)}else{if("value"in T)return T.value;var k=T.get;return k===void 0?void 0:k.call(N)}},o=A(35),a=d(o),u=A(5),l=d(u),c=A(9),h=d(c);function d(b){return b&&b.__esModule?b:{default:b}}function m(b,B){if(!(b instanceof B))throw new TypeError("Cannot call a class as a function")}function g(b,B){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B&&(typeof B=="object"||typeof B=="function")?B:b}function y(b,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof B);b.prototype=Object.create(B&&B.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),B&&(Object.setPrototypeOf?Object.setPrototypeOf(b,B):b.__proto__=B)}var v=function(b){y(B,b);function B(){return m(this,B),g(this,(B.__proto__||Object.getPrototypeOf(B)).apply(this,arguments))}return i(B,null,[{key:"create",value:function(N){var T=s(B.__proto__||Object.getPrototypeOf(B),"create",this).call(this,N);return typeof N=="string"&&(window.katex.render(N,T,{throwOnError:!1,errorColor:"#f00"}),T.setAttribute("data-value",N)),T}},{key:"value",value:function(N){return N.getAttribute("data-value")}}]),B}(a.default);v.blotName="formula",v.className="ql-formula",v.tagName="SPAN";var w=function(b){y(B,b),i(B,null,[{key:"register",value:function(){l.default.register(v,!0)}}]);function B(){m(this,B);var F=g(this,(B.__proto__||Object.getPrototypeOf(B)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return F}return B}(h.default);n.FormulaBlot=v,n.default=w},function(t,n,A){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.CodeToken=n.CodeBlock=void 0;var i=function(){function N(T,U){for(var k=0;k<U.length;k++){var D=U[k];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(T,D.key,D)}}return function(T,U,k){return U&&N(T.prototype,U),k&&N(T,k),T}}(),s=function N(T,U,k){T===null&&(T=Function.prototype);var D=Object.getOwnPropertyDescriptor(T,U);if(D===void 0){var _=Object.getPrototypeOf(T);return _===null?void 0:N(_,U,k)}else{if("value"in D)return D.value;var L=D.get;return L===void 0?void 0:L.call(k)}},o=A(0),a=g(o),u=A(5),l=g(u),c=A(9),h=g(c),d=A(13),m=g(d);function g(N){return N&&N.__esModule?N:{default:N}}function y(N,T){if(!(N instanceof T))throw new TypeError("Cannot call a class as a function")}function v(N,T){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:N}function w(N,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);N.prototype=Object.create(T&&T.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(N,T):N.__proto__=T)}var b=function(N){w(T,N);function T(){return y(this,T),v(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return i(T,[{key:"replaceWith",value:function(k){this.domNode.textContent=this.domNode.textContent,this.attach(),s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"replaceWith",this).call(this,k)}},{key:"highlight",value:function(k){var D=this.domNode.textContent;this.cachedText!==D&&((D.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=k(D),this.domNode.normalize(),this.attach()),this.cachedText=D)}}]),T}(m.default);b.className="ql-syntax";var B=new a.default.Attributor.Class("token","hljs",{scope:a.default.Scope.INLINE}),F=function(N){w(T,N),i(T,null,[{key:"register",value:function(){l.default.register(B,!0),l.default.register(b,!0)}}]);function T(U,k){y(this,T);var D=v(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,U,k));if(typeof D.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var _=null;return D.quill.on(l.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(_),_=setTimeout(function(){D.highlight(),_=null},D.options.interval)}),D.highlight(),D}return i(T,[{key:"highlight",value:function(){var k=this;if(!this.quill.selection.composing){this.quill.update(l.default.sources.USER);var D=this.quill.getSelection();this.quill.scroll.descendants(b).forEach(function(_){_.highlight(k.options.highlight)}),this.quill.update(l.default.sources.SILENT),D!=null&&this.quill.setSelection(D,l.default.sources.SILENT)}}}]),T}(h.default);F.DEFAULTS={highlight:function(){return window.hljs==null?null:function(N){var T=window.hljs.highlightAuto(N);return T.value}}(),interval:1e3},n.CodeBlock=b,n.CodeToken=B,n.default=F},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(t,n){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(t,n){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(t,n){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(t,n){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(t,n,A){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BubbleTooltip=void 0;var i=function T(U,k,D){U===null&&(U=Function.prototype);var _=Object.getOwnPropertyDescriptor(U,k);if(_===void 0){var L=Object.getPrototypeOf(U);return L===null?void 0:T(L,k,D)}else{if("value"in _)return _.value;var O=_.get;return O===void 0?void 0:O.call(D)}},s=function(){function T(U,k){for(var D=0;D<k.length;D++){var _=k[D];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(U,_.key,_)}}return function(U,k,D){return k&&T(U.prototype,k),D&&T(U,D),U}}(),o=A(3),a=y(o),u=A(8),l=y(u),c=A(43),h=y(c),d=A(15),m=A(41),g=y(m);function y(T){return T&&T.__esModule?T:{default:T}}function v(T,U){if(!(T instanceof U))throw new TypeError("Cannot call a class as a function")}function w(T,U){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U&&(typeof U=="object"||typeof U=="function")?U:T}function b(T,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof U);T.prototype=Object.create(U&&U.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(T,U):T.__proto__=U)}var B=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],F=function(T){b(U,T);function U(k,D){v(this,U),D.modules.toolbar!=null&&D.modules.toolbar.container==null&&(D.modules.toolbar.container=B);var _=w(this,(U.__proto__||Object.getPrototypeOf(U)).call(this,k,D));return _.quill.container.classList.add("ql-bubble"),_}return s(U,[{key:"extendToolbar",value:function(D){this.tooltip=new N(this.quill,this.options.bounds),this.tooltip.root.appendChild(D.container),this.buildButtons([].slice.call(D.container.querySelectorAll("button")),g.default),this.buildPickers([].slice.call(D.container.querySelectorAll("select")),g.default)}}]),U}(h.default);F.DEFAULTS=(0,a.default)(!0,{},h.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(U){U?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var N=function(T){b(U,T);function U(k,D){v(this,U);var _=w(this,(U.__proto__||Object.getPrototypeOf(U)).call(this,k,D));return _.quill.on(l.default.events.EDITOR_CHANGE,function(L,O,V,$){if(L===l.default.events.SELECTION_CHANGE)if(O!=null&&O.length>0&&$===l.default.sources.USER){_.show(),_.root.style.left="0px",_.root.style.width="",_.root.style.width=_.root.offsetWidth+"px";var Y=_.quill.getLines(O.index,O.length);if(Y.length===1)_.position(_.quill.getBounds(O));else{var re=Y[Y.length-1],le=_.quill.getIndex(re),ne=Math.min(re.length()-1,O.index+O.length-le),te=_.quill.getBounds(new d.Range(le,ne));_.position(te)}}else document.activeElement!==_.textbox&&_.quill.hasFocus()&&_.hide()}),_}return s(U,[{key:"listen",value:function(){var D=this;i(U.prototype.__proto__||Object.getPrototypeOf(U.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){D.root.classList.remove("ql-editing")}),this.quill.on(l.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!D.root.classList.contains("ql-hidden")){var _=D.quill.getSelection();_!=null&&D.position(D.quill.getBounds(_))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(D){var _=i(U.prototype.__proto__||Object.getPrototypeOf(U.prototype),"position",this).call(this,D),L=this.root.querySelector(".ql-tooltip-arrow");if(L.style.marginLeft="",_===0)return _;L.style.marginLeft=-1*_-L.offsetWidth/2+"px"}}]),U}(c.BaseTooltip);N.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),n.BubbleTooltip=N,n.default=F},function(t,n,A){t.exports=A(63)}]).default})}(eF)),eF.exports}var ph,Mj;function f0e(){if(Mj)return ph;Mj=1;var r=ph&&ph.__extends||function(){var l=function(c,h){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,m){d.__proto__=m}||function(d,m){for(var g in m)m.hasOwnProperty(g)&&(d[g]=m[g])},l(c,h)};return function(c,h){l(c,h);function d(){this.constructor=c}c.prototype=h===null?Object.create(h):(d.prototype=h.prototype,new d)}}(),e=ph&&ph.__assign||function(){return e=Object.assign||function(l){for(var c,h=1,d=arguments.length;h<d;h++){c=arguments[h];for(var m in c)Object.prototype.hasOwnProperty.call(c,m)&&(l[m]=c[m])}return l},e.apply(this,arguments)},t=ph&&ph.__spreadArrays||function(){for(var l=0,c=0,h=arguments.length;c<h;c++)l+=arguments[c].length;for(var d=Array(l),m=0,c=0;c<h;c++)for(var g=arguments[c],y=0,v=g.length;y<v;y++,m++)d[m]=g[y];return d},n=ph&&ph.__importDefault||function(l){return l&&l.__esModule?l:{default:l}},A=n(n1()),i=n(MR()),s=n(u0e()),o=n(h0e()),a=function(l){r(c,l);function c(h){var d=l.call(this,h)||this;d.dirtyProps=["modules","formats","bounds","theme","children"],d.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],d.state={generation:0},d.selection=null,d.onEditorChange=function(g,y,v,w){var b,B,F,N;g==="text-change"?(B=(b=d).onEditorChangeText)===null||B===void 0||B.call(b,d.editor.root.innerHTML,y,w,d.unprivilegedEditor):g==="selection-change"&&((N=(F=d).onEditorChangeSelection)===null||N===void 0||N.call(F,y,w,d.unprivilegedEditor))};var m=d.isControlled()?h.value:h.defaultValue;return d.value=m??"",d}return c.prototype.validateProps=function(h){var d;if(A.default.Children.count(h.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(A.default.Children.count(h.children)){var m=A.default.Children.only(h.children);if(((d=m)===null||d===void 0?void 0:d.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&h.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},c.prototype.shouldComponentUpdate=function(h,d){var m=this,g;if(this.validateProps(h),!this.editor||this.state.generation!==d.generation)return!0;if("value"in h){var y=this.getEditorContents(),v=(g=h.value,g??"");this.isEqualValue(v,y)||this.setEditorContents(this.editor,v)}return h.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,h.readOnly),t(this.cleanProps,this.dirtyProps).some(function(w){return!s.default(h[w],m.props[w])})},c.prototype.shouldComponentRegenerate=function(h){var d=this;return this.dirtyProps.some(function(m){return!s.default(h[m],d.props[m])})},c.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},c.prototype.componentWillUnmount=function(){this.destroyEditor()},c.prototype.componentDidUpdate=function(h,d){var m=this;if(this.editor&&this.shouldComponentRegenerate(h)){var g=this.editor.getContents(),y=this.editor.getSelection();this.regenerationSnapshot={delta:g,selection:y},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==d.generation){var v=this.regenerationSnapshot,g=v.delta,w=v.selection;delete this.regenerationSnapshot,this.instantiateEditor();var b=this.editor;b.setContents(g),u(function(){return m.setEditorSelection(b,w)})}},c.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},c.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},c.prototype.isControlled=function(){return"value"in this.props},c.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},c.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},c.prototype.createEditor=function(h,d){var m=new o.default(h,d);return d.tabIndex!=null&&this.setEditorTabIndex(m,d.tabIndex),this.hookEditor(m),m},c.prototype.hookEditor=function(h){this.unprivilegedEditor=this.makeUnprivilegedEditor(h),h.on("editor-change",this.onEditorChange)},c.prototype.unhookEditor=function(h){h.off("editor-change",this.onEditorChange)},c.prototype.getEditorContents=function(){return this.value},c.prototype.getEditorSelection=function(){return this.selection},c.prototype.isDelta=function(h){return h&&h.ops},c.prototype.isEqualValue=function(h,d){return this.isDelta(h)&&this.isDelta(d)?s.default(h.ops,d.ops):s.default(h,d)},c.prototype.setEditorContents=function(h,d){var m=this;this.value=d;var g=this.getEditorSelection();typeof d=="string"?h.setContents(h.clipboard.convert(d)):h.setContents(d),u(function(){return m.setEditorSelection(h,g)})},c.prototype.setEditorSelection=function(h,d){if(this.selection=d,d){var m=h.getLength();d.index=Math.max(0,Math.min(d.index,m-1)),d.length=Math.max(0,Math.min(d.length,m-1-d.index)),h.setSelection(d)}},c.prototype.setEditorTabIndex=function(h,d){var m,g;!((g=(m=h)===null||m===void 0?void 0:m.scroll)===null||g===void 0)&&g.domNode&&(h.scroll.domNode.tabIndex=d)},c.prototype.setEditorReadOnly=function(h,d){d?h.disable():h.enable()},c.prototype.makeUnprivilegedEditor=function(h){var d=h;return{getHTML:function(){return d.root.innerHTML},getLength:d.getLength.bind(d),getText:d.getText.bind(d),getContents:d.getContents.bind(d),getSelection:d.getSelection.bind(d),getBounds:d.getBounds.bind(d)}},c.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var h=i.default.findDOMNode(this.editingArea);if(!h)throw new Error("Cannot find element for editing area");if(h.nodeType===3)throw new Error("Editing area cannot be a text node");return h},c.prototype.renderEditingArea=function(){var h=this,d=this.props,m=d.children,g=d.preserveWhitespace,y=this.state.generation,v={key:y,ref:function(w){h.editingArea=w}};return A.default.Children.count(m)?A.default.cloneElement(A.default.Children.only(m),v):g?A.default.createElement("pre",e({},v)):A.default.createElement("div",e({},v))},c.prototype.render=function(){var h;return A.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(h=this.props.className,h??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},c.prototype.onEditorChangeText=function(h,d,m,g){var y,v;if(this.editor){var w=this.isDelta(this.value)?g.getContents():g.getHTML();w!==this.getEditorContents()&&(this.lastDeltaChangeSet=d,this.value=w,(v=(y=this.props).onChange)===null||v===void 0||v.call(y,h,d,m,g))}},c.prototype.onEditorChangeSelection=function(h,d,m){var g,y,v,w,b,B;if(this.editor){var F=this.getEditorSelection(),N=!F&&h,T=F&&!h;s.default(h,F)||(this.selection=h,(y=(g=this.props).onChangeSelection)===null||y===void 0||y.call(g,h,d,m),N?(w=(v=this.props).onFocus)===null||w===void 0||w.call(v,h,d,m):T&&((B=(b=this.props).onBlur)===null||B===void 0||B.call(b,F,d,m)))}},c.prototype.focus=function(){this.editor&&this.editor.focus()},c.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},c.displayName="React Quill",c.Quill=o.default,c.defaultProps={theme:"snow",modules:{},readOnly:!1},c}(A.default.Component);function u(l){Promise.resolve().then(l)}return ph=a,ph}var d0e=f0e();const p0e=uw(d0e),g0e=()=>{const{uid:r,id:e}=cw(),t=wl(),[n,A]=me.useState(""),[i,s]=me.useState(""),[o,a]=me.useState(""),[u,l]=me.useState(!1),[c,h]=me.useState(null),[d,m]=me.useState(null);me.useEffect(()=>{const y=a1(Mh,v=>{m(v)});return()=>y()},[]),me.useEffect(()=>{(async()=>{var b;const v=mi(yA,"users",r,"summaries",e),w=await Rc(v);if(w.exists()){const B=w.data();A(B.title),s(B.summary),a(B.type),h((b=B.timestamp)==null?void 0:b.toDate().toLocaleString())}else t("/dashboard")})()},[r,e,t]);const g=async()=>{l(!0);const y=mi(yA,"users",r,"summaries",e);await Vy(y,{summary:i}),h(new Date().toLocaleString()),l(!1),alert("Changes saved successfully.")};return J.jsxs("div",{className:"summary-detail-container",children:[J.jsx(Pc,{user:d}),J.jsx("h2",{children:n||"Untitled"}),c&&J.jsx("p",{children:J.jsxs("small",{children:["Last saved: ",c]})}),J.jsx(p0e,{className:"summary-text-editor",theme:"snow",value:i,onChange:s,modules:{toolbar:[[{header:[1,2,!1]}],["bold","italic","underline"],[{color:[]},{background:[]}],[{align:[]}],["clean"]]},formats:["header","bold","italic","underline","color","background","align"]}),J.jsx("button",{className:"save-buttonn",onClick:g,disabled:u,children:u?"Saving...":"Save Changes"})]})},m0e=()=>{const[r,e]=me.useState(null),[t,n]=me.useState(""),[A,i]=me.useState(!1),[s,o]=me.useState(""),[a,u,l]=C3([]),[c,h,d]=b3([]),[m,g]=me.useState("text"),[y,v]=me.useState(null);me.useEffect(()=>{const B=a1(Mh,F=>{e(F)});return()=>B()},[]);const w=async()=>{var B,F;if(m==="text"){if(!t.trim())return}else if(m==="file"&&!y)return;i(!0);try{let N;if(m==="text")N=await ai.post("http://localhost:10000/generate-mindmap",{text:t});else{const k=new FormData;k.append("file",y),N=await ai.post("http://localhost:10000/generate-mindmap-file",k,{headers:{"Content-Type":"multipart/form-data"}})}const{nodes:T,edges:U}=N.data;u(T.map((k,D)=>{const _=D%4,L=Math.floor(D/4);return{...k,position:{x:_*300,y:L*200},data:{label:k.label}}})),h(U.map(k=>({...k,markerEnd:{type:qb.ArrowClosed,color:"#000000"},label:k.label||""})))}catch(N){console.error("Error generating mindmap:",N),(F=(B=N.response)==null?void 0:B.data)!=null&&F.detail?alert(`Error: ${N.response.data.detail}`):alert("An unexpected error occurred while generating the mindmap.")}finally{i(!1)}},b=async()=>{if(!(!r||!s.trim()||a.length===0))try{await AK(wm(yA,"users",r.uid,"mindmaps"),{title:s,nodes:a,edges:c,uid:r.uid,timestamp:XP()}),alert("Mindmap saved successfully!"),o("")}catch(B){console.error("Error saving mindmap:",B),alert("Failed to save mindmap.")}};return J.jsx(qx,{children:J.jsxs("div",{className:"mindmap-generator-container",style:{height:"100vh",display:"flex",flexDirection:"column"},children:[J.jsx(Pc,{user:r}),J.jsxs("div",{className:"mode-toggle",children:[J.jsx("button",{className:m==="text"?"active":"",onClick:()=>g("text"),children:"Text Mode"}),J.jsx("button",{className:m==="file"?"active":"",onClick:()=>g("file"),children:"File Mode"})]}),J.jsx("main",{}),J.jsx("h1",{children:"Mind Map Generator"}),m==="text"?J.jsxs(J.Fragment,{children:[J.jsx("textarea",{placeholder:"Enter your text here...",value:t,onChange:B=>n(B.target.value),rows:5,style:{width:"100%",maxWidth:"800px",marginBottom:"10px"}}),J.jsx("button",{className:"mindmap-button",onClick:w,disabled:A,style:{marginBottom:"1rem"},children:A?"Generating...":"Generate Mind Map"})]}):J.jsxs("div",{className:"file-upload-section",style:{marginBottom:"1rem"},children:[J.jsx("label",{children:"Upload PDF/ DOCX/ Image:"}),J.jsx("br",{}),J.jsxs("label",{className:"custom-file-upload",children:["Choose File",J.jsx("input",{type:"file",accept:".pdf,.docx,.jpg,.jpeg,.png",onChange:B=>v(B.target.files[0])})]}),y&&J.jsx("div",{style:{marginTop:"0.5rem",fontSize:"0.9rem",color:"#666"},children:y.name}),J.jsx("button",{className:"mindmap-button",onClick:w,disabled:A||!y,style:{marginTop:"0.5rem"},children:A?"Generating...":"Generate Mind Map"})]}),J.jsx("div",{className:"mindmap-flow-wrapper",children:J.jsx(Wx,{nodes:a,edges:c,onNodesChange:l,onEdgesChange:d,fitView:!0,nodesDraggable:!0,nodesConnectable:!1,elementsSelectable:!1,edgesFocusable:!0,panOnDrag:!0,zoomOnScroll:!0,zoomOnPinch:!0,minZoom:.2,maxZoom:2,deleteKeyCode:null})}),a.length>0&&J.jsxs("div",{className:"save-container",style:{marginTop:"1rem"},children:[J.jsx("input",{type:"text",placeholder:"Enter mind map title...",value:s,onChange:B=>o(B.target.value),style:{padding:"0.5rem",borderRadius:"8px",width:"60%",marginRight:"1rem"}}),J.jsx("button",{className:"mindmap-button",onClick:b,children:"Save"})]})]})})},v0e={custom:L3},y0e=()=>{const{uid:r,id:e}=cw(),t=wl(),[n,A]=me.useState(""),[i,s,o]=C3([]),[a,u,l]=b3([]),[c,h]=me.useState(!1),[d,m]=me.useState(""),[g,y]=me.useState(null),[v,w]=me.useState(!1),[b,B]=me.useState({visible:!1,edgeId:"",label:""});me.useEffect(()=>{const _=a1(Mh,L=>{y(L)});return()=>_()},[]),me.useEffect(()=>{(async()=>{var V;const L=mi(yA,"users",r,"mindmaps",e),O=await Rc(L);if(O.exists()){const $=O.data();A($.title||"Untitled Mind Map");const Y=($.nodes||[]).map(re=>({...re,type:"custom",data:{...re.data,onChange:le=>{s(ne=>ne.map(te=>te.id===re.id?{...te,data:{...te.data,label:le,onChange:te.data.onChange,onChangeColors:te.data.onChangeColors}}:te))},onChangeColors:({bgColor:le,borderColor:ne})=>{s(te=>te.map(G=>G.id===re.id?{...G,data:{...G.data,bgColor:le,borderColor:ne,onChange:G.data.onChange,onChangeColors:G.data.onChangeColors}}:G))}}}));s(Y),u(($.edges||[]).map(re=>({...re,style:{stroke:"#000000",strokeWidth:1.5},labelStyle:{fill:"#000000",fontWeight:"600"}}))),m(((V=$.timestamp)==null?void 0:V.toDate().toLocaleString())||"")}else t("/dashboard")})()},[r,e,t]);const F=async()=>{h(!0);try{const _=mi(yA,"users",r,"mindmaps",e),L=i.map(({id:O,type:V,position:$,data:Y})=>({id:O,type:V,position:$,data:{label:Y.label||"",bgColor:Y.bgColor||"#ffffff",borderColor:Y.borderColor||"#000000"}}));await Vy(_,{nodes:L,edges:a}),alert("Changes saved successfully.")}catch(_){console.error("Error saving changes:",_),alert("Failed to save changes.")}h(!1)},N=_=>{const L=`e${_.source}-${_.target}-${Date.now()}`;B({visible:!0,edgeId:L,label:"",connection:{..._,id:L}})},T=(_,L)=>{v&&s(O=>O.filter(V=>V.id!==L.id))},U=(_,L)=>{v?u(O=>O.filter(V=>V.id!==L.id)):B({visible:!0,edgeId:L.id,label:L.label||""})},k=()=>{if(b.connection){const _={...b.connection,id:b.edgeId,label:b.label,style:{stroke:"#000000",strokeWidth:1.5},labelStyle:{fill:"#000000",fontWeight:"600"}};u(L=>MG(_,L))}else u(_=>_.map(L=>L.id===b.edgeId?{...L,label:b.label}:L));B({visible:!1,edgeId:"",label:""})},D=()=>{const _=`${+new Date}`,L={id:_,type:"custom",data:{label:"New Node",bgColor:"#ffffff",borderColor:"#000000",onChange:O=>{s(V=>V.map($=>$.id===_?{...$,data:{...$.data,label:O,onChange:$.data.onChange,onChangeColors:$.data.onChangeColors}}:$))},onChangeColors:({bgColor:O,borderColor:V})=>{s($=>$.map(Y=>Y.id===_?{...Y,data:{...Y.data,bgColor:O,borderColor:V,onChange:Y.data.onChange,onChangeColors:Y.data.onChangeColors}}:Y))}},position:{x:Math.random()*250,y:Math.random()*250}};s(O=>[...O,L])};return J.jsxs("div",{className:"summary-detail-container",children:[J.jsx(Pc,{user:g}),J.jsxs("main",{className:"page-content",children:[J.jsx("h2",{children:n}),d&&J.jsx("p",{children:J.jsxs("small",{children:["Created: ",d]})}),J.jsx("button",{onClick:D,className:"add-node-btn",children:"Add Node"}),J.jsx("button",{onClick:()=>w(!v),className:"delete-mode-btn",children:v?"Exit":"Delete Node"}),v&&J.jsx("p",{style:{color:"#d32f2f",fontSize:"14px",marginTop:"0.5rem"},children:"Click on nodes or edges you wish to delete"}),J.jsx("div",{style:{height:"600px",background:"white",borderRadius:"10px",marginTop:"1rem"},children:J.jsx(qx,{children:J.jsx(Wx,{nodes:i,edges:a,onNodesChange:o,onEdgesChange:l,onConnect:N,onNodeClick:T,onEdgeClick:U,fitView:!0,nodeTypes:v0e})})}),J.jsx("button",{onClick:F,disabled:c,className:"save-btn",children:c?"Saving...":"Save Changes"}),b.visible&&J.jsx("div",{className:"rename-modal-overlay",children:J.jsxs("div",{className:"rename-modal",children:[J.jsx("button",{className:"close-modal-button",onClick:()=>B({visible:!1,edgeId:"",label:""}),children:""}),J.jsx("h3",{children:b.connection?"Create Edge Label":"Edit Edge Label"}),J.jsx("input",{type:"text",value:b.label,onChange:_=>B(L=>({...L,label:_.target.value})),placeholder:"Edge label"}),J.jsx("button",{onClick:k,className:"confirm-rename-button",children:b.connection?"Create":"Save"})]})})]})]})},dl=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),_N=[.001,0,0,.001,0,0],NL=1.35,Hu={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Vf={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},w0e="pdfjs_internal_editor_",$r={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,SIGNATURE:101},Qn={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},pz={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Sa={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Eb={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},rs={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},h0={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},X_={ERRORS:0,WARNINGS:1,INFOS:5},Xb={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},CS={moveTo:0,lineTo:1,curveTo:2,closePath:3},gz={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let lU=X_.WARNINGS;function B0e(r){Number.isInteger(r)&&(lU=r)}function C0e(){return lU}function uU(r){lU>=X_.INFOS&&console.log(`Info: ${r}`)}function Zr(r){lU>=X_.WARNINGS&&console.log(`Warning: ${r}`)}function TA(r){throw new Error(r)}function Is(r,e){r||TA(e)}function b0e(r){switch(r==null?void 0:r.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function GO(r,e=null,t=null){if(!r)return null;if(t&&typeof r=="string"){if(t.addDefaultProtocol&&r.startsWith("www.")){const A=r.match(/\./g);(A==null?void 0:A.length)>=2&&(r=`http://${r}`)}if(t.tryConvertEncoding)try{r=I0e(r)}catch{}}const n=e?URL.parse(r,e):URL.parse(r);return b0e(n)?n:null}function zO(r,e,t=!1){const n=URL.parse(r);return n?(n.hash=e,n.href):t&&GO(r,"http://example.com")?r.split("#",1)[0]+`${e?`#${e}`:""}`:""}function En(r,e,t,n=!1){return Object.defineProperty(r,e,{value:t,enumerable:!n,configurable:!0,writable:!1}),t}const gw=function(){function e(t,n){this.message=t,this.name=n}return e.prototype=new Error,e.constructor=e,e}();class Hj extends gw{constructor(e,t){super(e,"PasswordException"),this.code=t}}class RL extends gw{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class EI extends gw{constructor(e){super(e,"InvalidPDFException")}}class Yb extends gw{constructor(e,t,n){super(e,"ResponseException"),this.status=t,this.missing=n}}class E0e extends gw{constructor(e){super(e,"FormatError")}}class Op extends gw{constructor(e){super(e,"AbortException")}}function mz(r){(typeof r!="object"||(r==null?void 0:r.length)===void 0)&&TA("Invalid argument for bytesToString");const e=r.length,t=8192;if(e<t)return String.fromCharCode.apply(null,r);const n=[];for(let A=0;A<e;A+=t){const i=Math.min(A+t,e),s=r.subarray(A,i);n.push(String.fromCharCode.apply(null,s))}return n.join("")}function Y_(r){typeof r!="string"&&TA("Invalid argument for stringToBytes");const e=r.length,t=new Uint8Array(e);for(let n=0;n<e;++n)t[n]=r.charCodeAt(n)&255;return t}function _0e(r){return String.fromCharCode(r>>24&255,r>>16&255,r>>8&255,r&255)}function S0e(){const r=new Uint8Array(4);return r[0]=1,new Uint32Array(r.buffer,0,1)[0]===1}function F0e(){try{return new Function(""),!0}catch{return!1}}class _o{static get isLittleEndian(){return En(this,"isLittleEndian",S0e())}static get isEvalSupported(){return En(this,"isEvalSupported",F0e())}static get isOffscreenCanvasSupported(){return En(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return En(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return En(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){var e,t;return En(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const PL=Array.from(Array(256).keys(),r=>r.toString(16).padStart(2,"0"));var Sp,tF,SN;class Ur{static makeHexColor(e,t,n){return`#${PL[e]}${PL[t]}${PL[n]}`}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t,n=0){const A=e[n],i=e[n+1];e[n]=A*t[0]+i*t[2]+t[4],e[n+1]=A*t[1]+i*t[3]+t[5]}static applyTransformToBezier(e,t,n=0){const A=t[0],i=t[1],s=t[2],o=t[3],a=t[4],u=t[5];for(let l=0;l<6;l+=2){const c=e[n+l],h=e[n+l+1];e[n+l]=c*A+h*s+a,e[n+l+1]=c*i+h*o+u}}static applyInverseTransform(e,t){const n=e[0],A=e[1],i=t[0]*t[3]-t[1]*t[2];e[0]=(n*t[3]-A*t[2]+t[2]*t[5]-t[4]*t[3])/i,e[1]=(-n*t[1]+A*t[0]+t[4]*t[1]-t[5]*t[0])/i}static axialAlignedBoundingBox(e,t,n){const A=t[0],i=t[1],s=t[2],o=t[3],a=t[4],u=t[5],l=e[0],c=e[1],h=e[2],d=e[3];let m=A*l+a,g=m,y=A*h+a,v=y,w=o*c+u,b=w,B=o*d+u,F=B;if(i!==0||s!==0){const N=i*l,T=i*h,U=s*c,k=s*d;m+=U,v+=U,y+=k,g+=k,w+=N,F+=N,B+=T,b+=T}n[0]=Math.min(n[0],m,y,g,v),n[1]=Math.min(n[1],w,B,b,F),n[2]=Math.max(n[2],m,y,g,v),n[3]=Math.max(n[3],w,B,b,F)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const n=e[0],A=e[1],i=e[2],s=e[3],o=n**2+A**2,a=n*i+A*s,u=i**2+s**2,l=(o+u)/2,c=Math.sqrt(l**2-(o*u-a**2));t[0]=Math.sqrt(l+c||1),t[1]=Math.sqrt(l-c||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),A=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>A)return null;const i=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),s=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return i>s?null:[n,i,A,s]}static pointBoundingBox(e,t,n){n[0]=Math.min(n[0],e),n[1]=Math.min(n[1],t),n[2]=Math.max(n[2],e),n[3]=Math.max(n[3],t)}static rectBoundingBox(e,t,n,A,i){i[0]=Math.min(i[0],e,n),i[1]=Math.min(i[1],t,A),i[2]=Math.max(i[2],e,n),i[3]=Math.max(i[3],t,A)}static bezierBoundingBox(e,t,n,A,i,s,o,a,u){u[0]=Math.min(u[0],e,o),u[1]=Math.min(u[1],t,a),u[2]=Math.max(u[2],e,o),u[3]=Math.max(u[3],t,a),be(this,Sp,SN).call(this,e,n,i,o,t,A,s,a,3*(-e+3*(n-i)+o),6*(e-2*n+i),3*(n-e),u),be(this,Sp,SN).call(this,e,n,i,o,t,A,s,a,3*(-t+3*(A-s)+a),6*(t-2*A+s),3*(A-t),u)}}Sp=new WeakSet,tF=function(e,t,n,A,i,s,o,a,u,l){if(u<=0||u>=1)return;const c=1-u,h=u*u,d=h*u,m=c*(c*(c*e+3*u*t)+3*h*n)+d*A,g=c*(c*(c*i+3*u*s)+3*h*o)+d*a;l[0]=Math.min(l[0],m),l[1]=Math.min(l[1],g),l[2]=Math.max(l[2],m),l[3]=Math.max(l[3],g)},SN=function(e,t,n,A,i,s,o,a,u,l,c,h){if(Math.abs(u)<1e-12){Math.abs(l)>=1e-12&&be(this,Sp,tF).call(this,e,t,n,A,i,s,o,a,-c/l,h);return}const d=l**2-4*c*u;if(d<0)return;const m=Math.sqrt(d),g=2*u;be(this,Sp,tF).call(this,e,t,n,A,i,s,o,a,(-l+m)/g,h),be(this,Sp,tF).call(this,e,t,n,A,i,s,o,a,(-l-m)/g,h)},Be(Ur,Sp);function I0e(r){return decodeURIComponent(escape(r))}let OL=null,jj=null;function vz(r){return OL||(OL=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,jj=new Map([["","t"]])),r.replaceAll(OL,(e,t,n)=>t?t.normalize("NFKC"):jj.get(n))}function qO(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const r=new Uint8Array(32);return crypto.getRandomValues(r),mz(r)}const WO="pdfjs_internal_id_";function x0e(r,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[n,A,...i]=t;if(!r(n)&&!Number.isInteger(n)||!e(A))return!1;const s=i.length;let o=!0;switch(A.name){case"XYZ":if(s<2||s>3)return!1;break;case"Fit":case"FitB":return s===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(s>1)return!1;break;case"FitR":if(s!==4)return!1;o=!1;break;default:return!1}for(const a of i)if(!(typeof a=="number"||o&&a===null))return!1;return!0}function La(r,e,t){return Math.min(Math.max(r,e),t)}function yz(r){return Uint8Array.prototype.toBase64?r.toBase64():btoa(mz(r))}function U0e(r){return Uint8Array.fromBase64?Uint8Array.fromBase64(r):Y_(atob(r))}typeof Promise.try!="function"&&(Promise.try=function(r,...e){return new Promise(t=>{t(r(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(r){return r.reduce((e,t)=>e+t,0)});const Dd="http://www.w3.org/2000/svg",_v=class _v{};qt(_v,"CSS",96),qt(_v,"PDF",72),qt(_v,"PDF_TO_CSS_UNITS",_v.CSS/_v.PDF);let kp=_v;async function v1(r,e="text"){if(jC(r,document.baseURI)){const t=await fetch(r);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,n)=>{const A=new XMLHttpRequest;A.open("GET",r,!0),A.responseType=e,A.onreadystatechange=()=>{if(A.readyState===XMLHttpRequest.DONE){if(A.status===200||A.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(A.response);return}t(A.responseText);return}n(new Error(A.statusText))}},A.send(null)})}class J_{constructor({viewBox:e,userUnit:t,scale:n,rotation:A,offsetX:i=0,offsetY:s=0,dontFlip:o=!1}){this.viewBox=e,this.userUnit=t,this.scale=n,this.rotation=A,this.offsetX=i,this.offsetY=s,n*=t;const a=(e[2]+e[0])/2,u=(e[3]+e[1])/2;let l,c,h,d;switch(A%=360,A<0&&(A+=360),A){case 180:l=-1,c=0,h=0,d=1;break;case 90:l=0,c=1,h=1,d=0;break;case 270:l=0,c=-1,h=-1,d=0;break;case 0:l=1,c=0,h=0,d=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(h=-h,d=-d);let m,g,y,v;l===0?(m=Math.abs(u-e[1])*n+i,g=Math.abs(a-e[0])*n+s,y=(e[3]-e[1])*n,v=(e[2]-e[0])*n):(m=Math.abs(a-e[0])*n+i,g=Math.abs(u-e[1])*n+s,y=(e[2]-e[0])*n,v=(e[3]-e[1])*n),this.transform=[l*n,c*n,h*n,d*n,m-l*n*a-h*n*u,g-c*n*a-d*n*u],this.width=y,this.height=v}get rawDims(){const e=this.viewBox;return En(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:A=this.offsetY,dontFlip:i=!1}={}){return new J_({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:A,dontFlip:i})}convertToViewportPoint(e,t){const n=[e,t];return Ur.applyTransform(n,this.transform),n}convertToViewportRectangle(e){const t=[e[0],e[1]];Ur.applyTransform(t,this.transform);const n=[e[2],e[3]];return Ur.applyTransform(n,this.transform),[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){const n=[e,t];return Ur.applyInverseTransform(n,this.transform),n}}class cU extends gw{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function Z_(r){const e=r.length;let t=0;for(;t<e&&r[t].trim()==="";)t++;return r.substring(t,t+5).toLowerCase()==="data:"}function hU(r){return typeof r=="string"&&/\.pdf$/i.test(r)}function wz(r){return[r]=r.split(/[#?]/,1),r.substring(r.lastIndexOf("/")+1)}function Bz(r,e="document.pdf"){if(typeof r!="string")return e;if(Z_(r))return Zr('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,A=t.exec(r);let i=n.exec(A[1])||n.exec(A[2])||n.exec(A[3]);if(i&&(i=i[0],i.includes("%")))try{i=n.exec(decodeURIComponent(i))[0]}catch{}return i||e}class Vj{constructor(){qt(this,"started",Object.create(null));qt(this,"times",[])}time(e){e in this.started&&Zr(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Zr(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:A,end:i}of this.times)e.push(`${n.padEnd(t)} ${i-A}ms
`);return e.join("")}}function jC(r,e){const t=e?URL.parse(r,e):URL.parse(r);return(t==null?void 0:t.protocol)==="http:"||(t==null?void 0:t.protocol)==="https:"}function kc(r){r.preventDefault()}function os(r){r.preventDefault(),r.stopPropagation()}function T0e(r){console.log("Deprecated API usage: "+r)}var nE;class fU{static toDateObject(e){if(!e||typeof e!="string")return null;C(this,nE)||he(this,nE,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=C(this,nE).exec(e);if(!t)return null;const n=parseInt(t[1],10);let A=parseInt(t[2],10);A=A>=1&&A<=12?A-1:0;let i=parseInt(t[3],10);i=i>=1&&i<=31?i:1;let s=parseInt(t[4],10);s=s>=0&&s<=23?s:0;let o=parseInt(t[5],10);o=o>=0&&o<=59?o:0;let a=parseInt(t[6],10);a=a>=0&&a<=59?a:0;const u=t[7]||"Z";let l=parseInt(t[8],10);l=l>=0&&l<=23?l:0;let c=parseInt(t[9],10)||0;return c=c>=0&&c<=59?c:0,u==="-"?(s+=l,o+=c):u==="+"&&(s-=l,o-=c),new Date(Date.UTC(n,A,i,s,o,a))}}nE=new WeakMap,Be(fU,nE);function Cz(r,{scale:e=1,rotation:t=0}){const{width:n,height:A}=r.attributes.style,i=[0,0,parseInt(n),parseInt(A)];return new J_({viewBox:i,userUnit:1,scale:e,rotation:t})}function $O(r){if(r.startsWith("#")){const e=parseInt(r.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return r.startsWith("rgb(")?r.slice(4,-1).split(",").map(e=>parseInt(e)):r.startsWith("rgba(")?r.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Zr(`Not a valid color format: "${r}"`),[0,0,0])}function Q0e(r){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of r.keys()){e.style.color=t;const n=window.getComputedStyle(e).color;r.set(t,$O(n))}e.remove()}function Si(r){const{a:e,b:t,c:n,d:A,e:i,f:s}=r.getTransform();return[e,t,n,A,i,s]}function Bf(r){const{a:e,b:t,c:n,d:A,e:i,f:s}=r.getTransform().invertSelf();return[e,t,n,A,i,s]}function km(r,e,t=!1,n=!0){if(e instanceof J_){const{pageWidth:A,pageHeight:i}=e.rawDims,{style:s}=r,o=_o.isCSSRoundSupported,a=`var(--total-scale-factor) * ${A}px`,u=`var(--total-scale-factor) * ${i}px`,l=o?`round(down, ${a}, var(--scale-round-x))`:`calc(${a})`,c=o?`round(down, ${u}, var(--scale-round-y))`:`calc(${u})`;!t||e.rotation%180===0?(s.width=l,s.height=c):(s.width=c,s.height=l)}n&&r.setAttribute("data-main-rotation",e.rotation)}class Hh{constructor(){const{pixelRatio:e}=Hh;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,n,A,i=-1){let s=1/0,o=1/0,a=1/0;n=Hh.capPixels(n,i),n>0&&(s=Math.sqrt(n/(e*t))),A!==-1&&(o=A/e,a=A/t);const u=Math.min(s,o,a);return this.sx>u||this.sy>u?(this.sx=u,this.sy=u,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const n=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,n):n}return e}}const _I=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];var Fg,Nv,mc,Ig,AE,O0,iE,LI,bz,Jo,Ez,_z,VC,Sz,rF;const jd=class jd{constructor(e){Be(this,Jo);Be(this,Fg,null);Be(this,Nv,null);Be(this,mc);Be(this,Ig,null);Be(this,AE,null);Be(this,O0,null);he(this,mc,e),C(jd,iE)||he(jd,iE,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=he(this,Fg,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=C(this,mc)._uiManager._signal;e.addEventListener("contextmenu",kc,{signal:t}),e.addEventListener("pointerdown",be(jd,LI,bz),{signal:t});const n=he(this,Ig,document.createElement("div"));n.className="buttons",e.append(n);const A=C(this,mc).toolbarPosition;if(A){const{style:i}=e,s=C(this,mc)._uiManager.direction==="ltr"?1-A[0]:A[0];i.insetInlineEnd=`${100*s}%`,i.top=`calc(${100*A[1]}% + var(--editor-toolbar-vert-offset))`}return be(this,Jo,Sz).call(this),e}get div(){return C(this,Fg)}hide(){var e;C(this,Fg).classList.add("hidden"),(e=C(this,Nv))==null||e.hideDropdown()}show(){var e;C(this,Fg).classList.remove("hidden"),(e=C(this,AE))==null||e.shown()}async addAltText(e){const t=await e.render();be(this,Jo,VC).call(this,t),C(this,Ig).prepend(t,C(this,Jo,rF)),he(this,AE,e)}addColorPicker(e){he(this,Nv,e);const t=e.renderButton();be(this,Jo,VC).call(this,t),C(this,Ig).prepend(t,C(this,Jo,rF))}async addEditSignatureButton(e){const t=he(this,O0,await e.renderEditButton(C(this,mc)));be(this,Jo,VC).call(this,t),C(this,Ig).prepend(t,C(this,Jo,rF))}updateEditSignatureButton(e){C(this,O0)&&(C(this,O0).title=e)}remove(){var e;C(this,Fg).remove(),(e=C(this,Nv))==null||e.destroy(),he(this,Nv,null)}};Fg=new WeakMap,Nv=new WeakMap,mc=new WeakMap,Ig=new WeakMap,AE=new WeakMap,O0=new WeakMap,iE=new WeakMap,LI=new WeakSet,bz=function(e){e.stopPropagation()},Jo=new WeakSet,Ez=function(e){C(this,mc)._focusEventsAllowed=!1,os(e)},_z=function(e){C(this,mc)._focusEventsAllowed=!0,os(e)},VC=function(e){const t=C(this,mc)._uiManager._signal;e.addEventListener("focusin",be(this,Jo,Ez).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",be(this,Jo,_z).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",kc,{signal:t})},Sz=function(){const{editorType:e,_uiManager:t}=C(this,mc),n=document.createElement("button");n.className="delete",n.tabIndex=0,n.setAttribute("data-l10n-id",C(jd,iE)[e]),be(this,Jo,VC).call(this,n),n.addEventListener("click",A=>{t.delete()},{signal:t._signal}),C(this,Ig).append(n)},rF=function(){const e=document.createElement("div");return e.className="divider",e},Be(jd,LI),Be(jd,iE,null);let FN=jd;var sE,Rv,Pv,Mm,Fz,Iz,xz;class L0e{constructor(e){Be(this,Mm);Be(this,sE,null);Be(this,Rv,null);Be(this,Pv);he(this,Pv,e)}show(e,t,n){const[A,i]=be(this,Mm,Iz).call(this,t,n),{style:s}=C(this,Rv)||he(this,Rv,be(this,Mm,Fz).call(this));e.append(C(this,Rv)),s.insetInlineEnd=`${100*A}%`,s.top=`calc(${100*i}% + var(--editor-toolbar-vert-offset))`}hide(){C(this,Rv).remove()}}sE=new WeakMap,Rv=new WeakMap,Pv=new WeakMap,Mm=new WeakSet,Fz=function(){const e=he(this,Rv,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",kc,{signal:C(this,Pv)._signal});const t=he(this,sE,document.createElement("div"));return t.className="buttons",e.append(t),be(this,Mm,xz).call(this),e},Iz=function(e,t){let n=0,A=0;for(const i of e){const s=i.y+i.height;if(s<n)continue;const o=i.x+(t?i.width:0);if(s>n){A=o,n=s;continue}t?o>A&&(A=o):o<A&&(A=o)}return[t?1-A:A,n]},xz=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=C(this,Pv)._signal;e.addEventListener("contextmenu",kc,{signal:n}),e.addEventListener("click",()=>{C(this,Pv).highlightSelection("floating_button")},{signal:n}),C(this,sE).append(e)};function Uz(r,e,t){for(const n of t)e.addEventListener(n,r[n].bind(r))}var NI;class N0e{constructor(){Be(this,NI,0)}get id(){return`${w0e}${Al(this,NI)._++}`}}NI=new WeakMap;var k0,oE,Ia,D0,nF;const sk=class sk{constructor(){Be(this,D0);Be(this,k0,qO());Be(this,oE,0);Be(this,Ia,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),A=new Image;A.src=e;const i=A.decode().then(()=>(n.drawImage(A,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return En(this,"_isSVGFittingCanvas",i)}async getFromFile(e){const{lastModified:t,name:n,size:A,type:i}=e;return be(this,D0,nF).call(this,`${t}_${n}_${A}_${i}`,e)}async getFromUrl(e){return be(this,D0,nF).call(this,e,e)}async getFromBlob(e,t){const n=await t;return be(this,D0,nF).call(this,e,n)}async getFromId(e){C(this,Ia)||he(this,Ia,new Map);const t=C(this,Ia).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:n}=t;return delete t.blobPromise,this.getFromBlob(t.id,n)}return this.getFromUrl(t.url)}getFromCanvas(e,t){C(this,Ia)||he(this,Ia,new Map);let n=C(this,Ia).get(e);if(n!=null&&n.bitmap)return n.refCounter+=1,n;const A=new OffscreenCanvas(t.width,t.height);return A.getContext("2d").drawImage(t,0,0),n={bitmap:A.transferToImageBitmap(),id:`image_${C(this,k0)}_${Al(this,oE)._++}`,refCounter:1,isSvg:!1},C(this,Ia).set(e,n),C(this,Ia).set(n.id,n),n}getSvgUrl(e){const t=C(this,Ia).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var A;C(this,Ia)||he(this,Ia,new Map);const t=C(this,Ia).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:n}=t;if(!t.url&&!t.file){const i=new OffscreenCanvas(n.width,n.height);i.getContext("bitmaprenderer").transferFromImageBitmap(n),t.blobPromise=i.convertToBlob()}(A=n.close)==null||A.call(n),t.bitmap=null}isValidId(e){return e.startsWith(`image_${C(this,k0)}_`)}};k0=new WeakMap,oE=new WeakMap,Ia=new WeakMap,D0=new WeakSet,nF=async function(e,t){C(this,Ia)||he(this,Ia,new Map);let n=C(this,Ia).get(e);if(n===null)return null;if(n!=null&&n.bitmap)return n.refCounter+=1,n;try{n||(n={bitmap:null,id:`image_${C(this,k0)}_${Al(this,oE)._++}`,refCounter:0,isSvg:!1});let A;if(typeof t=="string"?(n.url=t,A=await v1(t,"blob")):t instanceof File?A=n.file=t:t instanceof Blob&&(A=t),A.type==="image/svg+xml"){const i=sk._isSVGFittingCanvas,s=new FileReader,o=new Image,a=new Promise((u,l)=>{o.onload=()=>{n.bitmap=o,n.isSvg=!0,u()},s.onload=async()=>{const c=n.svgUrl=s.result;o.src=await i?`${c}#svgView(preserveAspectRatio(none))`:c},o.onerror=s.onerror=l});s.readAsDataURL(A),await a}else n.bitmap=await createImageBitmap(A);n.refCounter=1}catch(A){Zr(A),n=null}return C(this,Ia).set(e,n),n&&C(this,Ia).set(n.id,n),n};let IN=sk;var ns,xg,aE,_i;class R0e{constructor(e=128){Be(this,ns,[]);Be(this,xg,!1);Be(this,aE);Be(this,_i,-1);he(this,aE,e)}add({cmd:e,undo:t,post:n,mustExec:A,type:i=NaN,overwriteIfSameType:s=!1,keepUndo:o=!1}){if(A&&e(),C(this,xg))return;const a={cmd:e,undo:t,post:n,type:i};if(C(this,_i)===-1){C(this,ns).length>0&&(C(this,ns).length=0),he(this,_i,0),C(this,ns).push(a);return}if(s&&C(this,ns)[C(this,_i)].type===i){o&&(a.undo=C(this,ns)[C(this,_i)].undo),C(this,ns)[C(this,_i)]=a;return}const u=C(this,_i)+1;u===C(this,aE)?C(this,ns).splice(0,1):(he(this,_i,u),u<C(this,ns).length&&C(this,ns).splice(u)),C(this,ns).push(a)}undo(){if(C(this,_i)===-1)return;he(this,xg,!0);const{undo:e,post:t}=C(this,ns)[C(this,_i)];e(),t==null||t(),he(this,xg,!1),he(this,_i,C(this,_i)-1)}redo(){if(C(this,_i)<C(this,ns).length-1){he(this,_i,C(this,_i)+1),he(this,xg,!0);const{cmd:e,post:t}=C(this,ns)[C(this,_i)];e(),t==null||t(),he(this,xg,!1)}}hasSomethingToUndo(){return C(this,_i)!==-1}hasSomethingToRedo(){return C(this,_i)<C(this,ns).length-1}cleanType(e){if(C(this,_i)!==-1){for(let t=C(this,_i);t>=0;t--)if(C(this,ns)[t].type!==e){C(this,ns).splice(t+1,C(this,_i)-t),he(this,_i,t);return}C(this,ns).length=0,he(this,_i,-1)}}destroy(){he(this,ns,null)}}ns=new WeakMap,xg=new WeakMap,aE=new WeakMap,_i=new WeakMap;var RI,Tz;class e2{constructor(e){Be(this,RI);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=_o.platform;for(const[n,A,i={}]of e)for(const s of n){const o=s.startsWith("mac+");t&&o?(this.callbacks.set(s.slice(4),{callback:A,options:i}),this.allKeys.add(s.split("+").at(-1))):!t&&!o&&(this.callbacks.set(s,{callback:A,options:i}),this.allKeys.add(s.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(be(this,RI,Tz).call(this,t));if(!n)return;const{callback:A,options:{bubbles:i=!1,args:s=[],checker:o=null}}=n;o&&!o(e,t)||(A.bind(e,...s,t)(),i||os(t))}}RI=new WeakSet,Tz=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const PI=class PI{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return Q0e(e),En(this,"_colors",e)}convert(e){const t=$O(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,A]of this._colors)if(A.every((i,s)=>i===t[s]))return PI._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?Ur.makeHexColor(...t):e}};qt(PI,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let xN=PI;var M0,Iu,Xs,Ho,H0,Kd,j0,vc,Ug,Tg,V0,Ov,Ff,wh,kv,lE,uE,K0,cE,If,Qg,G0,Lg,xf,OI,Ng,hE,Rg,Dv,Mv,Pg,fE,vo,vA,Gd,Og,Hv,dE,pE,kg,Uf,zd,gE,yc,rr,AF,UN,Qz,Lz,iF,Nz,Rz,Pz,TN,Oz,QN,LN,kz,al,Md,Dz,Mz,NN,Hz,KC,RN;const b0=class b0{constructor(e,t,n,A,i,s,o,a,u,l,c,h,d,m){Be(this,rr);Be(this,M0,new AbortController);Be(this,Iu,null);Be(this,Xs,new Map);Be(this,Ho,new Map);Be(this,H0,null);Be(this,Kd,null);Be(this,j0,null);Be(this,vc,new R0e);Be(this,Ug,null);Be(this,Tg,null);Be(this,V0,0);Be(this,Ov,new Set);Be(this,Ff,null);Be(this,wh,null);Be(this,kv,new Set);qt(this,"_editorUndoBar",null);Be(this,lE,!1);Be(this,uE,!1);Be(this,K0,!1);Be(this,cE,null);Be(this,If,null);Be(this,Qg,null);Be(this,G0,null);Be(this,Lg,!1);Be(this,xf,null);Be(this,OI,new N0e);Be(this,Ng,!1);Be(this,hE,!1);Be(this,Rg,null);Be(this,Dv,null);Be(this,Mv,null);Be(this,Pg,null);Be(this,fE,null);Be(this,vo,$r.NONE);Be(this,vA,new Set);Be(this,Gd,null);Be(this,Og,null);Be(this,Hv,null);Be(this,dE,null);Be(this,pE,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});Be(this,kg,[0,0]);Be(this,Uf,null);Be(this,zd,null);Be(this,gE,null);Be(this,yc,null);const g=this._signal=C(this,M0).signal;he(this,zd,e),he(this,gE,t),he(this,H0,n),he(this,Og,A),this._eventBus=i,i._on("editingaction",this.onEditingAction.bind(this),{signal:g}),i._on("pagechanging",this.onPageChanging.bind(this),{signal:g}),i._on("scalechanging",this.onScaleChanging.bind(this),{signal:g}),i._on("rotationchanging",this.onRotationChanging.bind(this),{signal:g}),i._on("setpreference",this.onSetPreference.bind(this),{signal:g}),i._on("switchannotationeditorparams",y=>this.updateParams(y.type,y.value),{signal:g}),be(this,rr,Nz).call(this),be(this,rr,kz).call(this),be(this,rr,TN).call(this),he(this,Kd,s.annotationStorage),he(this,cE,s.filterFactory),he(this,Hv,o),he(this,G0,a||null),he(this,lE,u),he(this,uE,l),he(this,K0,c),he(this,fE,h||null),this.viewParameters={realScale:kp.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=d||null,this._supportsPinchToZoom=m!==!1}static get _keyboardManager(){const e=b0.prototype,t=s=>C(s,zd).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&s.hasSomethingToControl(),n=(s,{target:o})=>{if(o instanceof HTMLInputElement){const{type:a}=o;return a!=="text"&&a!=="number"}return!0},A=this.TRANSLATE_SMALL,i=this.TRANSLATE_BIG;return En(this,"_keyboardManager",new e2([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(s,{target:o})=>!(o instanceof HTMLButtonElement)&&C(s,zd).contains(o)&&!s.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(s,{target:o})=>!(o instanceof HTMLButtonElement)&&C(s,zd).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-A,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[A,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-A],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,A],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}]]))}destroy(){var e,t,n,A,i,s,o,a;(e=C(this,yc))==null||e.resolve(),he(this,yc,null),(t=C(this,M0))==null||t.abort(),he(this,M0,null),this._signal=null;for(const u of C(this,Ho).values())u.destroy();C(this,Ho).clear(),C(this,Xs).clear(),C(this,kv).clear(),(n=C(this,Pg))==null||n.clear(),he(this,Iu,null),C(this,vA).clear(),C(this,vc).destroy(),(A=C(this,H0))==null||A.destroy(),(i=C(this,Og))==null||i.destroy(),(s=C(this,xf))==null||s.hide(),he(this,xf,null),(o=C(this,Mv))==null||o.destroy(),he(this,Mv,null),C(this,If)&&(clearTimeout(C(this,If)),he(this,If,null)),C(this,Uf)&&(clearTimeout(C(this,Uf)),he(this,Uf,null)),(a=this._editorUndoBar)==null||a.destroy()}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return C(this,fE)}get useNewAltTextFlow(){return C(this,uE)}get useNewAltTextWhenAddingImage(){return C(this,K0)}get hcmFilter(){return En(this,"hcmFilter",C(this,Hv)?C(this,cE).addHCMFilter(C(this,Hv).foreground,C(this,Hv).background):"none")}get direction(){return En(this,"direction",getComputedStyle(C(this,zd)).direction)}get highlightColors(){return En(this,"highlightColors",C(this,G0)?new Map(C(this,G0).split(",").map(e=>e.split("=").map(t=>t.trim()))):null)}get highlightColorNames(){return En(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),he(this,Tg,e)}setMainHighlightColorPicker(e){he(this,Mv,e)}editAltText(e,t=!1){var n;(n=C(this,H0))==null||n.editAltText(this,e,t)}getSignature(e){var t;(t=C(this,Og))==null||t.getSignature({uiManager:this,editor:e})}get signatureManager(){return C(this,Og)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":he(this,K0,t);break}}onPageChanging({pageNumber:e}){he(this,V0,e-1)}focusMainContainer(){C(this,zd).focus()}findParent(e,t){for(const n of C(this,Ho).values()){const{x:A,y:i,width:s,height:o}=n.div.getBoundingClientRect();if(e>=A&&e<=A+s&&t>=i&&t<=i+o)return n}return null}disableUserSelect(e=!1){C(this,gE).classList.toggle("noUserSelect",e)}addShouldRescale(e){C(this,kv).add(e)}removeShouldRescale(e){C(this,kv).delete(e)}onScaleChanging({scale:e}){var t;this.commitOrRemove(),this.viewParameters.realScale=e*kp.PDF_TO_CSS_UNITS;for(const n of C(this,kv))n.onScaleChanging();(t=C(this,Tg))==null||t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:n,anchorOffset:A,focusNode:i,focusOffset:s}=t,o=t.toString(),u=be(this,rr,AF).call(this,t).closest(".textLayer"),l=this.getSelectionBoxes(u);if(!l)return;t.empty();const c=be(this,rr,UN).call(this,u),h=C(this,vo)===$r.NONE,d=()=>{c==null||c.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:l,anchorNode:n,anchorOffset:A,focusNode:i,focusOffset:s,text:o}),h&&this.showAllEditors("highlight",!0,!0)};if(h){this.switchToMode($r.HIGHLIGHT,d);return}d()}addToAnnotationStorage(e){!e.isEmpty()&&C(this,Kd)&&!C(this,Kd).has(e.id)&&C(this,Kd).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,C(this,Lg)&&(he(this,Lg,!1),be(this,rr,iF).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of C(this,vA))if(t.div.contains(e)){he(this,Dv,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!C(this,Dv))return;const[e,t]=C(this,Dv);he(this,Dv,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){be(this,rr,TN).call(this),be(this,rr,QN).call(this)}removeEditListeners(){be(this,rr,Oz).call(this),be(this,rr,LN).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const n of C(this,wh))if(n.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const n of C(this,wh))if(n.isHandlingMimeForPasting(t.type)){n.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var n;if(e.preventDefault(),(n=C(this,Iu))==null||n.commitOrRemove(),!this.hasSelection)return;const t=[];for(const A of C(this,vA)){const i=A.serialize(!0);i&&t.push(i)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const i of t.items)for(const s of C(this,wh))if(s.isHandlingMimeForPasting(i.type)){s.paste(i,this.currentLayer);return}let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(i){Zr(`paste: "${i.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const A=this.currentLayer;try{const i=[];for(const a of n){const u=await A.deserialize(a);if(!u)return;i.push(u)}const s=()=>{for(const a of i)be(this,rr,NN).call(this,a);be(this,rr,RN).call(this,i)},o=()=>{for(const a of i)a.remove()};this.addCommands({cmd:s,undo:o,mustExec:!0})}catch(i){Zr(`paste: "${i.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),C(this,vo)!==$r.NONE&&!this.isEditorHandlingKeyboard&&b0._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,C(this,Lg)&&(he(this,Lg,!1),be(this,rr,iF).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(be(this,rr,Rz).call(this),be(this,rr,QN).call(this),be(this,rr,al).call(this,{isEditing:C(this,vo)!==$r.NONE,isEmpty:be(this,rr,KC).call(this),hasSomethingToUndo:C(this,vc).hasSomethingToUndo(),hasSomethingToRedo:C(this,vc).hasSomethingToRedo(),hasSelectedEditor:!1})):(be(this,rr,Pz).call(this),be(this,rr,LN).call(this),be(this,rr,al).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!C(this,wh)){he(this,wh,e);for(const t of C(this,wh))be(this,rr,Md).call(this,t.defaultPropertiesToUpdate)}}getId(){return C(this,OI).id}get currentLayer(){return C(this,Ho).get(C(this,V0))}getLayer(e){return C(this,Ho).get(e)}get currentPageIndex(){return C(this,V0)}addLayer(e){C(this,Ho).set(e.pageIndex,e),C(this,Ng)?e.enable():e.disable()}removeLayer(e){C(this,Ho).delete(e.pageIndex)}async updateMode(e,t=null,n=!1){var A,i,s;if(C(this,vo)!==e&&!(C(this,yc)&&(await C(this,yc).promise,!C(this,yc)))){if(he(this,yc,Promise.withResolvers()),(A=C(this,Tg))==null||A.commitOrRemove(),he(this,vo,e),e===$r.NONE){this.setEditingState(!1),be(this,rr,Mz).call(this),(i=this._editorUndoBar)==null||i.hide(),C(this,yc).resolve();return}e===$r.SIGNATURE&&await((s=C(this,Og))==null?void 0:s.loadSignatures()),this.setEditingState(!0),await be(this,rr,Dz).call(this),this.unselectAll();for(const o of C(this,Ho).values())o.updateMode(e);if(!t){n&&this.addNewEditorFromKeyboard(),C(this,yc).resolve();return}for(const o of C(this,Xs).values())o.annotationElementId===t||o.id===t?(this.setSelected(o),o.enterInEditMode()):o.unselect();C(this,yc).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==C(this,vo)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){var n;if(C(this,wh)){switch(e){case Qn.CREATE:this.currentLayer.addNewEditor(t);return;case Qn.HIGHLIGHT_DEFAULT_COLOR:(n=C(this,Mv))==null||n.updateColor(t);break;case Qn.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(C(this,dE)||he(this,dE,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const A of C(this,vA))A.updateParams(e,t);for(const A of C(this,wh))A.updateDefaultParams(e,t)}}showAllEditors(e,t,n=!1){var i;for(const s of C(this,Xs).values())s.editorType===e&&s.show(t);(((i=C(this,dE))==null?void 0:i.get(Qn.HIGHLIGHT_SHOW_ALL))??!0)!==t&&be(this,rr,Md).call(this,[[Qn.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(C(this,hE)!==e){he(this,hE,e);for(const t of C(this,Ho).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const n of C(this,Xs).values())n.pageIndex===e&&t.push(n);return t}getEditor(e){return C(this,Xs).get(e)}addEditor(e){C(this,Xs).set(e.id,e)}removeEditor(e){var t,n;e.div.contains(document.activeElement)&&(C(this,If)&&clearTimeout(C(this,If)),he(this,If,setTimeout(()=>{this.focusMainContainer(),he(this,If,null)},0))),C(this,Xs).delete(e.id),e.annotationElementId&&((t=C(this,Pg))==null||t.delete(e.annotationElementId)),this.unselect(e),(!e.annotationElementId||!C(this,Ov).has(e.annotationElementId))&&((n=C(this,Kd))==null||n.remove(e.id))}addDeletedAnnotationElement(e){C(this,Ov).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return C(this,Ov).has(e)}removeDeletedAnnotationElement(e){C(this,Ov).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){C(this,Iu)!==e&&(he(this,Iu,e),e&&be(this,rr,Md).call(this,e.propertiesToUpdate))}updateUI(e){C(this,rr,Hz)===e&&be(this,rr,Md).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){be(this,rr,Md).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(C(this,vA).has(e)){C(this,vA).delete(e),e.unselect(),be(this,rr,al).call(this,{hasSelectedEditor:this.hasSelection});return}C(this,vA).add(e),e.select(),be(this,rr,Md).call(this,e.propertiesToUpdate),be(this,rr,al).call(this,{hasSelectedEditor:!0})}setSelected(e){var t;(t=C(this,Tg))==null||t.commitOrRemove();for(const n of C(this,vA))n!==e&&n.unselect();C(this,vA).clear(),C(this,vA).add(e),e.select(),be(this,rr,Md).call(this,e.propertiesToUpdate),be(this,rr,al).call(this,{hasSelectedEditor:!0})}isSelected(e){return C(this,vA).has(e)}get firstSelectedEditor(){return C(this,vA).values().next().value}unselect(e){e.unselect(),C(this,vA).delete(e),be(this,rr,al).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return C(this,vA).size!==0}get isEnterHandled(){return C(this,vA).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;C(this,vc).undo(),be(this,rr,al).call(this,{hasSomethingToUndo:C(this,vc).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:be(this,rr,KC).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){C(this,vc).redo(),be(this,rr,al).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:C(this,vc).hasSomethingToRedo(),isEmpty:be(this,rr,KC).call(this)})}addCommands(e){C(this,vc).add(e),be(this,rr,al).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:be(this,rr,KC).call(this)})}cleanUndoStack(e){C(this,vc).cleanType(e)}delete(){var i;this.commitOrRemove();const e=(i=this.currentLayer)==null?void 0:i.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...C(this,vA)],n=()=>{var s;(s=this._editorUndoBar)==null||s.show(A,t.length===1?t[0].editorType:t.length);for(const o of t)o.remove()},A=()=>{for(const s of t)be(this,rr,NN).call(this,s)};this.addCommands({cmd:n,undo:A,mustExec:!0})}commitOrRemove(){var e;(e=C(this,Iu))==null||e.commitOrRemove()}hasSomethingToControl(){return C(this,Iu)||this.hasSelection}selectAll(){for(const e of C(this,vA))e.commit();be(this,rr,RN).call(this,C(this,Xs).values())}unselectAll(){var e;if(!(C(this,Iu)&&(C(this,Iu).commitOrRemove(),C(this,vo)!==$r.NONE))&&!((e=C(this,Tg))!=null&&e.commitOrRemove())&&this.hasSelection){for(const t of C(this,vA))t.unselect();C(this,vA).clear(),be(this,rr,al).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;C(this,kg)[0]+=e,C(this,kg)[1]+=t;const[A,i]=C(this,kg),s=[...C(this,vA)],o=1e3;C(this,Uf)&&clearTimeout(C(this,Uf)),he(this,Uf,setTimeout(()=>{he(this,Uf,null),C(this,kg)[0]=C(this,kg)[1]=0,this.addCommands({cmd:()=>{for(const a of s)C(this,Xs).has(a.id)&&(a.translateInPage(A,i),a.translationDone())},undo:()=>{for(const a of s)C(this,Xs).has(a.id)&&(a.translateInPage(-A,-i),a.translationDone())},mustExec:!1})},o));for(const a of s)a.translateInPage(e,t),a.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),he(this,Ff,new Map);for(const e of C(this,vA))C(this,Ff).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!C(this,Ff))return!1;this.disableUserSelect(!1);const e=C(this,Ff);he(this,Ff,null);let t=!1;for(const[{x:A,y:i,pageIndex:s},o]of e)o.newX=A,o.newY=i,o.newPageIndex=s,t||(t=A!==o.savedX||i!==o.savedY||s!==o.savedPageIndex);if(!t)return!1;const n=(A,i,s,o)=>{if(C(this,Xs).has(A.id)){const a=C(this,Ho).get(o);a?A._setParentAndPosition(a,i,s):(A.pageIndex=o,A.x=i,A.y=s)}};return this.addCommands({cmd:()=>{for(const[A,{newX:i,newY:s,newPageIndex:o}]of e)n(A,i,s,o)},undo:()=>{for(const[A,{savedX:i,savedY:s,savedPageIndex:o}]of e)n(A,i,s,o)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(C(this,Ff))for(const n of C(this,Ff).keys())n.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||C(this,vA).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return C(this,Iu)===e}getActive(){return C(this,Iu)}getMode(){return C(this,vo)}get imageManager(){return En(this,"imageManager",new IN)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let u=0,l=t.rangeCount;u<l;u++)if(!e.contains(t.getRangeAt(u).commonAncestorContainer))return null;const{x:n,y:A,width:i,height:s}=e.getBoundingClientRect();let o;switch(e.getAttribute("data-main-rotation")){case"90":o=(u,l,c,h)=>({x:(l-A)/s,y:1-(u+c-n)/i,width:h/s,height:c/i});break;case"180":o=(u,l,c,h)=>({x:1-(u+c-n)/i,y:1-(l+h-A)/s,width:c/i,height:h/s});break;case"270":o=(u,l,c,h)=>({x:1-(l+h-A)/s,y:(u-n)/i,width:h/s,height:c/i});break;default:o=(u,l,c,h)=>({x:(u-n)/i,y:(l-A)/s,width:c/i,height:h/s});break}const a=[];for(let u=0,l=t.rangeCount;u<l;u++){const c=t.getRangeAt(u);if(!c.collapsed)for(const{x:h,y:d,width:m,height:g}of c.getClientRects())m===0||g===0||a.push(o(h,d,m,g))}return a.length===0?null:a}addChangedExistingAnnotation({annotationElementId:e,id:t}){(C(this,j0)||he(this,j0,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=C(this,j0))==null||t.delete(e)}renderAnnotationElement(e){var A;const t=(A=C(this,j0))==null?void 0:A.get(e.data.id);if(!t)return;const n=C(this,Kd).getRawValue(t);n&&(C(this,vo)===$r.NONE&&!n.hasBeenModified||n.renderAnnotationElement(e))}setMissingCanvas(e,t,n){var i;const A=(i=C(this,Pg))==null?void 0:i.get(e);A&&(A.setCanvas(t,n),C(this,Pg).delete(e))}addMissingCanvas(e,t){(C(this,Pg)||he(this,Pg,new Map)).set(e,t)}};M0=new WeakMap,Iu=new WeakMap,Xs=new WeakMap,Ho=new WeakMap,H0=new WeakMap,Kd=new WeakMap,j0=new WeakMap,vc=new WeakMap,Ug=new WeakMap,Tg=new WeakMap,V0=new WeakMap,Ov=new WeakMap,Ff=new WeakMap,wh=new WeakMap,kv=new WeakMap,lE=new WeakMap,uE=new WeakMap,K0=new WeakMap,cE=new WeakMap,If=new WeakMap,Qg=new WeakMap,G0=new WeakMap,Lg=new WeakMap,xf=new WeakMap,OI=new WeakMap,Ng=new WeakMap,hE=new WeakMap,Rg=new WeakMap,Dv=new WeakMap,Mv=new WeakMap,Pg=new WeakMap,fE=new WeakMap,vo=new WeakMap,vA=new WeakMap,Gd=new WeakMap,Og=new WeakMap,Hv=new WeakMap,dE=new WeakMap,pE=new WeakMap,kg=new WeakMap,Uf=new WeakMap,zd=new WeakMap,gE=new WeakMap,yc=new WeakMap,rr=new WeakSet,AF=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},UN=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const n of C(this,Ho).values())if(n.hasTextLayer(e))return n;return null},Qz=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const n=be(this,rr,AF).call(this,e).closest(".textLayer"),A=this.getSelectionBoxes(n);A&&(C(this,xf)||he(this,xf,new L0e(this)),C(this,xf).show(n,A,this.direction==="ltr"))},Lz=function(){var i,s,o;const e=document.getSelection();if(!e||e.isCollapsed){C(this,Gd)&&((i=C(this,xf))==null||i.hide(),he(this,Gd,null),be(this,rr,al).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===C(this,Gd))return;const A=be(this,rr,AF).call(this,e).closest(".textLayer");if(!A){C(this,Gd)&&((s=C(this,xf))==null||s.hide(),he(this,Gd,null),be(this,rr,al).call(this,{hasSelectedText:!1}));return}if((o=C(this,xf))==null||o.hide(),he(this,Gd,t),be(this,rr,al).call(this,{hasSelectedText:!0}),!(C(this,vo)!==$r.HIGHLIGHT&&C(this,vo)!==$r.NONE)&&(C(this,vo)===$r.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),he(this,Lg,this.isShiftKeyDown),!this.isShiftKeyDown)){const a=C(this,vo)===$r.HIGHLIGHT?be(this,rr,UN).call(this,A):null;a==null||a.toggleDrawing();const u=new AbortController,l=this.combinedSignal(u),c=h=>{h.type==="pointerup"&&h.button!==0||(u.abort(),a==null||a.toggleDrawing(!0),h.type==="pointerup"&&be(this,rr,iF).call(this,"main_toolbar"))};window.addEventListener("pointerup",c,{signal:l}),window.addEventListener("blur",c,{signal:l})}},iF=function(e=""){C(this,vo)===$r.HIGHLIGHT?this.highlightSelection(e):C(this,lE)&&be(this,rr,Qz).call(this)},Nz=function(){document.addEventListener("selectionchange",be(this,rr,Lz).bind(this),{signal:this._signal})},Rz=function(){if(C(this,Qg))return;he(this,Qg,new AbortController);const e=this.combinedSignal(C(this,Qg));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},Pz=function(){var e;(e=C(this,Qg))==null||e.abort(),he(this,Qg,null)},TN=function(){if(C(this,Rg))return;he(this,Rg,new AbortController);const e=this.combinedSignal(C(this,Rg));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},Oz=function(){var e;(e=C(this,Rg))==null||e.abort(),he(this,Rg,null)},QN=function(){if(C(this,Ug))return;he(this,Ug,new AbortController);const e=this.combinedSignal(C(this,Ug));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},LN=function(){var e;(e=C(this,Ug))==null||e.abort(),he(this,Ug,null)},kz=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},al=function(e){Object.entries(e).some(([n,A])=>C(this,pE)[n]!==A)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(C(this,pE),e)}),C(this,vo)===$r.HIGHLIGHT&&e.hasSelectedEditor===!1&&be(this,rr,Md).call(this,[[Qn.HIGHLIGHT_FREE,!0]]))},Md=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},Dz=async function(){if(!C(this,Ng)){he(this,Ng,!0);const e=[];for(const t of C(this,Ho).values())e.push(t.enable());await Promise.all(e);for(const t of C(this,Xs).values())t.enable()}},Mz=function(){if(this.unselectAll(),C(this,Ng)){he(this,Ng,!1);for(const e of C(this,Ho).values())e.disable();for(const e of C(this,Xs).values())e.disable()}},NN=function(e){const t=C(this,Ho).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},Hz=function(){let e=null;for(e of C(this,vA));return e},KC=function(){if(C(this,Xs).size===0)return!0;if(C(this,Xs).size===1)for(const e of C(this,Xs).values())return e.isEmpty();return!1},RN=function(e){for(const t of C(this,vA))t.unselect();C(this,vA).clear();for(const t of e)t.isEmpty()||(C(this,vA).add(t),t.select());be(this,rr,al).call(this,{hasSelectedEditor:this.hasSelection})},qt(b0,"TRANSLATE_SMALL",1),qt(b0,"TRANSLATE_BIG",10);let Dm=b0;var yo,Tf,Bh,z0,Qf,xu,q0,Lf,Vl,qd,jv,Nf,Dg,Ph,GC,sF;const ll=class ll{constructor(e){Be(this,Ph);Be(this,yo,null);Be(this,Tf,!1);Be(this,Bh,null);Be(this,z0,null);Be(this,Qf,null);Be(this,xu,null);Be(this,q0,!1);Be(this,Lf,null);Be(this,Vl,null);Be(this,qd,null);Be(this,jv,null);Be(this,Nf,!1);he(this,Vl,e),he(this,Nf,e._uiManager.useNewAltTextFlow),C(ll,Dg)||he(ll,Dg,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){ll._l10n??(ll._l10n=e)}async render(){const e=he(this,Bh,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=he(this,z0,document.createElement("span"));e.append(t),C(this,Nf)?(e.classList.add("new"),e.setAttribute("data-l10n-id",C(ll,Dg).missing),t.setAttribute("data-l10n-id",C(ll,Dg)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=C(this,Vl)._uiManager._signal;e.addEventListener("contextmenu",kc,{signal:n}),e.addEventListener("pointerdown",i=>i.stopPropagation(),{signal:n});const A=i=>{i.preventDefault(),C(this,Vl)._uiManager.editAltText(C(this,Vl)),C(this,Nf)&&C(this,Vl)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:C(this,Ph,GC)}})};return e.addEventListener("click",A,{capture:!0,signal:n}),e.addEventListener("keydown",i=>{i.target===e&&i.key==="Enter"&&(he(this,q0,!0),A(i))},{signal:n}),await be(this,Ph,sF).call(this),e}finish(){C(this,Bh)&&(C(this,Bh).focus({focusVisible:C(this,q0)}),he(this,q0,!1))}isEmpty(){return C(this,Nf)?C(this,yo)===null:!C(this,yo)&&!C(this,Tf)}hasData(){return C(this,Nf)?C(this,yo)!==null||!!C(this,qd):this.isEmpty()}get guessedText(){return C(this,qd)}async setGuessedText(e){C(this,yo)===null&&(he(this,qd,e),he(this,jv,await ll._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),be(this,Ph,sF).call(this))}toggleAltTextBadge(e=!1){var t;if(!C(this,Nf)||C(this,yo)){(t=C(this,Lf))==null||t.remove(),he(this,Lf,null);return}if(!C(this,Lf)){const n=he(this,Lf,document.createElement("div"));n.className="noAltTextBadge",C(this,Vl).div.append(n)}C(this,Lf).classList.toggle("hidden",!e)}serialize(e){let t=C(this,yo);return!e&&C(this,qd)===t&&(t=C(this,jv)),{altText:t,decorative:C(this,Tf),guessedText:C(this,qd),textWithDisclaimer:C(this,jv)}}get data(){return{altText:C(this,yo),decorative:C(this,Tf)}}set data({altText:e,decorative:t,guessedText:n,textWithDisclaimer:A,cancel:i=!1}){n&&(he(this,qd,n),he(this,jv,A)),!(C(this,yo)===e&&C(this,Tf)===t)&&(i||(he(this,yo,e),he(this,Tf,t)),be(this,Ph,sF).call(this))}toggle(e=!1){C(this,Bh)&&(!e&&C(this,xu)&&(clearTimeout(C(this,xu)),he(this,xu,null)),C(this,Bh).disabled=!e)}shown(){C(this,Vl)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:C(this,Ph,GC)}})}destroy(){var e,t;(e=C(this,Bh))==null||e.remove(),he(this,Bh,null),he(this,z0,null),he(this,Qf,null),(t=C(this,Lf))==null||t.remove(),he(this,Lf,null)}};yo=new WeakMap,Tf=new WeakMap,Bh=new WeakMap,z0=new WeakMap,Qf=new WeakMap,xu=new WeakMap,q0=new WeakMap,Lf=new WeakMap,Vl=new WeakMap,qd=new WeakMap,jv=new WeakMap,Nf=new WeakMap,Dg=new WeakMap,Ph=new WeakSet,GC=function(){return C(this,yo)&&"added"||C(this,yo)===null&&this.guessedText&&"review"||"missing"},sF=async function(){var A,i,s;const e=C(this,Bh);if(!e)return;if(C(this,Nf)){if(e.classList.toggle("done",!!C(this,yo)),e.setAttribute("data-l10n-id",C(ll,Dg)[C(this,Ph,GC)]),(A=C(this,z0))==null||A.setAttribute("data-l10n-id",C(ll,Dg)[`${C(this,Ph,GC)}-label`]),!C(this,yo)){(i=C(this,Qf))==null||i.remove();return}}else{if(!C(this,yo)&&!C(this,Tf)){e.classList.remove("done"),(s=C(this,Qf))==null||s.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=C(this,Qf);if(!t){he(this,Qf,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${C(this,Vl).id}`;const o=100,a=C(this,Vl)._uiManager._signal;a.addEventListener("abort",()=>{clearTimeout(C(this,xu)),he(this,xu,null)},{once:!0}),e.addEventListener("mouseenter",()=>{he(this,xu,setTimeout(()=>{he(this,xu,null),C(this,Qf).classList.add("show"),C(this,Vl)._reportTelemetry({action:"alt_text_tooltip"})},o))},{signal:a}),e.addEventListener("mouseleave",()=>{var u;C(this,xu)&&(clearTimeout(C(this,xu)),he(this,xu,null)),(u=C(this,Qf))==null||u.classList.remove("show")},{signal:a})}C(this,Tf)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=C(this,yo)),t.parentNode||e.append(t);const n=C(this,Vl).getElementForAltText();n==null||n.setAttribute("aria-describedby",t.id)},Be(ll,Dg,null),qt(ll,"_l10n",null);let SI=ll;var W0,Vv,mE,vE,yE,wE,BE,Wd,Kv,$d,Gv,Xd,Hm,jz,Vz,Kz;const ok=class ok{constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:n=null,onPinchStart:A=null,onPinching:i=null,onPinchEnd:s=null,signal:o}){Be(this,Hm);Be(this,W0);Be(this,Vv,!1);Be(this,mE,null);Be(this,vE);Be(this,yE);Be(this,wE);Be(this,BE);Be(this,Wd,null);Be(this,Kv);Be(this,$d,null);Be(this,Gv);Be(this,Xd,null);he(this,W0,e),he(this,mE,n),he(this,vE,t),he(this,yE,A),he(this,wE,i),he(this,BE,s),he(this,Gv,new AbortController),he(this,Kv,AbortSignal.any([o,C(this,Gv).signal])),e.addEventListener("touchstart",be(this,Hm,jz).bind(this),{passive:!1,signal:C(this,Kv)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Hh.pixelRatio}destroy(){var e,t;(e=C(this,Gv))==null||e.abort(),he(this,Gv,null),(t=C(this,Wd))==null||t.abort(),he(this,Wd,null)}};W0=new WeakMap,Vv=new WeakMap,mE=new WeakMap,vE=new WeakMap,yE=new WeakMap,wE=new WeakMap,BE=new WeakMap,Wd=new WeakMap,Kv=new WeakMap,$d=new WeakMap,Gv=new WeakMap,Xd=new WeakMap,Hm=new WeakSet,jz=function(e){var A,i,s;if((A=C(this,vE))!=null&&A.call(this))return;if(e.touches.length===1){if(C(this,Wd))return;const o=he(this,Wd,new AbortController),a=AbortSignal.any([C(this,Kv),o.signal]),u=C(this,W0),l={capture:!0,signal:a,passive:!1},c=h=>{var d;h.pointerType==="touch"&&((d=C(this,Wd))==null||d.abort(),he(this,Wd,null))};u.addEventListener("pointerdown",h=>{h.pointerType==="touch"&&(os(h),c(h))},l),u.addEventListener("pointerup",c,l),u.addEventListener("pointercancel",c,l);return}if(!C(this,Xd)){he(this,Xd,new AbortController);const o=AbortSignal.any([C(this,Kv),C(this,Xd).signal]),a=C(this,W0),u={signal:o,capture:!1,passive:!1};a.addEventListener("touchmove",be(this,Hm,Vz).bind(this),u);const l=be(this,Hm,Kz).bind(this);a.addEventListener("touchend",l,u),a.addEventListener("touchcancel",l,u),u.capture=!0,a.addEventListener("pointerdown",os,u),a.addEventListener("pointermove",os,u),a.addEventListener("pointercancel",os,u),a.addEventListener("pointerup",os,u),(i=C(this,yE))==null||i.call(this)}if(os(e),e.touches.length!==2||(s=C(this,mE))!=null&&s.call(this)){he(this,$d,null);return}let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]),he(this,$d,{touch0X:t.screenX,touch0Y:t.screenY,touch1X:n.screenX,touch1Y:n.screenY})},Vz=function(e){var B;if(!C(this,$d)||e.touches.length!==2)return;os(e);let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]);const{screenX:A,screenY:i}=t,{screenX:s,screenY:o}=n,a=C(this,$d),{touch0X:u,touch0Y:l,touch1X:c,touch1Y:h}=a,d=c-u,m=h-l,g=s-A,y=o-i,v=Math.hypot(g,y)||1,w=Math.hypot(d,m)||1;if(!C(this,Vv)&&Math.abs(w-v)<=ok.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(a.touch0X=A,a.touch0Y=i,a.touch1X=s,a.touch1Y=o,!C(this,Vv)){he(this,Vv,!0);return}const b=[(A+s)/2,(i+o)/2];(B=C(this,wE))==null||B.call(this,b,w,v)},Kz=function(e){var t;e.touches.length>=2||(C(this,Xd)&&(C(this,Xd).abort(),he(this,Xd,null),(t=C(this,BE))==null||t.call(this)),C(this,$d)&&(os(e),he(this,$d,null),he(this,Vv,!1)))};let Jb=ok;var zv,Ch,ii,$0,Mg,CE,qv,jo,Wv,Yd,Hg,bE,$v,Uu,EE,Xv,Jd,Rf,X0,Y0,wc,Yv,_E,kI,Dr,PN,SE,ON,oF,Gz,zz,kN,aF,DN,qz,Wz,$z,MN,Xz,HN,Yz,Jz,Zz,jN,zC;const an=class an{constructor(e){Be(this,Dr);Be(this,zv,null);Be(this,Ch,null);Be(this,ii,null);Be(this,$0,!1);Be(this,Mg,null);Be(this,CE,"");Be(this,qv,!1);Be(this,jo,null);Be(this,Wv,null);Be(this,Yd,null);Be(this,Hg,null);Be(this,bE,"");Be(this,$v,!1);Be(this,Uu,null);Be(this,EE,!1);Be(this,Xv,!1);Be(this,Jd,!1);Be(this,Rf,null);Be(this,X0,0);Be(this,Y0,0);Be(this,wc,null);Be(this,Yv,null);qt(this,"isSelected",!1);qt(this,"_isCopy",!1);qt(this,"_editToolbar",null);qt(this,"_initialOptions",Object.create(null));qt(this,"_initialData",null);qt(this,"_isVisible",!0);qt(this,"_uiManager",null);qt(this,"_focusEventsAllowed",!0);Be(this,_E,!1);Be(this,kI,an._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:n,pageHeight:A,pageX:i,pageY:s}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,A],this.pageTranslation=[i,s];const[o,a]=this.parentDimensions;this.x=e.x/o,this.y=e.y/a,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=an.prototype._resizeWithKeyboard,t=Dm.TRANSLATE_SMALL,n=Dm.TRANSLATE_BIG;return En(this,"_resizerKeyboardManager",new e2([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],an.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get isDrawer(){return!1}static get _defaultLineColor(){return En(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new P0e({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(an._l10n??(an._l10n=e),an._l10nResizer||(an._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),an._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);an._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){TA("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return C(this,_E)}set _isDraggable(e){var t;he(this,_E,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=C(this,kI)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):be(this,Dr,zC).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(C(this,$v)?he(this,$v,!1):this.parent.setSelected(this))}focusout(e){var n;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(n=this.parent)!=null&&n.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,A){const[i,s]=this.parentDimensions;[n,A]=this.screenToPageTranslation(n,A),this.x=(e+n)/i,this.y=(t+A)/s,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[n,A]=this.parentDimensions;this.setAt(e*n,t*A,this.width*n,this.height*A),this._onTranslated()}translate(e,t){be(this,Dr,PN).call(this,this.parentDimensions,e,t)}translateInPage(e,t){C(this,Uu)||he(this,Uu,[this.x,this.y,this.width,this.height]),be(this,Dr,PN).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){C(this,Uu)||he(this,Uu,[this.x,this.y,this.width,this.height]);const{div:n,parentDimensions:[A,i]}=this;if(this.x+=e/A,this.y+=t/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:c,y:h}=this.div.getBoundingClientRect();this.parent.findNewParent(this,c,h)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:o}=this;const[a,u]=this.getBaseTranslation();s+=a,o+=u;const{style:l}=n;l.left=`${(100*s).toFixed(2)}%`,l.top=`${(100*o).toFixed(2)}%`,this._onTranslating(s,o),n.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!C(this,Uu)&&(C(this,Uu)[0]!==this.x||C(this,Uu)[1]!==this.y)}get _hasBeenResized(){return!!C(this,Uu)&&(C(this,Uu)[2]!==this.width||C(this,Uu)[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=an,A=n/e,i=n/t;switch(this.rotation){case 90:return[-A,i];case 180:return[A,i];case 270:return[A,-i];default:return[-A,-i]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[n,A]}=this;let{x:i,y:s,width:o,height:a}=this;if(o*=n,a*=A,i*=n,s*=A,this._mustFixPosition)switch(e){case 0:i=La(i,0,n-o),s=La(s,0,A-a);break;case 90:i=La(i,0,n-a),s=La(s,o,A);break;case 180:i=La(i,o,n),s=La(s,a,A);break;case 270:i=La(i,a,n),s=La(s,0,A-o);break}this.x=i/=n,this.y=s/=A;const[u,l]=this.getBaseTranslation();i+=u,s+=l,t.left=`${(100*i).toFixed(2)}%`,t.top=`${(100*s).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var n;return be(n=an,SE,ON).call(n,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var n;return be(n=an,SE,ON).call(n,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this;return[t*e,n*e]}setDims(e,t){const[n,A]=this.parentDimensions,{style:i}=this.div;i.width=`${(100*e/n).toFixed(2)}%`,C(this,qv)||(i.height=`${(100*t/A).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:n}=e,A=n.endsWith("%"),i=!C(this,qv)&&t.endsWith("%");if(A&&i)return;const[s,o]=this.parentDimensions;A||(e.width=`${(100*parseFloat(n)/s).toFixed(2)}%`),!C(this,qv)&&!i&&(e.height=`${(100*parseFloat(t)/o).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=C(this,ii))==null||e.finish()}async addEditToolbar(){return this._editToolbar||C(this,Xv)?this._editToolbar:(this._editToolbar=new FN(this),this.div.append(this._editToolbar.render()),C(this,ii)&&await this._editToolbar.addAltText(C(this,ii)),this._editToolbar)}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=C(this,ii))==null||e.destroy())}addContainer(e){var n;const t=(n=this._editToolbar)==null?void 0:n.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){C(this,ii)||(SI.initialize(an._l10n),he(this,ii,new SI(this)),C(this,zv)&&(C(this,ii).data=C(this,zv),he(this,zv,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=C(this,ii))==null?void 0:e.data}set altTextData(e){C(this,ii)&&(C(this,ii).data=e)}get guessedAltText(){var e;return(e=C(this,ii))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=C(this,ii))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=C(this,ii))==null?void 0:t.serialize(e)}hasAltText(){return!!C(this,ii)&&!C(this,ii).isEmpty()}hasAltTextData(){var e;return((e=C(this,ii))==null?void 0:e.hasData())??!1}render(){var s;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=C(this,$0)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),be(this,Dr,HN).call(this);const[t,n]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*n/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/n).toFixed(2)}%`);const[A,i]=this.getInitialTranslation();return this.translate(A,i),Uz(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(C(this,Yv)||he(this,Yv,new Jb({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:be(this,Dr,qz).bind(this),onPinching:be(this,Dr,Wz).bind(this),onPinchEnd:be(this,Dr,$z).bind(this),signal:this._uiManager._signal}))),(s=this._uiManager._editorUndoBar)==null||s.hide(),e}pointerdown(e){const{isMac:t}=_o.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(he(this,$v,!0),this._isDraggable){be(this,Dr,Xz).call(this,e);return}be(this,Dr,MN).call(this,e)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){C(this,Rf)&&clearTimeout(C(this,Rf)),he(this,Rf,setTimeout(()=>{var e;he(this,Rf,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,n=this.rotation){const A=this.parentScale,[i,s]=this.pageDimensions,[o,a]=this.pageTranslation,u=e/A,l=t/A,c=this.x*i,h=this.y*s,d=this.width*i,m=this.height*s;switch(n){case 0:return[c+u+o,s-h-l-m+a,c+u+d+o,s-h-l+a];case 90:return[c+l+o,s-h+u+a,c+l+m+o,s-h+u+d+a];case 180:return[c-u-d+o,s-h+l+a,c-u+o,s-h+l+m+a];case 270:return[c-l-m+o,s-h-u-d+a,c-l+o,s-h-u+a];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,A,i,s]=e,o=i-n,a=s-A;switch(this.rotation){case 0:return[n,t-s,o,a];case 90:return[n,t-A,a,o];case 180:return[i,t-A,o,a];case 270:return[i,t-s,a,o];default:throw new Error("Invalid rotation")}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),he(this,Xv,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),he(this,Xv,!1),!0):!1}isInEditMode(){return C(this,Xv)}shouldGetKeyboardEvents(){return C(this,Jd)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:n,right:A}=this.getClientDimensions(),{innerHeight:i,innerWidth:s}=window;return t<s&&A>0&&e<i&&n>0}rebuild(){be(this,Dr,HN).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){TA("An editor must be serializable")}static async deserialize(e,t,n){const A=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n});A.rotation=e.rotation,he(A,zv,e.accessibilityData),A._isCopy=e.isCopy||!1;const[i,s]=A.pageDimensions,[o,a,u,l]=A.getRectInCurrentCoords(e.rect,s);return A.x=o/i,A.y=a/s,A.width=u/i,A.height=l/s,A}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,t;if((e=C(this,Hg))==null||e.abort(),he(this,Hg,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),C(this,Rf)&&(clearTimeout(C(this,Rf)),he(this,Rf,null)),be(this,Dr,zC).call(this),this.removeEditToolbar(),C(this,wc)){for(const n of C(this,wc).values())clearTimeout(n);he(this,wc,null)}this.parent=null,(t=C(this,Yv))==null||t.destroy(),he(this,Yv,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(be(this,Dr,Gz).call(this),C(this,jo).classList.remove("hidden"))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),he(this,Yd,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=C(this,jo).children;if(!C(this,Ch)){he(this,Ch,Array.from(t));const s=be(this,Dr,Yz).bind(this),o=be(this,Dr,Jz).bind(this),a=this._uiManager._signal;for(const u of C(this,Ch)){const l=u.getAttribute("data-resizer-name");u.setAttribute("role","spinbutton"),u.addEventListener("keydown",s,{signal:a}),u.addEventListener("blur",o,{signal:a}),u.addEventListener("focus",be(this,Dr,Zz).bind(this,l),{signal:a}),u.setAttribute("data-l10n-id",an._l10nResizer[l])}}const n=C(this,Ch)[0];let A=0;for(const s of t){if(s===n)break;A++}const i=(360-this.rotation+this.parentRotation)%360/90*(C(this,Ch).length/4);if(i!==A){if(i<A)for(let o=0;o<A-i;o++)C(this,jo).append(C(this,jo).firstChild);else if(i>A)for(let o=0;o<i-A;o++)C(this,jo).firstChild.before(C(this,jo).lastChild);let s=0;for(const o of t){const u=C(this,Ch)[s++].getAttribute("data-resizer-name");o.setAttribute("data-l10n-id",an._l10nResizer[u])}}be(this,Dr,jN).call(this,0),he(this,Jd,!0),C(this,jo).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){C(this,Jd)&&be(this,Dr,DN).call(this,C(this,bE),{deltaX:e,deltaY:t,fromKeyboard:!0})}_stopResizingWithKeyboard(){be(this,Dr,zC).call(this),this.div.focus()}select(){var e,t,n;if(!(this.isSelected&&this._editToolbar)){if(this.isSelected=!0,this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var A,i;(A=this.div)!=null&&A.classList.contains("selectedEditor")&&((i=this._editToolbar)==null||i.show())});return}(t=this._editToolbar)==null||t.show(),(n=C(this,ii))==null||n.toggleAltTextBadge(!1)}}unselect(){var e,t,n,A,i;this.isSelected&&(this.isSelected=!1,(e=C(this,jo))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(n=this.div)!=null&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(A=this._editToolbar)==null||A.hide(),(i=C(this,ii))==null||i.toggleAltTextBadge(!0))}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id})}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return C(this,EE)}set isEditing(e){he(this,EE,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){he(this,qv,!0);const n=e/t,{style:A}=this.div;A.aspectRatio=n,A.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){C(this,wc)||he(this,wc,new Map);const{action:n}=e;let A=C(this,wc).get(n);A&&clearTimeout(A),A=setTimeout(()=>{this._reportTelemetry(e),C(this,wc).delete(n),C(this,wc).size===0&&he(this,wc,null)},an._telemetryTimeout),C(this,wc).set(n,A);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),he(this,$0,!1)}disable(){this.div&&(this.div.tabIndex=-1),he(this,$0,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const n=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),n.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};zv=new WeakMap,Ch=new WeakMap,ii=new WeakMap,$0=new WeakMap,Mg=new WeakMap,CE=new WeakMap,qv=new WeakMap,jo=new WeakMap,Wv=new WeakMap,Yd=new WeakMap,Hg=new WeakMap,bE=new WeakMap,$v=new WeakMap,Uu=new WeakMap,EE=new WeakMap,Xv=new WeakMap,Jd=new WeakMap,Rf=new WeakMap,X0=new WeakMap,Y0=new WeakMap,wc=new WeakMap,Yv=new WeakMap,_E=new WeakMap,kI=new WeakMap,Dr=new WeakSet,PN=function([e,t],n,A){[n,A]=this.screenToPageTranslation(n,A),this.x+=n/e,this.y+=A/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},SE=new WeakSet,ON=function(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},oF=function(e){switch(e){case 90:{const[t,n]=this.pageDimensions;return[0,-t/n,n/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,n]=this.pageDimensions;return[0,t/n,-n/t,0]}default:return[1,0,0,1]}},Gz=function(){if(C(this,jo))return;he(this,jo,document.createElement("div")),C(this,jo).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const n of e){const A=document.createElement("div");C(this,jo).append(A),A.classList.add("resizer",n),A.setAttribute("data-resizer-name",n),A.addEventListener("pointerdown",be(this,Dr,zz).bind(this,n),{signal:t}),A.addEventListener("contextmenu",kc,{signal:t}),A.tabIndex=-1}this.div.prepend(C(this,jo))},zz=function(e,t){var l;t.preventDefault();const{isMac:n}=_o.platform;if(t.button!==0||t.ctrlKey&&n)return;(l=C(this,ii))==null||l.toggle(!1);const A=this._isDraggable;this._isDraggable=!1,he(this,Wv,[t.screenX,t.screenY]);const i=new AbortController,s=this._uiManager.combinedSignal(i);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",be(this,Dr,DN).bind(this,e),{passive:!0,capture:!0,signal:s}),window.addEventListener("touchmove",os,{passive:!1,signal:s}),window.addEventListener("contextmenu",kc,{signal:s}),he(this,Yd,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const o=this.parent.div.style.cursor,a=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const u=()=>{var c;i.abort(),this.parent.togglePointerEvents(!0),(c=C(this,ii))==null||c.toggle(!0),this._isDraggable=A,this.parent.div.style.cursor=o,this.div.style.cursor=a,be(this,Dr,aF).call(this)};window.addEventListener("pointerup",u,{signal:s}),window.addEventListener("blur",u,{signal:s})},kN=function(e,t,n,A){this.width=n,this.height=A,this.x=e,this.y=t;const[i,s]=this.parentDimensions;this.setDims(i*n,s*A),this.fixAndSetPosition(),this._onResized()},aF=function(){if(!C(this,Yd))return;const{savedX:e,savedY:t,savedWidth:n,savedHeight:A}=C(this,Yd);he(this,Yd,null);const i=this.x,s=this.y,o=this.width,a=this.height;i===e&&s===t&&o===n&&a===A||this.addCommands({cmd:be(this,Dr,kN).bind(this,i,s,o,a),undo:be(this,Dr,kN).bind(this,e,t,n,A),mustExec:!0})},DN=function(e,t){const[n,A]=this.parentDimensions,i=this.x,s=this.y,o=this.width,a=this.height,u=an.MIN_SIZE/n,l=an.MIN_SIZE/A,c=be(this,Dr,oF).call(this,this.rotation),h=(Y,re)=>[c[0]*Y+c[2]*re,c[1]*Y+c[3]*re],d=be(this,Dr,oF).call(this,360-this.rotation),m=(Y,re)=>[d[0]*Y+d[2]*re,d[1]*Y+d[3]*re];let g,y,v=!1,w=!1;switch(e){case"topLeft":v=!0,g=(Y,re)=>[0,0],y=(Y,re)=>[Y,re];break;case"topMiddle":g=(Y,re)=>[Y/2,0],y=(Y,re)=>[Y/2,re];break;case"topRight":v=!0,g=(Y,re)=>[Y,0],y=(Y,re)=>[0,re];break;case"middleRight":w=!0,g=(Y,re)=>[Y,re/2],y=(Y,re)=>[0,re/2];break;case"bottomRight":v=!0,g=(Y,re)=>[Y,re],y=(Y,re)=>[0,0];break;case"bottomMiddle":g=(Y,re)=>[Y/2,re],y=(Y,re)=>[Y/2,0];break;case"bottomLeft":v=!0,g=(Y,re)=>[0,re],y=(Y,re)=>[Y,0];break;case"middleLeft":w=!0,g=(Y,re)=>[0,re/2],y=(Y,re)=>[Y,re/2];break}const b=g(o,a),B=y(o,a);let F=h(...B);const N=an._round(i+F[0]),T=an._round(s+F[1]);let U=1,k=1,D,_;if(t.fromKeyboard)({deltaX:D,deltaY:_}=t);else{const{screenX:Y,screenY:re}=t,[le,ne]=C(this,Wv);[D,_]=this.screenToPageTranslation(Y-le,re-ne),C(this,Wv)[0]=Y,C(this,Wv)[1]=re}if([D,_]=m(D/n,_/A),v){const Y=Math.hypot(o,a);U=k=Math.max(Math.min(Math.hypot(B[0]-b[0]-D,B[1]-b[1]-_)/Y,1/o,1/a),u/o,l/a)}else w?U=La(Math.abs(B[0]-b[0]-D),u,1)/o:k=La(Math.abs(B[1]-b[1]-_),l,1)/a;const L=an._round(o*U),O=an._round(a*k);F=h(...y(L,O));const V=N-F[0],$=T-F[1];C(this,Uu)||he(this,Uu,[this.x,this.y,this.width,this.height]),this.width=L,this.height=O,this.x=V,this.y=$,this.setDims(n*L,A*O),this.fixAndSetPosition(),this._onResizing()},qz=function(){var e;he(this,Yd,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=C(this,ii))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},Wz=function(e,t,n){let i=.7*(n/t)+1-.7;if(i===1)return;const s=be(this,Dr,oF).call(this,this.rotation),o=(N,T)=>[s[0]*N+s[2]*T,s[1]*N+s[3]*T],[a,u]=this.parentDimensions,l=this.x,c=this.y,h=this.width,d=this.height,m=an.MIN_SIZE/a,g=an.MIN_SIZE/u;i=Math.max(Math.min(i,1/h,1/d),m/h,g/d);const y=an._round(h*i),v=an._round(d*i);if(y===h&&v===d)return;C(this,Uu)||he(this,Uu,[l,c,h,d]);const w=o(h/2,d/2),b=an._round(l+w[0]),B=an._round(c+w[1]),F=o(y/2,v/2);this.x=b-F[0],this.y=B-F[1],this.width=y,this.height=v,this.setDims(a*y,u*v),this.fixAndSetPosition(),this._onResizing()},$z=function(){var e;(e=C(this,ii))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),be(this,Dr,aF).call(this)},MN=function(e){const{isMac:t}=_o.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},Xz=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let n=!1;const A=new AbortController,i=this._uiManager.combinedSignal(A),s={capture:!0,passive:!1,signal:i},o=u=>{A.abort(),he(this,Mg,null),he(this,$v,!1),this._uiManager.endDragSession()||be(this,Dr,MN).call(this,u),n&&this._onStopDragging()};t&&(he(this,X0,e.clientX),he(this,Y0,e.clientY),he(this,Mg,e.pointerId),he(this,CE,e.pointerType),window.addEventListener("pointermove",u=>{n||(n=!0,this._onStartDragging());const{clientX:l,clientY:c,pointerId:h}=u;if(h!==C(this,Mg)){os(u);return}const[d,m]=this.screenToPageTranslation(l-C(this,X0),c-C(this,Y0));he(this,X0,l),he(this,Y0,c),this._uiManager.dragSelectedEditors(d,m)},s),window.addEventListener("touchmove",os,s),window.addEventListener("pointerdown",u=>{u.pointerType===C(this,CE)&&(C(this,Yv)||u.isPrimary)&&o(u),os(u)},s));const a=u=>{if(!C(this,Mg)||C(this,Mg)===u.pointerId){o(u);return}os(u)};window.addEventListener("pointerup",a,{signal:i}),window.addEventListener("blur",a,{signal:i})},HN=function(){if(C(this,Hg)||!this.div)return;he(this,Hg,new AbortController);const e=this._uiManager.combinedSignal(C(this,Hg));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},Yz=function(e){an._resizerKeyboardManager.exec(this,e)},Jz=function(e){var t;C(this,Jd)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==C(this,jo)&&be(this,Dr,zC).call(this)},Zz=function(e){he(this,bE,C(this,Jd)?e:"")},jN=function(e){if(C(this,Ch))for(const t of C(this,Ch))t.tabIndex=e},zC=function(){he(this,Jd,!1),be(this,Dr,jN).call(this,-1),be(this,Dr,aF).call(this)},Be(an,SE),qt(an,"_l10n",null),qt(an,"_l10nResizer",null),qt(an,"_borderLineWidth",-1),qt(an,"_colorManager",new xN),qt(an,"_zIndex",1),qt(an,"_telemetryTimeout",1e3);let YA=an;class P0e extends YA{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const Kj=3285377520,pc=4294901760,Cf=65535;class eq{constructor(e){this.h1=e?e&4294967295:Kj,this.h2=e?e&4294967295:Kj}update(e){let t,n;if(typeof e=="string"){t=new Uint8Array(e.length*2),n=0;for(let g=0,y=e.length;g<y;g++){const v=e.charCodeAt(g);v<=255?t[n++]=v:(t[n++]=v>>>8,t[n++]=v&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),n=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const A=n>>2,i=n-A*4,s=new Uint32Array(t.buffer,0,A);let o=0,a=0,u=this.h1,l=this.h2;const c=3432918353,h=461845907,d=c&Cf,m=h&Cf;for(let g=0;g<A;g++)g&1?(o=s[g],o=o*c&pc|o*d&Cf,o=o<<15|o>>>17,o=o*h&pc|o*m&Cf,u^=o,u=u<<13|u>>>19,u=u*5+3864292196):(a=s[g],a=a*c&pc|a*d&Cf,a=a<<15|a>>>17,a=a*h&pc|a*m&Cf,l^=a,l=l<<13|l>>>19,l=l*5+3864292196);switch(o=0,i){case 3:o^=t[A*4+2]<<16;case 2:o^=t[A*4+1]<<8;case 1:o^=t[A*4],o=o*c&pc|o*d&Cf,o=o<<15|o>>>17,o=o*h&pc|o*m&Cf,A&1?u^=o:l^=o}this.h1=u,this.h2=l}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&pc|e*36045&Cf,t=t*4283543511&pc|((t<<16|e>>>16)*2950163797&pc)>>>16,e^=t>>>1,e=e*444984403&pc|e*60499&Cf,t=t*3301882366&pc|((t<<16|e>>>16)*3120437893&pc)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const VN=Object.freeze({map:null,hash:"",transfer:void 0});var Jv,Zv,Vo,DI,tq;class XO{constructor(){Be(this,DI);Be(this,Jv,!1);Be(this,Zv,null);Be(this,Vo,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=C(this,Vo).get(e);return n===void 0?t:Object.assign(t,n)}getRawValue(e){return C(this,Vo).get(e)}remove(e){if(C(this,Vo).delete(e),C(this,Vo).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of C(this,Vo).values())if(t instanceof YA)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=C(this,Vo).get(e);let A=!1;if(n!==void 0)for(const[i,s]of Object.entries(t))n[i]!==s&&(A=!0,n[i]=s);else A=!0,C(this,Vo).set(e,t);A&&be(this,DI,tq).call(this),t instanceof YA&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return C(this,Vo).has(e)}get size(){return C(this,Vo).size}resetModified(){C(this,Jv)&&(he(this,Jv,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new rq(this)}get serializable(){if(C(this,Vo).size===0)return VN;const e=new Map,t=new eq,n=[],A=Object.create(null);let i=!1;for(const[s,o]of C(this,Vo)){const a=o instanceof YA?o.serialize(!1,A):o;a&&(e.set(s,a),t.update(`${s}:${JSON.stringify(a)}`),i||(i=!!a.bitmap))}if(i)for(const s of e.values())s.bitmap&&n.push(s.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:VN}get editorStats(){let e=null;const t=new Map;for(const n of C(this,Vo).values()){if(!(n instanceof YA))continue;const A=n.telemetryFinalData;if(!A)continue;const{type:i}=A;t.has(i)||t.set(i,Object.getPrototypeOf(n).constructor),e||(e=Object.create(null));const s=e[i]||(e[i]=new Map);for(const[o,a]of Object.entries(A)){if(o==="type")continue;let u=s.get(o);u||(u=new Map,s.set(o,u));const l=u.get(a)??0;u.set(a,l+1)}}for(const[n,A]of t)e[n]=A.computeTelemetryFinalData(e[n]);return e}resetModifiedIds(){he(this,Zv,null)}get modifiedIds(){if(C(this,Zv))return C(this,Zv);const e=[];for(const t of C(this,Vo).values())!(t instanceof YA)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return he(this,Zv,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return C(this,Vo).entries()}}Jv=new WeakMap,Zv=new WeakMap,Vo=new WeakMap,DI=new WeakSet,tq=function(){C(this,Jv)||(he(this,Jv,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var FE;class rq extends XO{constructor(t){super();Be(this,FE);const{map:n,hash:A,transfer:i}=t.serializable,s=structuredClone(n,i?{transfer:i}:null);he(this,FE,{map:s,hash:A,transfer:i})}get print(){TA("Should not call PrintAnnotationStorage.print")}get serializable(){return C(this,FE)}get modifiedIds(){return En(this,"modifiedIds",{ids:new Set,hash:""})}}FE=new WeakMap;var J0;class O0e{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){Be(this,J0,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),C(this,J0).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:n}){if(!(!e||C(this,J0).has(e.loadedName))){if(Is(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:A,src:i,style:s}=e,o=new FontFace(A,i,s);this.addNativeFontFace(o);try{await o.load(),C(this,J0).add(A),n==null||n(e)}catch{Zr(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}TA("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const n=e.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(A){throw Zr(`Failed to load font '${n.family}': '${A}'.`),e.disableFontFace=!0,A}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const A=this._queueLoadingCallback(n);this._prepareFontLoadEvent(e,A)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return En(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return En(this,"isSyncFontLoadingSupported",dl||_o.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(Is(!A.done,"completeRequest() cannot be called twice."),A.done=!0;n.length>0&&n[0].done;){const i=n.shift();setTimeout(i.callback,0)}}const{loadingRequests:n}=this,A={done:!1,complete:t,callback:e};return n.push(A),A}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return En(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function n(B,F){return B.charCodeAt(F)<<24|B.charCodeAt(F+1)<<16|B.charCodeAt(F+2)<<8|B.charCodeAt(F+3)&255}function A(B,F,N,T){const U=B.substring(0,F),k=B.substring(F+N);return U+T+k}let i,s;const o=this._document.createElement("canvas");o.width=1,o.height=1;const a=o.getContext("2d");let u=0;function l(B,F){if(++u>30){Zr("Load test font never loaded."),F();return}if(a.font="30px "+B,a.fillText(".",0,20),a.getImageData(0,0,1,1).data[3]>0){F();return}setTimeout(l.bind(null,B,F))}const c=`lt${Date.now()}${this.loadTestFontId++}`;let h=this._loadTestFont;h=A(h,976,c.length,c);const m=16,g=1482184792;let y=n(h,m);for(i=0,s=c.length-3;i<s;i+=4)y=y-g+n(c,i)|0;i<c.length&&(y=y-g+n(c+"XXX",i)|0),h=A(h,m,4,_0e(y));const v=`url(data:font/opentype;base64,${btoa(h)});`,w=`@font-face {font-family:"${c}";src:${v}}`;this.insertRule(w);const b=this._document.createElement("div");b.style.visibility="hidden",b.style.width=b.style.height="10px",b.style.position="absolute",b.style.top=b.style.left="0px";for(const B of[e.loadedName,c]){const F=this._document.createElement("span");F.textContent="Hi",F.style.fontFamily=B,b.append(F)}this._document.body.append(b),l(c,()=>{b.remove(),t.complete()})}}J0=new WeakMap;class k0e{constructor(e,t=null){this.compiledGlyphs=Object.create(null);for(const n in e)this[n]=e[n];this._inspectFont=t}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var n;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${yz(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let A=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(A+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${A}src:${e}}`}return(n=this._inspectFont)==null||n.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const n=this.loadedName+"_path_"+t;let A;try{A=e.get(n)}catch(s){Zr(`getPathGenerator - ignoring character: "${s}".`)}const i=new Path2D(A||"");return this.fontExtraProperties||e.delete(n),this.compiledGlyphs[t]=i}}function D0e(r){if(r instanceof URL)return r.href;if(typeof r=="string"){if(dl)return r;const e=URL.parse(r,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function M0e(r){if(dl&&typeof Buffer<"u"&&r instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength)return r;if(typeof r=="string")return Y_(r);if(r instanceof ArrayBuffer||ArrayBuffer.isView(r)||typeof r=="object"&&!isNaN(r==null?void 0:r.length))return new Uint8Array(r);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function bS(r){if(typeof r!="string")return null;if(r.endsWith("/"))return r;throw new Error(`Invalid factory url: "${r}" must include trailing slash.`)}const KN=r=>typeof r=="object"&&Number.isInteger(r==null?void 0:r.num)&&r.num>=0&&Number.isInteger(r==null?void 0:r.gen)&&r.gen>=0,H0e=r=>typeof r=="object"&&typeof(r==null?void 0:r.name)=="string",nq=x0e.bind(null,KN,H0e);var Zd,MI;class j0e{constructor(){Be(this,Zd,new Map);Be(this,MI,Promise.resolve())}postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};C(this,MI).then(()=>{for(const[A]of C(this,Zd))A.call(this,n)})}addEventListener(e,t,n=null){let A=null;if((n==null?void 0:n.signal)instanceof AbortSignal){const{signal:i}=n;if(i.aborted){Zr("LoopbackPort - cannot use an `aborted` signal.");return}const s=()=>this.removeEventListener(e,t);A=()=>i.removeEventListener("abort",s),i.addEventListener("abort",s)}C(this,Zd).set(t,A)}removeEventListener(e,t){const n=C(this,Zd).get(t);n==null||n(),C(this,Zd).delete(t)}terminate(){for(const[,e]of C(this,Zd))e==null||e();C(this,Zd).clear()}}Zd=new WeakMap,MI=new WeakMap;const ES={DATA:1,ERROR:2},Es={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Gj(){}function Hl(r){if(r instanceof Op||r instanceof EI||r instanceof Hj||r instanceof Yb||r instanceof RL)return r;switch(r instanceof Error||typeof r=="object"&&r!==null||TA('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),r.name){case"AbortException":return new Op(r.message);case"InvalidPDFException":return new EI(r.message);case"PasswordException":return new Hj(r.message,r.code);case"ResponseException":return new Yb(r.message,r.status,r.missing);case"UnknownErrorException":return new RL(r.message,r.details)}return new RL(r.message,r.toString())}var Z0,Nc,Aq,iq,sq,lF;class qC{constructor(e,t,n){Be(this,Nc);Be(this,Z0,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",be(this,Nc,Aq).bind(this),{signal:C(this,Z0).signal})}on(e,t){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const A=this.callbackId++,i=Promise.withResolvers();this.callbackCapabilities[A]=i;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:A,data:t},n)}catch(s){i.reject(s)}return i.promise}sendWithStream(e,t,n,A){const i=this.streamId++,s=this.sourceName,o=this.targetName,a=this.comObj;return new ReadableStream({start:u=>{const l=Promise.withResolvers();return this.streamControllers[i]={controller:u,startCall:l,pullCall:null,cancelCall:null,isClosed:!1},a.postMessage({sourceName:s,targetName:o,action:e,streamId:i,data:t,desiredSize:u.desiredSize},A),l.promise},pull:u=>{const l=Promise.withResolvers();return this.streamControllers[i].pullCall=l,a.postMessage({sourceName:s,targetName:o,stream:Es.PULL,streamId:i,desiredSize:u.desiredSize}),l.promise},cancel:u=>{Is(u instanceof Error,"cancel must have a valid reason");const l=Promise.withResolvers();return this.streamControllers[i].cancelCall=l,this.streamControllers[i].isClosed=!0,a.postMessage({sourceName:s,targetName:o,stream:Es.CANCEL,streamId:i,reason:Hl(u)}),l.promise}},n)}destroy(){var e;(e=C(this,Z0))==null||e.abort(),he(this,Z0,null)}}Z0=new WeakMap,Nc=new WeakSet,Aq=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){be(this,Nc,sq).call(this,e);return}if(e.callback){const n=e.callbackId,A=this.callbackCapabilities[n];if(!A)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],e.callback===ES.DATA)A.resolve(e.data);else if(e.callback===ES.ERROR)A.reject(Hl(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const n=this.sourceName,A=e.sourceName,i=this.comObj;Promise.try(t,e.data).then(function(s){i.postMessage({sourceName:n,targetName:A,callback:ES.DATA,callbackId:e.callbackId,data:s})},function(s){i.postMessage({sourceName:n,targetName:A,callback:ES.ERROR,callbackId:e.callbackId,reason:Hl(s)})});return}if(e.streamId){be(this,Nc,iq).call(this,e);return}t(e.data)},iq=function(e){const t=e.streamId,n=this.sourceName,A=e.sourceName,i=this.comObj,s=this,o=this.actionHandler[e.action],a={enqueue(u,l=1,c){if(this.isCancelled)return;const h=this.desiredSize;this.desiredSize-=l,h>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),i.postMessage({sourceName:n,targetName:A,stream:Es.ENQUEUE,streamId:t,chunk:u},c)},close(){this.isCancelled||(this.isCancelled=!0,i.postMessage({sourceName:n,targetName:A,stream:Es.CLOSE,streamId:t}),delete s.streamSinks[t])},error(u){Is(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,i.postMessage({sourceName:n,targetName:A,stream:Es.ERROR,streamId:t,reason:Hl(u)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};a.sinkCapability.resolve(),a.ready=a.sinkCapability.promise,this.streamSinks[t]=a,Promise.try(o,e.data,a).then(function(){i.postMessage({sourceName:n,targetName:A,stream:Es.START_COMPLETE,streamId:t,success:!0})},function(u){i.postMessage({sourceName:n,targetName:A,stream:Es.START_COMPLETE,streamId:t,reason:Hl(u)})})},sq=function(e){const t=e.streamId,n=this.sourceName,A=e.sourceName,i=this.comObj,s=this.streamControllers[t],o=this.streamSinks[t];switch(e.stream){case Es.START_COMPLETE:e.success?s.startCall.resolve():s.startCall.reject(Hl(e.reason));break;case Es.PULL_COMPLETE:e.success?s.pullCall.resolve():s.pullCall.reject(Hl(e.reason));break;case Es.PULL:if(!o){i.postMessage({sourceName:n,targetName:A,stream:Es.PULL_COMPLETE,streamId:t,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,Promise.try(o.onPull||Gj).then(function(){i.postMessage({sourceName:n,targetName:A,stream:Es.PULL_COMPLETE,streamId:t,success:!0})},function(u){i.postMessage({sourceName:n,targetName:A,stream:Es.PULL_COMPLETE,streamId:t,reason:Hl(u)})});break;case Es.ENQUEUE:if(Is(s,"enqueue should have stream controller"),s.isClosed)break;s.controller.enqueue(e.chunk);break;case Es.CLOSE:if(Is(s,"close should have stream controller"),s.isClosed)break;s.isClosed=!0,s.controller.close(),be(this,Nc,lF).call(this,s,t);break;case Es.ERROR:Is(s,"error should have stream controller"),s.controller.error(Hl(e.reason)),be(this,Nc,lF).call(this,s,t);break;case Es.CANCEL_COMPLETE:e.success?s.cancelCall.resolve():s.cancelCall.reject(Hl(e.reason)),be(this,Nc,lF).call(this,s,t);break;case Es.CANCEL:if(!o)break;const a=Hl(e.reason);Promise.try(o.onCancel||Gj,a).then(function(){i.postMessage({sourceName:n,targetName:A,stream:Es.CANCEL_COMPLETE,streamId:t,success:!0})},function(u){i.postMessage({sourceName:n,targetName:A,stream:Es.CANCEL_COMPLETE,streamId:t,reason:Hl(u)})}),o.sinkCapability.reject(a),o.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},lF=async function(e,t){var n,A,i;await Promise.allSettled([(n=e.startCall)==null?void 0:n.promise,(A=e.pullCall)==null?void 0:A.promise,(i=e.cancelCall)==null?void 0:i.promise]),delete this.streamControllers[t]};var IE;class oq{constructor({enableHWA:e=!1}){Be(this,IE,!1);he(this,IE,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!C(this,IE)})}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){TA("Abstract method `_createCanvas` called.")}}IE=new WeakMap;class V0e extends oq{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}}class aq{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){TA("Abstract method `_fetch` called.")}}class zj extends aq{async _fetch(e){const t=await v1(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):Y_(t)}}class lq{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,n,A,i){return"none"}destroy(e=!1){}}var ey,eB,ep,tp,xa,ty,ry,pr,Fa,WC,f0,uF,d0,uq,GN,p0,$C,XC,zN,YC;class K0e extends lq{constructor({docId:t,ownerDocument:n=globalThis.document}){super();Be(this,pr);Be(this,ey);Be(this,eB);Be(this,ep);Be(this,tp);Be(this,xa);Be(this,ty);Be(this,ry,0);he(this,tp,t),he(this,xa,n)}addFilter(t){if(!t)return"none";let n=C(this,pr,Fa).get(t);if(n)return n;const[A,i,s]=be(this,pr,uF).call(this,t),o=t.length===1?A:`${A}${i}${s}`;if(n=C(this,pr,Fa).get(o),n)return C(this,pr,Fa).set(t,n),n;const a=`g_${C(this,tp)}_transfer_map_${Al(this,ry)._++}`,u=be(this,pr,d0).call(this,a);C(this,pr,Fa).set(t,u),C(this,pr,Fa).set(o,u);const l=be(this,pr,p0).call(this,a);return be(this,pr,XC).call(this,A,i,s,l),u}addHCMFilter(t,n){var m;const A=`${t}-${n}`,i="base";let s=C(this,pr,WC).get(i);if((s==null?void 0:s.key)===A||(s?((m=s.filter)==null||m.remove(),s.key=A,s.url="none",s.filter=null):(s={key:A,url:"none",filter:null},C(this,pr,WC).set(i,s)),!t||!n))return s.url;const o=be(this,pr,YC).call(this,t);t=Ur.makeHexColor(...o);const a=be(this,pr,YC).call(this,n);if(n=Ur.makeHexColor(...a),C(this,pr,f0).style.color="",t==="#000000"&&n==="#ffffff"||t===n)return s.url;const u=new Array(256);for(let g=0;g<=255;g++){const y=g/255;u[g]=y<=.03928?y/12.92:((y+.055)/1.055)**2.4}const l=u.join(","),c=`g_${C(this,tp)}_hcm_filter`,h=s.filter=be(this,pr,p0).call(this,c);be(this,pr,XC).call(this,l,l,l,h),be(this,pr,GN).call(this,h);const d=(g,y)=>{const v=o[g]/255,w=a[g]/255,b=new Array(y+1);for(let B=0;B<=y;B++)b[B]=v+B/y*(w-v);return b.join(",")};return be(this,pr,XC).call(this,d(0,5),d(1,5),d(2,5),h),s.url=be(this,pr,d0).call(this,c),s.url}addAlphaFilter(t){let n=C(this,pr,Fa).get(t);if(n)return n;const[A]=be(this,pr,uF).call(this,[t]),i=`alpha_${A}`;if(n=C(this,pr,Fa).get(i),n)return C(this,pr,Fa).set(t,n),n;const s=`g_${C(this,tp)}_alpha_map_${Al(this,ry)._++}`,o=be(this,pr,d0).call(this,s);C(this,pr,Fa).set(t,o),C(this,pr,Fa).set(i,o);const a=be(this,pr,p0).call(this,s);return be(this,pr,zN).call(this,A,a),o}addLuminosityFilter(t){let n=C(this,pr,Fa).get(t||"luminosity");if(n)return n;let A,i;if(t?([A]=be(this,pr,uF).call(this,[t]),i=`luminosity_${A}`):i="luminosity",n=C(this,pr,Fa).get(i),n)return C(this,pr,Fa).set(t,n),n;const s=`g_${C(this,tp)}_luminosity_map_${Al(this,ry)._++}`,o=be(this,pr,d0).call(this,s);C(this,pr,Fa).set(t,o),C(this,pr,Fa).set(i,o);const a=be(this,pr,p0).call(this,s);return be(this,pr,uq).call(this,a),t&&be(this,pr,zN).call(this,A,a),o}addHighlightHCMFilter(t,n,A,i,s){var w;const o=`${n}-${A}-${i}-${s}`;let a=C(this,pr,WC).get(t);if((a==null?void 0:a.key)===o||(a?((w=a.filter)==null||w.remove(),a.key=o,a.url="none",a.filter=null):(a={key:o,url:"none",filter:null},C(this,pr,WC).set(t,a)),!n||!A))return a.url;const[u,l]=[n,A].map(be(this,pr,YC).bind(this));let c=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),h=Math.round(.2126*l[0]+.7152*l[1]+.0722*l[2]),[d,m]=[i,s].map(be(this,pr,YC).bind(this));h<c&&([c,h,d,m]=[h,c,m,d]),C(this,pr,f0).style.color="";const g=(b,B,F)=>{const N=new Array(256),T=(h-c)/F,U=b/255,k=(B-b)/(255*F);let D=0;for(let _=0;_<=F;_++){const L=Math.round(c+_*T),O=U+_*k;for(let V=D;V<=L;V++)N[V]=O;D=L+1}for(let _=D;_<256;_++)N[_]=N[D-1];return N.join(",")},y=`g_${C(this,tp)}_hcm_${t}_filter`,v=a.filter=be(this,pr,p0).call(this,y);return be(this,pr,GN).call(this,v),be(this,pr,XC).call(this,g(d[0],m[0],5),g(d[1],m[1],5),g(d[2],m[2],5),v),a.url=be(this,pr,d0).call(this,y),a.url}destroy(t=!1){var n,A,i,s;t&&((n=C(this,ty))!=null&&n.size)||((A=C(this,ep))==null||A.parentNode.parentNode.remove(),he(this,ep,null),(i=C(this,eB))==null||i.clear(),he(this,eB,null),(s=C(this,ty))==null||s.clear(),he(this,ty,null),he(this,ry,0))}}ey=new WeakMap,eB=new WeakMap,ep=new WeakMap,tp=new WeakMap,xa=new WeakMap,ty=new WeakMap,ry=new WeakMap,pr=new WeakSet,Fa=function(){return C(this,eB)||he(this,eB,new Map)},WC=function(){return C(this,ty)||he(this,ty,new Map)},f0=function(){if(!C(this,ep)){const t=C(this,xa).createElement("div"),{style:n}=t;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const A=C(this,xa).createElementNS(Dd,"svg");A.setAttribute("width",0),A.setAttribute("height",0),he(this,ep,C(this,xa).createElementNS(Dd,"defs")),t.append(A),A.append(C(this,ep)),C(this,xa).body.append(t)}return C(this,ep)},uF=function(t){if(t.length===1){const u=t[0],l=new Array(256);for(let h=0;h<256;h++)l[h]=u[h]/255;const c=l.join(",");return[c,c,c]}const[n,A,i]=t,s=new Array(256),o=new Array(256),a=new Array(256);for(let u=0;u<256;u++)s[u]=n[u]/255,o[u]=A[u]/255,a[u]=i[u]/255;return[s.join(","),o.join(","),a.join(",")]},d0=function(t){if(C(this,ey)===void 0){he(this,ey,"");const n=C(this,xa).URL;n!==C(this,xa).baseURI&&(Z_(n)?Zr('#createUrl: ignore "data:"-URL for performance reasons.'):he(this,ey,zO(n,"")))}return`url(${C(this,ey)}#${t})`},uq=function(t){const n=C(this,xa).createElementNS(Dd,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(n)},GN=function(t){const n=C(this,xa).createElementNS(Dd,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(n)},p0=function(t){const n=C(this,xa).createElementNS(Dd,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",t),C(this,pr,f0).append(n),n},$C=function(t,n,A){const i=C(this,xa).createElementNS(Dd,n);i.setAttribute("type","discrete"),i.setAttribute("tableValues",A),t.append(i)},XC=function(t,n,A,i){const s=C(this,xa).createElementNS(Dd,"feComponentTransfer");i.append(s),be(this,pr,$C).call(this,s,"feFuncR",t),be(this,pr,$C).call(this,s,"feFuncG",n),be(this,pr,$C).call(this,s,"feFuncB",A)},zN=function(t,n){const A=C(this,xa).createElementNS(Dd,"feComponentTransfer");n.append(A),be(this,pr,$C).call(this,A,"feFuncA",t)},YC=function(t){return C(this,pr,f0).style.color=t,$O(getComputedStyle(C(this,pr,f0)).getPropertyValue("color"))};class cq{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){TA("Abstract method `_fetch` called.")}}class qj extends cq{async _fetch(e){const t=await v1(e,"arraybuffer");return new Uint8Array(t)}}class hq{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){TA("Abstract method `_fetch` called.")}}class Wj extends hq{async _fetch(e){const t=await v1(e,"arraybuffer");return new Uint8Array(t)}}dl&&Zr("Please use the `legacy` build in Node.js environments.");async function YO(r){const t=await process.getBuiltinModule("fs").promises.readFile(r);return new Uint8Array(t)}class G0e extends lq{}class z0e extends oq{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class q0e extends aq{async _fetch(e){return YO(e)}}class W0e extends cq{async _fetch(e){return YO(e)}}class $0e extends hq{async _fetch(e){return YO(e)}}const Wo={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function qN(r,e){if(!e)return;const t=e[2]-e[0],n=e[3]-e[1],A=new Path2D;A.rect(e[0],e[1],t,n),r.clip(A)}class JO{isModifyingCurrentTransform(){return!1}getPattern(){TA("Abstract method `getPattern` called.")}}class X0e extends JO{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,A){let i;if(A===Wo.STROKE||A===Wo.FILL){const s=t.current.getClippedPathBoundingBox(A,Si(e))||[0,0,0,0],o=Math.ceil(s[2]-s[0])||1,a=Math.ceil(s[3]-s[1])||1,u=t.cachedCanvases.getCanvas("pattern",o,a),l=u.context;l.clearRect(0,0,l.canvas.width,l.canvas.height),l.beginPath(),l.rect(0,0,l.canvas.width,l.canvas.height),l.translate(-s[0],-s[1]),n=Ur.transform(n,[1,0,0,1,s[0],s[1]]),l.transform(...t.baseTransform),this.matrix&&l.transform(...this.matrix),qN(l,this._bbox),l.fillStyle=this._createGradient(l),l.fill(),i=e.createPattern(u.canvas,"no-repeat");const c=new DOMMatrix(n);i.setTransform(c)}else qN(e,this._bbox),i=this._createGradient(e);return i}}function kL(r,e,t,n,A,i,s,o){const a=e.coords,u=e.colors,l=r.data,c=r.width*4;let h;a[t+1]>a[n+1]&&(h=t,t=n,n=h,h=i,i=s,s=h),a[n+1]>a[A+1]&&(h=n,n=A,A=h,h=s,s=o,o=h),a[t+1]>a[n+1]&&(h=t,t=n,n=h,h=i,i=s,s=h);const d=(a[t]+e.offsetX)*e.scaleX,m=(a[t+1]+e.offsetY)*e.scaleY,g=(a[n]+e.offsetX)*e.scaleX,y=(a[n+1]+e.offsetY)*e.scaleY,v=(a[A]+e.offsetX)*e.scaleX,w=(a[A+1]+e.offsetY)*e.scaleY;if(m>=w)return;const b=u[i],B=u[i+1],F=u[i+2],N=u[s],T=u[s+1],U=u[s+2],k=u[o],D=u[o+1],_=u[o+2],L=Math.round(m),O=Math.round(w);let V,$,Y,re,le,ne,te,G;for(let H=L;H<=O;H++){if(H<y){const pe=H<m?0:(m-H)/(m-y);V=d-(d-g)*pe,$=b-(b-N)*pe,Y=B-(B-T)*pe,re=F-(F-U)*pe}else{let pe;H>w?pe=1:y===w?pe=0:pe=(y-H)/(y-w),V=g-(g-v)*pe,$=N-(N-k)*pe,Y=T-(T-D)*pe,re=U-(U-_)*pe}let z;H<m?z=0:H>w?z=1:z=(m-H)/(m-w),le=d-(d-v)*z,ne=b-(b-k)*z,te=B-(B-D)*z,G=F-(F-_)*z;const oe=Math.round(Math.min(V,le)),ae=Math.round(Math.max(V,le));let ie=c*H+oe*4;for(let pe=oe;pe<=ae;pe++)z=(V-pe)/(V-le),z<0?z=0:z>1&&(z=1),l[ie++]=$-($-ne)*z|0,l[ie++]=Y-(Y-te)*z|0,l[ie++]=re-(re-G)*z|0,l[ie++]=255}}function Y0e(r,e,t){const n=e.coords,A=e.colors;let i,s;switch(e.type){case"lattice":const o=e.verticesPerRow,a=Math.floor(n.length/o)-1,u=o-1;for(i=0;i<a;i++){let l=i*o;for(let c=0;c<u;c++,l++)kL(r,t,n[l],n[l+1],n[l+o],A[l],A[l+1],A[l+o]),kL(r,t,n[l+o+1],n[l+1],n[l+o],A[l+o+1],A[l+1],A[l+o])}break;case"triangles":for(i=0,s=n.length;i<s;i+=3)kL(r,t,n[i],n[i+1],n[i+2],A[i],A[i+1],A[i+2]);break;default:throw new Error("illegal figure")}}class J0e extends JO{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,n){const o=Math.floor(this._bounds[0]),a=Math.floor(this._bounds[1]),u=Math.ceil(this._bounds[2])-o,l=Math.ceil(this._bounds[3])-a,c=Math.min(Math.ceil(Math.abs(u*e[0]*1.1)),3e3),h=Math.min(Math.ceil(Math.abs(l*e[1]*1.1)),3e3),d=u/c,m=l/h,g={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-a,scaleX:1/d,scaleY:1/m},y=c+2*2,v=h+2*2,w=n.getCanvas("mesh",y,v),b=w.context,B=b.createImageData(c,h);if(t){const N=B.data;for(let T=0,U=N.length;T<U;T+=4)N[T]=t[0],N[T+1]=t[1],N[T+2]=t[2],N[T+3]=255}for(const N of this._figures)Y0e(B,N,g);return b.putImageData(B,2,2),{canvas:w.canvas,offsetX:o-2*d,offsetY:a-2*m,scaleX:d,scaleY:m}}isModifyingCurrentTransform(){return!0}getPattern(e,t,n,A){qN(e,this._bbox);const i=new Float32Array(2);if(A===Wo.SHADING)Ur.singularValueDecompose2dScale(Si(e),i);else if(this.matrix){Ur.singularValueDecompose2dScale(this.matrix,i);const[o,a]=i;Ur.singularValueDecompose2dScale(t.baseTransform,i),i[0]*=o,i[1]*=a}else Ur.singularValueDecompose2dScale(t.baseTransform,i);const s=this._createMeshCanvas(i,A===Wo.SHADING?null:this._background,t.cachedCanvases);return A!==Wo.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(s.offsetX,s.offsetY),e.scale(s.scaleX,s.scaleY),e.createPattern(s.canvas,"no-repeat")}}class Z0e extends JO{getPattern(){return"hotpink"}}function eBe(r){switch(r[0]){case"RadialAxial":return new X0e(r);case"Mesh":return new J0e(r);case"Dummy":return new Z0e}throw new Error(`Unknown IR type: ${r[0]}`)}const $j={COLORED:1,UNCOLORED:2},HI=class HI{constructor(e,t,n,A){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=n,this.baseTransform=A}createPatternCanvas(e){const{bbox:t,operatorList:n,paintType:A,tilingType:i,color:s,canvasGraphicsFactory:o}=this;let{xstep:a,ystep:u}=this;a=Math.abs(a),u=Math.abs(u),uU("TilingType: "+i);const l=t[0],c=t[1],h=t[2],d=t[3],m=h-l,g=d-c,y=new Float32Array(2);Ur.singularValueDecompose2dScale(this.matrix,y);const[v,w]=y;Ur.singularValueDecompose2dScale(this.baseTransform,y);const b=v*y[0],B=w*y[1];let F=m,N=g,T=!1,U=!1;const k=Math.ceil(a*b),D=Math.ceil(u*B),_=Math.ceil(m*b),L=Math.ceil(g*B);k>=_?F=a:T=!0,D>=L?N=u:U=!0;const O=this.getSizeAndScale(F,this.ctx.canvas.width,b),V=this.getSizeAndScale(N,this.ctx.canvas.height,B),$=e.cachedCanvases.getCanvas("pattern",O.size,V.size),Y=$.context,re=o.createCanvasGraphics(Y);if(re.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(re,A,s),Y.translate(-O.scale*l,-V.scale*c),re.transform(O.scale,0,0,V.scale,0,0),Y.save(),this.clipBbox(re,l,c,h,d),re.baseTransform=Si(re.ctx),re.executeOperatorList(n),re.endDrawing(),Y.restore(),T||U){const le=$.canvas;T&&(F=a),U&&(N=u);const ne=this.getSizeAndScale(F,this.ctx.canvas.width,b),te=this.getSizeAndScale(N,this.ctx.canvas.height,B),G=ne.size,H=te.size,z=e.cachedCanvases.getCanvas("pattern-workaround",G,H),oe=z.context,ae=T?Math.floor(m/a):0,ie=U?Math.floor(g/u):0;for(let pe=0;pe<=ae;pe++)for(let Ce=0;Ce<=ie;Ce++)oe.drawImage(le,G*pe,H*Ce,G,H,0,0,G,H);return{canvas:z.canvas,scaleX:ne.scale,scaleY:te.scale,offsetX:l,offsetY:c}}return{canvas:$.canvas,scaleX:O.scale,scaleY:V.scale,offsetX:l,offsetY:c}}getSizeAndScale(e,t,n){const A=Math.max(HI.MAX_PATTERN_SIZE,t);let i=Math.ceil(e*n);return i>=A?i=A:n=i/e,{scale:n,size:i}}clipBbox(e,t,n,A,i){const s=A-t,o=i-n;e.ctx.rect(t,n,s,o),Ur.axialAlignedBoundingBox([t,n,A,i],Si(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const A=e.ctx,i=e.current;switch(t){case $j.COLORED:const{fillStyle:s,strokeStyle:o}=this.ctx;A.fillStyle=i.fillColor=s,A.strokeStyle=i.strokeColor=o;break;case $j.UNCOLORED:A.fillStyle=A.strokeStyle=n,i.fillColor=i.strokeColor=n;break;default:throw new E0e(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,n,A){let i=n;A!==Wo.SHADING&&(i=Ur.transform(i,t.baseTransform),this.matrix&&(i=Ur.transform(i,this.matrix)));const s=this.createPatternCanvas(t);let o=new DOMMatrix(i);o=o.translate(s.offsetX,s.offsetY),o=o.scale(1/s.scaleX,1/s.scaleY);const a=e.createPattern(s.canvas,"repeat");return a.setTransform(o),a}};qt(HI,"MAX_PATTERN_SIZE",3e3);let WN=HI;function tBe({src:r,srcPos:e=0,dest:t,width:n,height:A,nonBlackColor:i=4294967295,inverseDecode:s=!1}){const o=_o.isLittleEndian?4278190080:255,[a,u]=s?[i,o]:[o,i],l=n>>3,c=n&7,h=r.length;t=new Uint32Array(t.buffer);let d=0;for(let m=0;m<A;m++){for(const y=e+l;e<y;e++){const v=e<h?r[e]:255;t[d++]=v&128?u:a,t[d++]=v&64?u:a,t[d++]=v&32?u:a,t[d++]=v&16?u:a,t[d++]=v&8?u:a,t[d++]=v&4?u:a,t[d++]=v&2?u:a,t[d++]=v&1?u:a}if(c===0)continue;const g=e<h?r[e++]:255;for(let y=0;y<c;y++)t[d++]=g&1<<7-y?u:a}return{srcPos:e,destPos:d}}const Xj=16,Yj=100,rBe=15,Jj=10,zl=16,DL=new DOMMatrix,ju=new Float32Array(2),C0=new Float32Array([1/0,1/0,-1/0,-1/0]);function nBe(r,e){if(r._removeMirroring)throw new Error("Context is already forwarding operations.");r.__originalSave=r.save,r.__originalRestore=r.restore,r.__originalRotate=r.rotate,r.__originalScale=r.scale,r.__originalTranslate=r.translate,r.__originalTransform=r.transform,r.__originalSetTransform=r.setTransform,r.__originalResetTransform=r.resetTransform,r.__originalClip=r.clip,r.__originalMoveTo=r.moveTo,r.__originalLineTo=r.lineTo,r.__originalBezierCurveTo=r.bezierCurveTo,r.__originalRect=r.rect,r.__originalClosePath=r.closePath,r.__originalBeginPath=r.beginPath,r._removeMirroring=()=>{r.save=r.__originalSave,r.restore=r.__originalRestore,r.rotate=r.__originalRotate,r.scale=r.__originalScale,r.translate=r.__originalTranslate,r.transform=r.__originalTransform,r.setTransform=r.__originalSetTransform,r.resetTransform=r.__originalResetTransform,r.clip=r.__originalClip,r.moveTo=r.__originalMoveTo,r.lineTo=r.__originalLineTo,r.bezierCurveTo=r.__originalBezierCurveTo,r.rect=r.__originalRect,r.closePath=r.__originalClosePath,r.beginPath=r.__originalBeginPath,delete r._removeMirroring},r.save=function(){e.save(),this.__originalSave()},r.restore=function(){e.restore(),this.__originalRestore()},r.translate=function(t,n){e.translate(t,n),this.__originalTranslate(t,n)},r.scale=function(t,n){e.scale(t,n),this.__originalScale(t,n)},r.transform=function(t,n,A,i,s,o){e.transform(t,n,A,i,s,o),this.__originalTransform(t,n,A,i,s,o)},r.setTransform=function(t,n,A,i,s,o){e.setTransform(t,n,A,i,s,o),this.__originalSetTransform(t,n,A,i,s,o)},r.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},r.rotate=function(t){e.rotate(t),this.__originalRotate(t)},r.clip=function(t){e.clip(t),this.__originalClip(t)},r.moveTo=function(t,n){e.moveTo(t,n),this.__originalMoveTo(t,n)},r.lineTo=function(t,n){e.lineTo(t,n),this.__originalLineTo(t,n)},r.bezierCurveTo=function(t,n,A,i,s,o){e.bezierCurveTo(t,n,A,i,s,o),this.__originalBezierCurveTo(t,n,A,i,s,o)},r.rect=function(t,n,A,i){e.rect(t,n,A,i),this.__originalRect(t,n,A,i)},r.closePath=function(){e.closePath(),this.__originalClosePath()},r.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class ABe{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let A;return this.cache[e]!==void 0?(A=this.cache[e],this.canvasFactory.reset(A,t,n)):(A=this.canvasFactory.create(t,n),this.cache[e]=A),A}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function _S(r,e,t,n,A,i,s,o,a,u){const[l,c,h,d,m,g]=Si(r);if(c===0&&h===0){const w=s*l+m,b=Math.round(w),B=o*d+g,F=Math.round(B),N=(s+a)*l+m,T=Math.abs(Math.round(N)-b)||1,U=(o+u)*d+g,k=Math.abs(Math.round(U)-F)||1;return r.setTransform(Math.sign(l),0,0,Math.sign(d),b,F),r.drawImage(e,t,n,A,i,0,0,T,k),r.setTransform(l,c,h,d,m,g),[T,k]}if(l===0&&d===0){const w=o*h+m,b=Math.round(w),B=s*c+g,F=Math.round(B),N=(o+u)*h+m,T=Math.abs(Math.round(N)-b)||1,U=(s+a)*c+g,k=Math.abs(Math.round(U)-F)||1;return r.setTransform(0,Math.sign(c),Math.sign(h),0,b,F),r.drawImage(e,t,n,A,i,0,0,k,T),r.setTransform(l,c,h,d,m,g),[k,T]}r.drawImage(e,t,n,A,i,s,o,a,u);const y=Math.hypot(l,c),v=Math.hypot(h,d);return[y*a,v*u]}class Zj{constructor(e,t){qt(this,"alphaIsShape",!1);qt(this,"fontSize",0);qt(this,"fontSizeScale",1);qt(this,"textMatrix",null);qt(this,"textMatrixScale",1);qt(this,"fontMatrix",_N);qt(this,"leading",0);qt(this,"x",0);qt(this,"y",0);qt(this,"lineX",0);qt(this,"lineY",0);qt(this,"charSpacing",0);qt(this,"wordSpacing",0);qt(this,"textHScale",1);qt(this,"textRenderingMode",Sa.FILL);qt(this,"textRise",0);qt(this,"fillColor","#000000");qt(this,"strokeColor","#000000");qt(this,"patternFill",!1);qt(this,"patternStroke",!1);qt(this,"fillAlpha",1);qt(this,"strokeAlpha",1);qt(this,"lineWidth",1);qt(this,"activeSMask",null);qt(this,"transferMaps","none");this.clipBox=new Float32Array([0,0,e,t]),this.minMax=C0.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=Wo.FILL,t=null){const n=this.minMax.slice();if(e===Wo.STROKE){t||TA("Stroke bounding box must include transform."),Ur.singularValueDecompose2dScale(t,ju);const A=ju[0]*this.lineWidth/2,i=ju[1]*this.lineWidth/2;n[0]-=A,n[1]-=i,n[2]+=A,n[3]+=i}return n}updateClipFromPath(){const e=Ur.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(C0,0)}getClippedPathBoundingBox(e=Wo.FILL,t=null){return Ur.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function e8(r,e){if(e instanceof ImageData){r.putImageData(e,0,0);return}const t=e.height,n=e.width,A=t%zl,i=(t-A)/zl,s=A===0?i:i+1,o=r.createImageData(n,zl);let a=0,u;const l=e.data,c=o.data;let h,d,m,g;if(e.kind===Eb.GRAYSCALE_1BPP){const y=l.byteLength,v=new Uint32Array(c.buffer,0,c.byteLength>>2),w=v.length,b=n+7>>3,B=4294967295,F=_o.isLittleEndian?4278190080:255;for(h=0;h<s;h++){for(m=h<i?zl:A,u=0,d=0;d<m;d++){const N=y-a;let T=0;const U=N>b?n:N*8-7,k=U&-8;let D=0,_=0;for(;T<k;T+=8)_=l[a++],v[u++]=_&128?B:F,v[u++]=_&64?B:F,v[u++]=_&32?B:F,v[u++]=_&16?B:F,v[u++]=_&8?B:F,v[u++]=_&4?B:F,v[u++]=_&2?B:F,v[u++]=_&1?B:F;for(;T<U;T++)D===0&&(_=l[a++],D=128),v[u++]=_&D?B:F,D>>=1}for(;u<w;)v[u++]=0;r.putImageData(o,0,h*zl)}}else if(e.kind===Eb.RGBA_32BPP){for(d=0,g=n*zl*4,h=0;h<i;h++)c.set(l.subarray(a,a+g)),a+=g,r.putImageData(o,0,d),d+=zl;h<s&&(g=n*A*4,c.set(l.subarray(a,a+g)),r.putImageData(o,0,d))}else if(e.kind===Eb.RGB_24BPP)for(m=zl,g=n*m,h=0;h<s;h++){for(h>=i&&(m=A,g=n*m),u=0,d=g;d--;)c[u++]=l[a++],c[u++]=l[a++],c[u++]=l[a++],c[u++]=255;r.putImageData(o,0,h*zl)}else throw new Error(`bad image kind: ${e.kind}`)}function t8(r,e){if(e.bitmap){r.drawImage(e.bitmap,0,0);return}const t=e.height,n=e.width,A=t%zl,i=(t-A)/zl,s=A===0?i:i+1,o=r.createImageData(n,zl);let a=0;const u=e.data,l=o.data;for(let c=0;c<s;c++){const h=c<i?zl:A;({srcPos:a}=tBe({src:u,srcPos:a,dest:l,width:n,height:h,nonBlackColor:0})),r.putImageData(o,0,c*zl)}}function bC(r,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of t)r[n]!==void 0&&(e[n]=r[n]);r.setLineDash!==void 0&&(e.setLineDash(r.getLineDash()),e.lineDashOffset=r.lineDashOffset)}function SS(r){r.strokeStyle=r.fillStyle="#000000",r.fillRule="nonzero",r.globalAlpha=1,r.lineWidth=1,r.lineCap="butt",r.lineJoin="miter",r.miterLimit=10,r.globalCompositeOperation="source-over",r.font="10px sans-serif",r.setLineDash!==void 0&&(r.setLineDash([]),r.lineDashOffset=0);const{filter:e}=r;e!=="none"&&e!==""&&(r.filter="none")}function r8(r,e){if(e)return!0;Ur.singularValueDecompose2dScale(r,ju);const t=Math.fround(Hh.pixelRatio*kp.PDF_TO_CSS_UNITS);return ju[0]<=t&&ju[1]<=t}const iBe=["butt","round","square"],sBe=["miter","round","bevel"],oBe={},n8={};var jh,$N,XN,YN;const ak=class ak{constructor(e,t,n,A,i,{optionalContentConfig:s,markedContentStack:o=null},a,u){Be(this,jh);this.ctx=e,this.current=new Zj(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=A,this.filterFactory=i,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=s,this.cachedCanvases=new ABe(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=a,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=u,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:n=!1,background:A=null}){const i=this.ctx.canvas.width,s=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=A||"#ffffff",this.ctx.fillRect(0,0,i,s),this.ctx.fillStyle=o,n){const a=this.cachedCanvases.getCanvas("transparent",i,s);this.compositeCtx=this.ctx,this.transparentCanvas=a.canvas,this.ctx=a.context,this.ctx.save(),this.ctx.transform(...Si(this.compositeCtx))}this.ctx.save(),SS(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=Si(this.ctx)}executeOperatorList(e,t,n,A){const i=e.argsArray,s=e.fnArray;let o=t||0;const a=i.length;if(a===o)return o;const u=a-o>Jj&&typeof n=="function",l=u?Date.now()+rBe:0;let c=0;const h=this.commonObjs,d=this.objs;let m;for(;;){if(A!==void 0&&o===A.nextBreakPoint)return A.breakIt(o,n),o;if(m=s[o],m!==Xb.dependency)this[m].apply(this,i[o]);else for(const g of i[o]){const y=g.startsWith("g_")?h:d;if(!y.has(g))return y.get(g,n),o}if(o++,o===a)return o;if(u&&++c>Jj){if(Date.now()>l)return n(),o;c=0}}}endDrawing(){be(this,jh,$N).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),be(this,jh,XN).call(this)}_scaleImage(e,t){const n=e.width??e.displayWidth,A=e.height??e.displayHeight;let i=Math.max(Math.hypot(t[0],t[1]),1),s=Math.max(Math.hypot(t[2],t[3]),1),o=n,a=A,u="prescale1",l,c;for(;i>2&&o>1||s>2&&a>1;){let h=o,d=a;i>2&&o>1&&(h=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),i/=o/h),s>2&&a>1&&(d=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a)/2,s/=a/d),l=this.cachedCanvases.getCanvas(u,h,d),c=l.context,c.clearRect(0,0,h,d),c.drawImage(e,0,0,o,a,0,0,h,d),e=l.canvas,o=h,a=d,u=u==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:o,paintHeight:a}}_createMaskCanvas(e){const t=this.ctx,{width:n,height:A}=e,i=this.current.fillColor,s=this.current.patternFill,o=Si(t);let a,u,l,c;if((e.bitmap||e.data)&&e.count>1){const k=e.bitmap||e.data.buffer;u=JSON.stringify(s?o:[o.slice(0,4),i]),a=this._cachedBitmapsMap.get(k),a||(a=new Map,this._cachedBitmapsMap.set(k,a));const D=a.get(u);if(D&&!s){const _=Math.round(Math.min(o[0],o[2])+o[4]),L=Math.round(Math.min(o[1],o[3])+o[5]);return{canvas:D,offsetX:_,offsetY:L}}l=D}l||(c=this.cachedCanvases.getCanvas("maskCanvas",n,A),t8(c.context,e));let h=Ur.transform(o,[1/n,0,0,-1/A,0,0]);h=Ur.transform(h,[1,0,0,1,0,-A]);const d=C0.slice();Ur.axialAlignedBoundingBox([0,0,n,A],h,d);const[m,g,y,v]=d,w=Math.round(y-m)||1,b=Math.round(v-g)||1,B=this.cachedCanvases.getCanvas("fillCanvas",w,b),F=B.context,N=m,T=g;F.translate(-N,-T),F.transform(...h),l||(l=this._scaleImage(c.canvas,Bf(F)),l=l.img,a&&s&&a.set(u,l)),F.imageSmoothingEnabled=r8(Si(F),e.interpolate),_S(F,l,0,0,l.width,l.height,0,0,n,A),F.globalCompositeOperation="source-in";const U=Ur.transform(Bf(F),[1,0,0,1,-N,-T]);return F.fillStyle=s?i.getPattern(t,this,U,Wo.FILL):i,F.fillRect(0,0,n,A),a&&!s&&(this.cachedCanvases.delete("fillCanvas"),a.set(u,B.canvas)),{canvas:B.canvas,offsetX:Math.round(N),offsetY:Math.round(T)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=iBe[e]}setLineJoin(e){this.ctx.lineJoin=sBe[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const n=this.ctx;n.setLineDash!==void 0&&(n.setLineDash(e),n.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,n]of e)switch(t){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.ctx.globalAlpha=this.current.fillAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,A=this.cachedCanvases.getCanvas(n,e,t);this.suspendedCtx=this.ctx;const i=this.ctx=A.context;i.setTransform(this.suspendedCtx.getTransform()),bC(this.suspendedCtx,i),nBe(i,this.suspendedCtx),this.setGState([["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),bC(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,n,A){const i=A[0],s=A[1],o=A[2]-i,a=A[3]-s;o===0||a===0||(this.genericComposeSMask(t.context,n,o,a,t.subtype,t.backdrop,t.transferMap,i,s,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,t,n,A,i,s,o,a,u,l,c){let h=e.canvas,d=a-l,m=u-c;if(s)if(d<0||m<0||d+n>h.width||m+A>h.height){const y=this.cachedCanvases.getCanvas("maskExtension",n,A),v=y.context;v.drawImage(h,-d,-m),v.globalCompositeOperation="destination-atop",v.fillStyle=s,v.fillRect(0,0,n,A),v.globalCompositeOperation="source-over",h=y.canvas,d=m=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const y=new Path2D;y.rect(d,m,n,A),e.clip(y),e.globalCompositeOperation="destination-atop",e.fillStyle=s,e.fillRect(d,m,n,A),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),i==="Alpha"&&o?t.filter=this.filterFactory.addAlphaFilter(o):i==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(o));const g=new Path2D;g.rect(a,u,n,A),t.clip(g),t.globalCompositeOperation="destination-in",t.drawImage(h,d,m,n,A,a,u,n,A),t.restore()}save(){this.inSMaskMode&&bC(this.ctx,this.suspendedCtx),this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){if(this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&bC(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,n,A,i,s){this.ctx.transform(e,t,n,A,i,s),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n){let[A]=t;if(!n){A||(A=t[0]=new Path2D),this[e](A);return}if(!(A instanceof Path2D)){const i=t[0]=new Path2D;for(let s=0,o=A.length;s<o;)switch(A[s++]){case CS.moveTo:i.moveTo(A[s++],A[s++]);break;case CS.lineTo:i.lineTo(A[s++],A[s++]);break;case CS.curveTo:i.bezierCurveTo(A[s++],A[s++],A[s++],A[s++],A[s++],A[s++]);break;case CS.closePath:i.closePath();break;default:Zr(`Unrecognized drawing path operator: ${A[s-1]}`);break}A=i}Ur.axialAlignedBoundingBox(n,Si(this.ctx),this.current.minMax),this[e](A)}closePath(){this.ctx.closePath()}stroke(e,t=!0){const n=this.ctx,A=this.current.strokeColor;if(n.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof A=="object"&&(A!=null&&A.getPattern)){const i=A.isModifyingCurrentTransform()?n.getTransform():null;if(n.save(),n.strokeStyle=A.getPattern(n,this,Bf(n),Wo.STROKE),i){const s=new Path2D;s.addPath(e,n.getTransform().invertSelf().multiplySelf(i)),e=s}this.rescaleAndStroke(e,!1),n.restore()}else this.rescaleAndStroke(e,!0);t&&this.consumePath(e,this.current.getClippedPathBoundingBox(Wo.STROKE,Si(this.ctx))),n.globalAlpha=this.current.fillAlpha}closeStroke(e){this.stroke(e)}fill(e,t=!0){const n=this.ctx,A=this.current.fillColor,i=this.current.patternFill;let s=!1;if(i){const a=A.isModifyingCurrentTransform()?n.getTransform():null;if(n.save(),n.fillStyle=A.getPattern(n,this,Bf(n),Wo.FILL),a){const u=new Path2D;u.addPath(e,n.getTransform().invertSelf().multiplySelf(a)),e=u}s=!0}const o=this.current.getClippedPathBoundingBox();this.contentVisible&&o!==null&&(this.pendingEOFill?(n.fill(e,"evenodd"),this.pendingEOFill=!1):n.fill(e)),s&&n.restore(),t&&this.consumePath(e,o)}eoFill(e){this.pendingEOFill=!0,this.fill(e)}fillStroke(e){this.fill(e,!1),this.stroke(e,!1),this.consumePath(e)}eoFillStroke(e){this.pendingEOFill=!0,this.fillStroke(e)}closeFillStroke(e){this.fillStroke(e)}closeEOFillStroke(e){this.pendingEOFill=!0,this.fillStroke(e)}endPath(e){this.consumePath(e)}rawFillPath(e){this.ctx.fill(e)}clip(){this.pendingClip=oBe}eoClip(){this.pendingClip=n8}beginText(){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0)return;const n=new Path2D,A=t.getTransform().invertSelf();for(const{transform:i,x:s,y:o,fontSize:a,path:u}of e)n.addPath(u,new DOMMatrix(i).preMultiplySelf(A).translate(s,o).scale(a,-a));t.clip(n),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var l;const n=this.commonObjs.get(e),A=this.current;if(!n)throw new Error(`Can't find font for ${e}`);if(A.fontMatrix=n.fontMatrix||_N,(A.fontMatrix[0]===0||A.fontMatrix[3]===0)&&Zr("Invalid font matrix for font "+e),t<0?(t=-t,A.fontDirection=-1):A.fontDirection=1,this.current.font=n,this.current.fontSize=t,n.isType3Font)return;const i=n.loadedName||"sans-serif",s=((l=n.systemFontInfo)==null?void 0:l.css)||`"${i}", ${n.fallbackName}`;let o="normal";n.black?o="900":n.bold&&(o="bold");const a=n.italic?"italic":"normal";let u=t;t<Xj?u=Xj:t>Yj&&(u=Yj),this.current.fontSizeScale=t/u,this.ctx.font=`${a} ${o} ${u}px ${s}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e){const{current:t}=this;t.textMatrix=e,t.textMatrixScale=Math.hypot(e[0],e[1]),t.x=t.lineX=0,t.y=t.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,n,A,i){const s=this.ctx,o=this.current,a=o.font,u=o.textRenderingMode,l=o.fontSize/o.fontSizeScale,c=u&Sa.FILL_STROKE_MASK,h=!!(u&Sa.ADD_TO_PATH_FLAG),d=o.patternFill&&!a.missingFile,m=o.patternStroke&&!a.missingFile;let g;if((a.disableFontFace||h||d||m)&&(g=a.getPathGenerator(this.commonObjs,e)),a.disableFontFace||d||m){s.save(),s.translate(t,n),s.scale(l,-l);let y;if((c===Sa.FILL||c===Sa.FILL_STROKE)&&(A?(y=s.getTransform(),s.setTransform(...A),s.fill(be(this,jh,YN).call(this,g,y,A))):s.fill(g)),c===Sa.STROKE||c===Sa.FILL_STROKE)if(i){y||(y=s.getTransform()),s.setTransform(...i);const{a:v,b:w,c:b,d:B}=y,F=Ur.inverseTransform(i),N=Ur.transform([v,w,b,B,0,0],F);Ur.singularValueDecompose2dScale(N,ju),s.lineWidth*=Math.max(ju[0],ju[1])/l,s.stroke(be(this,jh,YN).call(this,g,y,i))}else s.lineWidth/=l,s.stroke(g);s.restore()}else(c===Sa.FILL||c===Sa.FILL_STROKE)&&s.fillText(e,t,n),(c===Sa.STROKE||c===Sa.FILL_STROKE)&&s.strokeText(e,t,n);h&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Si(s),x:t,y:n,fontSize:l,path:g})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let A=3;A<t.length;A+=4)if(t[A]>0&&t[A]<255){n=!0;break}return En(this,"isFontSubpixelAAEnabled",n)}showText(e){const t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);const A=t.fontSize;if(A===0)return;const i=this.ctx,s=t.fontSizeScale,o=t.charSpacing,a=t.wordSpacing,u=t.fontDirection,l=t.textHScale*u,c=e.length,h=n.vertical,d=h?1:-1,m=n.defaultVMetrics,g=A*t.fontMatrix[0],y=t.textRenderingMode===Sa.FILL&&!n.disableFontFace&&!t.patternFill;i.save(),t.textMatrix&&i.transform(...t.textMatrix),i.translate(t.x,t.y+t.textRise),u>0?i.scale(l,-1):i.scale(l,1);let v,w;if(t.patternFill){i.save();const T=t.fillColor.getPattern(i,this,Bf(i),Wo.FILL);v=Si(i),i.restore(),i.fillStyle=T}if(t.patternStroke){i.save();const T=t.strokeColor.getPattern(i,this,Bf(i),Wo.STROKE);w=Si(i),i.restore(),i.strokeStyle=T}let b=t.lineWidth;const B=t.textMatrixScale;if(B===0||b===0){const T=t.textRenderingMode&Sa.FILL_STROKE_MASK;(T===Sa.STROKE||T===Sa.FILL_STROKE)&&(b=this.getSinglePixelWidth())}else b/=B;if(s!==1&&(i.scale(s,s),b/=s),i.lineWidth=b,n.isInvalidPDFjsFont){const T=[];let U=0;for(const k of e)T.push(k.unicode),U+=k.width;i.fillText(T.join(""),0,0),t.x+=U*g*l,i.restore(),this.compose();return}let F=0,N;for(N=0;N<c;++N){const T=e[N];if(typeof T=="number"){F+=d*T*A/1e3;continue}let U=!1;const k=(T.isSpace?a:0)+o,D=T.fontChar,_=T.accent;let L,O,V=T.width;if(h){const Y=T.vmetric||m,re=-(T.vmetric?Y[1]:V*.5)*g,le=Y[2]*g;V=Y?-Y[0]:V,L=re/s,O=(F+le)/s}else L=F/s,O=0;if(n.remeasure&&V>0){const Y=i.measureText(D).width*1e3/A*s;if(V<Y&&this.isFontSubpixelAAEnabled){const re=V/Y;U=!0,i.save(),i.scale(re,1),L/=re}else V!==Y&&(L+=(V-Y)/2e3*A/s)}if(this.contentVisible&&(T.isInFont||n.missingFile)){if(y&&!_)i.fillText(D,L,O);else if(this.paintChar(D,L,O,v,w),_){const Y=L+A*_.offset.x/s,re=O-A*_.offset.y/s;this.paintChar(_.fontChar,Y,re,v,w)}}const $=h?V*g-k*u:V*g+k*u;F+=$,U&&i.restore()}h?t.y-=F:t.x+=F*l,i.restore(),this.compose()}showType3Text(e){const t=this.ctx,n=this.current,A=n.font,i=n.fontSize,s=n.fontDirection,o=A.vertical?1:-1,a=n.charSpacing,u=n.wordSpacing,l=n.textHScale*s,c=n.fontMatrix||_N,h=e.length,d=n.textRenderingMode===Sa.INVISIBLE;let m,g,y,v;if(!(d||i===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),n.textMatrix&&t.transform(...n.textMatrix),t.translate(n.x,n.y+n.textRise),t.scale(l,s),m=0;m<h;++m){if(g=e[m],typeof g=="number"){v=o*g*i/1e3,this.ctx.translate(v,0),n.x+=v*l;continue}const w=(g.isSpace?u:0)+a,b=A.charProcOperatorList[g.operatorListId];b?this.contentVisible&&(this.save(),t.scale(i,i),t.transform(...c),this.executeOperatorList(b),this.restore()):Zr(`Type3 character "${g.operatorListId}" is not available.`);const B=[g.width,0];Ur.applyTransform(B,c),y=B[0]*i+w,t.translate(y,0),n.x+=y*l}t.restore()}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,n,A,i,s){const o=new Path2D;o.rect(n,A,i-n,s-A),this.ctx.clip(o),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const n=this.baseTransform||Si(this.ctx),A={createCanvasGraphics:i=>new ak(i,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new WN(e,this.ctx,A,n)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e){this.ctx.strokeStyle=this.current.strokeColor=e,this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e){this.ctx.fillStyle=this.current.fillColor=e,this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let n;return this.cachedPatterns.has(e)?n=this.cachedPatterns.get(e):(n=eBe(this.getObject(e)),this.cachedPatterns.set(e,n)),t&&(n.matrix=t),n}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const n=this._getPattern(e);t.fillStyle=n.getPattern(t,this,Bf(t),Wo.SHADING);const A=Bf(t);if(A){const{width:i,height:s}=t.canvas,o=C0.slice();Ur.axialAlignedBoundingBox([0,0,i,s],A,o);const[a,u,l,c]=o;this.ctx.fillRect(a,u,l-a,c-u)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){TA("Should not call beginInlineImage")}beginImageData(){TA("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=Si(this.ctx),t)){Ur.axialAlignedBoundingBox(t,this.baseTransform,this.current.minMax);const[n,A,i,s]=t,o=new Path2D;o.rect(n,A,i-n,s-A),this.ctx.clip(o),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||uU("TODO: Support non-isolated groups."),e.knockout&&Zr("Knockout groups not supported.");const n=Si(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let A=C0.slice();Ur.axialAlignedBoundingBox(e.bbox,Si(t),A);const i=[0,0,t.canvas.width,t.canvas.height];A=Ur.intersect(A,i)||[0,0,0,0];const s=Math.floor(A[0]),o=Math.floor(A[1]),a=Math.max(Math.ceil(A[2])-s,1),u=Math.max(Math.ceil(A[3])-o,1);this.current.startNewPathAndClipBox([0,0,a,u]);let l="groupAt"+this.groupLevel;e.smask&&(l+="_smask_"+this.smaskCounter++%2);const c=this.cachedCanvases.getCanvas(l,a,u),h=c.context;h.translate(-s,-o),h.transform(...n);let d=new Path2D;const[m,g,y,v]=e.bbox;if(d.rect(m,g,y-m,v-g),e.matrix){const w=new Path2D;w.addPath(d,new DOMMatrix(e.matrix)),d=w}h.clip(d),e.smask?this.smaskStack.push({canvas:c.canvas,context:h,offsetX:s,offsetY:o,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(s,o),t.save()),bC(t,h),this.ctx=h,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const A=Si(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...A);const i=C0.slice();Ur.axialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],A,i),this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(i)}}beginAnnotation(e,t,n,A,i){if(be(this,jh,$N).call(this),SS(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const s=t[2]-t[0],o=t[3]-t[1];if(i&&this.annotationCanvasMap){n=n.slice(),n[4]-=t[0],n[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=s,t[3]=o,Ur.singularValueDecompose2dScale(Si(this.ctx),ju);const{viewportScale:a}=this,u=Math.ceil(s*this.outputScaleX*a),l=Math.ceil(o*this.outputScaleY*a);this.annotationCanvas=this.canvasFactory.create(u,l);const{canvas:c,context:h}=this.annotationCanvas;this.annotationCanvasMap.set(e,c),this.annotationCanvas.savedCtx=this.ctx,this.ctx=h,this.ctx.save(),this.ctx.setTransform(ju[0],0,0,-ju[1],0,o*ju[1]),SS(this.ctx)}else{SS(this.ctx),this.endPath();const a=new Path2D;a.rect(t[0],t[1],s,o),this.ctx.clip(a)}}this.current=new Zj(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...A)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),be(this,jh,XN).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const n=this.ctx,A=this._createMaskCanvas(e),i=A.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(i,A.offsetX,A.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,n=0,A=0,i,s){if(!this.contentVisible)return;e=this.getObject(e.data,e);const o=this.ctx;o.save();const a=Si(o);o.transform(t,n,A,i,0,0);const u=this._createMaskCanvas(e);o.setTransform(1,0,0,1,u.offsetX-a[4],u.offsetY-a[5]);for(let l=0,c=s.length;l<c;l+=2){const h=Ur.transform(a,[t,n,A,i,s[l],s[l+1]]);o.drawImage(u.canvas,h[4],h[5])}o.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,n=this.current.fillColor,A=this.current.patternFill;for(const i of e){const{data:s,width:o,height:a,transform:u}=i,l=this.cachedCanvases.getCanvas("maskCanvas",o,a),c=l.context;c.save();const h=this.getObject(s,i);t8(c,h),c.globalCompositeOperation="source-in",c.fillStyle=A?n.getPattern(c,this,Bf(t),Wo.FILL):n,c.fillRect(0,0,o,a),c.restore(),t.save(),t.transform(...u),t.scale(1,-1),_S(t,l.canvas,0,0,o,a,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){Zr("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,n,A){if(!this.contentVisible)return;const i=this.getObject(e);if(!i){Zr("Dependent image isn't ready yet");return}const s=i.width,o=i.height,a=[];for(let u=0,l=A.length;u<l;u+=2)a.push({transform:[t,0,0,n,A[u],A[u+1]],x:0,y:0,w:s,h:o});this.paintInlineImageXObjectGroup(i,a)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:n,height:A}=e,i=this.cachedCanvases.getCanvas("inlineImage",n,A),s=i.context;return s.filter=this.current.transferMaps,s.drawImage(t,0,0),s.filter="none",i.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,n=e.height,A=this.ctx;this.save();const{filter:i}=A;i!=="none"&&i!==""&&(A.filter="none"),A.scale(1/t,-1/n);let s;if(e.bitmap)s=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)s=e;else{const u=this.cachedCanvases.getCanvas("inlineImage",t,n).context;e8(u,e),s=this.applyTransferMapsToCanvas(u)}const o=this._scaleImage(s,Bf(A));A.imageSmoothingEnabled=r8(Si(A),e.interpolate),_S(A,o.img,0,0,o.paintWidth,o.paintHeight,0,-n,t,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const n=this.ctx;let A;if(e.bitmap)A=e.bitmap;else{const i=e.width,s=e.height,a=this.cachedCanvases.getCanvas("inlineImage",i,s).context;e8(a,e),A=this.applyTransferMapsToCanvas(a)}for(const i of t)n.save(),n.transform(...i.transform),n.scale(1,-1),_S(n,A,i.x,i.y,i.w,i.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e,t){const n=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const A=this.ctx;this.pendingClip&&(n||(this.pendingClip===n8?A.clip(e,"evenodd"):A.clip(e)),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Si(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),A=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,A)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:n,c:A,d:i}=this.ctx.getTransform();let s,o;if(n===0&&A===0){const a=Math.abs(t),u=Math.abs(i);if(a===u)if(e===0)s=o=1/a;else{const l=a*e;s=o=l<1?1/l:1}else if(e===0)s=1/a,o=1/u;else{const l=a*e,c=u*e;s=l<1?1/l:1,o=c<1?1/c:1}}else{const a=Math.abs(t*i-n*A),u=Math.hypot(t,n),l=Math.hypot(A,i);if(e===0)s=l/a,o=u/a;else{const c=e*a;s=l>c?l/c:1,o=u>c?u/c:1}}this._cachedScaleForStroking[0]=s,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:n,current:{lineWidth:A}}=this,[i,s]=this.getScaleForStroking();if(i===s){n.lineWidth=(A||1)*i,n.stroke(e);return}const o=n.getLineDash();t&&n.save(),n.scale(i,s),DL.a=1/i,DL.d=1/s;const a=new Path2D;if(a.addPath(e,DL),o.length>0){const u=Math.max(i,s);n.setLineDash(o.map(l=>l/u)),n.lineDashOffset/=u}n.lineWidth=A||1,n.stroke(a),t&&n.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};jh=new WeakSet,$N=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},XN=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}},YN=function(e,t,n){const A=new Path2D;return A.addPath(e,new DOMMatrix(n).invertSelf().multiplySelf(t)),A};let N0=ak;for(const r in Xb)N0.prototype[r]!==void 0&&(N0.prototype[Xb[r]]=N0.prototype[r]);var xE,UE;class pl{static get workerPort(){return C(this,xE)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");he(this,xE,e)}static get workerSrc(){return C(this,UE)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");he(this,UE,e)}}xE=new WeakMap,UE=new WeakMap,Be(pl,xE,null),Be(pl,UE,"");var tB,TE;class aBe{constructor({parsedData:e,rawData:t}){Be(this,tB);Be(this,TE);he(this,tB,e),he(this,TE,t)}getRaw(){return C(this,TE)}get(e){return C(this,tB).get(e)??null}[Symbol.iterator](){return C(this,tB).entries()}}tB=new WeakMap,TE=new WeakMap;const g0=Symbol("INTERNAL");var QE,LE,NE,rB;class lBe{constructor(e,{name:t,intent:n,usage:A,rbGroups:i}){Be(this,QE,!1);Be(this,LE,!1);Be(this,NE,!1);Be(this,rB,!0);he(this,QE,!!(e&Hu.DISPLAY)),he(this,LE,!!(e&Hu.PRINT)),this.name=t,this.intent=n,this.usage=A,this.rbGroups=i}get visible(){if(C(this,NE))return C(this,rB);if(!C(this,rB))return!1;const{print:e,view:t}=this.usage;return C(this,QE)?(t==null?void 0:t.viewState)!=="OFF":C(this,LE)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,n=!1){e!==g0&&TA("Internal method `_setVisible` called."),he(this,NE,n),he(this,rB,t)}}QE=new WeakMap,LE=new WeakMap,NE=new WeakMap,rB=new WeakMap;var jg,IA,nB,AB,RE,JN;class uBe{constructor(e,t=Hu.DISPLAY){Be(this,RE);Be(this,jg,null);Be(this,IA,new Map);Be(this,nB,null);Be(this,AB,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,he(this,AB,e.order);for(const n of e.groups)C(this,IA).set(n.id,new lBe(t,n));if(e.baseState==="OFF")for(const n of C(this,IA).values())n._setVisible(g0,!1);for(const n of e.on)C(this,IA).get(n)._setVisible(g0,!0);for(const n of e.off)C(this,IA).get(n)._setVisible(g0,!1);he(this,nB,this.getHash())}}isVisible(e){if(C(this,IA).size===0)return!0;if(!e)return uU("Optional content group not defined."),!0;if(e.type==="OCG")return C(this,IA).has(e.id)?C(this,IA).get(e.id).visible:(Zr(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return be(this,RE,JN).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!C(this,IA).has(t))return Zr(`Optional content group not found: ${t}`),!0;if(C(this,IA).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!C(this,IA).has(t))return Zr(`Optional content group not found: ${t}`),!0;if(!C(this,IA).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!C(this,IA).has(t))return Zr(`Optional content group not found: ${t}`),!0;if(!C(this,IA).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!C(this,IA).has(t))return Zr(`Optional content group not found: ${t}`),!0;if(C(this,IA).get(t).visible)return!1}return!0}return Zr(`Unknown optional content policy ${e.policy}.`),!0}return Zr(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,n=!0){var i;const A=C(this,IA).get(e);if(!A){Zr(`Optional content group not found: ${e}`);return}if(n&&t&&A.rbGroups.length)for(const s of A.rbGroups)for(const o of s)o!==e&&((i=C(this,IA).get(o))==null||i._setVisible(g0,!1,!0));A._setVisible(g0,!!t,!0),he(this,jg,null)}setOCGState({state:e,preserveRB:t}){let n;for(const A of e){switch(A){case"ON":case"OFF":case"Toggle":n=A;continue}const i=C(this,IA).get(A);if(i)switch(n){case"ON":this.setVisibility(A,!0,t);break;case"OFF":this.setVisibility(A,!1,t);break;case"Toggle":this.setVisibility(A,!i.visible,t);break}}he(this,jg,null)}get hasInitialVisibility(){return C(this,nB)===null||this.getHash()===C(this,nB)}getOrder(){return C(this,IA).size?C(this,AB)?C(this,AB).slice():[...C(this,IA).keys()]:null}getGroup(e){return C(this,IA).get(e)||null}getHash(){if(C(this,jg)!==null)return C(this,jg);const e=new eq;for(const[t,n]of C(this,IA))e.update(`${t}:${n.visible}`);return he(this,jg,e.hexdigest())}[Symbol.iterator](){return C(this,IA).entries()}}jg=new WeakMap,IA=new WeakMap,nB=new WeakMap,AB=new WeakMap,RE=new WeakSet,JN=function(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let A=1;A<t;A++){const i=e[A];let s;if(Array.isArray(i))s=be(this,RE,JN).call(this,i);else if(C(this,IA).has(i))s=C(this,IA).get(i).visible;else return Zr(`Optional content group not found: ${i}`),!0;switch(n){case"And":if(!s)return!1;break;case"Or":if(s)return!0;break;case"Not":return!s;default:return!0}}return n==="And"};class cBe{constructor(e,{disableRange:t=!1,disableStream:n=!1}){Is(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:A,initialData:i,progressiveDone:s,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=s,this._contentDispositionFilename=o,(i==null?void 0:i.length)>0){const a=i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength?i.buffer:new Uint8Array(i).buffer;this._queuedChunks.push(a)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!n,this._isRangeSupported=!t,this._contentLength=A,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((a,u)=>{this._onReceiveData({begin:a,chunk:u})}),e.addProgressListener((a,u)=>{this._onProgress({loaded:a,total:u})}),e.addProgressiveReadListener(a=>{this._onReceiveData({chunk:a})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const n=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const A=this._rangeReaders.some(function(i){return i._begin!==e?!1:(i._enqueue(n),!0)});Is(A,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,n,A,i;e.total===void 0?(n=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||n.call(t,{loaded:e.loaded}):(i=(A=this._fullRequestReader)==null?void 0:A.onProgress)==null||i.call(A,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Is(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new hBe(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new fBe(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeReaders.slice(0))n.cancel(e);this._pdfDataRangeTransport.abort()}}class hBe{constructor(e,t,n=!1,A=null){this._stream=e,this._done=n||!1,this._filename=hU(A)?A:null,this._queuedChunks=t||[],this._loaded=0;for(const i of this._queuedChunks)this._loaded+=i.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class fBe{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function dBe(r){let e=!0,t=n("filename\\*","i").exec(r);if(t){t=t[1];let l=o(t);return l=unescape(l),l=a(l),l=u(l),i(l)}if(t=s(r),t){const l=u(t);return i(l)}if(t=n("filename","i").exec(r),t){t=t[1];let l=o(t);return l=u(l),i(l)}function n(l,c){return new RegExp("(?:^|;)\\s*"+l+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',c)}function A(l,c){if(l){if(!/^[\x00-\xFF]+$/.test(c))return c;try{const h=new TextDecoder(l,{fatal:!0}),d=Y_(c);c=h.decode(d),e=!1}catch{}}return c}function i(l){return e&&/[\x80-\xff]/.test(l)&&(l=A("utf-8",l),e&&(l=A("iso-8859-1",l))),l}function s(l){const c=[];let h;const d=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(h=d.exec(l))!==null;){let[,g,y,v]=h;if(g=parseInt(g,10),g in c){if(g===0)break;continue}c[g]=[y,v]}const m=[];for(let g=0;g<c.length&&g in c;++g){let[y,v]=c[g];v=o(v),y&&(v=unescape(v),g===0&&(v=a(v))),m.push(v)}return m.join("")}function o(l){if(l.startsWith('"')){const c=l.slice(1).split('\\"');for(let h=0;h<c.length;++h){const d=c[h].indexOf('"');d!==-1&&(c[h]=c[h].slice(0,d),c.length=h+1),c[h]=c[h].replaceAll(/\\(.)/g,"$1")}l=c.join('"')}return l}function a(l){const c=l.indexOf("'");if(c===-1)return l;const h=l.slice(0,c),m=l.slice(c+1).replace(/^[^']*'/,"");return A(h,m)}function u(l){return!l.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(l)?l:l.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(c,h,d,m){if(d==="q"||d==="Q")return m=m.replaceAll("_"," "),m=m.replaceAll(/=([0-9a-fA-F]{2})/g,function(g,y){return String.fromCharCode(parseInt(y,16))}),A(h,m);try{m=atob(m)}catch{}return A(h,m)})}return""}function fq(r,e){const t=new Headers;if(!r||!e||typeof e!="object")return t;for(const n in e){const A=e[n];A!==void 0&&t.append(n,A)}return t}function dU(r){var e;return((e=URL.parse(r))==null?void 0:e.origin)??null}function dq({responseHeaders:r,isHttp:e,rangeChunkSize:t,disableRange:n}){const A={allowRangeRequests:!1,suggestedLength:void 0},i=parseInt(r.get("Content-Length"),10);return!Number.isInteger(i)||(A.suggestedLength=i,i<=2*t)||n||!e||r.get("Accept-Ranges")!=="bytes"||(r.get("Content-Encoding")||"identity")!=="identity"||(A.allowRangeRequests=!0),A}function pq(r){const e=r.get("Content-Disposition");if(e){let t=dBe(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(hU(t))return t}return null}function t2(r,e){return new Yb(`Unexpected server response (${r}) while retrieving PDF "${e}".`,r,r===404||r===0&&e.startsWith("file:"))}function gq(r){return r===200||r===206}function mq(r,e,t){return{method:"GET",headers:r,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function vq(r){return r instanceof Uint8Array?r.buffer:r instanceof ArrayBuffer?r:(Zr(`getArrayBuffer - unexpected data format: ${r}`),new Uint8Array(r).buffer)}class pBe{constructor(e){qt(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=fq(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Is(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new gBe(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new mBe(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class gBe{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const n=new Headers(e.headers),A=t.url;fetch(A,mq(n,this._withCredentials,this._abortController)).then(i=>{if(e._responseOrigin=dU(i.url),!gq(i.status))throw t2(i.status,A);this._reader=i.body.getReader(),this._headersCapability.resolve();const s=i.headers,{allowRangeRequests:o,suggestedLength:a}=dq({responseHeaders:s,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=a||this._contentLength,this._filename=pq(s),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Op("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:vq(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class mBe{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const A=e.source;this._withCredentials=A.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!A.disableStream,this._abortController=new AbortController;const i=new Headers(e.headers);i.append("Range",`bytes=${t}-${n-1}`);const s=A.url;fetch(s,mq(i,this._withCredentials,this._abortController)).then(o=>{const a=dU(o.url);if(a!==e._responseOrigin)throw new Error(`Expected range response-origin "${a}" to match "${e._responseOrigin}".`);if(!gq(o.status))throw t2(o.status,s);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:vq(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const ML=200,HL=206;function vBe(r){const e=r.response;return typeof e!="string"?e:Y_(e).buffer}class yBe{constructor({url:e,httpHeaders:t,withCredentials:n}){qt(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=fq(this.isHttp,t),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,A=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[i,s]of this.headers)t.setRequestHeader(i,s);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),A.expectedStatus=HL):A.expectedStatus=ML,t.responseType="arraybuffer",Is(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),A.onHeadersReceived=e.onHeadersReceived,A.onDone=e.onDone,A.onError=e.onError,A.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){var A;const n=this.pendingRequests[e];n&&((A=n.onProgress)==null||A.call(n,t))}onStateChange(e,t){const n=this.pendingRequests[e];if(!n)return;const A=n.xhr;if(A.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),A.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],A.status===0&&this.isHttp){n.onError(A.status);return}const i=A.status||ML;if(!(i===ML&&n.expectedStatus===HL)&&i!==n.expectedStatus){n.onError(A.status);return}const o=vBe(A);if(i===HL){const a=A.getResponseHeader("Content-Range"),u=/bytes (\d+)-(\d+)\/(\d+)/.exec(a);u?n.onDone({begin:parseInt(u[1],10),chunk:o}):(Zr('Missing or invalid "Content-Range" header.'),n.onError(0))}else o?n.onDone({begin:0,chunk:o}):n.onError(A.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class wBe{constructor(e){this._source=e,this._manager=new yBe(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Is(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new BBe(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new CBe(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class BBe{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=dU(t.responseURL);const n=t.getAllResponseHeaders(),A=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(o=>{const[a,...u]=o.split(": ");return[a,u.join(": ")]}):[]),{allowRangeRequests:i,suggestedLength:s}=dq({responseHeaders:A,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=pq(A),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=t2(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class CBe{constructor(e,t,n){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var t;const e=dU((t=this._manager.getRequestXhr(this._requestId))==null?void 0:t.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=t2(e,this._url));for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const bBe=/^[a-z][a-z0-9\-+.]+:/i;function EBe(r){if(bBe.test(r))return new URL(r);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(r))}class _Be{constructor(e){this.source=e,this.url=EBe(e.url),Is(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Is(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new SBe(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new FBe(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class SBe{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then(A=>{this._contentLength=A.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},A=>{A.code==="ENOENT"&&(A=t2(0,this._url.href)),this._storedError=A,this._headersCapability.reject(A)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Op("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class FBe{constructor(e,t,n){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const A=e.source;this._isStreamingSupported=!A.disableStream;const i=process.getBuiltinModule("fs");this._setReadableStream(i.createReadStream(this._url,{start:t,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const EC=Symbol("INITIAL_DATA");var Tu,PE,ZN;class yq{constructor(){Be(this,PE);Be(this,Tu,Object.create(null))}get(e,t=null){if(t){const A=be(this,PE,ZN).call(this,e);return A.promise.then(()=>t(A.data)),null}const n=C(this,Tu)[e];if(!n||n.data===EC)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const t=C(this,Tu)[e];return!!t&&t.data!==EC}delete(e){const t=C(this,Tu)[e];return!t||t.data===EC?!1:(delete C(this,Tu)[e],!0)}resolve(e,t=null){const n=be(this,PE,ZN).call(this,e);n.data=t,n.resolve()}clear(){var e;for(const t in C(this,Tu)){const{data:n}=C(this,Tu)[t];(e=n==null?void 0:n.bitmap)==null||e.close()}he(this,Tu,Object.create(null))}*[Symbol.iterator](){for(const e in C(this,Tu)){const{data:t}=C(this,Tu)[e];t!==EC&&(yield[e,t])}}}Tu=new WeakMap,PE=new WeakSet,ZN=function(e){var t;return(t=C(this,Tu))[e]||(t[e]={...Promise.withResolvers(),data:EC})};const IBe=1e5,A8=30;var y8,Vg,Kl,OE,kE,ny,rp,DE,ME,Ay,iB,sB,Kg,oB,HE,aB,iy,jE,VE,Ri,lB,sy,KE,Gg,uB,Dp,wq,Bq,eR,qu,cF,tR,Cq,bq;let Zb=(Ri=class{constructor({textContentSource:e,container:t,viewport:n}){Be(this,Dp);Be(this,Vg,Promise.withResolvers());Be(this,Kl,null);Be(this,OE,!1);Be(this,kE,!!((y8=globalThis.FontInspector)!=null&&y8.enabled));Be(this,ny,null);Be(this,rp,null);Be(this,DE,0);Be(this,ME,0);Be(this,Ay,null);Be(this,iB,null);Be(this,sB,0);Be(this,Kg,0);Be(this,oB,Object.create(null));Be(this,HE,[]);Be(this,aB,null);Be(this,iy,[]);Be(this,jE,new WeakMap);Be(this,VE,null);var a;if(e instanceof ReadableStream)he(this,aB,e);else if(typeof e=="object")he(this,aB,new ReadableStream({start(u){u.enqueue(e),u.close()}}));else throw new Error('No "textContentSource" parameter specified.');he(this,Kl,he(this,iB,t)),he(this,Kg,n.scale*Hh.pixelRatio),he(this,sB,n.rotation),he(this,rp,{div:null,properties:null,ctx:null});const{pageWidth:A,pageHeight:i,pageX:s,pageY:o}=n.rawDims;he(this,VE,[1,0,0,-1,-s,o+i]),he(this,ME,A),he(this,DE,i),be(a=Ri,qu,Cq).call(a),km(t,n),C(this,Vg).promise.finally(()=>{C(Ri,uB).delete(this),he(this,rp,null),he(this,oB,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=_o.platform;return En(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{C(this,Ay).read().then(({value:t,done:n})=>{if(n){C(this,Vg).resolve();return}C(this,ny)??he(this,ny,t.lang),Object.assign(C(this,oB),t.styles),be(this,Dp,wq).call(this,t.items),e()},C(this,Vg).reject)};return he(this,Ay,C(this,aB).getReader()),C(Ri,uB).add(this),e(),C(this,Vg).promise}update({viewport:e,onBefore:t=null}){var i;const n=e.scale*Hh.pixelRatio,A=e.rotation;if(A!==C(this,sB)&&(t==null||t(),he(this,sB,A),km(C(this,iB),{rotation:A})),n!==C(this,Kg)){t==null||t(),he(this,Kg,n);const s={div:null,properties:null,ctx:be(i=Ri,qu,cF).call(i,C(this,ny))};for(const o of C(this,iy))s.properties=C(this,jE).get(o),s.div=o,be(this,Dp,eR).call(this,s)}}cancel(){var t;const e=new Op("TextLayer task cancelled.");(t=C(this,Ay))==null||t.cancel(e).catch(()=>{}),he(this,Ay,null),C(this,Vg).reject(e)}get textDivs(){return C(this,iy)}get textContentItemsStr(){return C(this,HE)}static cleanup(){if(!(C(this,uB).size>0)){C(this,lB).clear();for(const{canvas:e}of C(this,sy).values())e.remove();C(this,sy).clear()}}},Vg=new WeakMap,Kl=new WeakMap,OE=new WeakMap,kE=new WeakMap,ny=new WeakMap,rp=new WeakMap,DE=new WeakMap,ME=new WeakMap,Ay=new WeakMap,iB=new WeakMap,sB=new WeakMap,Kg=new WeakMap,oB=new WeakMap,HE=new WeakMap,aB=new WeakMap,iy=new WeakMap,jE=new WeakMap,VE=new WeakMap,lB=new WeakMap,sy=new WeakMap,KE=new WeakMap,Gg=new WeakMap,uB=new WeakMap,Dp=new WeakSet,wq=function(e){var A,i;if(C(this,OE))return;(i=C(this,rp)).ctx??(i.ctx=be(A=Ri,qu,cF).call(A,C(this,ny)));const t=C(this,iy),n=C(this,HE);for(const s of e){if(t.length>IBe){Zr("Ignoring additional textDivs for performance reasons."),he(this,OE,!0);return}if(s.str===void 0){if(s.type==="beginMarkedContentProps"||s.type==="beginMarkedContent"){const o=C(this,Kl);he(this,Kl,document.createElement("span")),C(this,Kl).classList.add("markedContent"),s.id!==null&&C(this,Kl).setAttribute("id",`${s.id}`),o.append(C(this,Kl))}else s.type==="endMarkedContent"&&he(this,Kl,C(this,Kl).parentNode);continue}n.push(s.str),be(this,Dp,Bq).call(this,s)}},Bq=function(e){var g;const t=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};C(this,iy).push(t);const A=Ur.transform(C(this,VE),e.transform);let i=Math.atan2(A[1],A[0]);const s=C(this,oB)[e.fontName];s.vertical&&(i+=Math.PI/2);let o=C(this,kE)&&s.fontSubstitution||s.fontFamily;o=Ri.fontFamilyMap.get(o)||o;const a=Math.hypot(A[2],A[3]),u=a*be(g=Ri,qu,bq).call(g,o,s,C(this,ny));let l,c;i===0?(l=A[4],c=A[5]-u):(l=A[4]+u*Math.sin(i),c=A[5]-u*Math.cos(i));const h="calc(var(--total-scale-factor) *",d=t.style;C(this,Kl)===C(this,iB)?(d.left=`${(100*l/C(this,ME)).toFixed(2)}%`,d.top=`${(100*c/C(this,DE)).toFixed(2)}%`):(d.left=`${h}${l.toFixed(2)}px)`,d.top=`${h}${c.toFixed(2)}px)`),d.fontSize=`${h}${(C(Ri,Gg)*a).toFixed(2)}px)`,d.fontFamily=o,n.fontSize=a,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,C(this,kE)&&(t.dataset.fontName=s.fontSubstitutionLoadedName||e.fontName),i!==0&&(n.angle=i*(180/Math.PI));let m=!1;if(e.str.length>1)m=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const y=Math.abs(e.transform[0]),v=Math.abs(e.transform[3]);y!==v&&Math.max(y,v)/Math.min(y,v)>1.5&&(m=!0)}if(m&&(n.canvasWidth=s.vertical?e.height:e.width),C(this,jE).set(t,n),C(this,rp).div=t,C(this,rp).properties=n,be(this,Dp,eR).call(this,C(this,rp)),n.hasText&&C(this,Kl).append(t),n.hasEOL){const y=document.createElement("br");y.setAttribute("role","presentation"),C(this,Kl).append(y)}},eR=function(e){var o;const{div:t,properties:n,ctx:A}=e,{style:i}=t;let s="";if(C(Ri,Gg)>1&&(s=`scale(${1/C(Ri,Gg)})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:a}=i,{canvasWidth:u,fontSize:l}=n;be(o=Ri,qu,tR).call(o,A,l*C(this,Kg),a);const{width:c}=A.measureText(t.textContent);c>0&&(s=`scaleX(${u*C(this,Kg)/c}) ${s}`)}n.angle!==0&&(s=`rotate(${n.angle}deg) ${s}`),s.length>0&&(i.transform=s)},qu=new WeakSet,cF=function(e=null){let t=C(this,sy).get(e||(e=""));if(!t){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),t=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),C(this,sy).set(e,t),C(this,KE).set(t,{size:0,family:""})}return t},tR=function(e,t,n){const A=C(this,KE).get(e);t===A.size&&n===A.family||(e.font=`${t}px ${n}`,A.size=t,A.family=n)},Cq=function(){if(C(this,Gg)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),he(this,Gg,e.getBoundingClientRect().height),e.remove()},bq=function(e,t,n){const A=C(this,lB).get(e);if(A)return A;const i=be(this,qu,cF).call(this,n);i.canvas.width=i.canvas.height=A8,be(this,qu,tR).call(this,i,A8,e);const s=i.measureText(""),o=s.fontBoundingBoxAscent,a=Math.abs(s.fontBoundingBoxDescent);i.canvas.width=i.canvas.height=0;let u=.8;return o?u=o/(o+a):(_o.platform.isFirefox&&Zr("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?u=t.ascent:t.descent&&(u=1+t.descent)),C(this,lB).set(e,u),u},Be(Ri,qu),Be(Ri,lB,new Map),Be(Ri,sy,new Map),Be(Ri,KE,new WeakMap),Be(Ri,Gg,null),Be(Ri,uB,new Set),Ri);class eE{static textContent(e){const t=[],n={items:t,styles:Object.create(null)};function A(i){var a;if(!i)return;let s=null;const o=i.name;if(o==="#text")s=i.value;else if(eE.shouldBuildText(o))(a=i==null?void 0:i.attributes)!=null&&a.textContent?s=i.attributes.textContent:i.value&&(s=i.value);else return;if(s!==null&&t.push({str:s}),!!i.children)for(const u of i.children)A(u)}return A(e),n}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const xBe=100;function ZO(r={}){typeof r=="string"||r instanceof URL?r={url:r}:(r instanceof ArrayBuffer||ArrayBuffer.isView(r))&&(r={data:r});const e=new rR,{docId:t}=e,n=r.url?D0e(r.url):null,A=r.data?M0e(r.data):null,i=r.httpHeaders||null,s=r.withCredentials===!0,o=r.password??null,a=r.range instanceof ek?r.range:null,u=Number.isInteger(r.rangeChunkSize)&&r.rangeChunkSize>0?r.rangeChunkSize:2**16;let l=r.worker instanceof t1?r.worker:null;const c=r.verbosity,h=typeof r.docBaseUrl=="string"&&!Z_(r.docBaseUrl)?r.docBaseUrl:null,d=bS(r.cMapUrl),m=r.cMapPacked!==!1,g=r.CMapReaderFactory||(dl?q0e:zj),y=bS(r.iccUrl),v=bS(r.standardFontDataUrl),w=r.StandardFontDataFactory||(dl?W0e:qj),b=bS(r.wasmUrl),B=r.WasmFactory||(dl?$0e:Wj),F=r.stopAtErrors!==!0,N=Number.isInteger(r.maxImageSize)&&r.maxImageSize>-1?r.maxImageSize:-1,T=r.isEvalSupported!==!1,U=typeof r.isOffscreenCanvasSupported=="boolean"?r.isOffscreenCanvasSupported:!dl,k=typeof r.isImageDecoderSupported=="boolean"?r.isImageDecoderSupported:!dl&&(_o.platform.isFirefox||!globalThis.chrome),D=Number.isInteger(r.canvasMaxAreaInBytes)?r.canvasMaxAreaInBytes:-1,_=typeof r.disableFontFace=="boolean"?r.disableFontFace:dl,L=r.fontExtraProperties===!0,O=r.enableXfa===!0,V=r.ownerDocument||globalThis.document,$=r.disableRange===!0,Y=r.disableStream===!0,re=r.disableAutoFetch===!0,le=r.pdfBug===!0,ne=r.CanvasFactory||(dl?z0e:V0e),te=r.FilterFactory||(dl?G0e:K0e),G=r.enableHWA===!0,H=r.useWasm!==!1,z=a?a.length:r.length??NaN,oe=typeof r.useSystemFonts=="boolean"?r.useSystemFonts:!dl&&!_,ae=typeof r.useWorkerFetch=="boolean"?r.useWorkerFetch:!!(g===zj&&w===qj&&B===Wj&&d&&v&&b&&jC(d,document.baseURI)&&jC(v,document.baseURI)&&jC(b,document.baseURI)),ie=null;B0e(c);const pe={canvasFactory:new ne({ownerDocument:V,enableHWA:G}),filterFactory:new te({docId:t,ownerDocument:V}),cMapReaderFactory:ae?null:new g({baseUrl:d,isCompressed:m}),standardFontDataFactory:ae?null:new w({baseUrl:v}),wasmFactory:ae?null:new B({baseUrl:b})};l||(l=t1.create({verbosity:c,port:pl.workerPort}),e._worker=l);const Ce={docId:t,apiVersion:"5.3.31",data:A,password:o,disableAutoFetch:re,rangeChunkSize:u,length:z,docBaseUrl:h,enableXfa:O,evaluatorOptions:{maxImageSize:N,disableFontFace:_,ignoreErrors:F,isEvalSupported:T,isOffscreenCanvasSupported:U,isImageDecoderSupported:k,canvasMaxAreaInBytes:D,fontExtraProperties:L,useSystemFonts:oe,useWasm:H,useWorkerFetch:ae,cMapUrl:d,iccUrl:y,standardFontDataUrl:v,wasmUrl:b}},Ie={ownerDocument:V,pdfBug:le,styleElement:ie,loadingParams:{disableAutoFetch:re,enableXfa:O}};return l.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(l.destroyed)throw new Error("Worker was destroyed");const Qe=l.messageHandler.sendWithPromise("GetDocRequest",Ce,A?[A.buffer]:null);let qe;if(a)qe=new cBe(a,{disableRange:$,disableStream:Y});else if(!A){if(!n)throw new Error("getDocument - no `url` parameter provided.");const et=jC(n)?pBe:dl?_Be:wBe;qe=new et({url:n,length:z,httpHeaders:i,withCredentials:s,rangeChunkSize:u,disableRange:$,disableStream:Y})}return Qe.then(et=>{if(e.destroyed)throw new Error("Loading aborted");if(l.destroyed)throw new Error("Worker was destroyed");const nt=new qC(t,et,l.port),pt=new QBe(nt,e,qe,Ie,pe);e._transport=pt,nt.send("Ready",null)})}).catch(e._capability.reject),e}var jI;const VI=class VI{constructor(){qt(this,"_capability",Promise.withResolvers());qt(this,"_transport",null);qt(this,"_worker",null);qt(this,"docId",`d${Al(VI,jI)._++}`);qt(this,"destroyed",!1);qt(this,"onPassword",null);qt(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,t,n,A;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(i){throw(n=this._worker)!=null&&n.port&&delete this._worker._pendingDestroy,i}this._transport=null,(A=this._worker)==null||A.destroy(),this._worker=null}async getData(){return this._transport.getData()}};jI=new WeakMap,Be(VI,jI,0);let rR=VI;var oy,GE,zE,qE,WE,w8;let ek=(w8=class{constructor(e,t,n=!1,A=null){Be(this,oy,Promise.withResolvers());Be(this,GE,[]);Be(this,zE,[]);Be(this,qE,[]);Be(this,WE,[]);this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=A}addRangeListener(e){C(this,WE).push(e)}addProgressListener(e){C(this,qE).push(e)}addProgressiveReadListener(e){C(this,zE).push(e)}addProgressiveDoneListener(e){C(this,GE).push(e)}onDataRange(e,t){for(const n of C(this,WE))n(e,t)}onDataProgress(e,t){C(this,oy).promise.then(()=>{for(const n of C(this,qE))n(e,t)})}onDataProgressiveRead(e){C(this,oy).promise.then(()=>{for(const t of C(this,zE))t(e)})}onDataProgressiveDone(){C(this,oy).promise.then(()=>{for(const e of C(this,GE))e()})}transportReady(){C(this,oy).resolve()}requestDataRange(e,t){TA("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}},oy=new WeakMap,GE=new WeakMap,zE=new WeakMap,qE=new WeakMap,WE=new WeakMap,w8);class UBe{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return En(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var np,ay,JC;class TBe{constructor(e,t,n,A=!1){Be(this,ay);Be(this,np,!1);this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=A?new Vj:null,this._pdfBug=A,this.commonObjs=n.commonObjs,this.objs=new yq,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:A=0,dontFlip:i=!1}={}){return new J_({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:A,dontFlip:i})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return En(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:n="display",annotationMode:A=Vf.ENABLE,transform:i=null,background:s=null,optionalContentConfigPromise:o=null,annotationCanvasMap:a=null,pageColors:u=null,printAnnotationStorage:l=null,isEditing:c=!1}){var B,F;(B=this._stats)==null||B.time("Overall");const h=this._transport.getRenderingIntent(n,A,l,c),{renderingIntent:d,cacheKey:m}=h;he(this,np,!1),o||(o=this._transport.getOptionalContentConfig(d));let g=this._intentStates.get(m);g||(g=Object.create(null),this._intentStates.set(m,g)),g.streamReaderCancelTimeout&&(clearTimeout(g.streamReaderCancelTimeout),g.streamReaderCancelTimeout=null);const y=!!(d&Hu.PRINT);g.displayReadyCapability||(g.displayReadyCapability=Promise.withResolvers(),g.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(F=this._stats)==null||F.time("Page Request"),this._pumpOperatorList(h));const v=N=>{var T;g.renderTasks.delete(w),y&&he(this,np,!0),be(this,ay,JC).call(this),N?(w.capability.reject(N),this._abortOperatorList({intentState:g,reason:N instanceof Error?N:new Error(N)})):w.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(T=globalThis.Stats)!=null&&T.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},w=new nR({callback:v,params:{canvasContext:e,viewport:t,transform:i,background:s},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:a,operatorList:g.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!y,pdfBug:this._pdfBug,pageColors:u});(g.renderTasks||(g.renderTasks=new Set)).add(w);const b=w.task;return Promise.all([g.displayReadyCapability.promise,o]).then(([N,T])=>{var U;if(this.destroyed){v();return}if((U=this._stats)==null||U.time("Rendering"),!(T.renderingIntent&d))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");w.initializeGraphics({transparency:N,optionalContentConfig:T}),w.operatorListChanged()}).catch(v),b}getOperatorList({intent:e="display",annotationMode:t=Vf.ENABLE,printAnnotationStorage:n=null,isEditing:A=!1}={}){var u;function i(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(a))}const s=this._transport.getRenderingIntent(e,t,n,A,!0);let o=this._intentStates.get(s.cacheKey);o||(o=Object.create(null),this._intentStates.set(s.cacheKey,o));let a;return o.opListReadCapability||(a=Object.create(null),a.operatorListChanged=i,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(a),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(u=this._stats)==null||u.time("Page Request"),this._pumpOperatorList(s)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(A){return A.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>eE.textContent(n));const t=this.streamTextContent(e);return new Promise(function(n,A){function i(){s.read().then(function({value:a,done:u}){if(u){n(o);return}o.lang??(o.lang=a.lang),Object.assign(o.styles,a.styles),o.items.push(...a.items),i()},A)}const s=t.getReader(),o={items:[],styles:Object.create(null),lang:null};i()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),he(this,np,!1),Promise.all(e)}cleanup(e=!1){he(this,np,!0);const t=be(this,ay,JC).call(this);return e&&t&&this._stats&&(this._stats=new Vj),t}_startRenderPage(e,t){var A,i;const n=this._intentStates.get(t);n&&((A=this._stats)==null||A.timeEnd("Page Request"),(i=n.displayReadyCapability)==null||i.resolve(e))}_renderPageChunk(e,t){for(let n=0,A=e.length;n<A;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&be(this,ay,JC).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:n,modifiedIds:A}){const{map:i,transfer:s}=n,a=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:i,modifiedIds:A},s).getReader(),u=this._intentStates.get(t);u.streamReader=a;const l=()=>{a.read().then(({value:c,done:h})=>{if(h){u.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(c,u),l())},c=>{if(u.streamReader=null,!this._transport.destroyed){if(u.operatorList){u.operatorList.lastChunk=!0;for(const h of u.renderTasks)h.operatorListChanged();be(this,ay,JC).call(this)}if(u.displayReadyCapability)u.displayReadyCapability.reject(c);else if(u.opListReadCapability)u.opListReadCapability.reject(c);else throw c}})};l()}_abortOperatorList({intentState:e,reason:t,force:n=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!n){if(e.renderTasks.size>0)return;if(t instanceof cU){let A=xBe;t.extraDelay>0&&t.extraDelay<1e3&&(A+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},A);return}}if(e.streamReader.cancel(new Op(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[A,i]of this._intentStates)if(i===e){this._intentStates.delete(A);break}this.cleanup()}}}get stats(){return this._stats}}np=new WeakMap,ay=new WeakSet,JC=function(){if(!C(this,np)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),he(this,np,!1),!0};var zg,bh,Ap,ly,KI,uy,cy,gl,hF,Eq,_q,ZC,cB,fF;const di=class di{constructor({name:e=null,port:t=null,verbosity:n=C0e()}={}){Be(this,gl);Be(this,zg,Promise.withResolvers());Be(this,bh,null);Be(this,Ap,null);Be(this,ly,null);if(this.name=e,this.destroyed=!1,this.verbosity=n,t){if(C(di,cy).has(t))throw new Error("Cannot use more than one PDFWorker per port.");C(di,cy).set(t,this),be(this,gl,Eq).call(this,t)}else be(this,gl,_q).call(this)}get promise(){return C(this,zg).promise}get port(){return C(this,Ap)}get messageHandler(){return C(this,bh)}destroy(){var e,t;this.destroyed=!0,(e=C(this,ly))==null||e.terminate(),he(this,ly,null),C(di,cy).delete(C(this,Ap)),he(this,Ap,null),(t=C(this,bh))==null||t.destroy(),he(this,bh,null)}static create(e){const t=C(this,cy).get(e==null?void 0:e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new di(e)}static get workerSrc(){if(pl.workerSrc)return pl.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return En(this,"_setupFakeWorkerGlobal",(async()=>C(this,cB,fF)?C(this,cB,fF):(await import(this.workerSrc)).WorkerMessageHandler)())}};zg=new WeakMap,bh=new WeakMap,Ap=new WeakMap,ly=new WeakMap,KI=new WeakMap,uy=new WeakMap,cy=new WeakMap,gl=new WeakSet,hF=function(){C(this,zg).resolve(),C(this,bh).send("configure",{verbosity:this.verbosity})},Eq=function(e){he(this,Ap,e),he(this,bh,new qC("main","worker",e)),C(this,bh).on("ready",()=>{}),be(this,gl,hF).call(this)},_q=function(){if(C(di,uy)||C(di,cB,fF)){be(this,gl,ZC).call(this);return}let{workerSrc:e}=di;try{di._isSameOrigin(window.location,e)||(e=di._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),n=new qC("main","worker",t),A=()=>{i.abort(),n.destroy(),t.terminate(),this.destroyed?C(this,zg).reject(new Error("Worker was destroyed")):be(this,gl,ZC).call(this)},i=new AbortController;t.addEventListener("error",()=>{C(this,ly)||A()},{signal:i.signal}),n.on("test",o=>{if(i.abort(),this.destroyed||!o){A();return}he(this,bh,n),he(this,Ap,t),he(this,ly,t),be(this,gl,hF).call(this)}),n.on("ready",o=>{if(i.abort(),this.destroyed){A();return}try{s()}catch{be(this,gl,ZC).call(this)}});const s=()=>{const o=new Uint8Array;n.send("test",o,[o.buffer])};s();return}catch{uU("The worker has been disabled.")}be(this,gl,ZC).call(this)},ZC=function(){C(di,uy)||(Zr("Setting up fake worker."),he(di,uy,!0)),di._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){C(this,zg).reject(new Error("Worker was destroyed"));return}const t=new j0e;he(this,Ap,t);const n=`fake${Al(di,KI)._++}`,A=new qC(n+"_worker",n,t);e.setup(A,t),he(this,bh,new qC(n,n+"_worker",t)),be(this,gl,hF).call(this)}).catch(e=>{C(this,zg).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},cB=new WeakSet,fF=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},Be(di,cB),Be(di,KI,0),Be(di,uy,!1),Be(di,cy,new WeakMap),dl&&(he(di,uy,!0),pl.workerSrc||(pl.workerSrc="./pdf.worker.mjs")),di._isSameOrigin=(e,t)=>{const n=URL.parse(e);if(!(n!=null&&n.origin)||n.origin==="null")return!1;const A=new URL(t,n);return n.origin===A.origin},di._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},di.fromPort=e=>{if(T0e("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return di.create(e)};let t1=di;var ip,Pf,hB,fB,sp,hy,eb;class QBe{constructor(e,t,n,A,i){Be(this,hy);Be(this,ip,new Map);Be(this,Pf,new Map);Be(this,hB,new Map);Be(this,fB,new Map);Be(this,sp,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new yq,this.fontLoader=new O0e({ownerDocument:A.ownerDocument,styleElement:A.styleElement}),this.loadingParams=A.loadingParams,this._params=A,this.canvasFactory=i.canvasFactory,this.filterFactory=i.filterFactory,this.cMapReaderFactory=i.cMapReaderFactory,this.standardFontDataFactory=i.standardFontDataFactory,this.wasmFactory=i.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return En(this,"annotationStorage",new XO)}getRenderingIntent(e,t=Vf.ENABLE,n=null,A=!1,i=!1){let s=Hu.DISPLAY,o=VN;switch(e){case"any":s=Hu.ANY;break;case"display":break;case"print":s=Hu.PRINT;break;default:Zr(`getRenderingIntent - invalid intent: ${e}`)}const a=s&Hu.PRINT&&n instanceof rq?n:this.annotationStorage;switch(t){case Vf.DISABLE:s+=Hu.ANNOTATIONS_DISABLE;break;case Vf.ENABLE:break;case Vf.ENABLE_FORMS:s+=Hu.ANNOTATIONS_FORMS;break;case Vf.ENABLE_STORAGE:s+=Hu.ANNOTATIONS_STORAGE,o=a.serializable;break;default:Zr(`getRenderingIntent - invalid annotationMode: ${t}`)}A&&(s+=Hu.IS_EDITING),i&&(s+=Hu.OPLIST);const{ids:u,hash:l}=a.modifiedIds,c=[s,o.hash,l];return{renderingIntent:s,cacheKey:c.join("_"),annotationStorageSerializable:o,modifiedIds:u}}destroy(){var n;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(n=C(this,sp))==null||n.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const A of C(this,Pf).values())e.push(A._destroy());C(this,Pf).clear(),C(this,hB).clear(),C(this,fB).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var A,i;this.commonObjs.clear(),this.fontLoader.clear(),C(this,ip).clear(),this.filterFactory.destroy(),Zb.cleanup(),(A=this._networkStream)==null||A.cancelAllRequests(new Op("Worker was terminated.")),(i=this.messageHandler)==null||i.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(n,A)=>{Is(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=i=>{this._lastProgress={loaded:i.loaded,total:i.total}},A.onPull=()=>{this._fullReader.read().then(function({value:i,done:s}){if(s){A.close();return}Is(i instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),A.enqueue(new Uint8Array(i),1,[i])}).catch(i=>{A.error(i)})},A.onCancel=i=>{this._fullReader.cancel(i),A.ready.catch(s=>{if(!this.destroyed)throw s})}}),e.on("ReaderHeadersReady",async n=>{var o;await this._fullReader.headersReady;const{isStreamingSupported:A,isRangeSupported:i,contentLength:s}=this._fullReader;return(!A||!i)&&(this._lastProgress&&((o=t.onProgress)==null||o.call(t,this._lastProgress)),this._fullReader.onProgress=a=>{var u;(u=t.onProgress)==null||u.call(t,{loaded:a.loaded,total:a.total})}),{isStreamingSupported:A,isRangeSupported:i,contentLength:s}}),e.on("GetRangeReader",(n,A)=>{Is(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const i=this._networkStream.getRangeReader(n.begin,n.end);if(!i){A.close();return}A.onPull=()=>{i.read().then(function({value:s,done:o}){if(o){A.close();return}Is(s instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),A.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{A.error(s)})},A.onCancel=s=>{i.cancel(s),A.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new UBe(n,this))}),e.on("DocException",n=>{t._capability.reject(Hl(n))}),e.on("PasswordRequest",n=>{he(this,sp,Promise.withResolvers());try{if(!t.onPassword)throw Hl(n);const A=i=>{i instanceof Error?C(this,sp).reject(i):C(this,sp).resolve({password:i})};t.onPassword(A,n.code)}catch(A){C(this,sp).reject(A)}return C(this,sp).promise}),e.on("DataLoaded",n=>{var A;(A=t.onProgress)==null||A.call(t,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),e.on("StartRenderPage",n=>{if(this.destroyed)return;C(this,Pf).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),e.on("commonobj",([n,A,i])=>{var s;if(this.destroyed||this.commonObjs.has(n))return null;switch(A){case"Font":if("error"in i){const l=i.error;Zr(`Error during font loading: ${l}`),this.commonObjs.resolve(n,l);break}const o=this._params.pdfBug&&((s=globalThis.FontInspector)!=null&&s.enabled)?(l,c)=>globalThis.FontInspector.fontAdded(l,c):null,a=new k0e(i,o);this.fontLoader.bind(a).catch(()=>e.sendWithPromise("FontFallback",{id:n})).finally(()=>{!a.fontExtraProperties&&a.data&&(a.data=null),this.commonObjs.resolve(n,a)});break;case"CopyLocalImage":const{imageRef:u}=i;Is(u,"The imageRef must be defined.");for(const l of C(this,Pf).values())for(const[,c]of l.objs)if((c==null?void 0:c.ref)===u)return c.dataLen?(this.commonObjs.resolve(n,structuredClone(c)),c.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,i);break;default:throw new Error(`Got unknown common object type ${A}`)}return null}),e.on("obj",([n,A,i,s])=>{var a;if(this.destroyed)return;const o=C(this,Pf).get(A);if(!o.objs.has(n)){if(o._intentStates.size===0){(a=s==null?void 0:s.bitmap)==null||a.close();return}switch(i){case"Image":case"Pattern":o.objs.resolve(n,s);break;default:throw new Error(`Got unknown object type ${i}`)}}}),e.on("DocProgress",n=>{var A;this.destroyed||(A=t.onProgress)==null||A.call(t,{loaded:n.loaded,total:n.total})}),e.on("FetchBinaryData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");const A=this[n.type];if(!A)throw new Error(`${n.type} not initialized, see the \`useWorkerFetch\` parameter.`);return A.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var n;this.annotationStorage.size<=0&&Zr("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((n=this._fullReader)==null?void 0:n.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=C(this,hB).get(t);if(n)return n;const A=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(i=>{if(this.destroyed)throw new Error("Transport destroyed");i.refStr&&C(this,fB).set(i.refStr,e);const s=new TBe(t,i,this,this._params.pdfBug);return C(this,Pf).set(t,s),s});return C(this,hB).set(t,A),A}getPageIndex(e){return KN(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return be(this,hy,eb).call(this,"GetFieldObjects")}hasJSActions(){return be(this,hy,eb).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return be(this,hy,eb).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return be(this,hy,eb).call(this,"GetOptionalContentConfig").then(t=>new uBe(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=C(this,ip).get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then(A=>{var i,s;return{info:A[0],metadata:A[1]?new aBe(A[1]):null,contentDispositionFilename:((i=this._fullReader)==null?void 0:i.filename)??null,contentLength:((s=this._fullReader)==null?void 0:s.contentLength)??null}});return C(this,ip).set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of C(this,Pf).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),C(this,ip).clear(),this.filterFactory.destroy(!0),Zb.cleanup()}}cachedPageNumber(e){if(!KN(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return C(this,fB).get(t)??null}}ip=new WeakMap,Pf=new WeakMap,hB=new WeakMap,fB=new WeakMap,sp=new WeakMap,hy=new WeakSet,eb=function(e,t=null){const n=C(this,ip).get(e);if(n)return n;const A=this.messageHandler.sendWithPromise(e,t);return C(this,ip).set(e,A),A};var qg;class LBe{constructor(e){Be(this,qg,null);qt(this,"onContinue",null);qt(this,"onError",null);he(this,qg,e)}get promise(){return C(this,qg).capability.promise}cancel(e=0){C(this,qg).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=C(this,qg).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=C(this,qg);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}qg=new WeakMap;var Wg,fy;const Sv=class Sv{constructor({callback:e,params:t,objs:n,commonObjs:A,annotationCanvasMap:i,operatorList:s,pageIndex:o,canvasFactory:a,filterFactory:u,useRequestAnimationFrame:l=!1,pdfBug:c=!1,pageColors:h=null}){Be(this,Wg,null);this.callback=e,this.params=t,this.objs=n,this.commonObjs=A,this.annotationCanvasMap=i,this.operatorListIdx=null,this.operatorList=s,this._pageIndex=o,this.canvasFactory=a,this.filterFactory=u,this._pdfBug=c,this.pageColors=h,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=l===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new LBe(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var o,a;if(this.cancelled)return;if(this._canvas){if(C(Sv,fy).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");C(Sv,fy).add(this._canvas)}this._pdfBug&&((o=globalThis.StepperManager)!=null&&o.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:A,transform:i,background:s}=this.params;this.gfx=new N0(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:i,viewport:A,transparency:e,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,(a=this.graphicsReadyCallback)==null||a.call(this)}cancel(e=null,t=0){var n,A,i;this.running=!1,this.cancelled=!0,(n=this.gfx)==null||n.endDrawing(),C(this,Wg)&&(window.cancelAnimationFrame(C(this,Wg)),he(this,Wg,null)),C(Sv,fy).delete(this._canvas),e||(e=new cU(`Rendering cancelled, page ${this._pageIndex+1}`,t)),this.callback(e),(i=(A=this.task).onError)==null||i.call(A,e)}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?he(this,Wg,window.requestAnimationFrame(()=>{he(this,Wg,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),C(Sv,fy).delete(this._canvas),this.callback())))}};Wg=new WeakMap,fy=new WeakMap,Be(Sv,fy,new WeakSet);let nR=Sv;const y1="5.3.31",Sq="47ad820d9";function i8(r){return Math.floor(Math.max(0,Math.min(1,r))*255).toString(16).padStart(2,"0")}function _C(r){return Math.max(0,Math.min(255,255*r))}class s8{static CMYK_G([e,t,n,A]){return["G",1-Math.min(1,.3*e+.59*n+.11*t+A)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=_C(e),[e,e,e]}static G_HTML([e]){const t=i8(e);return`#${t}${t}${t}`}static RGB_G([e,t,n]){return["G",.3*e+.59*t+.11*n]}static RGB_rgb(e){return e.map(_C)}static RGB_HTML(e){return`#${e.map(i8).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,n,A]){return["RGB",1-Math.min(1,e+A),1-Math.min(1,n+A),1-Math.min(1,t+A)]}static CMYK_rgb([e,t,n,A]){return[_C(1-Math.min(1,e+A)),_C(1-Math.min(1,n+A)),_C(1-Math.min(1,t+A))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,n]){const A=1-e,i=1-t,s=1-n,o=Math.min(A,i,s);return["CMYK",A,i,s,o]}}class NBe{create(e,t,n=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const A=this._createSVG("svg:svg");return A.setAttribute("version","1.1"),n||(A.setAttribute("width",`${e}px`),A.setAttribute("height",`${t}px`)),A.setAttribute("preserveAspectRatio","none"),A.setAttribute("viewBox",`0 0 ${e} ${t}`),A}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){TA("Abstract method `_createSVG` called.")}}class tE extends NBe{_createSVG(e){return document.createElementNS(Dd,e)}}class tk{static setupStorage(e,t,n,A,i){const s=A.getValue(t,{value:null});switch(n.name){case"textarea":if(s.value!==null&&(e.textContent=s.value),i==="print")break;e.addEventListener("input",o=>{A.setValue(t,{value:o.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(s.value===n.attributes.xfaOn?e.setAttribute("checked",!0):s.value===n.attributes.xfaOff&&e.removeAttribute("checked"),i==="print")break;e.addEventListener("change",o=>{A.setValue(t,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(s.value!==null&&e.setAttribute("value",s.value),i==="print")break;e.addEventListener("input",o=>{A.setValue(t,{value:o.target.value})})}break;case"select":if(s.value!==null){e.setAttribute("value",s.value);for(const o of n.children)o.attributes.value===s.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}e.addEventListener("input",o=>{const a=o.target.options,u=a.selectedIndex===-1?"":a[a.selectedIndex].value;A.setValue(t,{value:u})});break}}static setAttributes({html:e,element:t,storage:n=null,intent:A,linkService:i}){const{attributes:s}=t,o=e instanceof HTMLAnchorElement;s.type==="radio"&&(s.name=`${s.name}-${A}`);for(const[a,u]of Object.entries(s))if(u!=null)switch(a){case"class":u.length&&e.setAttribute(a,u.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",u);break;case"style":Object.assign(e.style,u);break;case"textContent":e.textContent=u;break;default:(!o||a!=="href"&&a!=="newWindow")&&e.setAttribute(a,u)}o&&i.addLinkAttributes(e,s.href,s.newWindow),n&&s.dataId&&this.setupStorage(e,s.dataId,t,n)}static render(e){var c,h;const t=e.annotationStorage,n=e.linkService,A=e.xfaHtml,i=e.intent||"display",s=document.createElement(A.name);A.attributes&&this.setAttributes({html:s,element:A,intent:i,linkService:n});const o=i!=="richText",a=e.div;if(a.append(s),e.viewport){const d=`matrix(${e.viewport.transform.join(",")})`;a.style.transform=d}o&&a.setAttribute("class","xfaLayer xfaFont");const u=[];if(A.children.length===0){if(A.value){const d=document.createTextNode(A.value);s.append(d),o&&eE.shouldBuildText(A.name)&&u.push(d)}return{textDivs:u}}const l=[[A,-1,s]];for(;l.length>0;){const[d,m,g]=l.at(-1);if(m+1===d.children.length){l.pop();continue}const y=d.children[++l.at(-1)[1]];if(y===null)continue;const{name:v}=y;if(v==="#text"){const b=document.createTextNode(y.value);u.push(b),g.append(b);continue}const w=(c=y==null?void 0:y.attributes)!=null&&c.xmlns?document.createElementNS(y.attributes.xmlns,v):document.createElement(v);if(g.append(w),y.attributes&&this.setAttributes({html:w,element:y,storage:t,intent:i,linkService:n}),((h=y.children)==null?void 0:h.length)>0)l.push([y,-1,w]);else if(y.value){const b=document.createTextNode(y.value);o&&eE.shouldBuildText(v)&&u.push(b),w.append(b)}}for(const d of a.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))d.setAttribute("readOnly",!0);return{textDivs:u}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const r2=1e3,RBe=9,aw=new WeakSet;class o8{static create(e){switch(e.data.annotationType){case rs.LINK:return new Fq(e);case rs.TEXT:return new PBe(e);case rs.WIDGET:switch(e.data.fieldType){case"Tx":return new OBe(e);case"Btn":return e.data.radioButton?new Uq(e):e.data.checkBox?new DBe(e):new MBe(e);case"Ch":return new HBe(e);case"Sig":return new kBe(e)}return new mw(e);case rs.POPUP:return new iR(e);case rs.FREETEXT:return new Rq(e);case rs.LINE:return new VBe(e);case rs.SQUARE:return new KBe(e);case rs.CIRCLE:return new GBe(e);case rs.POLYLINE:return new Pq(e);case rs.CARET:return new qBe(e);case rs.INK:return new rk(e);case rs.POLYGON:return new zBe(e);case rs.HIGHLIGHT:return new Oq(e);case rs.UNDERLINE:return new WBe(e);case rs.SQUIGGLY:return new $Be(e);case rs.STRIKEOUT:return new XBe(e);case rs.STAMP:return new kq(e);case rs.FILEATTACHMENT:return new YBe(e);default:return new hs(e)}}}var dy,dB,pB,$E,AR;const lk=class lk{constructor(e,{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:A=!1}={}){Be(this,$E);Be(this,dy,null);Be(this,dB,!1);Be(this,pB,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(n)),A&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:n}){return!!(e!=null&&e.str||t!=null&&t.str||n!=null&&n.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return lk._hasPopupData(this.data)}updateEdited(e){var n;if(!this.container)return;C(this,dy)||he(this,dy,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&be(this,$E,AR).call(this,t),(n=C(this,pB))==null||n.popup.updateEdited(e)}resetEdited(){var e;C(this,dy)&&(be(this,$E,AR).call(this,C(this,dy).rect),(e=C(this,pB))==null||e.popup.resetEdited(),he(this,dy,null))}_createContainer(e){const{data:t,parent:{page:n,viewport:A}}=this,i=document.createElement("section");i.setAttribute("data-annotation-id",t.id),this instanceof mw||(i.tabIndex=r2);const{style:s}=i;if(s.zIndex=this.parent.zIndex++,t.alternativeText&&(i.title=t.alternativeText),t.noRotate&&i.classList.add("norotate"),!t.rect||this instanceof iR){const{rotation:g}=t;return!t.hasOwnCanvas&&g!==0&&this.setRotation(g,i),i}const{width:o,height:a}=this;if(!e&&t.borderStyle.width>0){s.borderWidth=`${t.borderStyle.width}px`;const g=t.borderStyle.horizontalCornerRadius,y=t.borderStyle.verticalCornerRadius;if(g>0||y>0){const w=`calc(${g}px * var(--total-scale-factor)) / calc(${y}px * var(--total-scale-factor))`;s.borderRadius=w}else if(this instanceof Uq){const w=`calc(${o}px * var(--total-scale-factor)) / calc(${a}px * var(--total-scale-factor))`;s.borderRadius=w}switch(t.borderStyle.style){case h0.SOLID:s.borderStyle="solid";break;case h0.DASHED:s.borderStyle="dashed";break;case h0.BEVELED:Zr("Unimplemented border style: beveled");break;case h0.INSET:Zr("Unimplemented border style: inset");break;case h0.UNDERLINE:s.borderBottomStyle="solid";break}const v=t.borderColor||null;v?(he(this,dB,!0),s.borderColor=Ur.makeHexColor(v[0]|0,v[1]|0,v[2]|0)):s.borderWidth=0}const u=Ur.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]),{pageWidth:l,pageHeight:c,pageX:h,pageY:d}=A.rawDims;s.left=`${100*(u[0]-h)/l}%`,s.top=`${100*(u[1]-d)/c}%`;const{rotation:m}=t;return t.hasOwnCanvas||m===0?(s.width=`${100*o/l}%`,s.height=`${100*a/c}%`):this.setRotation(m,i),i}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:A}=this.parent.viewport.rawDims;let{width:i,height:s}=this;e%180!==0&&([i,s]=[s,i]),t.style.width=`${100*i/n}%`,t.style.height=`${100*s/A}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,n,A)=>{const i=A.detail[t],s=i[0],o=i.slice(1);A.target.style[n]=s8[`${s}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[n]:s8[`${s}_rgb`](o)})};return En(this,"_commonActions",{display:t=>{const{display:n}=t.detail,A=n%2===1;this.container.style.visibility=A?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:A,noPrint:n===1||n===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:n}=t.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const n=t.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const A of Object.keys(t.detail)){const i=e[A]||n[A];i==null||i(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[A,i]of Object.entries(t)){const s=n[A];if(s){const o={detail:{[A]:i},target:e};s(o),delete t[A]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,A,i]=this.data.rect.map(g=>Math.fround(g));if(e.length===8){const[g,y,v,w]=e.subarray(2,6);if(A===g&&i===y&&t===v&&n===w)return}const{style:s}=this.container;let o;if(C(this,dB)){const{borderColor:g,borderWidth:y}=s;s.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${g}" stroke-width="${y}">`],this.container.classList.add("hasBorder")}const a=A-t,u=i-n,{svgFactory:l}=this,c=l.createElement("svg");c.classList.add("quadrilateralsContainer"),c.setAttribute("width",0),c.setAttribute("height",0);const h=l.createElement("defs");c.append(h);const d=l.createElement("clipPath"),m=`clippath_${this.data.id}`;d.setAttribute("id",m),d.setAttribute("clipPathUnits","objectBoundingBox"),h.append(d);for(let g=2,y=e.length;g<y;g+=8){const v=e[g],w=e[g+1],b=e[g+2],B=e[g+3],F=l.createElement("rect"),N=(b-t)/a,T=(i-w)/u,U=(v-b)/a,k=(w-B)/u;F.setAttribute("x",N),F.setAttribute("y",T),F.setAttribute("width",U),F.setAttribute("height",k),d.append(F),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${N}" y="${T}" width="${U}" height="${k}"/>`)}C(this,dB)&&(o.push("</g></svg>')"),s.backgroundImage=o.join("")),this.container.append(c),this.container.style.clipPath=`url(#${m})`}_createPopup(){const{data:e}=this,t=he(this,pB,new iR({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(t.render())}render(){TA("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const n=[];if(this._fieldObjects){const A=this._fieldObjects[e];if(A)for(const{page:i,id:s,exportValues:o}of A){if(i===-1||s===t)continue;const a=typeof o=="string"?o:null,u=document.querySelector(`[data-element-id="${s}"]`);if(u&&!aw.has(u)){Zr(`_getElementsByName - element not allowed: ${s}`);continue}n.push({id:s,exportValue:a,domElement:u})}return n}for(const A of document.getElementsByName(e)){const{exportValue:i}=A,s=A.getAttribute("data-element-id");s!==t&&aw.has(A)&&n.push({id:s,exportValue:i,domElement:A})}return n}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var n;(n=this.linkService.eventBus)==null||n.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};dy=new WeakMap,dB=new WeakMap,pB=new WeakMap,$E=new WeakSet,AR=function(e){const{container:{style:t},data:{rect:n,rotation:A},parent:{viewport:{rawDims:{pageWidth:i,pageHeight:s,pageX:o,pageY:a}}}}=this;n==null||n.splice(0,4,...e),t.left=`${100*(e[0]-o)/i}%`,t.top=`${100*(s-e[3]+a)/s}%`,A===0?(t.width=`${100*(e[2]-e[0])/i}%`,t.height=`${100*(e[3]-e[1])/s}%`):this.setRotation(A)};let hs=lk;var Vu,Bv,Iq,xq;class Fq extends hs{constructor(t,n=null){super(t,{isRenderable:!0,ignoreBorder:!!(n!=null&&n.ignoreBorder),createQuadrilaterals:!0});Be(this,Vu);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:n}=this,A=document.createElement("a");A.setAttribute("data-element-id",t.id);let i=!1;return t.url?(n.addLinkAttributes(A,t.url,t.newWindow),i=!0):t.action?(this._bindNamedAction(A,t.action),i=!0):t.attachment?(be(this,Vu,Iq).call(this,A,t.attachment,t.attachmentDest),i=!0):t.setOCGState?(be(this,Vu,xq).call(this,A,t.setOCGState),i=!0):t.dest?(this._bindLink(A,t.dest),i=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(A,t),i=!0),t.resetForm?(this._bindResetFormAction(A,t.resetForm),i=!0):this.isTooltipOnly&&!i&&(this._bindLink(A,""),i=!0)),this.container.classList.add("linkAnnotation"),i&&this.container.append(A),this.container}_bindLink(t,n){t.href=this.linkService.getDestinationHash(n),t.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&be(this,Vu,Bv).call(this)}_bindNamedAction(t,n){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(n),!1),be(this,Vu,Bv).call(this)}_bindJSAction(t,n){t.href=this.linkService.getAnchorUrl("");const A=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const i of Object.keys(n.actions)){const s=A.get(i);s&&(t[s]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:i}}),!1})}t.onclick||(t.onclick=()=>!1),be(this,Vu,Bv).call(this)}_bindResetFormAction(t,n){const A=t.onclick;if(A||(t.href=this.linkService.getAnchorUrl("")),be(this,Vu,Bv).call(this),!this._fieldObjects){Zr('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),A||(t.onclick=()=>!1);return}t.onclick=()=>{var c;A==null||A();const{fields:i,refs:s,include:o}=n,a=[];if(i.length!==0||s.length!==0){const h=new Set(s);for(const d of i){const m=this._fieldObjects[d]||[];for(const{id:g}of m)h.add(g)}for(const d of Object.values(this._fieldObjects))for(const m of d)h.has(m.id)===o&&a.push(m)}else for(const h of Object.values(this._fieldObjects))a.push(...h);const u=this.annotationStorage,l=[];for(const h of a){const{id:d}=h;switch(l.push(d),h.type){case"text":{const g=h.defaultValue||"";u.setValue(d,{value:g});break}case"checkbox":case"radiobutton":{const g=h.defaultValue===h.exportValues;u.setValue(d,{value:g});break}case"combobox":case"listbox":{const g=h.defaultValue||"";u.setValue(d,{value:g});break}default:continue}const m=document.querySelector(`[data-element-id="${d}"]`);if(m){if(!aw.has(m)){Zr(`_bindResetFormAction - element not allowed: ${d}`);continue}}else continue;m.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((c=this.linkService.eventBus)==null||c.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:l,name:"ResetForm"}})),!1}}}Vu=new WeakSet,Bv=function(){this.container.setAttribute("data-internal-link","")},Iq=function(t,n,A=null){t.href=this.linkService.getAnchorUrl(""),n.description&&(t.title=n.description),t.onclick=()=>{var i;return(i=this.downloadManager)==null||i.openOrDownloadData(n.content,n.filename,A),!1},be(this,Vu,Bv).call(this)},xq=function(t,n){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(n),!1),be(this,Vu,Bv).call(this)};class PBe extends hs{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class mw extends hs{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return _o.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,A,i){n.includes("mouse")?e.addEventListener(n,s=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:A,value:i(s),shift:s.shiftKey,modifier:this._getKeyModifier(s)}})}):e.addEventListener(n,s=>{var o;if(n==="blur"){if(!t.focused||!s.relatedTarget)return;t.focused=!1}else if(n==="focus"){if(t.focused)return;t.focused=!0}i&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:A,value:i(s)}}))})}_setEventListeners(e,t,n,A){var i,s,o;for(const[a,u]of n)(u==="Action"||(i=this.data.actions)!=null&&i[u])&&((u==="Focus"||u==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,a,u,A),u==="Focus"&&!((s=this.data.actions)!=null&&s.Blur)?this._setEventListener(e,t,"blur","Blur",null):u==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":Ur.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,A=this.data.defaultAppearanceData.fontSize||RBe,i=e.style;let s;const o=2,a=u=>Math.round(10*u)/10;if(this.data.multiLine){const u=Math.abs(this.data.rect[3]-this.data.rect[1]-o),l=Math.round(u/(NL*A))||1,c=u/l;s=Math.min(A,a(c/NL))}else{const u=Math.abs(this.data.rect[3]-this.data.rect[1]-o);s=Math.min(A,a(u/NL))}i.fontSize=`calc(${s}px * var(--total-scale-factor))`,i.color=Ur.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(i.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class OBe extends mw{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,n,A){const i=this.annotationStorage;for(const s of this._getElementsByName(e.name,e.id))s.domElement&&(s.domElement[t]=n),i.setValue(s.id,{[A]:n})}render(){var A,i;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const s=e.getValue(t,{value:this.data.fieldValue});let o=s.value||"";const a=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;a&&o.length>a&&(o=o.slice(0,a));let u=s.formattedValue||((A=this.data.textContent)==null?void 0:A.join(`
`))||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const l={userValue:o,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=u??o,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type=this.data.password?"password":"text",n.setAttribute("value",u??o),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),aw.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=r2,this._setRequired(n,this.data.required),a&&(n.maxLength=a),n.addEventListener("input",h=>{e.setValue(t,{value:h.target.value}),this.setPropertyOnSiblings(n,"value",h.target.value,"value"),l.formattedValue=null}),n.addEventListener("resetform",h=>{const d=this.data.defaultFieldValue??"";n.value=l.userValue=d,l.formattedValue=null});let c=h=>{const{formattedValue:d}=l;d!=null&&(h.target.value=d),h.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",d=>{var g;if(l.focused)return;const{target:m}=d;l.userValue&&(m.value=l.userValue),l.lastCommittedValue=m.value,l.commitKey=1,(g=this.data.actions)!=null&&g.Focus||(l.focused=!0)}),n.addEventListener("updatefromsandbox",d=>{this.showElementAndHideCanvas(d.target);const m={value(g){l.userValue=g.detail.value??"",e.setValue(t,{value:l.userValue.toString()}),g.target.value=l.userValue},formattedValue(g){const{formattedValue:y}=g.detail;l.formattedValue=y,y!=null&&g.target!==document.activeElement&&(g.target.value=y),e.setValue(t,{formattedValue:y})},selRange(g){g.target.setSelectionRange(...g.detail.selRange)},charLimit:g=>{var b;const{charLimit:y}=g.detail,{target:v}=g;if(y===0){v.removeAttribute("maxLength");return}v.setAttribute("maxLength",y);let w=l.userValue;!w||w.length<=y||(w=w.slice(0,y),v.value=l.userValue=w,e.setValue(t,{value:w}),(b=this.linkService.eventBus)==null||b.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:w,willCommit:!0,commitKey:1,selStart:v.selectionStart,selEnd:v.selectionEnd}}))}};this._dispatchEventFromSandbox(m,d)}),n.addEventListener("keydown",d=>{var y;l.commitKey=1;let m=-1;if(d.key==="Escape"?m=0:d.key==="Enter"&&!this.data.multiLine?m=2:d.key==="Tab"&&(l.commitKey=3),m===-1)return;const{value:g}=d.target;l.lastCommittedValue!==g&&(l.lastCommittedValue=g,l.userValue=g,(y=this.linkService.eventBus)==null||y.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:g,willCommit:!0,commitKey:m,selStart:d.target.selectionStart,selEnd:d.target.selectionEnd}}))});const h=c;c=null,n.addEventListener("blur",d=>{var g,y;if(!l.focused||!d.relatedTarget)return;(g=this.data.actions)!=null&&g.Blur||(l.focused=!1);const{value:m}=d.target;l.userValue=m,l.lastCommittedValue!==m&&((y=this.linkService.eventBus)==null||y.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:m,willCommit:!0,commitKey:l.commitKey,selStart:d.target.selectionStart,selEnd:d.target.selectionEnd}})),h(d)}),(i=this.data.actions)!=null&&i.Keystroke&&n.addEventListener("beforeinput",d=>{var F;l.lastCommittedValue=null;const{data:m,target:g}=d,{value:y,selectionStart:v,selectionEnd:w}=g;let b=v,B=w;switch(d.inputType){case"deleteWordBackward":{const N=y.substring(0,v).match(/\w*[^\w]*$/);N&&(b-=N[0].length);break}case"deleteWordForward":{const N=y.substring(v).match(/^[^\w]*\w*/);N&&(B+=N[0].length);break}case"deleteContentBackward":v===w&&(b-=1);break;case"deleteContentForward":v===w&&(B+=1);break}d.preventDefault(),(F=this.linkService.eventBus)==null||F.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:y,change:m||"",willCommit:!1,selStart:b,selEnd:B}})}),this._setEventListeners(n,l,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],d=>d.target.value)}if(c&&n.addEventListener("blur",c),this.data.comb){const d=(this.data.rect[2]-this.data.rect[0])/a;n.classList.add("comb"),n.style.letterSpacing=`calc(${d}px * var(--total-scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class kBe extends mw{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class DBe extends mw{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let A=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;typeof A=="string"&&(A=A!=="Off",e.setValue(n,{value:A})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const i=document.createElement("input");return aw.add(i),i.setAttribute("data-element-id",n),i.disabled=t.readOnly,this._setRequired(i,this.data.required),i.type="checkbox",i.name=t.fieldName,A&&i.setAttribute("checked",!0),i.setAttribute("exportValue",t.exportValue),i.tabIndex=r2,i.addEventListener("change",s=>{const{name:o,checked:a}=s.target;for(const u of this._getElementsByName(o,n)){const l=a&&u.exportValue===t.exportValue;u.domElement&&(u.domElement.checked=l),e.setValue(u.id,{value:l})}e.setValue(n,{value:a})}),i.addEventListener("resetform",s=>{const o=t.defaultFieldValue||"Off";s.target.checked=o===t.exportValue}),this.enableScripting&&this.hasJSActions&&(i.addEventListener("updatefromsandbox",s=>{const o={value(a){a.target.checked=a.detail.value!=="Off",e.setValue(n,{value:a.target.checked})}};this._dispatchEventFromSandbox(o,s)}),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],s=>s.target.checked)),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class Uq extends mw{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let A=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if(typeof A=="string"&&(A=A!==t.buttonValue,e.setValue(n,{value:A})),A)for(const s of this._getElementsByName(t.fieldName,n))e.setValue(s.id,{value:!1});const i=document.createElement("input");if(aw.add(i),i.setAttribute("data-element-id",n),i.disabled=t.readOnly,this._setRequired(i,this.data.required),i.type="radio",i.name=t.fieldName,A&&i.setAttribute("checked",!0),i.tabIndex=r2,i.addEventListener("change",s=>{const{name:o,checked:a}=s.target;for(const u of this._getElementsByName(o,n))e.setValue(u.id,{value:!1});e.setValue(n,{value:a})}),i.addEventListener("resetform",s=>{const o=t.defaultFieldValue;s.target.checked=o!=null&&o===t.buttonValue}),this.enableScripting&&this.hasJSActions){const s=t.buttonValue;i.addEventListener("updatefromsandbox",o=>{const a={value:u=>{const l=s===u.detail.value;for(const c of this._getElementsByName(u.target.name)){const h=l&&c.id===n;c.domElement&&(c.domElement.checked=h),e.setValue(c.id,{value:h})}}};this._dispatchEventFromSandbox(a,o)}),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class MBe extends Fq{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),e}}class HBe extends mw{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),A=document.createElement("select");aw.add(A),A.setAttribute("data-element-id",t),A.disabled=this.data.readOnly,this._setRequired(A,this.data.required),A.name=this.data.fieldName,A.tabIndex=r2;let i=this.data.combo&&this.data.options.length>0;this.data.combo||(A.size=this.data.options.length,this.data.multiSelect&&(A.multiple=!0)),A.addEventListener("resetform",l=>{const c=this.data.defaultFieldValue;for(const h of A.options)h.selected=h.value===c});for(const l of this.data.options){const c=document.createElement("option");c.textContent=l.displayValue,c.value=l.exportValue,n.value.includes(l.exportValue)&&(c.setAttribute("selected",!0),i=!1),A.append(c)}let s=null;if(i){const l=document.createElement("option");l.value=" ",l.setAttribute("hidden",!0),l.setAttribute("selected",!0),A.prepend(l),s=()=>{l.remove(),A.removeEventListener("input",s),s=null},A.addEventListener("input",s)}const o=l=>{const c=l?"value":"textContent",{options:h,multiple:d}=A;return d?Array.prototype.filter.call(h,m=>m.selected).map(m=>m[c]):h.selectedIndex===-1?null:h[h.selectedIndex][c]};let a=o(!1);const u=l=>{const c=l.target.options;return Array.prototype.map.call(c,h=>({displayValue:h.textContent,exportValue:h.value}))};return this.enableScripting&&this.hasJSActions?(A.addEventListener("updatefromsandbox",l=>{const c={value(h){s==null||s();const d=h.detail.value,m=new Set(Array.isArray(d)?d:[d]);for(const g of A.options)g.selected=m.has(g.value);e.setValue(t,{value:o(!0)}),a=o(!1)},multipleSelection(h){A.multiple=!0},remove(h){const d=A.options,m=h.detail.remove;d[m].selected=!1,A.remove(m),d.length>0&&Array.prototype.findIndex.call(d,y=>y.selected)===-1&&(d[0].selected=!0),e.setValue(t,{value:o(!0),items:u(h)}),a=o(!1)},clear(h){for(;A.length!==0;)A.remove(0);e.setValue(t,{value:null,items:[]}),a=o(!1)},insert(h){const{index:d,displayValue:m,exportValue:g}=h.detail.insert,y=A.children[d],v=document.createElement("option");v.textContent=m,v.value=g,y?y.before(v):A.append(v),e.setValue(t,{value:o(!0),items:u(h)}),a=o(!1)},items(h){const{items:d}=h.detail;for(;A.length!==0;)A.remove(0);for(const m of d){const{displayValue:g,exportValue:y}=m,v=document.createElement("option");v.textContent=g,v.value=y,A.append(v)}A.options.length>0&&(A.options[0].selected=!0),e.setValue(t,{value:o(!0),items:u(h)}),a=o(!1)},indices(h){const d=new Set(h.detail.indices);for(const m of h.target.options)m.selected=d.has(m.index);e.setValue(t,{value:o(!0)}),a=o(!1)},editable(h){h.target.disabled=!h.detail.editable}};this._dispatchEventFromSandbox(c,l)}),A.addEventListener("input",l=>{var d;const c=o(!0),h=o(!1);e.setValue(t,{value:c}),l.preventDefault(),(d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:a,change:h,changeEx:c,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(A,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],l=>l.target.value)):A.addEventListener("input",function(l){e.setValue(t,{value:o(!0)})}),this.data.combo&&this._setTextStyle(A),this._setBackgroundColor(A),this._setDefaultPropertiesFromJS(A),this.container.append(A),this.container}}class iR extends hs{constructor(e){const{data:t,elements:n}=e;super(e,{isRenderable:hs._hasPopupData(t)}),this.elements=n,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new jBe({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const n of this.elements)n.popup=e,n.container.ariaHasPopup="dialog",t.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(n=>`${WO}${n}`).join(",")),this.container}}var gB,GI,zI,mB,vB,Li,op,yB,XE,YE,wB,ap,Eh,lp,JE,up,ZE,py,gy,QA,dF,sR,Tq,Qq,Lq,Nq,pF,gF,oR;class jBe{constructor({container:e,color:t,elements:n,titleObj:A,modificationDate:i,contentsObj:s,richText:o,parent:a,rect:u,parentRect:l,open:c}){Be(this,QA);Be(this,gB,be(this,QA,Lq).bind(this));Be(this,GI,be(this,QA,oR).bind(this));Be(this,zI,be(this,QA,gF).bind(this));Be(this,mB,be(this,QA,pF).bind(this));Be(this,vB,null);Be(this,Li,null);Be(this,op,null);Be(this,yB,null);Be(this,XE,null);Be(this,YE,null);Be(this,wB,null);Be(this,ap,!1);Be(this,Eh,null);Be(this,lp,null);Be(this,JE,null);Be(this,up,null);Be(this,ZE,null);Be(this,py,null);Be(this,gy,!1);var h;he(this,Li,e),he(this,ZE,A),he(this,op,s),he(this,up,o),he(this,YE,a),he(this,vB,t),he(this,JE,u),he(this,wB,l),he(this,XE,n),he(this,yB,fU.toDateObject(i)),this.trigger=n.flatMap(d=>d.getElementsToTriggerPopup());for(const d of this.trigger)d.addEventListener("click",C(this,mB)),d.addEventListener("mouseenter",C(this,zI)),d.addEventListener("mouseleave",C(this,GI)),d.classList.add("popupTriggerArea");for(const d of n)(h=d.container)==null||h.addEventListener("keydown",C(this,gB));C(this,Li).hidden=!0,c&&be(this,QA,pF).call(this)}render(){if(C(this,Eh))return;const e=he(this,Eh,document.createElement("div"));if(e.className="popup",C(this,vB)){const i=e.style.outlineColor=Ur.makeHexColor(...C(this,vB));e.style.backgroundColor=`color-mix(in srgb, ${i} 30%, white)`}const t=document.createElement("span");t.className="header";const n=document.createElement("h1");if(t.append(n),{dir:n.dir,str:n.textContent}=C(this,ZE),e.append(t),C(this,yB)){const i=document.createElement("span");i.classList.add("popupDate"),i.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),i.setAttribute("data-l10n-args",JSON.stringify({dateObj:C(this,yB).valueOf()})),t.append(i)}const A=C(this,QA,dF);if(A)tk.render({xfaHtml:A,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const i=this._formatContents(C(this,op));e.append(i)}C(this,Li).append(e)}_formatContents({str:e,dir:t}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=t;const A=e.split(/(?:\r\n?|\n)/);for(let i=0,s=A.length;i<s;++i){const o=A[i];n.append(document.createTextNode(o)),i<s-1&&n.append(document.createElement("br"))}return n}updateEdited({rect:e,popupContent:t}){var n;C(this,py)||he(this,py,{contentsObj:C(this,op),richText:C(this,up)}),e&&he(this,lp,null),t&&(he(this,up,be(this,QA,Qq).call(this,t)),he(this,op,null)),(n=C(this,Eh))==null||n.remove(),he(this,Eh,null)}resetEdited(){var e;C(this,py)&&({contentsObj:Al(this,op)._,richText:Al(this,up)._}=C(this,py),he(this,py,null),(e=C(this,Eh))==null||e.remove(),he(this,Eh,null),he(this,lp,null))}forceHide(){he(this,gy,this.isVisible),C(this,gy)&&(C(this,Li).hidden=!0)}maybeShow(){C(this,gy)&&(C(this,Eh)||be(this,QA,gF).call(this),he(this,gy,!1),C(this,Li).hidden=!1)}get isVisible(){return C(this,Li).hidden===!1}}gB=new WeakMap,GI=new WeakMap,zI=new WeakMap,mB=new WeakMap,vB=new WeakMap,Li=new WeakMap,op=new WeakMap,yB=new WeakMap,XE=new WeakMap,YE=new WeakMap,wB=new WeakMap,ap=new WeakMap,Eh=new WeakMap,lp=new WeakMap,JE=new WeakMap,up=new WeakMap,ZE=new WeakMap,py=new WeakMap,gy=new WeakMap,QA=new WeakSet,dF=function(){const e=C(this,up),t=C(this,op);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&C(this,up).html||null},sR=function(){var e,t,n;return((n=(t=(e=C(this,QA,dF))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.fontSize)||0},Tq=function(){var e,t,n;return((n=(t=(e=C(this,QA,dF))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.color)||null},Qq=function(e){const t=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},A={style:{color:C(this,QA,Tq),fontSize:C(this,QA,sR)?`calc(${C(this,QA,sR)}px * var(--total-scale-factor))`:""}};for(const i of e.split(`
`))t.push({name:"span",value:i,attributes:A});return n},Lq=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&C(this,ap))&&be(this,QA,pF).call(this)},Nq=function(){if(C(this,lp)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:A,pageY:i}}}=C(this,YE);let s=!!C(this,wB),o=s?C(this,wB):C(this,JE);for(const m of C(this,XE))if(!o||Ur.intersect(m.data.rect,o)!==null){o=m.data.rect,s=!0;break}const a=Ur.normalizeRect([o[0],e[3]-o[1]+e[1],o[2],e[3]-o[3]+e[1]]),l=s?o[2]-o[0]+5:0,c=a[0]+l,h=a[1];he(this,lp,[100*(c-A)/t,100*(h-i)/n]);const{style:d}=C(this,Li);d.left=`${C(this,lp)[0]}%`,d.top=`${C(this,lp)[1]}%`},pF=function(){he(this,ap,!C(this,ap)),C(this,ap)?(be(this,QA,gF).call(this),C(this,Li).addEventListener("click",C(this,mB)),C(this,Li).addEventListener("keydown",C(this,gB))):(be(this,QA,oR).call(this),C(this,Li).removeEventListener("click",C(this,mB)),C(this,Li).removeEventListener("keydown",C(this,gB)))},gF=function(){C(this,Eh)||this.render(),this.isVisible?C(this,ap)&&C(this,Li).classList.add("focused"):(be(this,QA,Nq).call(this),C(this,Li).hidden=!1,C(this,Li).style.zIndex=parseInt(C(this,Li).style.zIndex)+1e3)},oR=function(){C(this,Li).classList.remove("focused"),!(C(this,ap)||!this.isVisible)&&(C(this,Li).hidden=!0,C(this,Li).style.zIndex=parseInt(C(this,Li).style.zIndex)-1e3)};class Rq extends hs{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=$r.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var e_;class VBe extends hs{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});Be(this,e_,null)}render(){this.container.classList.add("lineAnnotation");const{data:t,width:n,height:A}=this,i=this.svgFactory.create(n,A,!0),s=he(this,e_,this.svgFactory.createElement("svg:line"));return s.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),s.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),s.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),s.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),s.setAttribute("stroke-width",t.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),i.append(s),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return C(this,e_)}addHighlightArea(){this.container.classList.add("highlightArea")}}e_=new WeakMap;var t_;class KBe extends hs{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});Be(this,t_,null)}render(){this.container.classList.add("squareAnnotation");const{data:t,width:n,height:A}=this,i=this.svgFactory.create(n,A,!0),s=t.borderStyle.width,o=he(this,t_,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",s/2),o.setAttribute("y",s/2),o.setAttribute("width",n-s),o.setAttribute("height",A-s),o.setAttribute("stroke-width",s||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),i.append(o),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return C(this,t_)}addHighlightArea(){this.container.classList.add("highlightArea")}}t_=new WeakMap;var r_;class GBe extends hs{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});Be(this,r_,null)}render(){this.container.classList.add("circleAnnotation");const{data:t,width:n,height:A}=this,i=this.svgFactory.create(n,A,!0),s=t.borderStyle.width,o=he(this,r_,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",n/2),o.setAttribute("cy",A/2),o.setAttribute("rx",n/2-s/2),o.setAttribute("ry",A/2-s/2),o.setAttribute("stroke-width",s||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),i.append(o),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return C(this,r_)}addHighlightArea(){this.container.classList.add("highlightArea")}}r_=new WeakMap;var n_;class Pq extends hs{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});Be(this,n_,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:n,borderStyle:A,popupRef:i},width:s,height:o}=this;if(!n)return this.container;const a=this.svgFactory.create(s,o,!0);let u=[];for(let c=0,h=n.length;c<h;c+=2){const d=n[c]-t[0],m=t[3]-n[c+1];u.push(`${d},${m}`)}u=u.join(" ");const l=he(this,n_,this.svgFactory.createElement(this.svgElementName));return l.setAttribute("points",u),l.setAttribute("stroke-width",A.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),a.append(l),this.container.append(a),!i&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return C(this,n_)}addHighlightArea(){this.container.classList.add("highlightArea")}}n_=new WeakMap;class zBe extends Pq{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class qBe extends hs{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var A_,my,i_,aR;class rk extends hs{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});Be(this,i_);Be(this,A_,null);Be(this,my,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?$r.HIGHLIGHT:$r.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:n,inkLists:A,borderStyle:i,popupRef:s}}=this,{transform:o,width:a,height:u}=be(this,i_,aR).call(this,n,t),l=this.svgFactory.create(a,u,!0),c=he(this,A_,this.svgFactory.createElement("svg:g"));l.append(c),c.setAttribute("stroke-width",i.width||1),c.setAttribute("stroke-linecap","round"),c.setAttribute("stroke-linejoin","round"),c.setAttribute("stroke-miterlimit",10),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),c.setAttribute("transform",o);for(let h=0,d=A.length;h<d;h++){const m=this.svgFactory.createElement(this.svgElementName);C(this,my).push(m),m.setAttribute("points",A[h].join(",")),c.append(m)}return!s&&this.hasPopupData&&this._createPopup(),this.container.append(l),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:n,points:A,rect:i}=t,s=C(this,A_);if(n>=0&&s.setAttribute("stroke-width",n||1),A)for(let o=0,a=C(this,my).length;o<a;o++)C(this,my)[o].setAttribute("points",A[o].join(","));if(i){const{transform:o,width:a,height:u}=be(this,i_,aR).call(this,this.data.rotation,i);s.parentElement.setAttribute("viewBox",`0 0 ${a} ${u}`),s.setAttribute("transform",o)}}getElementsToTriggerPopup(){return C(this,my)}addHighlightArea(){this.container.classList.add("highlightArea")}}A_=new WeakMap,my=new WeakMap,i_=new WeakSet,aR=function(t,n){switch(t){case 90:return{transform:`rotate(90) translate(${-n[0]},${n[1]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};case 180:return{transform:`rotate(180) translate(${-n[2]},${n[1]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]};case 270:return{transform:`rotate(270) translate(${-n[2]},${n[3]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};default:return{transform:`translate(${-n[0]},${n[3]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]}}};class Oq extends hs{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=$r.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class WBe extends hs{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class $Be extends hs{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class XBe extends hs{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class kq extends hs{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=$r.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var s_,o_,lR;class YBe extends hs{constructor(t){var A;super(t,{isRenderable:!0});Be(this,o_);Be(this,s_,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,(A=this.linkService.eventBus)==null||A.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:n}=this;let A;n.hasAppearance||n.fillAlpha===0?A=document.createElement("div"):(A=document.createElement("img"),A.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(A.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),A.addEventListener("dblclick",be(this,o_,lR).bind(this)),he(this,s_,A);const{isMac:i}=_o.platform;return t.addEventListener("keydown",s=>{s.key==="Enter"&&(i?s.metaKey:s.ctrlKey)&&be(this,o_,lR).call(this)}),!n.popupRef&&this.hasPopupData?this._createPopup():A.classList.add("popupTriggerArea"),t.append(A),t}getElementsToTriggerPopup(){return C(this,s_)}addHighlightArea(){this.container.classList.add("highlightArea")}}s_=new WeakMap,o_=new WeakSet,lR=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var a_,vy,$g,l_,jm,uR,cR,BB;let nk=(BB=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:n,annotationEditorUIManager:A,page:i,viewport:s,structTreeLayer:o}){Be(this,jm);Be(this,a_,null);Be(this,vy,null);Be(this,$g,new Map);Be(this,l_,null);this.div=e,he(this,a_,t),he(this,vy,n),he(this,l_,o||null),this.page=i,this.viewport=s,this.zIndex=0,this._annotationEditorUIManager=A}hasEditableAnnotations(){return C(this,$g).size>0}async render(e){var s;const{annotations:t}=e,n=this.div;km(n,this.viewport);const A=new Map,i={data:null,layer:n,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new tE,annotationStorage:e.annotationStorage||new XO,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const o of t){if(o.noHTML)continue;const a=o.annotationType===rs.POPUP;if(a){const c=A.get(o.id);if(!c)continue;i.elements=c}else if(o.rect[2]===o.rect[0]||o.rect[3]===o.rect[1])continue;i.data=o;const u=o8.create(i);if(!u.isRenderable)continue;if(!a&&o.popupRef){const c=A.get(o.popupRef);c?c.push(u):A.set(o.popupRef,[u])}const l=u.render();o.hidden&&(l.style.visibility="hidden"),await be(this,jm,uR).call(this,l,o.id),u._isEditable&&(C(this,$g).set(u.data.id,u),(s=this._annotationEditorUIManager)==null||s.renderAnnotationElement(u))}be(this,jm,cR).call(this)}async addLinkAnnotations(e,t){const n={data:null,layer:this.div,linkService:t,svgFactory:new tE,parent:this};for(const A of e){A.borderStyle||(A.borderStyle=BB._defaultBorderStyle),n.data=A;const i=o8.create(n);if(!i.isRenderable)continue;const s=i.render();await be(this,jm,uR).call(this,s,A.id)}}update({viewport:e}){const t=this.div;this.viewport=e,km(t,{rotation:e.rotation}),be(this,jm,cR).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(C(this,$g).values())}getEditableAnnotation(e){return C(this,$g).get(e)}static get _defaultBorderStyle(){return En(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:h0.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}},a_=new WeakMap,vy=new WeakMap,$g=new WeakMap,l_=new WeakMap,jm=new WeakSet,uR=async function(e,t){var s,o;const n=e.firstChild||e,A=n.id=`${WO}${t}`,i=await((s=C(this,l_))==null?void 0:s.getAriaAttributes(A));if(i)for(const[a,u]of i)n.setAttribute(a,u);this.div.append(e),(o=C(this,a_))==null||o.moveElementInDOM(this.div,e,n,!1)},cR=function(){var t;if(!C(this,vy))return;const e=this.div;for(const[n,A]of C(this,vy)){const i=e.querySelector(`[data-annotation-id="${n}"]`);if(!i)continue;A.className="annotationContent";const{firstChild:s}=i;s?s.nodeName==="CANVAS"?s.replaceWith(A):s.classList.contains("annotationContent")?s.after(A):s.before(A):i.append(A);const o=C(this,$g).get(n);o&&(o._hasNoCanvas?((t=this._annotationEditorUIManager)==null||t.setMissingCanvas(n,i.id,A),o._hasNoCanvas=!1):o.canvas=A)}C(this,vy).clear()},BB);const FS=/\r\n?|\n/g;var _h,Qu,u_,yy,Lu,Us,Dq,Mq,Hq,mF,Fp,vF,yF,jq,fR,Vq;const WA=class WA extends YA{constructor(t){super({...t,name:"freeTextEditor"});Be(this,Us);Be(this,_h);Be(this,Qu,"");Be(this,u_,`${this.id}-editor`);Be(this,yy,null);Be(this,Lu);he(this,_h,t.color||WA._defaultColor||YA._defaultLineColor),he(this,Lu,t.fontSize||WA._defaultFontSize)}static get _keyboardManager(){const t=WA.prototype,n=s=>s.isEmpty(),A=Dm.TRANSLATE_SMALL,i=Dm.TRANSLATE_BIG;return En(this,"_keyboardManager",new e2([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-A,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:n}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[A,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[i,0],checker:n}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-A],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:n}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,A],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,i],checker:n}]]))}static initialize(t,n){YA.initialize(t,n);const A=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(A.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,n){switch(t){case Qn.FREETEXT_SIZE:WA._defaultFontSize=n;break;case Qn.FREETEXT_COLOR:WA._defaultColor=n;break}}updateParams(t,n){switch(t){case Qn.FREETEXT_SIZE:be(this,Us,Dq).call(this,n);break;case Qn.FREETEXT_COLOR:be(this,Us,Mq).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Qn.FREETEXT_SIZE,WA._defaultFontSize],[Qn.FREETEXT_COLOR,WA._defaultColor||YA._defaultLineColor]]}get propertiesToUpdate(){return[[Qn.FREETEXT_SIZE,C(this,Lu)],[Qn.FREETEXT_COLOR,C(this,_h)]]}_translateEmpty(t,n){this._uiManager.translateSelectedEditors(t,n,!0)}getInitialTranslation(){const t=this.parentScale;return[-WA._internalPadding*t,-(WA._internalPadding+C(this,Lu))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),he(this,yy,new AbortController);const t=this._uiManager.combinedSignal(C(this,yy));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){var t;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",C(this,u_)),this._isDraggable=!0,(t=C(this,yy))==null||t.abort(),he(this,yy,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){var n;this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),(n=this._initialOptions)!=null&&n.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=C(this,Qu),n=he(this,Qu,be(this,Us,Hq).call(this).trimEnd());if(t===n)return;const A=i=>{if(he(this,Qu,i),!i){this.remove();return}be(this,Us,yF).call(this),this._uiManager.rebuild(this),be(this,Us,mF).call(this)};this.addCommands({cmd:()=>{A(n)},undo:()=>{A(t)},mustExec:!1}),be(this,Us,mF).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){WA._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,n;(this._isCopy||this.annotationElementId)&&(t=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",C(this,u_)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:A}=this.editorDiv;if(A.fontSize=`calc(${C(this,Lu)}px * var(--total-scale-factor))`,A.color=C(this,_h),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[i,s]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[a,u]=this.getInitialTranslation();[a,u]=this.pageTranslationToScreen(a,u);const[l,c]=this.pageDimensions,[h,d]=this.pageTranslation;let m,g;switch(this.rotation){case 0:m=t+(o[0]-h)/l,g=n+this.height-(o[1]-d)/c;break;case 90:m=t+(o[0]-h)/l,g=n-(o[1]-d)/c,[a,u]=[u,-a];break;case 180:m=t-this.width+(o[0]-h)/l,g=n-(o[1]-d)/c,[a,u]=[-a,-u];break;case 270:m=t+(o[0]-h-this.height*c)/l,g=n+(o[1]-d-this.width*l)/c,[a,u]=[-u,a];break}this.setAt(m*i,g*s,a,u)}else this._moveAfterPaste(t,n);be(this,Us,yF).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var m,g,y;const n=t.clipboardData||window.clipboardData,{types:A}=n;if(A.length===1&&A[0]==="text/plain")return;t.preventDefault();const i=be(m=WA,Fp,fR).call(m,n.getData("text")||"").replaceAll(FS,`
`);if(!i)return;const s=window.getSelection();if(!s.rangeCount)return;this.editorDiv.normalize(),s.deleteFromDocument();const o=s.getRangeAt(0);if(!i.includes(`
`)){o.insertNode(document.createTextNode(i)),this.editorDiv.normalize(),s.collapseToStart();return}const{startContainer:a,startOffset:u}=o,l=[],c=[];if(a.nodeType===Node.TEXT_NODE){const v=a.parentElement;if(c.push(a.nodeValue.slice(u).replaceAll(FS,"")),v!==this.editorDiv){let w=l;for(const b of this.editorDiv.childNodes){if(b===v){w=c;continue}w.push(be(g=WA,Fp,vF).call(g,b))}}l.push(a.nodeValue.slice(0,u).replaceAll(FS,""))}else if(a===this.editorDiv){let v=l,w=0;for(const b of this.editorDiv.childNodes)w++===u&&(v=c),v.push(be(y=WA,Fp,vF).call(y,b))}he(this,Qu,`${l.join(`
`)}${i}${c.join(`
`)}`),be(this,Us,yF).call(this);const h=new Range;let d=Math.sumPrecise(l.map(v=>v.length));for(const{firstChild:v}of this.editorDiv.childNodes)if(v.nodeType===Node.TEXT_NODE){const w=v.nodeValue.length;if(d<=w){h.setStart(v,d),h.setEnd(v,d);break}d-=w}s.removeAllRanges(),s.addRange(h)}get contentDiv(){return this.editorDiv}static async deserialize(t,n,A){var o;let i=null;if(t instanceof Rq){const{data:{defaultAppearanceData:{fontSize:a,fontColor:u},rect:l,rotation:c,id:h,popupRef:d},textContent:m,textPosition:g,parent:{page:{pageNumber:y}}}=t;if(!m||m.length===0)return null;i=t={annotationType:$r.FREETEXT,color:Array.from(u),fontSize:a,value:m.join(`
`),position:g,pageIndex:y-1,rect:l.slice(0),rotation:c,id:h,deleted:!1,popupRef:d}}const s=await super.deserialize(t,n,A);return he(s,Lu,t.fontSize),he(s,_h,Ur.makeHexColor(...t.color)),he(s,Qu,be(o=WA,Fp,fR).call(o,t.value)),s.annotationElementId=t.id||null,s._initialData=i,s}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=WA._internalPadding*this.parentScale,A=this.getRect(n,n),i=YA._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:C(this,_h)),s={annotationType:$r.FREETEXT,color:i,fontSize:C(this,Lu),value:be(this,Us,jq).call(this),pageIndex:this.pageIndex,rect:A,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(s.isCopy=!0,s):this.annotationElementId&&!be(this,Us,Vq).call(this,s)?null:(s.id=this.annotationElementId,s)}renderAnnotationElement(t){const n=super.renderAnnotationElement(t);if(this.deleted)return n;const{style:A}=n;A.fontSize=`calc(${C(this,Lu)}px * var(--total-scale-factor))`,A.color=C(this,_h),n.replaceChildren();for(const s of C(this,Qu).split(`
`)){const o=document.createElement("div");o.append(s?document.createTextNode(s):document.createElement("br")),n.append(o)}const i=WA._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(i,i),popupContent:C(this,Qu)}),n}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};_h=new WeakMap,Qu=new WeakMap,u_=new WeakMap,yy=new WeakMap,Lu=new WeakMap,Us=new WeakSet,Dq=function(t){const n=i=>{this.editorDiv.style.fontSize=`calc(${i}px * var(--total-scale-factor))`,this.translate(0,-(i-C(this,Lu))*this.parentScale),he(this,Lu,i),be(this,Us,mF).call(this)},A=C(this,Lu);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,A),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Qn.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Mq=function(t){const n=i=>{he(this,_h,this.editorDiv.style.color=i)},A=C(this,_h);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,A),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Qn.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Hq=function(){var A;const t=[];this.editorDiv.normalize();let n=null;for(const i of this.editorDiv.childNodes)(n==null?void 0:n.nodeType)===Node.TEXT_NODE&&i.nodeName==="BR"||(t.push(be(A=WA,Fp,vF).call(A,i)),n=i);return t.join(`
`)},mF=function(){const[t,n]=this.parentDimensions;let A;if(this.isAttachedToDOM)A=this.div.getBoundingClientRect();else{const{currentLayer:i,div:s}=this,o=s.style.display,a=s.classList.contains("hidden");s.classList.remove("hidden"),s.style.display="hidden",i.div.append(this.div),A=s.getBoundingClientRect(),s.remove(),s.style.display=o,s.classList.toggle("hidden",a)}this.rotation%180===this.parentRotation%180?(this.width=A.width/t,this.height=A.height/n):(this.width=A.height/t,this.height=A.width/n),this.fixAndSetPosition()},Fp=new WeakSet,vF=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(FS,"")},yF=function(){if(this.editorDiv.replaceChildren(),!!C(this,Qu))for(const t of C(this,Qu).split(`
`)){const n=document.createElement("div");n.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(n)}},jq=function(){return C(this,Qu).replaceAll(""," ")},fR=function(t){return t.replaceAll(" ","")},Vq=function(t){const{value:n,fontSize:A,color:i,pageIndex:s}=this._initialData;return this._hasBeenMoved||t.value!==n||t.fontSize!==A||t.color.some((o,a)=>o!==i[a])||t.pageIndex!==s},Be(WA,Fp),qt(WA,"_freeTextDefaultContent",""),qt(WA,"_internalPadding",0),qt(WA,"_defaultColor",null),qt(WA,"_defaultFontSize",10),qt(WA,"_type","freetext"),qt(WA,"_editorType",$r.FREETEXT);let hR=WA;class mr{toSVGPath(){TA("Abstract method `toSVGPath` must be implemented.")}get box(){TA("Abstract getter `box` must be implemented.")}serialize(e,t){TA("Abstract method `serialize` must be implemented.")}static _rescale(e,t,n,A,i,s){s||(s=new Float32Array(e.length));for(let o=0,a=e.length;o<a;o+=2)s[o]=t+e[o]*A,s[o+1]=n+e[o+1]*i;return s}static _rescaleAndSwap(e,t,n,A,i,s){s||(s=new Float32Array(e.length));for(let o=0,a=e.length;o<a;o+=2)s[o]=t+e[o+1]*A,s[o+1]=n+e[o]*i;return s}static _translate(e,t,n,A){A||(A=new Float32Array(e.length));for(let i=0,s=e.length;i<s;i+=2)A[i]=t+e[i],A[i+1]=n+e[i+1];return A}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,n,A,i){switch(i){case 90:return[1-t/n,e/A];case 180:return[1-e/n,1-t/A];case 270:return[t/n,1-e/A];default:return[e/n,t/A]}}static _normalizePagePoint(e,t,n){switch(n){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,n,A,i,s){return[(e+5*n)/6,(t+5*A)/6,(5*n+i)/6,(5*A+s)/6,(n+i)/2,(A+s)/2]}}qt(mr,"PRECISION",1e-4);var Nu,Sh,CB,bB,Of,mn,wy,By,c_,h_,EB,_B,Xg,f_,qI,WI,eo,tb,Kq,Gq,zq,qq,Wq,$q;const Vd=class Vd{constructor({x:e,y:t},n,A,i,s,o=0){Be(this,eo);Be(this,Nu);Be(this,Sh,[]);Be(this,CB);Be(this,bB);Be(this,Of,[]);Be(this,mn,new Float32Array(18));Be(this,wy);Be(this,By);Be(this,c_);Be(this,h_);Be(this,EB);Be(this,_B);Be(this,Xg,[]);he(this,Nu,n),he(this,_B,i*A),he(this,bB,s),C(this,mn).set([NaN,NaN,NaN,NaN,e,t],6),he(this,CB,o),he(this,h_,C(Vd,f_)*A),he(this,c_,C(Vd,WI)*A),he(this,EB,A),C(this,Xg).push(e,t)}isEmpty(){return isNaN(C(this,mn)[8])}add({x:e,y:t}){var k;he(this,wy,e),he(this,By,t);const[n,A,i,s]=C(this,Nu);let[o,a,u,l]=C(this,mn).subarray(8,12);const c=e-u,h=t-l,d=Math.hypot(c,h);if(d<C(this,c_))return!1;const m=d-C(this,h_),g=m/d,y=g*c,v=g*h;let w=o,b=a;o=u,a=l,u+=y,l+=v,(k=C(this,Xg))==null||k.push(e,t);const B=-v/m,F=y/m,N=B*C(this,_B),T=F*C(this,_B);return C(this,mn).set(C(this,mn).subarray(2,8),0),C(this,mn).set([u+N,l+T],4),C(this,mn).set(C(this,mn).subarray(14,18),12),C(this,mn).set([u-N,l-T],16),isNaN(C(this,mn)[6])?(C(this,Of).length===0&&(C(this,mn).set([o+N,a+T],2),C(this,Of).push(NaN,NaN,NaN,NaN,(o+N-n)/i,(a+T-A)/s),C(this,mn).set([o-N,a-T],14),C(this,Sh).push(NaN,NaN,NaN,NaN,(o-N-n)/i,(a-T-A)/s)),C(this,mn).set([w,b,o,a,u,l],6),!this.isEmpty()):(C(this,mn).set([w,b,o,a,u,l],6),Math.abs(Math.atan2(b-a,w-o)-Math.atan2(v,y))<Math.PI/2?([o,a,u,l]=C(this,mn).subarray(2,6),C(this,Of).push(NaN,NaN,NaN,NaN,((o+u)/2-n)/i,((a+l)/2-A)/s),[o,a,w,b]=C(this,mn).subarray(14,18),C(this,Sh).push(NaN,NaN,NaN,NaN,((w+o)/2-n)/i,((b+a)/2-A)/s),!0):([w,b,o,a,u,l]=C(this,mn).subarray(0,6),C(this,Of).push(((w+5*o)/6-n)/i,((b+5*a)/6-A)/s,((5*o+u)/6-n)/i,((5*a+l)/6-A)/s,((o+u)/2-n)/i,((a+l)/2-A)/s),[u,l,o,a,w,b]=C(this,mn).subarray(12,18),C(this,Sh).push(((w+5*o)/6-n)/i,((b+5*a)/6-A)/s,((5*o+u)/6-n)/i,((5*a+l)/6-A)/s,((o+u)/2-n)/i,((a+l)/2-A)/s),!0))}toSVGPath(){if(this.isEmpty())return"";const e=C(this,Of),t=C(this,Sh);if(isNaN(C(this,mn)[6])&&!this.isEmpty())return be(this,eo,Kq).call(this);const n=[];n.push(`M${e[4]} ${e[5]}`);for(let A=6;A<e.length;A+=6)isNaN(e[A])?n.push(`L${e[A+4]} ${e[A+5]}`):n.push(`C${e[A]} ${e[A+1]} ${e[A+2]} ${e[A+3]} ${e[A+4]} ${e[A+5]}`);be(this,eo,zq).call(this,n);for(let A=t.length-6;A>=6;A-=6)isNaN(t[A])?n.push(`L${t[A+4]} ${t[A+5]}`):n.push(`C${t[A]} ${t[A+1]} ${t[A+2]} ${t[A+3]} ${t[A+4]} ${t[A+5]}`);return be(this,eo,Gq).call(this,n),n.join(" ")}newFreeDrawOutline(e,t,n,A,i,s){return new Xq(e,t,n,A,i,s)}getOutlines(){var c;const e=C(this,Of),t=C(this,Sh),n=C(this,mn),[A,i,s,o]=C(this,Nu),a=new Float32Array((((c=C(this,Xg))==null?void 0:c.length)??0)+2);for(let h=0,d=a.length-2;h<d;h+=2)a[h]=(C(this,Xg)[h]-A)/s,a[h+1]=(C(this,Xg)[h+1]-i)/o;if(a[a.length-2]=(C(this,wy)-A)/s,a[a.length-1]=(C(this,By)-i)/o,isNaN(n[6])&&!this.isEmpty())return be(this,eo,qq).call(this,a);const u=new Float32Array(C(this,Of).length+24+C(this,Sh).length);let l=e.length;for(let h=0;h<l;h+=2){if(isNaN(e[h])){u[h]=u[h+1]=NaN;continue}u[h]=e[h],u[h+1]=e[h+1]}l=be(this,eo,$q).call(this,u,l);for(let h=t.length-6;h>=6;h-=6)for(let d=0;d<6;d+=2){if(isNaN(t[h+d])){u[l]=u[l+1]=NaN,l+=2;continue}u[l]=t[h+d],u[l+1]=t[h+d+1],l+=2}return be(this,eo,Wq).call(this,u,l),this.newFreeDrawOutline(u,a,C(this,Nu),C(this,EB),C(this,CB),C(this,bB))}};Nu=new WeakMap,Sh=new WeakMap,CB=new WeakMap,bB=new WeakMap,Of=new WeakMap,mn=new WeakMap,wy=new WeakMap,By=new WeakMap,c_=new WeakMap,h_=new WeakMap,EB=new WeakMap,_B=new WeakMap,Xg=new WeakMap,f_=new WeakMap,qI=new WeakMap,WI=new WeakMap,eo=new WeakSet,tb=function(){const e=C(this,mn).subarray(4,6),t=C(this,mn).subarray(16,18),[n,A,i,s]=C(this,Nu);return[(C(this,wy)+(e[0]-t[0])/2-n)/i,(C(this,By)+(e[1]-t[1])/2-A)/s,(C(this,wy)+(t[0]-e[0])/2-n)/i,(C(this,By)+(t[1]-e[1])/2-A)/s]},Kq=function(){const[e,t,n,A]=C(this,Nu),[i,s,o,a]=be(this,eo,tb).call(this);return`M${(C(this,mn)[2]-e)/n} ${(C(this,mn)[3]-t)/A} L${(C(this,mn)[4]-e)/n} ${(C(this,mn)[5]-t)/A} L${i} ${s} L${o} ${a} L${(C(this,mn)[16]-e)/n} ${(C(this,mn)[17]-t)/A} L${(C(this,mn)[14]-e)/n} ${(C(this,mn)[15]-t)/A} Z`},Gq=function(e){const t=C(this,Sh);e.push(`L${t[4]} ${t[5]} Z`)},zq=function(e){const[t,n,A,i]=C(this,Nu),s=C(this,mn).subarray(4,6),o=C(this,mn).subarray(16,18),[a,u,l,c]=be(this,eo,tb).call(this);e.push(`L${(s[0]-t)/A} ${(s[1]-n)/i} L${a} ${u} L${l} ${c} L${(o[0]-t)/A} ${(o[1]-n)/i}`)},qq=function(e){const t=C(this,mn),[n,A,i,s]=C(this,Nu),[o,a,u,l]=be(this,eo,tb).call(this),c=new Float32Array(36);return c.set([NaN,NaN,NaN,NaN,(t[2]-n)/i,(t[3]-A)/s,NaN,NaN,NaN,NaN,(t[4]-n)/i,(t[5]-A)/s,NaN,NaN,NaN,NaN,o,a,NaN,NaN,NaN,NaN,u,l,NaN,NaN,NaN,NaN,(t[16]-n)/i,(t[17]-A)/s,NaN,NaN,NaN,NaN,(t[14]-n)/i,(t[15]-A)/s],0),this.newFreeDrawOutline(c,e,C(this,Nu),C(this,EB),C(this,CB),C(this,bB))},Wq=function(e,t){const n=C(this,Sh);return e.set([NaN,NaN,NaN,NaN,n[4],n[5]],t),t+=6},$q=function(e,t){const n=C(this,mn).subarray(4,6),A=C(this,mn).subarray(16,18),[i,s,o,a]=C(this,Nu),[u,l,c,h]=be(this,eo,tb).call(this);return e.set([NaN,NaN,NaN,NaN,(n[0]-i)/o,(n[1]-s)/a,NaN,NaN,NaN,NaN,u,l,NaN,NaN,NaN,NaN,c,h,NaN,NaN,NaN,NaN,(A[0]-i)/o,(A[1]-s)/a],t),t+=24},Be(Vd,f_,8),Be(Vd,qI,2),Be(Vd,WI,C(Vd,f_)+C(Vd,qI));let FI=Vd;var SB,Cy,cp,d_,Ru,p_,As,$I,Yq;class Xq extends mr{constructor(t,n,A,i,s,o){super();Be(this,$I);Be(this,SB);Be(this,Cy,new Float32Array(4));Be(this,cp);Be(this,d_);Be(this,Ru);Be(this,p_);Be(this,As);he(this,As,t),he(this,Ru,n),he(this,SB,A),he(this,p_,i),he(this,cp,s),he(this,d_,o),this.lastPoint=[NaN,NaN],be(this,$I,Yq).call(this,o);const[a,u,l,c]=C(this,Cy);for(let h=0,d=t.length;h<d;h+=2)t[h]=(t[h]-a)/l,t[h+1]=(t[h+1]-u)/c;for(let h=0,d=n.length;h<d;h+=2)n[h]=(n[h]-a)/l,n[h+1]=(n[h+1]-u)/c}toSVGPath(){const t=[`M${C(this,As)[4]} ${C(this,As)[5]}`];for(let n=6,A=C(this,As).length;n<A;n+=6){if(isNaN(C(this,As)[n])){t.push(`L${C(this,As)[n+4]} ${C(this,As)[n+5]}`);continue}t.push(`C${C(this,As)[n]} ${C(this,As)[n+1]} ${C(this,As)[n+2]} ${C(this,As)[n+3]} ${C(this,As)[n+4]} ${C(this,As)[n+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,n,A,i],s){const o=A-t,a=i-n;let u,l;switch(s){case 0:u=mr._rescale(C(this,As),t,i,o,-a),l=mr._rescale(C(this,Ru),t,i,o,-a);break;case 90:u=mr._rescaleAndSwap(C(this,As),t,n,o,a),l=mr._rescaleAndSwap(C(this,Ru),t,n,o,a);break;case 180:u=mr._rescale(C(this,As),A,n,-o,a),l=mr._rescale(C(this,Ru),A,n,-o,a);break;case 270:u=mr._rescaleAndSwap(C(this,As),A,i,-o,-a),l=mr._rescaleAndSwap(C(this,Ru),A,i,-o,-a);break}return{outline:Array.from(u),points:[Array.from(l)]}}get box(){return C(this,Cy)}newOutliner(t,n,A,i,s,o=0){return new FI(t,n,A,i,s,o)}getNewOutline(t,n){const[A,i,s,o]=C(this,Cy),[a,u,l,c]=C(this,SB),h=s*l,d=o*c,m=A*l+a,g=i*c+u,y=this.newOutliner({x:C(this,Ru)[0]*h+m,y:C(this,Ru)[1]*d+g},C(this,SB),C(this,p_),t,C(this,d_),n??C(this,cp));for(let v=2;v<C(this,Ru).length;v+=2)y.add({x:C(this,Ru)[v]*h+m,y:C(this,Ru)[v+1]*d+g});return y.getOutlines()}}SB=new WeakMap,Cy=new WeakMap,cp=new WeakMap,d_=new WeakMap,Ru=new WeakMap,p_=new WeakMap,As=new WeakMap,$I=new WeakSet,Yq=function(t){const n=C(this,As);let A=n[4],i=n[5];const s=[A,i,A,i];let o=A,a=i;const u=t?Math.max:Math.min;for(let c=6,h=n.length;c<h;c+=6){const d=n[c+4],m=n[c+5];if(isNaN(n[c]))Ur.pointBoundingBox(d,m,s),a<m?(o=d,a=m):a===m&&(o=u(o,d));else{const g=[1/0,1/0,-1/0,-1/0];Ur.bezierBoundingBox(A,i,...n.slice(c,c+6),g),Ur.rectBoundingBox(...g,s),a<g[3]?(o=g[2],a=g[3]):a===g[3]&&(o=u(o,g[2]))}A=d,i=m}const l=C(this,Cy);l[0]=s[0]-C(this,cp),l[1]=s[1]-C(this,cp),l[2]=s[2]-s[0]+2*C(this,cp),l[3]=s[3]-s[1]+2*C(this,cp),this.lastPoint=[o,a]};var g_,m_,Yg,Fh,ml,Jq,wF,Zq,eW,pR;class dR{constructor(e,t=0,n=0,A=!0){Be(this,ml);Be(this,g_);Be(this,m_);Be(this,Yg,[]);Be(this,Fh,[]);const i=[1/0,1/0,-1/0,-1/0],s=10**-4;for(const{x:d,y:m,width:g,height:y}of e){const v=Math.floor((d-t)/s)*s,w=Math.ceil((d+g+t)/s)*s,b=Math.floor((m-t)/s)*s,B=Math.ceil((m+y+t)/s)*s,F=[v,b,B,!0],N=[w,b,B,!1];C(this,Yg).push(F,N),Ur.rectBoundingBox(v,b,w,B,i)}const o=i[2]-i[0]+2*n,a=i[3]-i[1]+2*n,u=i[0]-n,l=i[1]-n,c=C(this,Yg).at(A?-1:-2),h=[c[0],c[2]];for(const d of C(this,Yg)){const[m,g,y]=d;d[0]=(m-u)/o,d[1]=(g-l)/a,d[2]=(y-l)/a}he(this,g_,new Float32Array([u,l,o,a])),he(this,m_,h)}getOutlines(){C(this,Yg).sort((t,n)=>t[0]-n[0]||t[1]-n[1]||t[2]-n[2]);const e=[];for(const t of C(this,Yg))t[3]?(e.push(...be(this,ml,pR).call(this,t)),be(this,ml,Zq).call(this,t)):(be(this,ml,eW).call(this,t),e.push(...be(this,ml,pR).call(this,t)));return be(this,ml,Jq).call(this,e)}}g_=new WeakMap,m_=new WeakMap,Yg=new WeakMap,Fh=new WeakMap,ml=new WeakSet,Jq=function(e){const t=[],n=new Set;for(const s of e){const[o,a,u]=s;t.push([o,a,s],[o,u,s])}t.sort((s,o)=>s[1]-o[1]||s[0]-o[0]);for(let s=0,o=t.length;s<o;s+=2){const a=t[s][2],u=t[s+1][2];a.push(u),u.push(a),n.add(a),n.add(u)}const A=[];let i;for(;n.size>0;){const s=n.values().next().value;let[o,a,u,l,c]=s;n.delete(s);let h=o,d=a;for(i=[o,u],A.push(i);;){let m;if(n.has(l))m=l;else if(n.has(c))m=c;else break;n.delete(m),[o,a,u,l,c]=m,h!==o&&(i.push(h,d,o,d===a?a:u),h=o),d=d===a?u:a}i.push(h,d)}return new JBe(A,C(this,g_),C(this,m_))},wF=function(e){const t=C(this,Fh);let n=0,A=t.length-1;for(;n<=A;){const i=n+A>>1,s=t[i][0];if(s===e)return i;s<e?n=i+1:A=i-1}return A+1},Zq=function([,e,t]){const n=be(this,ml,wF).call(this,e);C(this,Fh).splice(n,0,[e,t])},eW=function([,e,t]){const n=be(this,ml,wF).call(this,e);for(let A=n;A<C(this,Fh).length;A++){const[i,s]=C(this,Fh)[A];if(i!==e)break;if(i===e&&s===t){C(this,Fh).splice(A,1);return}}for(let A=n-1;A>=0;A--){const[i,s]=C(this,Fh)[A];if(i!==e)break;if(i===e&&s===t){C(this,Fh).splice(A,1);return}}},pR=function(e){const[t,n,A]=e,i=[[t,n,A]],s=be(this,ml,wF).call(this,A);for(let o=0;o<s;o++){const[a,u]=C(this,Fh)[o];for(let l=0,c=i.length;l<c;l++){const[,h,d]=i[l];if(!(u<=h||d<=a)){if(h>=a){if(d>u)i[l][1]=u;else{if(c===1)return[];i.splice(l,1),l--,c--}continue}i[l][2]=a,d>u&&i.push([t,u,d])}}}return i};var v_,FB;class JBe extends mr{constructor(t,n,A){super();Be(this,v_);Be(this,FB);he(this,FB,t),he(this,v_,n),this.lastPoint=A}toSVGPath(){const t=[];for(const n of C(this,FB)){let[A,i]=n;t.push(`M${A} ${i}`);for(let s=2;s<n.length;s+=2){const o=n[s],a=n[s+1];o===A?(t.push(`V${a}`),i=a):a===i&&(t.push(`H${o}`),A=o)}t.push("Z")}return t.join(" ")}serialize([t,n,A,i],s){const o=[],a=A-t,u=i-n;for(const l of C(this,FB)){const c=new Array(l.length);for(let h=0;h<l.length;h+=2)c[h]=t+l[h]*a,c[h+1]=i-l[h+1]*u;o.push(c)}return o}get box(){return C(this,v_)}get classNamesForOutlining(){return["highlightOutline"]}}v_=new WeakMap,FB=new WeakMap;class gR extends FI{newFreeDrawOutline(e,t,n,A,i,s){return new ZBe(e,t,n,A,i,s)}}class ZBe extends Xq{newOutliner(e,t,n,A,i,s=0){return new gR(e,t,n,A,i,s)}}var Ih,by,IB,Ys,y_,xB,w_,B_,Jg,xh,UB,C_,xA,mR,vR,yR,Cv,tW,gg;const jl=class jl{constructor({editor:e=null,uiManager:t=null}){Be(this,xA);Be(this,Ih,null);Be(this,by,null);Be(this,IB);Be(this,Ys,null);Be(this,y_,!1);Be(this,xB,!1);Be(this,w_,null);Be(this,B_);Be(this,Jg,null);Be(this,xh,null);Be(this,UB);var n;e?(he(this,xB,!1),he(this,UB,Qn.HIGHLIGHT_COLOR),he(this,w_,e)):(he(this,xB,!0),he(this,UB,Qn.HIGHLIGHT_DEFAULT_COLOR)),he(this,xh,(e==null?void 0:e._uiManager)||t),he(this,B_,C(this,xh)._eventBus),he(this,IB,(e==null?void 0:e.color)||((n=C(this,xh))==null?void 0:n.highlightColors.values().next().value)||"#FFFF98"),C(jl,C_)||he(jl,C_,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return En(this,"_keyboardManager",new e2([[["Escape","mac+Escape"],jl.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],jl.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],jl.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],jl.prototype._moveToPrevious],[["Home","mac+Home"],jl.prototype._moveToBeginning],[["End","mac+End"],jl.prototype._moveToEnd]]))}renderButton(){const e=he(this,Ih,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=C(this,xh)._signal;e.addEventListener("click",be(this,xA,Cv).bind(this),{signal:t}),e.addEventListener("keydown",be(this,xA,yR).bind(this),{signal:t});const n=he(this,by,document.createElement("span"));return n.className="swatch",n.setAttribute("aria-hidden",!0),n.style.backgroundColor=C(this,IB),e.append(n),e}renderMainDropdown(){const e=he(this,Ys,be(this,xA,mR).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===C(this,Ih)){be(this,xA,Cv).call(this,e);return}const t=e.target.getAttribute("data-color");t&&be(this,xA,vR).call(this,t,e)}_moveToNext(e){var t,n;if(!C(this,xA,gg)){be(this,xA,Cv).call(this,e);return}if(e.target===C(this,Ih)){(t=C(this,Ys).firstChild)==null||t.focus();return}(n=e.target.nextSibling)==null||n.focus()}_moveToPrevious(e){var t,n;if(e.target===((t=C(this,Ys))==null?void 0:t.firstChild)||e.target===C(this,Ih)){C(this,xA,gg)&&this._hideDropdownFromKeyboard();return}C(this,xA,gg)||be(this,xA,Cv).call(this,e),(n=e.target.previousSibling)==null||n.focus()}_moveToBeginning(e){var t;if(!C(this,xA,gg)){be(this,xA,Cv).call(this,e);return}(t=C(this,Ys).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!C(this,xA,gg)){be(this,xA,Cv).call(this,e);return}(t=C(this,Ys).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=C(this,Ys))==null||e.classList.add("hidden"),(t=C(this,Jg))==null||t.abort(),he(this,Jg,null)}_hideDropdownFromKeyboard(){var e;if(!C(this,xB)){if(!C(this,xA,gg)){(e=C(this,w_))==null||e.unselect();return}this.hideDropdown(),C(this,Ih).focus({preventScroll:!0,focusVisible:C(this,y_)})}}updateColor(e){if(C(this,by)&&(C(this,by).style.backgroundColor=e),!C(this,Ys))return;const t=C(this,xh).highlightColors.values();for(const n of C(this,Ys).children)n.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;(e=C(this,Ih))==null||e.remove(),he(this,Ih,null),he(this,by,null),(t=C(this,Ys))==null||t.remove(),he(this,Ys,null)}};Ih=new WeakMap,by=new WeakMap,IB=new WeakMap,Ys=new WeakMap,y_=new WeakMap,xB=new WeakMap,w_=new WeakMap,B_=new WeakMap,Jg=new WeakMap,xh=new WeakMap,UB=new WeakMap,C_=new WeakMap,xA=new WeakSet,mR=function(){const e=document.createElement("div"),t=C(this,xh)._signal;e.addEventListener("contextmenu",kc,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[n,A]of C(this,xh).highlightColors){const i=document.createElement("button");i.tabIndex="0",i.role="option",i.setAttribute("data-color",A),i.title=n,i.setAttribute("data-l10n-id",C(jl,C_)[n]);const s=document.createElement("span");i.append(s),s.className="swatch",s.style.backgroundColor=A,i.setAttribute("aria-selected",A===C(this,IB)),i.addEventListener("click",be(this,xA,vR).bind(this,A),{signal:t}),e.append(i)}return e.addEventListener("keydown",be(this,xA,yR).bind(this),{signal:t}),e},vR=function(e,t){t.stopPropagation(),C(this,B_).dispatch("switchannotationeditorparams",{source:this,type:C(this,UB),value:e})},yR=function(e){jl._keyboardManager.exec(this,e)},Cv=function(e){if(C(this,xA,gg)){this.hideDropdown();return}if(he(this,y_,e.detail===0),C(this,Jg)||(he(this,Jg,new AbortController),window.addEventListener("pointerdown",be(this,xA,tW).bind(this),{signal:C(this,xh).combinedSignal(C(this,Jg))})),C(this,Ys)){C(this,Ys).classList.remove("hidden");return}const t=he(this,Ys,be(this,xA,mR).call(this));C(this,Ih).append(t)},tW=function(e){var t;(t=C(this,Ys))!=null&&t.contains(e.target)||this.hideDropdown()},gg=function(){return C(this,Ys)&&!C(this,Ys).classList.contains("hidden")},Be(jl,C_,null);let rE=jl;var TB,b_,hp,Ey,QB,Gl,E_,__,_y,Bc,Pu,Ko,LB,fp,Ua,NB,Cc,S_,An,wR,BF,rW,nW,AW,BR,bv,xc,m0,iW,CF,rb,sW,oW,aW,lW,uW;const sA=class sA extends YA{constructor(t){super({...t,name:"highlightEditor"});Be(this,An);Be(this,TB,null);Be(this,b_,0);Be(this,hp);Be(this,Ey,null);Be(this,QB,null);Be(this,Gl,null);Be(this,E_,null);Be(this,__,0);Be(this,_y,null);Be(this,Bc,null);Be(this,Pu,null);Be(this,Ko,!1);Be(this,LB,null);Be(this,fp);Be(this,Ua,null);Be(this,NB,"");Be(this,Cc);Be(this,S_,"");this.color=t.color||sA._defaultColor,he(this,Cc,t.thickness||sA._defaultThickness),he(this,fp,t.opacity||sA._defaultOpacity),he(this,hp,t.boxes||null),he(this,S_,t.methodOfCreation||""),he(this,NB,t.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(he(this,Ko,!0),be(this,An,BF).call(this,t),be(this,An,bv).call(this)):C(this,hp)&&(he(this,TB,t.anchorNode),he(this,b_,t.anchorOffset),he(this,E_,t.focusNode),he(this,__,t.focusOffset),be(this,An,wR).call(this),be(this,An,bv).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=sA.prototype;return En(this,"_keyboardManager",new e2([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:C(this,Ko)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:C(this,Cc),methodOfCreation:C(this,S_)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,n){var A;YA.initialize(t,n),sA._defaultColor||(sA._defaultColor=((A=n.highlightColors)==null?void 0:A.values().next().value)||"#fff066")}static updateDefaultParams(t,n){switch(t){case Qn.HIGHLIGHT_DEFAULT_COLOR:sA._defaultColor=n;break;case Qn.HIGHLIGHT_THICKNESS:sA._defaultThickness=n;break}}translateInPage(t,n){}get toolbarPosition(){return C(this,LB)}updateParams(t,n){switch(t){case Qn.HIGHLIGHT_COLOR:be(this,An,rW).call(this,n);break;case Qn.HIGHLIGHT_THICKNESS:be(this,An,nW).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Qn.HIGHLIGHT_DEFAULT_COLOR,sA._defaultColor],[Qn.HIGHLIGHT_THICKNESS,sA._defaultThickness]]}get propertiesToUpdate(){return[[Qn.HIGHLIGHT_COLOR,this.color||sA._defaultColor],[Qn.HIGHLIGHT_THICKNESS,C(this,Cc)||sA._defaultThickness],[Qn.HIGHLIGHT_FREE,C(this,Ko)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(he(this,QB,new rE({editor:this})),t.addColorPicker(C(this,QB))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(be(this,An,rb).call(this))}getBaseTranslation(){return[0,0]}getRect(t,n){return super.getRect(t,n,be(this,An,rb).call(this))}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){be(this,An,BR).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(be(this,An,bv).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var A;let n=!1;this.parent&&!t?be(this,An,BR).call(this):t&&(be(this,An,bv).call(this,t),n=!this.parent&&((A=this.div)==null?void 0:A.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),n&&this.select()}rotate(t){var i,s,o;const{drawLayer:n}=this.parent;let A;C(this,Ko)?(t=(t-this.rotation+360)%360,A=be(i=sA,xc,m0).call(i,C(this,Bc).box,t)):A=be(s=sA,xc,m0).call(s,[this.x,this.y,this.width,this.height],t),n.updateProperties(C(this,Pu),{bbox:A,root:{"data-main-rotation":t}}),n.updateProperties(C(this,Ua),{bbox:be(o=sA,xc,m0).call(o,C(this,Gl).box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();C(this,NB)&&(t.setAttribute("aria-label",C(this,NB)),t.setAttribute("role","mark")),C(this,Ko)?t.classList.add("free"):this.div.addEventListener("keydown",be(this,An,iW).bind(this),{signal:this._uiManager._signal});const n=he(this,_y,document.createElement("div"));t.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=C(this,Ey);const[A,i]=this.parentDimensions;return this.setDims(this.width*A,this.height*i),Uz(this,C(this,_y),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(C(this,Ua),{rootClass:{hovered:!0}})}pointerleave(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(C(this,Ua),{rootClass:{hovered:!1}})}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:be(this,An,CF).call(this,!0);break;case 1:case 3:be(this,An,CF).call(this,!1);break}}select(){var t;super.select(),C(this,Ua)&&((t=this.parent)==null||t.drawLayer.updateProperties(C(this,Ua),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var t;super.unselect(),C(this,Ua)&&((t=this.parent)==null||t.drawLayer.updateProperties(C(this,Ua),{rootClass:{selected:!1}}),C(this,Ko)||be(this,An,CF).call(this,!1))}get _mustFixPosition(){return!C(this,Ko)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(C(this,Pu),{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(C(this,Ua),{rootClass:{hidden:!t}}))}static startHighlighting(t,n,{target:A,x:i,y:s}){const{x:o,y:a,width:u,height:l}=A.getBoundingClientRect(),c=new AbortController,h=t.combinedSignal(c),d=m=>{c.abort(),be(this,xc,lW).call(this,t,m)};window.addEventListener("blur",d,{signal:h}),window.addEventListener("pointerup",d,{signal:h}),window.addEventListener("pointerdown",os,{capture:!0,passive:!1,signal:h}),window.addEventListener("contextmenu",kc,{signal:h}),A.addEventListener("pointermove",be(this,xc,aW).bind(this,t),{signal:h}),this._freeHighlight=new gR({x:i,y:s},[o,a,u,l],t.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(t,n,A){var g,y,v,w;let i=null;if(t instanceof Oq){const{data:{quadPoints:b,rect:B,rotation:F,id:N,color:T,opacity:U,popupRef:k},parent:{page:{pageNumber:D}}}=t;i=t={annotationType:$r.HIGHLIGHT,color:Array.from(T),opacity:U,quadPoints:b,boxes:null,pageIndex:D-1,rect:B.slice(0),rotation:F,id:N,deleted:!1,popupRef:k}}else if(t instanceof rk){const{data:{inkLists:b,rect:B,rotation:F,id:N,color:T,borderStyle:{rawWidth:U},popupRef:k},parent:{page:{pageNumber:D}}}=t;i=t={annotationType:$r.HIGHLIGHT,color:Array.from(T),thickness:U,inkLists:b,boxes:null,pageIndex:D-1,rect:B.slice(0),rotation:F,id:N,deleted:!1,popupRef:k}}const{color:s,quadPoints:o,inkLists:a,opacity:u}=t,l=await super.deserialize(t,n,A);l.color=Ur.makeHexColor(...s),he(l,fp,u||1),a&&he(l,Cc,t.thickness),l.annotationElementId=t.id||null,l._initialData=i;const[c,h]=l.pageDimensions,[d,m]=l.pageTranslation;if(o){const b=he(l,hp,[]);for(let B=0;B<o.length;B+=8)b.push({x:(o[B]-d)/c,y:1-(o[B+1]-m)/h,width:(o[B+2]-o[B])/c,height:(o[B+1]-o[B+5])/h});be(g=l,An,wR).call(g),be(y=l,An,bv).call(y),l.rotate(l.rotation)}else if(a){he(l,Ko,!0);const b=a[0],B={x:b[0]-d,y:h-(b[1]-m)},F=new gR(B,[0,0,c,h],1,C(l,Cc)/2,!0,.001);for(let U=0,k=b.length;U<k;U+=2)B.x=b[U]-d,B.y=h-(b[U+1]-m),F.add(B);const{id:N,clipPathId:T}=n.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:l.color,"fill-opacity":l._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:F.toSVGPath()}},!0,!0);be(v=l,An,BF).call(v,{highlightOutlines:F.getOutlines(),highlightId:N,clipPathId:T}),be(w=l,An,bv).call(w),l.rotate(l.parentRotation)}return l}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const n=this.getRect(0,0),A=YA._colorManager.convert(this.color),i={annotationType:$r.HIGHLIGHT,color:A,opacity:C(this,fp),thickness:C(this,Cc),quadPoints:be(this,An,sW).call(this),outlines:be(this,An,oW).call(this,n),pageIndex:this.pageIndex,rect:n,rotation:be(this,An,rb).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!be(this,An,uW).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};TB=new WeakMap,b_=new WeakMap,hp=new WeakMap,Ey=new WeakMap,QB=new WeakMap,Gl=new WeakMap,E_=new WeakMap,__=new WeakMap,_y=new WeakMap,Bc=new WeakMap,Pu=new WeakMap,Ko=new WeakMap,LB=new WeakMap,fp=new WeakMap,Ua=new WeakMap,NB=new WeakMap,Cc=new WeakMap,S_=new WeakMap,An=new WeakSet,wR=function(){const t=new dR(C(this,hp),.001);he(this,Bc,t.getOutlines()),[this.x,this.y,this.width,this.height]=C(this,Bc).box;const n=new dR(C(this,hp),.0025,.001,this._uiManager.direction==="ltr");he(this,Gl,n.getOutlines());const{lastPoint:A}=C(this,Gl);he(this,LB,[(A[0]-this.x)/this.width,(A[1]-this.y)/this.height])},BF=function({highlightOutlines:t,highlightId:n,clipPathId:A}){var c,h;if(he(this,Bc,t),he(this,Gl,t.getNewOutline(C(this,Cc)/2+1.5,.0025)),n>=0)he(this,Pu,n),he(this,Ey,A),this.parent.drawLayer.finalizeDraw(n,{bbox:t.box,path:{d:t.toSVGPath()}}),he(this,Ua,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:C(this,Gl).box,path:{d:C(this,Gl).toSVGPath()}},!0));else if(this.parent){const d=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(C(this,Pu),{bbox:be(c=sA,xc,m0).call(c,C(this,Bc).box,(d-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(C(this,Ua),{bbox:be(h=sA,xc,m0).call(h,C(this,Gl).box,d),path:{d:C(this,Gl).toSVGPath()}})}const[s,o,a,u]=t.box;switch(this.rotation){case 0:this.x=s,this.y=o,this.width=a,this.height=u;break;case 90:{const[d,m]=this.parentDimensions;this.x=o,this.y=1-s,this.width=a*m/d,this.height=u*d/m;break}case 180:this.x=1-s,this.y=1-o,this.width=a,this.height=u;break;case 270:{const[d,m]=this.parentDimensions;this.x=1-o,this.y=s,this.width=a*m/d,this.height=u*d/m;break}}const{lastPoint:l}=C(this,Gl);he(this,LB,[(l[0]-s)/a,(l[1]-o)/u])},rW=function(t){const n=(s,o)=>{var a,u;this.color=s,he(this,fp,o),(a=this.parent)==null||a.drawLayer.updateProperties(C(this,Pu),{root:{fill:s,"fill-opacity":o}}),(u=C(this,QB))==null||u.updateColor(s)},A=this.color,i=C(this,fp);this.addCommands({cmd:n.bind(this,t,sA._defaultOpacity),undo:n.bind(this,A,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Qn.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},nW=function(t){const n=C(this,Cc),A=i=>{he(this,Cc,i),be(this,An,AW).call(this,i)};this.addCommands({cmd:A.bind(this,t),undo:A.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Qn.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},AW=function(t){if(!C(this,Ko))return;be(this,An,BF).call(this,{highlightOutlines:C(this,Bc).getNewOutline(t/2)}),this.fixAndSetPosition();const[n,A]=this.parentDimensions;this.setDims(this.width*n,this.height*A)},BR=function(){C(this,Pu)===null||!this.parent||(this.parent.drawLayer.remove(C(this,Pu)),he(this,Pu,null),this.parent.drawLayer.remove(C(this,Ua)),he(this,Ua,null))},bv=function(t=this.parent){C(this,Pu)===null&&({id:Al(this,Pu)._,clipPathId:Al(this,Ey)._}=t.drawLayer.draw({bbox:C(this,Bc).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":C(this,fp)},rootClass:{highlight:!0,free:C(this,Ko)},path:{d:C(this,Bc).toSVGPath()}},!1,!0),he(this,Ua,t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:C(this,Ko)},bbox:C(this,Gl).box,path:{d:C(this,Gl).toSVGPath()}},C(this,Ko))),C(this,_y)&&(C(this,_y).style.clipPath=C(this,Ey)))},xc=new WeakSet,m0=function([t,n,A,i],s){switch(s){case 90:return[1-n-i,t,i,A];case 180:return[1-t-A,1-n-i,A,i];case 270:return[n,1-t-A,i,A]}return[t,n,A,i]},iW=function(t){sA._keyboardManager.exec(this,t)},CF=function(t){if(!C(this,TB))return;const n=window.getSelection();t?n.setPosition(C(this,TB),C(this,b_)):n.setPosition(C(this,E_),C(this,__))},rb=function(){return C(this,Ko)?this.rotation:0},sW=function(){if(C(this,Ko))return null;const[t,n]=this.pageDimensions,[A,i]=this.pageTranslation,s=C(this,hp),o=new Float32Array(s.length*8);let a=0;for(const{x:u,y:l,width:c,height:h}of s){const d=u*t+A,m=(1-l)*n+i;o[a]=o[a+4]=d,o[a+1]=o[a+3]=m,o[a+2]=o[a+6]=d+c*t,o[a+5]=o[a+7]=m-h*n,a+=8}return o},oW=function(t){return C(this,Bc).serialize(t,be(this,An,rb).call(this))},aW=function(t,n){this._freeHighlight.add(n)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},lW=function(t,n){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},uW=function(t){const{color:n}=this._initialData;return t.color.some((A,i)=>A!==n[i])},Be(sA,xc),qt(sA,"_defaultColor",null),qt(sA,"_defaultOpacity",1),qt(sA,"_defaultThickness",12),qt(sA,"_type","highlight"),qt(sA,"_editorType",$r.HIGHLIGHT),qt(sA,"_freeHighlightId",-1),qt(sA,"_freeHighlight",null),qt(sA,"_freeHighlightClipId","");let II=sA;var Sy;class cW{constructor(){Be(this,Sy,Object.create(null))}updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,n]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,n)}updateSVGProperty(e,t){C(this,Sy)[e]=t}toSVGProperties(){const e=C(this,Sy);return he(this,Sy,Object.create(null)),{root:e}}reset(){he(this,Sy,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){TA("Not implemented")}}Sy=new WeakMap;var Ou,RB,wo,Fy,Iy,Zg,em,tm,xy,Xn,CR,bR,ER,nb,hW,bF,Ab,v0;const wr=class wr extends YA{constructor(t){super(t);Be(this,Xn);Be(this,Ou,null);Be(this,RB);qt(this,"_drawId",null);he(this,RB,t.mustBeCommitted||!1),this._addOutlines(t)}_addOutlines(t){t.drawOutlines&&(be(this,Xn,CR).call(this,t),be(this,Xn,nb).call(this))}static _mergeSVGProperties(t,n){const A=new Set(Object.keys(t));for(const[i,s]of Object.entries(n))A.has(i)?Object.assign(t[i],s):t[i]=s;return t}static getDefaultDrawingOptions(t){TA("Not implemented")}static get typesMap(){TA("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,n){const A=this.typesMap.get(t);A&&this._defaultDrawingOptions.updateProperty(A,n),this._currentParent&&(C(wr,wo).updateProperty(A,n),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,n){const A=this.constructor.typesMap.get(t);A&&this._updateProperty(t,A,n)}static get defaultPropertiesToUpdate(){const t=[],n=this._defaultDrawingOptions;for(const[A,i]of this.typesMap)t.push([A,n[i]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:n}=this;for(const[A,i]of this.constructor.typesMap)t.push([A,n[i]]);return t}_updateProperty(t,n,A){const i=this._drawingOptions,s=i[n],o=a=>{var l;i.updateProperty(n,a);const u=C(this,Ou).updateProperty(n,a);u&&be(this,Xn,Ab).call(this,u),(l=this.parent)==null||l.drawLayer.updateProperties(this._drawId,i.toSVGProperties())};this.addCommands({cmd:o.bind(this,A),undo:o.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,wr._mergeSVGProperties(C(this,Ou).getPathResizingSVGProperties(be(this,Xn,bF).call(this)),{bbox:be(this,Xn,v0).call(this)}))}_onResized(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,wr._mergeSVGProperties(C(this,Ou).getPathResizedSVGProperties(be(this,Xn,bF).call(this)),{bbox:be(this,Xn,v0).call(this)}))}_onTranslating(t,n){var A;(A=this.parent)==null||A.drawLayer.updateProperties(this._drawId,{bbox:be(this,Xn,v0).call(this)})}_onTranslated(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,wr._mergeSVGProperties(C(this,Ou).getPathTranslatedSVGProperties(be(this,Xn,bF).call(this),this.parentDimensions),{bbox:be(this,Xn,v0).call(this)}))}_onStartDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,C(this,RB)&&(he(this,RB,!1),this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){be(this,Xn,ER).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(be(this,Xn,nb).call(this),be(this,Xn,Ab).call(this,C(this,Ou).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var A;let n=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),be(this,Xn,ER).call(this)):t&&(this._uiManager.addShouldRescale(this),be(this,Xn,nb).call(this,t),n=!this.parent&&((A=this.div)==null?void 0:A.classList.contains("selectedEditor"))),super.setParent(t),n&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,wr._mergeSVGProperties({bbox:be(this,Xn,v0).call(this)},C(this,Ou).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&be(this,Xn,Ab).call(this,C(this,Ou).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,n;this._isCopy&&(t=this.x,n=this.y);const A=super.render();A.classList.add("draw");const i=document.createElement("div");A.append(i),i.setAttribute("aria-hidden","true"),i.className="internal";const[s,o]=this.parentDimensions;return this.setDims(this.width*s,this.height*o),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,n),A}static createDrawerInstance(t,n,A,i,s){TA("Not implemented")}static startDrawing(t,n,A,i){var y;const{target:s,offsetX:o,offsetY:a,pointerId:u,pointerType:l}=i;if(C(wr,em)&&C(wr,em)!==l)return;const{viewport:{rotation:c}}=t,{width:h,height:d}=s.getBoundingClientRect(),m=he(wr,Fy,new AbortController),g=t.combinedSignal(m);if(C(wr,Zg)||he(wr,Zg,u),C(wr,em)??he(wr,em,l),window.addEventListener("pointerup",v=>{var w;C(wr,Zg)===v.pointerId?this._endDraw(v):(w=C(wr,tm))==null||w.delete(v.pointerId)},{signal:g}),window.addEventListener("pointercancel",v=>{var w;C(wr,Zg)===v.pointerId?this._currentParent.endDrawingSession():(w=C(wr,tm))==null||w.delete(v.pointerId)},{signal:g}),window.addEventListener("pointerdown",v=>{C(wr,em)===v.pointerType&&((C(wr,tm)||he(wr,tm,new Set)).add(v.pointerId),C(wr,wo).isCancellable()&&(C(wr,wo).removeLastElement(),C(wr,wo).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:g}),window.addEventListener("contextmenu",kc,{signal:g}),s.addEventListener("pointermove",this._drawMove.bind(this),{signal:g}),s.addEventListener("touchmove",v=>{v.timeStamp===C(wr,xy)&&os(v)},{signal:g}),t.toggleDrawing(),(y=n._editorUndoBar)==null||y.hide(),C(wr,wo)){t.drawLayer.updateProperties(this._currentDrawId,C(wr,wo).startNew(o,a,h,d,c));return}n.updateUIForDefaultProperties(this),he(wr,wo,this.createDrawerInstance(o,a,h,d,c)),he(wr,Iy,this.getDefaultDrawingOptions()),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(C(wr,Iy).toSVGProperties(),C(wr,wo).defaultSVGProperties),!0,!1)}static _drawMove(t){var s;if(he(wr,xy,-1),!C(wr,wo))return;const{offsetX:n,offsetY:A,pointerId:i}=t;if(C(wr,Zg)===i){if(((s=C(wr,tm))==null?void 0:s.size)>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,C(wr,wo).add(n,A)),he(wr,xy,t.timeStamp),os(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,he(wr,wo,null),he(wr,Iy,null),he(wr,em,null),he(wr,xy,NaN)),C(wr,Fy)&&(C(wr,Fy).abort(),he(wr,Fy,null),he(wr,Zg,NaN),he(wr,tm,null))}static _endDraw(t){const n=this._currentParent;if(n){if(n.toggleDrawing(!0),this._cleanup(!1),(t==null?void 0:t.target)===n.div&&n.drawLayer.updateProperties(this._currentDrawId,C(wr,wo).end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const A=C(wr,wo),i=this._currentDrawId,s=A.getLastElement();n.addCommands({cmd:()=>{n.drawLayer.updateProperties(i,A.setLastElement(s))},undo:()=>{n.drawLayer.updateProperties(i,A.removeLastElement())},mustExec:!1,type:Qn.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const n=this._currentParent;if(!n)return null;if(n.toggleDrawing(!0),n.cleanUndoStack(Qn.DRAW_STEP),!C(wr,wo).isEmpty()){const{pageDimensions:[A,i],scale:s}=n,o=n.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:C(wr,wo).getOutlines(A*s,i*s,s,this._INNER_MARGIN),drawingOptions:C(wr,Iy),mustBeCommitted:!t});return this._cleanup(!0),o}return n.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,n,A,i,s,o){TA("Not implemented")}static async deserialize(t,n,A){var c,h;const{rawDims:{pageWidth:i,pageHeight:s,pageX:o,pageY:a}}=n.viewport,u=this.deserializeDraw(o,a,i,s,this._INNER_MARGIN,t),l=await super.deserialize(t,n,A);return l.createDrawingOptions(t),be(c=l,Xn,CR).call(c,{drawOutlines:u}),be(h=l,Xn,nb).call(h),l.onScaleChanging(),l.rotate(),l}serializeDraw(t){const[n,A]=this.pageTranslation,[i,s]=this.pageDimensions;return C(this,Ou).serialize([n,A,i,s],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Ou=new WeakMap,RB=new WeakMap,wo=new WeakMap,Fy=new WeakMap,Iy=new WeakMap,Zg=new WeakMap,em=new WeakMap,tm=new WeakMap,xy=new WeakMap,Xn=new WeakSet,CR=function({drawOutlines:t,drawId:n,drawingOptions:A}){he(this,Ou,t),this._drawingOptions||(this._drawingOptions=A),n>=0?(this._drawId=n,this.parent.drawLayer.finalizeDraw(n,t.defaultProperties)):this._drawId=be(this,Xn,bR).call(this,t,this.parent),be(this,Xn,Ab).call(this,t.box)},bR=function(t,n){const{id:A}=n.drawLayer.draw(wr._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return A},ER=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},nb=function(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=be(this,Xn,bR).call(this,C(this,Ou),t)}},hW=function([t,n,A,i]){const{parentDimensions:[s,o],rotation:a}=this;switch(a){case 90:return[n,1-t,A*(o/s),i*(s/o)];case 180:return[1-t,1-n,A,i];case 270:return[1-n,t,A*(o/s),i*(s/o)];default:return[t,n,A,i]}},bF=function(){const{x:t,y:n,width:A,height:i,parentDimensions:[s,o],rotation:a}=this;switch(a){case 90:return[1-n,t,A*(s/o),i*(o/s)];case 180:return[1-t,1-n,A,i];case 270:return[n,1-t,A*(s/o),i*(o/s)];default:return[t,n,A,i]}},Ab=function(t){if([this.x,this.y,this.width,this.height]=be(this,Xn,hW).call(this,t),this.div){this.fixAndSetPosition();const[n,A]=this.parentDimensions;this.setDims(this.width*n,this.height*A)}this._onResized()},v0=function(){const{x:t,y:n,width:A,height:i,rotation:s,parentRotation:o,parentDimensions:[a,u]}=this;switch((s*4+o)/90){case 1:return[1-n-i,t,i,A];case 2:return[1-t-A,1-n-i,A,i];case 3:return[n,1-t-A,i,A];case 4:return[t,n-A*(a/u),i*(u/a),A*(a/u)];case 5:return[1-n,t,A*(a/u),i*(u/a)];case 6:return[1-t-i*(u/a),1-n,i*(u/a),A*(a/u)];case 7:return[n-A*(a/u),1-t-i*(u/a),A*(a/u),i*(u/a)];case 8:return[t-A,n-i,A,i];case 9:return[1-n,t-A,i,A];case 10:return[1-t,1-n,A,i];case 11:return[n-i,1-t,i,A];case 12:return[t-i*(u/a),n,i*(u/a),A*(a/u)];case 13:return[1-n-A*(a/u),t-i*(u/a),A*(a/u),i*(u/a)];case 14:return[1-t,1-n-A*(a/u),i*(u/a),A*(a/u)];case 15:return[n,1-t,A*(a/u),i*(u/a)];default:return[t,n,A,i]}},qt(wr,"_currentDrawId",-1),qt(wr,"_currentParent",null),Be(wr,wo,null),Be(wr,Fy,null),Be(wr,Iy,null),Be(wr,Zg,NaN),Be(wr,em,null),Be(wr,tm,null),Be(wr,xy,NaN),qt(wr,"_INNER_MARGIN",3);let xI=wr;var kf,Bo,Co,Uy,PB,ul,Go,bc,Ty,Qy,Ly,OB,EF;class e1e{constructor(e,t,n,A,i,s){Be(this,OB);Be(this,kf,new Float64Array(6));Be(this,Bo);Be(this,Co);Be(this,Uy);Be(this,PB);Be(this,ul);Be(this,Go,"");Be(this,bc,0);Be(this,Ty,new n2);Be(this,Qy);Be(this,Ly);he(this,Qy,n),he(this,Ly,A),he(this,Uy,i),he(this,PB,s),[e,t]=be(this,OB,EF).call(this,e,t);const o=he(this,Bo,[NaN,NaN,NaN,NaN,e,t]);he(this,ul,[e,t]),he(this,Co,[{line:o,points:C(this,ul)}]),C(this,kf).set(o,0)}updateProperty(e,t){e==="stroke-width"&&he(this,PB,t)}isEmpty(){return!C(this,Co)||C(this,Co).length===0}isCancellable(){return C(this,ul).length<=10}add(e,t){[e,t]=be(this,OB,EF).call(this,e,t);const[n,A,i,s]=C(this,kf).subarray(2,6),o=e-i,a=t-s;return Math.hypot(C(this,Qy)*o,C(this,Ly)*a)<=2?null:(C(this,ul).push(e,t),isNaN(n)?(C(this,kf).set([i,s,e,t],2),C(this,Bo).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(C(this,kf)[0])&&C(this,Bo).splice(6,6),C(this,kf).set([n,A,i,s,e,t],0),C(this,Bo).push(...mr.createBezierPoints(n,A,i,s,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const n=this.add(e,t);return n||(C(this,ul).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,n,A,i){he(this,Qy,n),he(this,Ly,A),he(this,Uy,i),[e,t]=be(this,OB,EF).call(this,e,t);const s=he(this,Bo,[NaN,NaN,NaN,NaN,e,t]);he(this,ul,[e,t]);const o=C(this,Co).at(-1);return o&&(o.line=new Float32Array(o.line),o.points=new Float32Array(o.points)),C(this,Co).push({line:s,points:C(this,ul)}),C(this,kf).set(s,0),he(this,bc,0),this.toSVGPath(),null}getLastElement(){return C(this,Co).at(-1)}setLastElement(e){return C(this,Co)?(C(this,Co).push(e),he(this,Bo,e.line),he(this,ul,e.points),he(this,bc,0),{path:{d:this.toSVGPath()}}):C(this,Ty).setLastElement(e)}removeLastElement(){if(!C(this,Co))return C(this,Ty).removeLastElement();C(this,Co).pop(),he(this,Go,"");for(let e=0,t=C(this,Co).length;e<t;e++){const{line:n,points:A}=C(this,Co)[e];he(this,Bo,n),he(this,ul,A),he(this,bc,0),this.toSVGPath()}return{path:{d:C(this,Go)}}}toSVGPath(){const e=mr.svgRound(C(this,Bo)[4]),t=mr.svgRound(C(this,Bo)[5]);if(C(this,ul).length===2)return he(this,Go,`${C(this,Go)} M ${e} ${t} Z`),C(this,Go);if(C(this,ul).length<=6){const A=C(this,Go).lastIndexOf("M");he(this,Go,`${C(this,Go).slice(0,A)} M ${e} ${t}`),he(this,bc,6)}if(C(this,ul).length===4){const A=mr.svgRound(C(this,Bo)[10]),i=mr.svgRound(C(this,Bo)[11]);return he(this,Go,`${C(this,Go)} L ${A} ${i}`),he(this,bc,12),C(this,Go)}const n=[];C(this,bc)===0&&(n.push(`M ${e} ${t}`),he(this,bc,6));for(let A=C(this,bc),i=C(this,Bo).length;A<i;A+=6){const[s,o,a,u,l,c]=C(this,Bo).slice(A,A+6).map(mr.svgRound);n.push(`C${s} ${o} ${a} ${u} ${l} ${c}`)}return he(this,Go,C(this,Go)+n.join(" ")),he(this,bc,C(this,Bo).length),C(this,Go)}getOutlines(e,t,n,A){const i=C(this,Co).at(-1);return i.line=new Float32Array(i.line),i.points=new Float32Array(i.points),C(this,Ty).build(C(this,Co),e,t,n,C(this,Uy),C(this,PB),A),he(this,kf,null),he(this,Bo,null),he(this,Co,null),he(this,Go,null),C(this,Ty)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}kf=new WeakMap,Bo=new WeakMap,Co=new WeakMap,Uy=new WeakMap,PB=new WeakMap,ul=new WeakMap,Go=new WeakMap,bc=new WeakMap,Ty=new WeakMap,Qy=new WeakMap,Ly=new WeakMap,OB=new WeakSet,EF=function(e,t){return mr._normalizePoint(e,t,C(this,Qy),C(this,Ly),C(this,Uy))};var cl,F_,I_,ku,Df,Mf,kB,DB,Ny,$o,Hd,fW,dW,pW;class n2 extends mr{constructor(){super(...arguments);Be(this,$o);Be(this,cl);Be(this,F_,0);Be(this,I_);Be(this,ku);Be(this,Df);Be(this,Mf);Be(this,kB);Be(this,DB);Be(this,Ny)}build(t,n,A,i,s,o,a){he(this,Df,n),he(this,Mf,A),he(this,kB,i),he(this,DB,s),he(this,Ny,o),he(this,I_,a??0),he(this,ku,t),be(this,$o,dW).call(this)}get thickness(){return C(this,Ny)}setLastElement(t){return C(this,ku).push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return C(this,ku).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:n}of C(this,ku)){if(t.push(`M${mr.svgRound(n[4])} ${mr.svgRound(n[5])}`),n.length===6){t.push("Z");continue}if(n.length===12&&isNaN(n[6])){t.push(`L${mr.svgRound(n[10])} ${mr.svgRound(n[11])}`);continue}for(let A=6,i=n.length;A<i;A+=6){const[s,o,a,u,l,c]=n.subarray(A,A+6).map(mr.svgRound);t.push(`C${s} ${o} ${a} ${u} ${l} ${c}`)}}return t.join("")}serialize([t,n,A,i],s){const o=[],a=[],[u,l,c,h]=be(this,$o,fW).call(this);let d,m,g,y,v,w,b,B,F;switch(C(this,DB)){case 0:F=mr._rescale,d=t,m=n+i,g=A,y=-i,v=t+u*A,w=n+(1-l-h)*i,b=t+(u+c)*A,B=n+(1-l)*i;break;case 90:F=mr._rescaleAndSwap,d=t,m=n,g=A,y=i,v=t+l*A,w=n+u*i,b=t+(l+h)*A,B=n+(u+c)*i;break;case 180:F=mr._rescale,d=t+A,m=n,g=-A,y=i,v=t+(1-u-c)*A,w=n+l*i,b=t+(1-u)*A,B=n+(l+h)*i;break;case 270:F=mr._rescaleAndSwap,d=t+A,m=n+i,g=-A,y=-i,v=t+(1-l-h)*A,w=n+(1-u-c)*i,b=t+(1-l)*A,B=n+(1-u)*i;break}for(const{line:N,points:T}of C(this,ku))o.push(F(N,d,m,g,y,s?new Array(N.length):null)),a.push(F(T,d,m,g,y,s?new Array(T.length):null));return{lines:o,points:a,rect:[v,w,b,B]}}static deserialize(t,n,A,i,s,{paths:{lines:o,points:a},rotation:u,thickness:l}){const c=[];let h,d,m,g,y;switch(u){case 0:y=mr._rescale,h=-t/A,d=n/i+1,m=1/A,g=-1/i;break;case 90:y=mr._rescaleAndSwap,h=-n/i,d=-t/A,m=1/i,g=1/A;break;case 180:y=mr._rescale,h=t/A+1,d=-n/i,m=-1/A,g=1/i;break;case 270:y=mr._rescaleAndSwap,h=n/i+1,d=t/A+1,m=-1/i,g=-1/A;break}if(!o){o=[];for(const w of a){const b=w.length;if(b===2){o.push(new Float32Array([NaN,NaN,NaN,NaN,w[0],w[1]]));continue}if(b===4){o.push(new Float32Array([NaN,NaN,NaN,NaN,w[0],w[1],NaN,NaN,NaN,NaN,w[2],w[3]]));continue}const B=new Float32Array(3*(b-2));o.push(B);let[F,N,T,U]=w.subarray(0,4);B.set([NaN,NaN,NaN,NaN,F,N],0);for(let k=4;k<b;k+=2){const D=w[k],_=w[k+1];B.set(mr.createBezierPoints(F,N,T,U,D,_),(k-2)*3),[F,N,T,U]=[T,U,D,_]}}}for(let w=0,b=o.length;w<b;w++)c.push({line:y(o[w].map(B=>B??NaN),h,d,m,g),points:y(a[w].map(B=>B??NaN),h,d,m,g)});const v=new this.prototype.constructor;return v.build(c,A,i,1,u,l,s),v}get box(){return C(this,cl)}updateProperty(t,n){return t==="stroke-width"?be(this,$o,pW).call(this,n):null}updateParentDimensions([t,n],A){const[i,s]=be(this,$o,Hd).call(this);he(this,Df,t),he(this,Mf,n),he(this,kB,A);const[o,a]=be(this,$o,Hd).call(this),u=o-i,l=a-s,c=C(this,cl);return c[0]-=u,c[1]-=l,c[2]+=2*u,c[3]+=2*l,c}updateRotation(t){return he(this,F_,t),{path:{transform:this.rotationTransform}}}get viewBox(){return C(this,cl).map(mr.svgRound).join(" ")}get defaultProperties(){const[t,n]=C(this,cl);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${mr.svgRound(t)} ${mr.svgRound(n)}`}}}get rotationTransform(){const[,,t,n]=C(this,cl);let A=0,i=0,s=0,o=0,a=0,u=0;switch(C(this,F_)){case 90:i=n/t,s=-t/n,a=t;break;case 180:A=-1,o=-1,a=t,u=n;break;case 270:i=-n/t,s=t/n,u=n;break;default:return""}return`matrix(${A} ${i} ${s} ${o} ${mr.svgRound(a)} ${mr.svgRound(u)})`}getPathResizingSVGProperties([t,n,A,i]){const[s,o]=be(this,$o,Hd).call(this),[a,u,l,c]=C(this,cl);if(Math.abs(l-s)<=mr.PRECISION||Math.abs(c-o)<=mr.PRECISION){const y=t+A/2-(a+l/2),v=n+i/2-(u+c/2);return{path:{"transform-origin":`${mr.svgRound(t)} ${mr.svgRound(n)}`,transform:`${this.rotationTransform} translate(${y} ${v})`}}}const h=(A-2*s)/(l-2*s),d=(i-2*o)/(c-2*o),m=l/A,g=c/i;return{path:{"transform-origin":`${mr.svgRound(a)} ${mr.svgRound(u)}`,transform:`${this.rotationTransform} scale(${m} ${g}) translate(${mr.svgRound(s)} ${mr.svgRound(o)}) scale(${h} ${d}) translate(${mr.svgRound(-s)} ${mr.svgRound(-o)})`}}}getPathResizedSVGProperties([t,n,A,i]){const[s,o]=be(this,$o,Hd).call(this),a=C(this,cl),[u,l,c,h]=a;if(a[0]=t,a[1]=n,a[2]=A,a[3]=i,Math.abs(c-s)<=mr.PRECISION||Math.abs(h-o)<=mr.PRECISION){const v=t+A/2-(u+c/2),w=n+i/2-(l+h/2);for(const{line:b,points:B}of C(this,ku))mr._translate(b,v,w,b),mr._translate(B,v,w,B);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${mr.svgRound(t)} ${mr.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const d=(A-2*s)/(c-2*s),m=(i-2*o)/(h-2*o),g=-d*(u+s)+t+s,y=-m*(l+o)+n+o;if(d!==1||m!==1||g!==0||y!==0)for(const{line:v,points:w}of C(this,ku))mr._rescale(v,g,y,d,m,v),mr._rescale(w,g,y,d,m,w);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${mr.svgRound(t)} ${mr.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,n],A){const[i,s]=A,o=C(this,cl),a=t-o[0],u=n-o[1];if(C(this,Df)===i&&C(this,Mf)===s)for(const{line:l,points:c}of C(this,ku))mr._translate(l,a,u,l),mr._translate(c,a,u,c);else{const l=C(this,Df)/i,c=C(this,Mf)/s;he(this,Df,i),he(this,Mf,s);for(const{line:h,points:d}of C(this,ku))mr._rescale(h,a,u,l,c,h),mr._rescale(d,a,u,l,c,d);o[2]*=l,o[3]*=c}return o[0]=t,o[1]=n,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${mr.svgRound(t)} ${mr.svgRound(n)}`}}}get defaultSVGProperties(){const t=C(this,cl);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${mr.svgRound(t[0])} ${mr.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}cl=new WeakMap,F_=new WeakMap,I_=new WeakMap,ku=new WeakMap,Df=new WeakMap,Mf=new WeakMap,kB=new WeakMap,DB=new WeakMap,Ny=new WeakMap,$o=new WeakSet,Hd=function(t=C(this,Ny)){const n=C(this,I_)+t/2*C(this,kB);return C(this,DB)%180===0?[n/C(this,Df),n/C(this,Mf)]:[n/C(this,Mf),n/C(this,Df)]},fW=function(){const[t,n,A,i]=C(this,cl),[s,o]=be(this,$o,Hd).call(this,0);return[t+s,n+o,A-2*s,i-2*o]},dW=function(){const t=he(this,cl,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:i}of C(this,ku)){if(i.length<=12){for(let a=4,u=i.length;a<u;a+=6)Ur.pointBoundingBox(i[a],i[a+1],t);continue}let s=i[4],o=i[5];for(let a=6,u=i.length;a<u;a+=6){const[l,c,h,d,m,g]=i.subarray(a,a+6);Ur.bezierBoundingBox(s,o,l,c,h,d,m,g,t),s=m,o=g}}const[n,A]=be(this,$o,Hd).call(this);t[0]=La(t[0]-n,0,1),t[1]=La(t[1]-A,0,1),t[2]=La(t[2]+n,0,1),t[3]=La(t[3]+A,0,1),t[2]-=t[0],t[3]-=t[1]},pW=function(t){const[n,A]=be(this,$o,Hd).call(this);he(this,Ny,t);const[i,s]=be(this,$o,Hd).call(this),[o,a]=[i-n,s-A],u=C(this,cl);return u[0]-=o,u[1]-=a,u[2]+=2*o,u[3]+=2*a,u};class pU extends cW{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:YA._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??(t=this["stroke-width"]),t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new pU(this._viewParameters);return e.updateAll(this),e}}var XI,gW;const E0=class E0 extends xI{constructor(t){super({...t,name:"inkEditor"});Be(this,XI);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,n){YA.initialize(t,n),this._defaultDrawingOptions=new pU(n.viewParameters)}static getDefaultDrawingOptions(t){const n=this._defaultDrawingOptions.clone();return n.updateProperties(t),n}static get supportMultipleDrawings(){return!0}static get typesMap(){return En(this,"typesMap",new Map([[Qn.INK_THICKNESS,"stroke-width"],[Qn.INK_COLOR,"stroke"],[Qn.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,n,A,i,s){return new e1e(t,n,A,i,s,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,n,A,i,s,o){return n2.deserialize(t,n,A,i,s,o)}static async deserialize(t,n,A){let i=null;if(t instanceof rk){const{data:{inkLists:o,rect:a,rotation:u,id:l,color:c,opacity:h,borderStyle:{rawWidth:d},popupRef:m},parent:{page:{pageNumber:g}}}=t;i=t={annotationType:$r.INK,color:Array.from(c),thickness:d,opacity:h,paths:{points:o},boxes:null,pageIndex:g-1,rect:a.slice(0),rotation:u,id:l,deleted:!1,popupRef:m}}const s=await super.deserialize(t,n,A);return s.annotationElementId=t.id||null,s._initialData=i,s}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:n,parent:A}=this;n.updateSVGProperty("stroke-width"),A.drawLayer.updateProperties(t,n.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:n,opacity:A}){this._drawingOptions=E0.getDefaultDrawingOptions({stroke:Ur.makeHexColor(...t),"stroke-width":n,"stroke-opacity":A})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:n,points:A,rect:i}=this.serializeDraw(t),{_drawingOptions:{stroke:s,"stroke-opacity":o,"stroke-width":a}}=this,u={annotationType:$r.INK,color:YA._colorManager.convert(s),opacity:o,thickness:a,paths:{lines:n,points:A},pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(u.isCopy=!0,u):this.annotationElementId&&!be(this,XI,gW).call(this,u)?null:(u.id=this.annotationElementId,u)}renderAnnotationElement(t){const{points:n,rect:A}=this.serializeDraw(!1);return t.updateEdited({rect:A,thickness:this._drawingOptions["stroke-width"],points:n}),null}};XI=new WeakSet,gW=function(t){const{color:n,thickness:A,opacity:i,pageIndex:s}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||t.color.some((o,a)=>o!==n[a])||t.thickness!==A||t.opacity!==i||t.pageIndex!==s},qt(E0,"_type","ink"),qt(E0,"_editorType",$r.INK),qt(E0,"_defaultDrawingOptions",null);let _R=E0;class SR extends n2{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const IS=8,SC=3;var Ry,dA,FR,Uh,mW,vW,IR,_F,yW,wW,BW,xR,UR,CW;class Kf{static extractContoursFromText(e,{fontFamily:t,fontStyle:n,fontWeight:A},i,s,o,a){let u=new OffscreenCanvas(1,1),l=u.getContext("2d",{alpha:!1});const c=200,h=l.font=`${n} ${A} ${c}px ${t}`,{actualBoundingBoxLeft:d,actualBoundingBoxRight:m,actualBoundingBoxAscent:g,actualBoundingBoxDescent:y,fontBoundingBoxAscent:v,fontBoundingBoxDescent:w,width:b}=l.measureText(e),B=1.5,F=Math.ceil(Math.max(Math.abs(d)+Math.abs(m)||0,b)*B),N=Math.ceil(Math.max(Math.abs(g)+Math.abs(y)||c,Math.abs(v)+Math.abs(w)||c)*B);u=new OffscreenCanvas(F,N),l=u.getContext("2d",{alpha:!0,willReadFrequently:!0}),l.font=h,l.filter="grayscale(1)",l.fillStyle="white",l.fillRect(0,0,F,N),l.fillStyle="black",l.fillText(e,F*(B-1)/2,N*(3-B)/2);const T=be(this,dA,xR).call(this,l.getImageData(0,0,F,N).data),U=be(this,dA,BW).call(this,T),k=be(this,dA,UR).call(this,U),D=be(this,dA,IR).call(this,T,F,N,k);return this.processDrawnLines({lines:{curves:D,width:F,height:N},pageWidth:i,pageHeight:s,rotation:o,innerMargin:a,mustSmooth:!0,areContours:!0})}static process(e,t,n,A,i){const[s,o,a]=be(this,dA,CW).call(this,e),[u,l]=be(this,dA,wW).call(this,s,o,a,Math.hypot(o,a)*C(this,Ry).sigmaSFactor,C(this,Ry).sigmaR,C(this,Ry).kernelSize),c=be(this,dA,UR).call(this,l),h=be(this,dA,IR).call(this,u,o,a,c);return this.processDrawnLines({lines:{curves:h,width:o,height:a},pageWidth:t,pageHeight:n,rotation:A,innerMargin:i,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:n,rotation:A,innerMargin:i,mustSmooth:s,areContours:o}){A%180!==0&&([t,n]=[n,t]);const{curves:a,width:u,height:l}=e,c=e.thickness??0,h=[],d=Math.min(t/u,n/l),m=d/t,g=d/n,y=[];for(const{points:w}of a){const b=s?be(this,dA,yW).call(this,w):w;if(!b)continue;y.push(b);const B=b.length,F=new Float32Array(B),N=new Float32Array(3*(B===2?2:B-2));if(h.push({line:N,points:F}),B===2){F[0]=b[0]*m,F[1]=b[1]*g,N.set([NaN,NaN,NaN,NaN,F[0],F[1]],0);continue}let[T,U,k,D]=b;T*=m,U*=g,k*=m,D*=g,F.set([T,U,k,D],0),N.set([NaN,NaN,NaN,NaN,T,U],0);for(let _=4;_<B;_+=2){const L=F[_]=b[_]*m,O=F[_+1]=b[_+1]*g;N.set(mr.createBezierPoints(T,U,k,D,L,O),(_-2)*3),[T,U,k,D]=[k,D,L,O]}}if(h.length===0)return null;const v=o?new SR:new n2;return v.build(h,t,n,1,A,o?0:c,i),{outline:v,newCurves:y,areContours:o,thickness:c,width:u,height:l}}static async compressSignature({outlines:e,areContours:t,thickness:n,width:A,height:i}){let s=1/0,o=-1/0,a=0;for(const b of e){a+=b.length;for(let B=2,F=b.length;B<F;B++){const N=b[B]-b[B-2];s=Math.min(s,N),o=Math.max(o,N)}}let u;s>=-128&&o<=127?u=Int8Array:s>=-32768&&o<=32767?u=Int16Array:u=Int32Array;const l=e.length,c=IS+SC*l,h=new Uint32Array(c);let d=0;h[d++]=c*Uint32Array.BYTES_PER_ELEMENT+(a-2*l)*u.BYTES_PER_ELEMENT,h[d++]=0,h[d++]=A,h[d++]=i,h[d++]=t?0:1,h[d++]=Math.max(0,Math.floor(n??0)),h[d++]=l,h[d++]=u.BYTES_PER_ELEMENT;for(const b of e)h[d++]=b.length-2,h[d++]=b[0],h[d++]=b[1];const m=new CompressionStream("deflate-raw"),g=m.writable.getWriter();await g.ready,g.write(h);const y=u.prototype.constructor;for(const b of e){const B=new y(b.length-2);for(let F=2,N=b.length;F<N;F++)B[F-2]=b[F]-b[F-2];g.write(B)}g.close();const v=await new Response(m.readable).arrayBuffer(),w=new Uint8Array(v);return yz(w)}static async decompressSignature(e){try{const t=U0e(e),{readable:n,writable:A}=new DecompressionStream("deflate-raw"),i=A.getWriter();await i.ready,i.write(t).then(async()=>{await i.ready,await i.close()}).catch(()=>{});let s=null,o=0;for await(const b of n)s||(s=new Uint8Array(new Uint32Array(b.buffer,0,4)[0])),s.set(b,o),o+=b.length;const a=new Uint32Array(s.buffer,0,s.length>>2),u=a[1];if(u!==0)throw new Error(`Invalid version: ${u}`);const l=a[2],c=a[3],h=a[4]===0,d=a[5],m=a[6],g=a[7],y=[],v=(IS+SC*m)*Uint32Array.BYTES_PER_ELEMENT;let w;switch(g){case Int8Array.BYTES_PER_ELEMENT:w=new Int8Array(s.buffer,v);break;case Int16Array.BYTES_PER_ELEMENT:w=new Int16Array(s.buffer,v);break;case Int32Array.BYTES_PER_ELEMENT:w=new Int32Array(s.buffer,v);break}o=0;for(let b=0;b<m;b++){const B=a[SC*b+IS],F=new Float32Array(B+2);y.push(F);for(let N=0;N<SC-1;N++)F[N]=a[SC*b+IS+N+1];for(let N=0;N<B;N++)F[N+2]=F[N]+w[o++]}return{areContours:h,thickness:d,outlines:y,width:l,height:c}}catch(t){return Zr(`decompressSignature: ${t}`),null}}}Ry=new WeakMap,dA=new WeakSet,FR=function(e,t,n,A){return n-=e,A-=t,n===0?A>0?0:4:n===1?A+6:2-A},Uh=new WeakMap,mW=function(e,t,n,A,i,s,o){const a=be(this,dA,FR).call(this,n,A,i,s);for(let u=0;u<8;u++){const l=(-u+a-o+16)%8,c=C(this,Uh)[2*l],h=C(this,Uh)[2*l+1];if(e[(n+c)*t+(A+h)]!==0)return l}return-1},vW=function(e,t,n,A,i,s,o){const a=be(this,dA,FR).call(this,n,A,i,s);for(let u=0;u<8;u++){const l=(u+a+o+16)%8,c=C(this,Uh)[2*l],h=C(this,Uh)[2*l+1];if(e[(n+c)*t+(A+h)]!==0)return l}return-1},IR=function(e,t,n,A){const i=e.length,s=new Int32Array(i);for(let l=0;l<i;l++)s[l]=e[l]<=A?1:0;for(let l=1;l<n-1;l++)s[l*t]=s[l*t+t-1]=0;for(let l=0;l<t;l++)s[l]=s[t*n-1-l]=0;let o=1,a;const u=[];for(let l=1;l<n-1;l++){a=1;for(let c=1;c<t-1;c++){const h=l*t+c,d=s[h];if(d===0)continue;let m=l,g=c;if(d===1&&s[h-1]===0)o+=1,g-=1;else if(d>=1&&s[h+1]===0)o+=1,g+=1,d>1&&(a=d);else{d!==1&&(a=Math.abs(d));continue}const y=[c,l],v=g===c+1,w={isHole:v,points:y,id:o,parent:0};u.push(w);let b;for(const _ of u)if(_.id===a){b=_;break}b?b.isHole?w.parent=v?b.parent:a:w.parent=v?a:b.parent:w.parent=v?a:0;const B=be(this,dA,mW).call(this,s,t,l,c,m,g,0);if(B===-1){s[h]=-o,s[h]!==1&&(a=Math.abs(s[h]));continue}let F=C(this,Uh)[2*B],N=C(this,Uh)[2*B+1];const T=l+F,U=c+N;m=T,g=U;let k=l,D=c;for(;;){const _=be(this,dA,vW).call(this,s,t,k,D,m,g,1);F=C(this,Uh)[2*_],N=C(this,Uh)[2*_+1];const L=k+F,O=D+N;y.push(O,L);const V=k*t+D;if(s[V+1]===0?s[V]=-o:s[V]===1&&(s[V]=o),L===l&&O===c&&k===T&&D===U){s[h]!==1&&(a=Math.abs(s[h]));break}else m=k,g=D,k=L,D=O}}}return u},_F=function(e,t,n,A){if(n-t<=4){for(let T=t;T<n-2;T+=2)A.push(e[T],e[T+1]);return}const i=e[t],s=e[t+1],o=e[n-4]-i,a=e[n-3]-s,u=Math.hypot(o,a),l=o/u,c=a/u,h=l*s-c*i,d=a/o,m=1/u,g=Math.atan(d),y=Math.cos(g),v=Math.sin(g),w=m*(Math.abs(y)+Math.abs(v)),b=m*(1-w+w**2),B=Math.max(Math.atan(Math.abs(v+y)*b),Math.atan(Math.abs(v-y)*b));let F=0,N=t;for(let T=t+2;T<n-2;T+=2){const U=Math.abs(h-l*e[T+1]+c*e[T]);U>F&&(N=T,F=U)}F>(u*B)**2?(be(this,dA,_F).call(this,e,t,N+2,A),be(this,dA,_F).call(this,e,N,n,A)):A.push(i,s)},yW=function(e){const t=[],n=e.length;return be(this,dA,_F).call(this,e,0,n,t),t.push(e[n-2],e[n-1]),t.length<=4?null:t},wW=function(e,t,n,A,i,s){const o=new Float32Array(s**2),a=-2*A**2,u=s>>1;for(let g=0;g<s;g++){const y=(g-u)**2;for(let v=0;v<s;v++)o[g*s+v]=Math.exp((y+(v-u)**2)/a)}const l=new Float32Array(256),c=-2*i**2;for(let g=0;g<256;g++)l[g]=Math.exp(g**2/c);const h=e.length,d=new Uint8Array(h),m=new Uint32Array(256);for(let g=0;g<n;g++)for(let y=0;y<t;y++){const v=g*t+y,w=e[v];let b=0,B=0;for(let N=0;N<s;N++){const T=g+N-u;if(!(T<0||T>=n))for(let U=0;U<s;U++){const k=y+U-u;if(k<0||k>=t)continue;const D=e[T*t+k],_=o[N*s+U]*l[Math.abs(D-w)];b+=D*_,B+=_}}const F=d[v]=Math.round(b/B);m[F]++}return[d,m]},BW=function(e){const t=new Uint32Array(256);for(const n of e)t[n]++;return t},xR=function(e){const t=e.length,n=new Uint8ClampedArray(t>>2);let A=-1/0,i=1/0;for(let o=0,a=n.length;o<a;o++){if(e[(o<<2)+3]===0){A=n[o]=255;continue}const l=n[o]=e[o<<2];l>A&&(A=l),l<i&&(i=l)}const s=255/(A-i);for(let o=0;o<t;o++)n[o]=(n[o]-i)*s;return n},UR=function(e){let t,n=-1/0,A=-1/0;const i=e.findIndex(a=>a!==0);let s=i,o=i;for(t=i;t<256;t++){const a=e[t];a>n&&(t-s>A&&(A=t-s,o=t-1),n=a,s=t)}for(t=o-1;t>=0&&!(e[t]>e[t+1]);t--);return t},CW=function(e){const t=e,{width:n,height:A}=e,{maxDim:i}=C(this,Ry);let s=n,o=A;if(n>i||A>i){let h=n,d=A,m=Math.log2(Math.max(n,A)/i);const g=Math.floor(m);m=m===g?g-1:g;for(let v=0;v<m;v++){s=Math.ceil(h/2),o=Math.ceil(d/2);const w=new OffscreenCanvas(s,o);w.getContext("2d").drawImage(e,0,0,h,d,0,0,s,o),h=s,d=o,e!==t&&e.close(),e=w.transferToImageBitmap()}const y=Math.min(i/s,i/o);s=Math.round(s*y),o=Math.round(o*y)}const u=new OffscreenCanvas(s,o).getContext("2d",{willReadFrequently:!0});u.filter="grayscale(1)",u.drawImage(e,0,0,e.width,e.height,0,0,s,o);const l=u.getImageData(0,0,s,o).data;return[be(this,dA,xR).call(this,l),s,o]},Be(Kf,dA),Be(Kf,Ry,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),Be(Kf,Uh,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class Ak extends cW{constructor(){super(),super.updateProperties({fill:YA._defaultLineColor,"stroke-width":0})}clone(){const e=new Ak;return e.updateAll(this),e}}class ik extends pU{constructor(e){super(e),super.updateProperties({stroke:YA._defaultLineColor,"stroke-width":1})}clone(){const e=new ik(this._viewParameters);return e.updateAll(this),e}}var rm,Du,nm,Am;const Fu=class Fu extends xI{constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"});Be(this,rm,!1);Be(this,Du,null);Be(this,nm,null);Be(this,Am,null);this._willKeepAspectRatio=!0,he(this,nm,t.signatureData||null),he(this,Du,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,n){YA.initialize(t,n),this._defaultDrawingOptions=new Ak,this._defaultDrawnSignatureOptions=new ik(n.viewParameters)}static getDefaultDrawingOptions(t){const n=this._defaultDrawingOptions.clone();return n.updateProperties(t),n}static get supportMultipleDrawings(){return!1}static get typesMap(){return En(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!C(this,Du)}}static computeTelemetryFinalData(t){const n=t.get("hasDescription");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,n;const{_isCopy:A}=this;if(A&&(this._isCopy=!1,t=this.x,n=this.y),super.render(),this._drawId===null)if(C(this,nm)){const{lines:i,mustSmooth:s,areContours:o,description:a,uuid:u,heightInPage:l}=C(this,nm),{rawDims:{pageWidth:c,pageHeight:h},rotation:d}=this.parent.viewport,m=Kf.processDrawnLines({lines:i,pageWidth:c,pageHeight:h,rotation:d,innerMargin:Fu._INNER_MARGIN,mustSmooth:s,areContours:o});this.addSignature(m,l,a,u)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);return A&&(this._isCopy=!0,this._moveAfterPaste(t,n)),this.div}setUuid(t){he(this,Am,t),this.addEditToolbar()}getUuid(){return C(this,Am)}get description(){return C(this,Du)}set description(t){he(this,Du,t),super.addEditToolbar().then(n=>{n==null||n.updateEditSignatureButton(t)})}getSignaturePreview(){const{newCurves:t,areContours:n,thickness:A,width:i,height:s}=C(this,nm),o=Math.max(i,s),a=Kf.processDrawnLines({lines:{curves:t.map(u=>({points:u})),thickness:A,width:i,height:s},pageWidth:o,pageHeight:o,rotation:0,innerMargin:0,mustSmooth:!1,areContours:n});return{areContours:n,outline:a.outline}}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.signatureManager&&C(this,Du)!==null&&(await t.addEditSignatureButton(this._uiManager.signatureManager,C(this,Am),C(this,Du)),t.show()),t):null}addSignature(t,n,A,i){const{x:s,y:o}=this,{outline:a}=he(this,nm,t);he(this,rm,a instanceof SR),he(this,Du,A),this.div.setAttribute("data-l10n-args",JSON.stringify({description:A}));let u;C(this,rm)?u=Fu.getDefaultDrawingOptions():(u=Fu._defaultDrawnSignatureOptions.clone(),u.updateProperties({"stroke-width":a.thickness})),this._addOutlines({drawOutlines:a,drawingOptions:u});const[l,c]=this.parentDimensions,[,h]=this.pageDimensions;let d=n/h;d=d>=1?.5:d,this.width*=d/this.height,this.width>=1&&(d*=.9/this.width,this.width=.9),this.height=d,this.setDims(l*this.width,c*this.height),this.x=s,this.y=o,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(i),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!i,hasDescription:!!A}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:n,pageHeight:A},rotation:i}=this.parent.viewport;return Kf.process(t,n,A,i,Fu._INNER_MARGIN)}getFromText(t,n){const{rawDims:{pageWidth:A,pageHeight:i},rotation:s}=this.parent.viewport;return Kf.extractContoursFromText(t,n,A,i,s,Fu._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:n,pageHeight:A},rotation:i}=this.parent.viewport;return Kf.processDrawnLines({lines:t,pageWidth:n,pageHeight:A,rotation:i,innerMargin:Fu._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:n}){t?this._drawingOptions=Fu.getDefaultDrawingOptions():(this._drawingOptions=Fu._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":n}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:n,points:A,rect:i}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":s}}=this,o={annotationType:$r.SIGNATURE,isSignature:!0,areContours:C(this,rm),color:[0,0,0],thickness:C(this,rm)?0:s,pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(o.paths={lines:n,points:A},o.uuid=C(this,Am),o.isCopy=!0):o.lines=n,C(this,Du)&&(o.accessibilityData={type:"Figure",alt:C(this,Du)}),o}static deserializeDraw(t,n,A,i,s,o){return o.areContours?SR.deserialize(t,n,A,i,s,o):n2.deserialize(t,n,A,i,s,o)}static async deserialize(t,n,A){var s;const i=await super.deserialize(t,n,A);return he(i,rm,t.areContours),he(i,Du,((s=t.accessibilityData)==null?void 0:s.alt)||""),he(i,Am,t.uuid),i}};rm=new WeakMap,Du=new WeakMap,nm=new WeakMap,Am=new WeakMap,qt(Fu,"_type","signature"),qt(Fu,"_editorType",$r.SIGNATURE),qt(Fu,"_defaultDrawingOptions",null);let TR=Fu;var pi,bo,im,dp,sm,MB,pp,Py,Hf,Mu,HB,Yn,ib,sb,SF,FF,IF,LR,xF,bW;class QR extends YA{constructor(t){super({...t,name:"stampEditor"});Be(this,Yn);Be(this,pi,null);Be(this,bo,null);Be(this,im,null);Be(this,dp,null);Be(this,sm,null);Be(this,MB,"");Be(this,pp,null);Be(this,Py,!1);Be(this,Hf,null);Be(this,Mu,!1);Be(this,HB,!1);he(this,dp,t.bitmapUrl),he(this,sm,t.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,n){YA.initialize(t,n)}static isHandlingMimeForPasting(t){return _I.includes(t)}static paste(t,n){n.pasteEditor({mode:$r.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const n=t.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}async mlGuessAltText(t=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:A}=this._uiManager;if(!A)throw new Error("No ML.");if(!await A.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:i,width:s,height:o}=t||this.copyCanvas(null,null,!0).imageData,a=await A.guess({name:"altText",request:{data:i,width:s,height:o,channels:i.length/(s*o)}});if(!a)throw new Error("No response from the AI service.");if(a.error)throw new Error("Error from the AI service.");if(a.cancel)return null;if(!a.output)throw new Error("No valid response from the AI service.");const u=a.output;return await this.setGuessedAltText(u),n&&!this.hasAltTextData()&&(this.altTextData={alt:u,decorative:!1}),u}remove(){var t;C(this,bo)&&(he(this,pi,null),this._uiManager.imageManager.deleteId(C(this,bo)),(t=C(this,pp))==null||t.remove(),he(this,pp,null),C(this,Hf)&&(clearTimeout(C(this,Hf)),he(this,Hf,null))),super.remove()}rebuild(){if(!this.parent){C(this,bo)&&be(this,Yn,SF).call(this);return}super.rebuild(),this.div!==null&&(C(this,bo)&&C(this,pp)===null&&be(this,Yn,SF).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(C(this,im)||C(this,pi)||C(this,dp)||C(this,sm)||C(this,bo)||C(this,Py))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,n;return this._isCopy&&(t=this.x,n=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),C(this,Py)||(C(this,pi)?be(this,Yn,FF).call(this):be(this,Yn,SF).call(this)),this._isCopy&&this._moveAfterPaste(t,n),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,n){const{id:A,bitmap:i}=this._uiManager.imageManager.getFromCanvas(t,n);n.remove(),A&&this._uiManager.imageManager.isValidId(A)&&(he(this,bo,A),i&&he(this,pi,i),he(this,Py,!1),be(this,Yn,FF).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;C(this,Hf)!==null&&clearTimeout(C(this,Hf)),he(this,Hf,setTimeout(()=>{he(this,Hf,null),be(this,Yn,LR).call(this)},200))}copyCanvas(t,n,A=!1){var d;t||(t=224);const{width:i,height:s}=C(this,pi),o=new Hh;let a=C(this,pi),u=i,l=s,c=null;if(n){if(i>n||s>n){const U=Math.min(n/i,n/s);u=Math.floor(i*U),l=Math.floor(s*U)}c=document.createElement("canvas");const m=c.width=Math.ceil(u*o.sx),g=c.height=Math.ceil(l*o.sy);C(this,Mu)||(a=be(this,Yn,IF).call(this,m,g));const y=c.getContext("2d");y.filter=this._uiManager.hcmFilter;let v="white",w="#cfcfd8";this._uiManager.hcmFilter!=="none"?w="black":(d=window.matchMedia)!=null&&d.call(window,"(prefers-color-scheme: dark)").matches&&(v="#8f8f9d",w="#42414d");const b=15,B=b*o.sx,F=b*o.sy,N=new OffscreenCanvas(B*2,F*2),T=N.getContext("2d");T.fillStyle=v,T.fillRect(0,0,B*2,F*2),T.fillStyle=w,T.fillRect(0,0,B,F),T.fillRect(B,F,B,F),y.fillStyle=y.createPattern(N,"repeat"),y.fillRect(0,0,m,g),y.drawImage(a,0,0,a.width,a.height,0,0,m,g)}let h=null;if(A){let m,g;if(o.symmetric&&a.width<t&&a.height<t)m=a.width,g=a.height;else if(a=C(this,pi),i>t||s>t){const w=Math.min(t/i,t/s);m=Math.floor(i*w),g=Math.floor(s*w),C(this,Mu)||(a=be(this,Yn,IF).call(this,m,g))}const v=new OffscreenCanvas(m,g).getContext("2d",{willReadFrequently:!0});v.drawImage(a,0,0,a.width,a.height,0,0,m,g),h={width:m,height:g,data:v.getImageData(0,0,m,g).data}}return{canvas:c,width:u,height:l,imageData:h}}static async deserialize(t,n,A){var y;let i=null,s=!1;if(t instanceof kq){const{data:{rect:v,rotation:w,id:b,structParent:B,popupRef:F},container:N,parent:{page:{pageNumber:T}},canvas:U}=t;let k,D;U?(delete t.canvas,{id:k,bitmap:D}=A.imageManager.getFromCanvas(N.id,U),U.remove()):(s=!0,t._hasNoCanvas=!0);const _=((y=await n._structTree.getAriaAttributes(`${WO}${b}`))==null?void 0:y.get("aria-label"))||"";i=t={annotationType:$r.STAMP,bitmapId:k,bitmap:D,pageIndex:T-1,rect:v.slice(0),rotation:w,id:b,deleted:!1,accessibilityData:{decorative:!1,altText:_},isSvg:!1,structParent:B,popupRef:F}}const o=await super.deserialize(t,n,A),{rect:a,bitmap:u,bitmapUrl:l,bitmapId:c,isSvg:h,accessibilityData:d}=t;s?(A.addMissingCanvas(t.id,o),he(o,Py,!0)):c&&A.imageManager.isValidId(c)?(he(o,bo,c),u&&he(o,pi,u)):he(o,dp,l),he(o,Mu,h);const[m,g]=o.pageDimensions;return o.width=(a[2]-a[0])/m,o.height=(a[3]-a[1])/g,o.annotationElementId=t.id||null,d&&(o.altTextData=d),o._initialData=i,he(o,HB,!!i),o}serialize(t=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const A={annotationType:$r.STAMP,bitmapId:C(this,bo),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:C(this,Mu),structTreeParentId:this._structTreeParentId};if(t)return A.bitmapUrl=be(this,Yn,xF).call(this,!0),A.accessibilityData=this.serializeAltText(!0),A.isCopy=!0,A;const{decorative:i,altText:s}=this.serializeAltText(!1);if(!i&&s&&(A.accessibilityData={type:"Figure",alt:s}),this.annotationElementId){const a=be(this,Yn,bW).call(this,A);if(a.isSame)return null;a.isSameAltText?delete A.accessibilityData:A.accessibilityData.structParent=this._initialData.structParent??-1}if(A.id=this.annotationElementId,n===null)return A;n.stamps||(n.stamps=new Map);const o=C(this,Mu)?(A.rect[2]-A.rect[0])*(A.rect[3]-A.rect[1]):null;if(!n.stamps.has(C(this,bo)))n.stamps.set(C(this,bo),{area:o,serialized:A}),A.bitmap=be(this,Yn,xF).call(this,!1);else if(C(this,Mu)){const a=n.stamps.get(C(this,bo));o>a.area&&(a.area=o,a.serialized.bitmap.close(),a.serialized.bitmap=be(this,Yn,xF).call(this,!1))}return A}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}}pi=new WeakMap,bo=new WeakMap,im=new WeakMap,dp=new WeakMap,sm=new WeakMap,MB=new WeakMap,pp=new WeakMap,Py=new WeakMap,Hf=new WeakMap,Mu=new WeakMap,HB=new WeakMap,Yn=new WeakSet,ib=function(t,n=!1){if(!t){this.remove();return}he(this,pi,t.bitmap),n||(he(this,bo,t.id),he(this,Mu,t.isSvg)),t.file&&he(this,MB,t.file.name),be(this,Yn,FF).call(this)},sb=function(){if(he(this,im,null),this._uiManager.enableWaiting(!1),!!C(this,pp)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&C(this,pi)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&C(this,pi)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},SF=function(){if(C(this,bo)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(C(this,bo)).then(A=>be(this,Yn,ib).call(this,A,!0)).finally(()=>be(this,Yn,sb).call(this));return}if(C(this,dp)){const A=C(this,dp);he(this,dp,null),this._uiManager.enableWaiting(!0),he(this,im,this._uiManager.imageManager.getFromUrl(A).then(i=>be(this,Yn,ib).call(this,i)).finally(()=>be(this,Yn,sb).call(this)));return}if(C(this,sm)){const A=C(this,sm);he(this,sm,null),this._uiManager.enableWaiting(!0),he(this,im,this._uiManager.imageManager.getFromFile(A).then(i=>be(this,Yn,ib).call(this,i)).finally(()=>be(this,Yn,sb).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=_I.join(",");const n=this._uiManager._signal;he(this,im,new Promise(A=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const i=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),be(this,Yn,ib).call(this,i)}A()},{signal:n}),t.addEventListener("cancel",()=>{this.remove(),A()},{signal:n})}).finally(()=>be(this,Yn,sb).call(this))),t.click()},FF=function(){var c;const{div:t}=this;let{width:n,height:A}=C(this,pi);const[i,s]=this.pageDimensions,o=.75;if(this.width)n=this.width*i,A=this.height*s;else if(n>o*i||A>o*s){const h=Math.min(o*i/n,o*s/A);n*=h,A*=h}const[a,u]=this.parentDimensions;this.setDims(n*a/i,A*u/s),this._uiManager.enableWaiting(!1);const l=he(this,pp,document.createElement("canvas"));l.setAttribute("role","img"),this.addContainer(l),this.width=n/i,this.height=A/s,(c=this._initialOptions)!=null&&c.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),be(this,Yn,LR).call(this),C(this,HB)||(this.parent.addUndoableEditor(this),he(this,HB,!0)),this._reportTelemetry({action:"inserted_image"}),C(this,MB)&&this.div.setAttribute("aria-description",C(this,MB))},IF=function(t,n){const{width:A,height:i}=C(this,pi);let s=A,o=i,a=C(this,pi);for(;s>2*t||o>2*n;){const u=s,l=o;s>2*t&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2)),o>2*n&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const c=new OffscreenCanvas(s,o);c.getContext("2d").drawImage(a,0,0,u,l,0,0,s,o),a=c.transferToImageBitmap()}return a},LR=function(){const[t,n]=this.parentDimensions,{width:A,height:i}=this,s=new Hh,o=Math.ceil(A*t*s.sx),a=Math.ceil(i*n*s.sy),u=C(this,pp);if(!u||u.width===o&&u.height===a)return;u.width=o,u.height=a;const l=C(this,Mu)?C(this,pi):be(this,Yn,IF).call(this,o,a),c=u.getContext("2d");c.filter=this._uiManager.hcmFilter,c.drawImage(l,0,0,l.width,l.height,0,0,o,a)},xF=function(t){if(t){if(C(this,Mu)){const i=this._uiManager.imageManager.getSvgUrl(C(this,bo));if(i)return i}const n=document.createElement("canvas");return{width:n.width,height:n.height}=C(this,pi),n.getContext("2d").drawImage(C(this,pi),0,0),n.toDataURL()}if(C(this,Mu)){const[n,A]=this.pageDimensions,i=Math.round(this.width*n*kp.PDF_TO_CSS_UNITS),s=Math.round(this.height*A*kp.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(i,s);return o.getContext("2d").drawImage(C(this,pi),0,0,C(this,pi).width,C(this,pi).height,0,0,i,s),o.transferToImageBitmap()}return structuredClone(C(this,pi))},bW=function(t){var o;const{pageIndex:n,accessibilityData:{altText:A}}=this._initialData,i=t.pageIndex===n,s=(((o=t.accessibilityData)==null?void 0:o.alt)||"")===A;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&i&&s,isSameAltText:s}},qt(QR,"_type","stamp"),qt(QR,"_editorType",$r.STAMP);var Oy,jB,jf,om,gp,Ec,am,VB,ky,Th,mp,Ta,vp,Ir,lm,gi,EW,Ef,NR,RR,UF;const vh=class vh{constructor({uiManager:e,pageIndex:t,div:n,structTreeLayer:A,accessibilityManager:i,annotationLayer:s,drawLayer:o,textLayer:a,viewport:u,l10n:l}){Be(this,gi);Be(this,Oy);Be(this,jB,!1);Be(this,jf,null);Be(this,om,null);Be(this,gp,null);Be(this,Ec,new Map);Be(this,am,!1);Be(this,VB,!1);Be(this,ky,!1);Be(this,Th,null);Be(this,mp,null);Be(this,Ta,null);Be(this,vp,null);Be(this,Ir);const c=[...C(vh,lm).values()];if(!vh._initialized){vh._initialized=!0;for(const h of c)h.initialize(l,e)}e.registerEditorTypes(c),he(this,Ir,e),this.pageIndex=t,this.div=n,he(this,Oy,i),he(this,jf,s),this.viewport=u,he(this,Ta,a),this.drawLayer=o,this._structTree=A,C(this,Ir).addLayer(this)}get isEmpty(){return C(this,Ec).size===0}get isInvisible(){return this.isEmpty&&C(this,Ir).getMode()===$r.NONE}updateToolbar(e){C(this,Ir).updateToolbar(e)}updateMode(e=C(this,Ir).getMode()){switch(be(this,gi,UF).call(this),e){case $r.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case $r.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case $r.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const n of C(vh,lm).values())t.toggle(`${n._type}Editing`,e===n._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=C(this,Ta))==null?void 0:t.div)}setEditingState(e){C(this,Ir).setEditingState(e)}addCommands(e){C(this,Ir).addCommands(e)}cleanUndoStack(e){C(this,Ir).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=C(this,jf))==null||t.div.classList.toggle("disabled",!e)}async enable(){he(this,ky,!0),this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const n of C(this,Ec).values())n.enableEditing(),n.show(!0),n.annotationElementId&&(C(this,Ir).removeChangedExistingAnnotation(n),e.add(n.annotationElementId));if(!C(this,jf)){he(this,ky,!1);return}const t=C(this,jf).getEditableAnnotations();for(const n of t){if(n.hide(),C(this,Ir).isDeletedAnnotationElement(n.data.id)||e.has(n.data.id))continue;const A=await this.deserialize(n);A&&(this.addOrRebuild(A),A.enableEditing())}he(this,ky,!1)}disable(){var A;he(this,VB,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const i of C(this,Ec).values())if(i.disableEditing(),!!i.annotationElementId){if(i.serialize()!==null){e.set(i.annotationElementId,i);continue}else t.set(i.annotationElementId,i);(A=this.getEditableAnnotation(i.annotationElementId))==null||A.show(),i.remove()}if(C(this,jf)){const i=C(this,jf).getEditableAnnotations();for(const s of i){const{id:o}=s.data;if(C(this,Ir).isDeletedAnnotationElement(o))continue;let a=t.get(o);if(a){a.resetAnnotationElement(s),a.show(!1),s.show();continue}a=e.get(o),a&&(C(this,Ir).addChangedExistingAnnotation(a),a.renderAnnotationElement(s)&&a.show(!1)),s.show()}}be(this,gi,UF).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const i of C(vh,lm).values())n.remove(`${i._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),he(this,VB,!1)}getEditableAnnotation(e){var t;return((t=C(this,jf))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){C(this,Ir).getActive()!==e&&C(this,Ir).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=C(this,Ta))!=null&&e.div&&!C(this,vp)){he(this,vp,new AbortController);const t=C(this,Ir).combinedSignal(C(this,vp));C(this,Ta).div.addEventListener("pointerdown",be(this,gi,EW).bind(this),{signal:t}),C(this,Ta).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=C(this,Ta))!=null&&e.div&&C(this,vp)&&(C(this,vp).abort(),he(this,vp,null),C(this,Ta).div.classList.remove("highlighting"))}enableClick(){if(C(this,om))return;he(this,om,new AbortController);const e=C(this,Ir).combinedSignal(C(this,om));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){var e;(e=C(this,om))==null||e.abort(),he(this,om,null)}attach(e){C(this,Ec).set(e.id,e);const{annotationElementId:t}=e;t&&C(this,Ir).isDeletedAnnotationElement(t)&&C(this,Ir).removeDeletedAnnotationElement(e)}detach(e){var t;C(this,Ec).delete(e.id),(t=C(this,Oy))==null||t.removePointerInTextLayer(e.contentDiv),!C(this,VB)&&e.annotationElementId&&C(this,Ir).addDeletedAnnotationElement(e)}remove(e){this.detach(e),C(this,Ir).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(C(this,Ir).addDeletedAnnotationElement(e.annotationElementId),YA.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),C(this,Ir).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!C(this,ky)),C(this,Ir).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var n;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!C(this,gp)&&(e._focusEventsAllowed=!1,he(this,gp,setTimeout(()=>{he(this,gp,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:C(this,Ir)._signal}),t.focus())},0))),e._structTreeParentId=(n=C(this,Oy))==null?void 0:n.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),n=()=>{e.remove()};this.addCommands({cmd:t,undo:n,mustExec:!1})}getNextId(){return C(this,Ir).getId()}combinedSignal(e){return C(this,Ir).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=C(this,gi,Ef))==null?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await C(this,Ir).updateMode(e.mode);const{offsetX:n,offsetY:A}=be(this,gi,RR).call(this),i=this.getNextId(),s=be(this,gi,NR).call(this,{parent:this,id:i,x:n,y:A,uiManager:C(this,Ir),isCentered:!0,...t});s&&this.add(s)}async deserialize(e){var t;return await((t=C(vh,lm).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,C(this,Ir)))||null}createAndAddNewEditor(e,t,n={}){const A=this.getNextId(),i=be(this,gi,NR).call(this,{parent:this,id:A,x:e.offsetX,y:e.offsetY,uiManager:C(this,Ir),isCentered:t,...n});return i&&this.add(i),i}addNewEditor(e={}){this.createAndAddNewEditor(be(this,gi,RR).call(this),!0,e)}setSelected(e){C(this,Ir).setSelected(e)}toggleSelected(e){C(this,Ir).toggleSelected(e)}unselect(e){C(this,Ir).unselect(e)}pointerup(e){var A;const{isMac:t}=_o.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!C(this,am)||(he(this,am,!1),(A=C(this,gi,Ef))!=null&&A.isDrawer&&C(this,gi,Ef).supportMultipleDrawings))return;if(!C(this,jB)){he(this,jB,!0);return}const n=C(this,Ir).getMode();if(n===$r.STAMP||n===$r.SIGNATURE){C(this,Ir).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){var A;if(C(this,Ir).getMode()===$r.HIGHLIGHT&&this.enableTextSelection(),C(this,am)){he(this,am,!1);return}const{isMac:t}=_o.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(he(this,am,!0),(A=C(this,gi,Ef))!=null&&A.isDrawer){this.startDrawingSession(e);return}const n=C(this,Ir).getActive();he(this,jB,!n||n.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),C(this,Th)){C(this,gi,Ef).startDrawing(this,C(this,Ir),!1,e);return}C(this,Ir).setCurrentDrawingSession(this),he(this,Th,new AbortController);const t=C(this,Ir).combinedSignal(C(this,Th));this.div.addEventListener("blur",({relatedTarget:n})=>{n&&!this.div.contains(n)&&(he(this,mp,null),this.commitOrRemove())},{signal:t}),C(this,gi,Ef).startDrawing(this,C(this,Ir),!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&he(this,mp,t);return}C(this,mp)&&setTimeout(()=>{var t;(t=C(this,mp))==null||t.focus(),he(this,mp,null)},0)}endDrawingSession(e=!1){return C(this,Th)?(C(this,Ir).setCurrentDrawingSession(null),C(this,Th).abort(),he(this,Th,null),he(this,mp,null),C(this,gi,Ef).endDrawing(e)):null}findNewParent(e,t,n){const A=C(this,Ir).findParent(t,n);return A===null||A===this?!1:(A.changeParent(e),!0)}commitOrRemove(){return C(this,Th)?(this.endDrawingSession(),!0):!1}onScaleChanging(){C(this,Th)&&C(this,gi,Ef).onScaleChangingWhenDrawing(this)}destroy(){var e,t;this.commitOrRemove(),((e=C(this,Ir).getActive())==null?void 0:e.parent)===this&&(C(this,Ir).commitOrRemove(),C(this,Ir).setActiveEditor(null)),C(this,gp)&&(clearTimeout(C(this,gp)),he(this,gp,null));for(const n of C(this,Ec).values())(t=C(this,Oy))==null||t.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove();this.div=null,C(this,Ec).clear(),C(this,Ir).removeLayer(this)}render({viewport:e}){this.viewport=e,km(this.div,e);for(const t of C(this,Ir).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){C(this,Ir).commitOrRemove(),be(this,gi,UF).call(this);const t=this.viewport.rotation,n=e.rotation;if(this.viewport=e,km(this.div,{rotation:n}),t!==n)for(const A of C(this,Ec).values())A.rotate(n)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return C(this,Ir).viewParameters.realScale}};Oy=new WeakMap,jB=new WeakMap,jf=new WeakMap,om=new WeakMap,gp=new WeakMap,Ec=new WeakMap,am=new WeakMap,VB=new WeakMap,ky=new WeakMap,Th=new WeakMap,mp=new WeakMap,Ta=new WeakMap,vp=new WeakMap,Ir=new WeakMap,lm=new WeakMap,gi=new WeakSet,EW=function(e){C(this,Ir).unselectAll();const{target:t}=e;if(t===C(this,Ta).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&C(this,Ta).div.contains(t)){const{isMac:n}=_o.platform;if(e.button!==0||e.ctrlKey&&n)return;C(this,Ir).showAllEditors("highlight",!0,!0),C(this,Ta).div.classList.add("free"),this.toggleDrawing(),II.startHighlighting(this,C(this,Ir).direction==="ltr",{target:C(this,Ta).div,x:e.x,y:e.y}),C(this,Ta).div.addEventListener("pointerup",()=>{C(this,Ta).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:C(this,Ir)._signal}),e.preventDefault()}},Ef=function(){return C(vh,lm).get(C(this,Ir).getMode())},NR=function(e){const t=C(this,gi,Ef);return t?new t.prototype.constructor(e):null},RR=function(){const{x:e,y:t,width:n,height:A}=this.div.getBoundingClientRect(),i=Math.max(0,e),s=Math.max(0,t),o=Math.min(window.innerWidth,e+n),a=Math.min(window.innerHeight,t+A),u=(i+o)/2-e,l=(s+a)/2-t,[c,h]=this.viewport.rotation%180===0?[u,l]:[l,u];return{offsetX:c,offsetY:h}},UF=function(){for(const e of C(this,Ec).values())e.isEmpty()&&e.remove()},qt(vh,"_initialized",!1),Be(vh,lm,new Map([hR,_R,QR,II,TR].map(e=>[e._editorType,e])));let UI=vh;var Qh,hl,Dy,x_,YI,_W,nd,PR,SW,OR;const $s=class $s{constructor({pageIndex:e}){Be(this,nd);Be(this,Qh,null);Be(this,hl,new Map);Be(this,Dy,new Map);this.pageIndex=e}setParent(e){if(!C(this,Qh)){he(this,Qh,e);return}if(C(this,Qh)!==e){if(C(this,hl).size>0)for(const t of C(this,hl).values())t.remove(),e.append(t);he(this,Qh,e)}}static get _svgFactory(){return En(this,"_svgFactory",new tE)}draw(e,t=!1,n=!1){const A=Al($s,x_)._++,i=be(this,nd,PR).call(this),s=$s._svgFactory.createElement("defs");i.append(s);const o=$s._svgFactory.createElement("path");s.append(o);const a=`path_p${this.pageIndex}_${A}`;o.setAttribute("id",a),o.setAttribute("vector-effect","non-scaling-stroke"),t&&C(this,Dy).set(A,o);const u=n?be(this,nd,SW).call(this,s,a):null,l=$s._svgFactory.createElement("use");return i.append(l),l.setAttribute("href",`#${a}`),this.updateProperties(i,e),C(this,hl).set(A,i),{id:A,clipPathId:`url(#${u})`}}drawOutline(e,t){const n=Al($s,x_)._++,A=be(this,nd,PR).call(this),i=$s._svgFactory.createElement("defs");A.append(i);const s=$s._svgFactory.createElement("path");i.append(s);const o=`path_p${this.pageIndex}_${n}`;s.setAttribute("id",o),s.setAttribute("vector-effect","non-scaling-stroke");let a;if(t){const c=$s._svgFactory.createElement("mask");i.append(c),a=`mask_p${this.pageIndex}_${n}`,c.setAttribute("id",a),c.setAttribute("maskUnits","objectBoundingBox");const h=$s._svgFactory.createElement("rect");c.append(h),h.setAttribute("width","1"),h.setAttribute("height","1"),h.setAttribute("fill","white");const d=$s._svgFactory.createElement("use");c.append(d),d.setAttribute("href",`#${o}`),d.setAttribute("stroke","none"),d.setAttribute("fill","black"),d.setAttribute("fill-rule","nonzero"),d.classList.add("mask")}const u=$s._svgFactory.createElement("use");A.append(u),u.setAttribute("href",`#${o}`),a&&u.setAttribute("mask",`url(#${a})`);const l=u.cloneNode();return A.append(l),u.classList.add("mainOutline"),l.classList.add("secondaryOutline"),this.updateProperties(A,e),C(this,hl).set(n,A),n}finalizeDraw(e,t){C(this,Dy).delete(e),this.updateProperties(e,t)}updateProperties(e,t){var a;if(!t)return;const{root:n,bbox:A,rootClass:i,path:s}=t,o=typeof e=="number"?C(this,hl).get(e):e;if(o){if(n&&be(this,nd,OR).call(this,o,n),A&&be(a=$s,YI,_W).call(a,o,A),i){const{classList:u}=o;for(const[l,c]of Object.entries(i))u.toggle(l,c)}if(s){const l=o.firstChild.firstChild;be(this,nd,OR).call(this,l,s)}}}updateParent(e,t){if(t===this)return;const n=C(this,hl).get(e);n&&(C(t,Qh).append(n),C(this,hl).delete(e),C(t,hl).set(e,n))}remove(e){C(this,Dy).delete(e),C(this,Qh)!==null&&(C(this,hl).get(e).remove(),C(this,hl).delete(e))}destroy(){he(this,Qh,null);for(const e of C(this,hl).values())e.remove();C(this,hl).clear(),C(this,Dy).clear()}};Qh=new WeakMap,hl=new WeakMap,Dy=new WeakMap,x_=new WeakMap,YI=new WeakSet,_W=function(e,[t,n,A,i]){const{style:s}=e;s.top=`${100*n}%`,s.left=`${100*t}%`,s.width=`${100*A}%`,s.height=`${100*i}%`},nd=new WeakSet,PR=function(){const e=$s._svgFactory.create(1,1,!0);return C(this,Qh).append(e),e.setAttribute("aria-hidden",!0),e},SW=function(e,t){const n=$s._svgFactory.createElement("clipPath");e.append(n);const A=`clip_${t}`;n.setAttribute("id",A),n.setAttribute("clipPathUnits","objectBoundingBox");const i=$s._svgFactory.createElement("use");return n.append(i),i.setAttribute("href",`#${t}`),i.classList.add("clip"),A},OR=function(e,t){for(const[n,A]of Object.entries(t))A===null?e.removeAttribute(n):e.setAttribute(n,A)},Be($s,YI),Be($s,x_,0);let TI=$s;globalThis._pdfjsTestingUtils={HighlightOutliner:dR};globalThis.pdfjsLib={AbortException:Op,AnnotationEditorLayer:UI,AnnotationEditorParamsType:Qn,AnnotationEditorType:$r,AnnotationEditorUIManager:Dm,AnnotationLayer:nk,AnnotationMode:Vf,AnnotationType:rs,build:Sq,ColorPicker:rE,createValidAbsoluteUrl:GO,DOMSVGFactory:tE,DrawLayer:TI,FeatureTest:_o,fetchData:v1,getDocument:ZO,getFilenameFromUrl:wz,getPdfFilenameFromUrl:Bz,getUuid:qO,getXfaPageViewport:Cz,GlobalWorkerOptions:pl,ImageKind:Eb,InvalidPDFException:EI,isDataScheme:Z_,isPdfFile:hU,isValidExplicitDest:nq,MathClamp:La,noContextMenu:kc,normalizeUnicode:vz,OPS:Xb,OutputScale:Hh,PasswordResponses:gz,PDFDataRangeTransport:ek,PDFDateString:fU,PDFWorker:t1,PermissionFlag:pz,PixelsPerInch:kp,RenderingCancelledException:cU,ResponseException:Yb,setLayerDimensions:km,shadow:En,SignatureExtractor:Kf,stopEvent:os,SupportedImageMimeTypes:_I,TextLayer:Zb,TouchManager:Jb,updateUrlHash:zO,Util:Ur,VerbosityLevel:X_,version:y1,XfaLayer:tk};const t1e=Object.freeze(Object.defineProperty({__proto__:null,AbortException:Op,AnnotationEditorLayer:UI,AnnotationEditorParamsType:Qn,AnnotationEditorType:$r,AnnotationEditorUIManager:Dm,AnnotationLayer:nk,AnnotationMode:Vf,AnnotationType:rs,ColorPicker:rE,DOMSVGFactory:tE,DrawLayer:TI,FeatureTest:_o,GlobalWorkerOptions:pl,ImageKind:Eb,InvalidPDFException:EI,MathClamp:La,OPS:Xb,OutputScale:Hh,PDFDataRangeTransport:ek,PDFDateString:fU,PDFWorker:t1,PasswordResponses:gz,PermissionFlag:pz,PixelsPerInch:kp,RenderingCancelledException:cU,ResponseException:Yb,SignatureExtractor:Kf,SupportedImageMimeTypes:_I,TextLayer:Zb,TouchManager:Jb,Util:Ur,VerbosityLevel:X_,XfaLayer:tk,build:Sq,createValidAbsoluteUrl:GO,fetchData:v1,getDocument:ZO,getFilenameFromUrl:wz,getPdfFilenameFromUrl:Bz,getUuid:qO,getXfaPageViewport:Cz,isDataScheme:Z_,isPdfFile:hU,isValidExplicitDest:nq,noContextMenu:kc,normalizeUnicode:vz,setLayerDimensions:km,shadow:En,stopEvent:os,updateUrlHash:zO,version:y1},Symbol.toStringTag,{value:"Module"})),r1e=["onCopy","onCut","onPaste"],n1e=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],A1e=["onFocus","onBlur"],i1e=["onInput","onInvalid","onReset","onSubmit"],s1e=["onLoad","onError"],o1e=["onKeyDown","onKeyPress","onKeyUp"],a1e=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],l1e=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],u1e=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],c1e=["onSelect"],h1e=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],f1e=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],d1e=["onScroll"],p1e=["onWheel"],g1e=["onAnimationStart","onAnimationEnd","onAnimationIteration"],m1e=["onTransitionEnd"],v1e=["onToggle"],y1e=["onChange"],w1e=[...r1e,...n1e,...A1e,...i1e,...s1e,...o1e,...a1e,...l1e,...u1e,...c1e,...h1e,...f1e,...d1e,...p1e,...g1e,...m1e,...y1e,...v1e];function FW(r,e){const t={};for(const n of w1e){const A=r[n];A&&(e?t[n]=i=>A(i,e(n)):t[n]=A)}return t}function A2(r){let e=!1;return{promise:new Promise((n,A)=>{r.then(i=>!e&&n(i)).catch(i=>!e&&A(i))}),cancel(){e=!0}}}function IW(r){var e,t,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var A=r.length;for(e=0;e<A;e++)r[e]&&(t=IW(r[e]))&&(n&&(n+=" "),n+=t)}else for(t in r)r[t]&&(n&&(n+=" "),n+=t);return n}function gU(){for(var r,e,t=0,n="",A=arguments.length;t<A;t++)(r=arguments[t])&&(e=IW(r))&&(n&&(n+=" "),n+=e);return n}var B1e="Invariant failed";function HA(r,e){if(!r)throw new Error(B1e)}var jL,a8;function C1e(){if(a8)return jL;a8=1;var r=function(){};return jL=r,jL}var b1e=C1e();const Da=uw(b1e);var l8=Object.prototype.hasOwnProperty;function u8(r,e,t){for(t of r.keys())if(R0(t,e))return t}function R0(r,e){var t,n,A;if(r===e)return!0;if(r&&e&&(t=r.constructor)===e.constructor){if(t===Date)return r.getTime()===e.getTime();if(t===RegExp)return r.toString()===e.toString();if(t===Array){if((n=r.length)===e.length)for(;n--&&R0(r[n],e[n]););return n===-1}if(t===Set){if(r.size!==e.size)return!1;for(n of r)if(A=n,A&&typeof A=="object"&&(A=u8(e,A),!A)||!e.has(A))return!1;return!0}if(t===Map){if(r.size!==e.size)return!1;for(n of r)if(A=n[0],A&&typeof A=="object"&&(A=u8(e,A),!A)||!R0(n[1],e.get(A)))return!1;return!0}if(t===ArrayBuffer)r=new Uint8Array(r),e=new Uint8Array(e);else if(t===DataView){if((n=r.byteLength)===e.byteLength)for(;n--&&r.getInt8(n)===e.getInt8(n););return n===-1}if(ArrayBuffer.isView(r)){if((n=r.byteLength)===e.byteLength)for(;n--&&r[n]===e[n];);return n===-1}if(!t||typeof r=="object"){n=0;for(t in r)if(l8.call(r,t)&&++n&&!l8.call(e,t)||!(t in e)||!R0(r[t],e[t]))return!1;return Object.keys(e).length===n}}return r!==r&&e!==e}const xW=me.createContext(null);function P0({children:r,type:e}){return J.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:r})}const E1e="noopener noreferrer nofollow";class _1e{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return HA(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){HA(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(t=>{HA(this.pdfDocument),HA(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{HA(Array.isArray(t));const n=t[0];new Promise(A=>{HA(this.pdfDocument),n instanceof Object?this.pdfDocument.getPageIndex(n).then(i=>{A(i)}).catch(()=>{HA(!1)}):typeof n=="number"?A(n):HA(!1)}).then(A=>{const i=A+1;HA(this.pdfViewer),HA(i>=1&&i<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:A,pageNumber:i})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;HA(this.pdfViewer),HA(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,n){e.href=t,e.rel=this.externalLinkRel||E1e,e.target=n?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const c8={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},mU=typeof window<"u",UW=mU&&window.location.protocol==="file:";function S1e(r){return typeof r<"u"}function mv(r){return S1e(r)&&r!==null}function F1e(r){return typeof r=="string"}function I1e(r){return r instanceof ArrayBuffer}function x1e(r){return HA(mU),r instanceof Blob}function kR(r){return F1e(r)&&/^data:/.test(r)}function h8(r){HA(kR(r));const[e="",t=""]=r.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function U1e(){return mU&&window.devicePixelRatio||1}const TW="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function f8(){Da(!UW,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${TW}`)}function T1e(){Da(!UW,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${TW}`)}function lw(r){r!=null&&r.cancel&&r.cancel()}function DR(r,e){return Object.defineProperty(r,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(r,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(r,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(r,"originalHeight",{get(){return this.view[3]},configurable:!0}),r}function Q1e(r){return r.name==="RenderingCancelledException"}function L1e(r){return new Promise((e,t)=>{const n=new FileReader;n.onload=()=>{if(!n.result)return t(new Error("Error while reading a file."));e(n.result)},n.onerror=A=>{if(!A.target)return t(new Error("Error while reading a file."));const{error:i}=A.target;if(!i)return t(new Error("Error while reading a file."));switch(i.code){case i.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case i.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case i.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},n.readAsArrayBuffer(r)})}function N1e(r,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return r}}function r1(){return me.useReducer(N1e,{value:void 0,error:void 0})}var d8=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var A=0,n=Object.getOwnPropertySymbols(r);A<n.length;A++)e.indexOf(n[A])<0&&Object.prototype.propertyIsEnumerable.call(r,n[A])&&(t[n[A]]=r[n[A]]);return t};const{PDFDataRangeTransport:R1e}=t1e,P1e=(r,e)=>{switch(e){case c8.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");r(t);break}case c8.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");r(t);break}}};function p8(r){return typeof r=="object"&&r!==null&&("data"in r||"range"in r||"url"in r)}const vU=me.forwardRef(function(e,t){var{children:n,className:A,error:i="Failed to load PDF file.",externalLinkRel:s,externalLinkTarget:o,file:a,inputRef:u,imageResourcesPath:l,loading:c="Loading PDF",noData:h="No PDF file specified.",onItemClick:d,onLoadError:m,onLoadProgress:g,onLoadSuccess:y,onPassword:v=P1e,onSourceError:w,onSourceSuccess:b,options:B,renderMode:F,rotate:N,scale:T}=e,U=d8(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate","scale"]);const[k,D]=r1(),{value:_,error:L}=k,[O,V]=r1(),{value:$,error:Y}=O,re=me.useRef(new _1e),le=me.useRef([]),ne=me.useRef(void 0),te=me.useRef(void 0);a&&a!==ne.current&&p8(a)&&(Da(!R0(a,ne.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),ne.current=a),B&&B!==te.current&&(Da(!R0(B,te.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),te.current=B);const G=me.useRef({scrollPageIntoView:pt=>{const{dest:Ke,pageNumber:Le,pageIndex:Ut=Le-1}=pt;if(d){d({dest:Ke,pageIndex:Ut,pageNumber:Le});return}const ke=le.current[Ut];if(ke){ke.scrollIntoView();return}Da(!1,`An internal link leading to page ${Le} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});me.useImperativeHandle(t,()=>({linkService:re,pages:le,viewer:G}),[]);function H(){b&&b()}function z(){L&&(Da(!1,L.toString()),w&&w(L))}function oe(){D({type:"RESET"})}me.useEffect(oe,[a,D]);const ae=me.useCallback(async()=>{if(!a)return null;if(typeof a=="string")return kR(a)?{data:h8(a)}:(f8(),{url:a});if(a instanceof R1e)return{range:a};if(I1e(a))return{data:a};if(mU&&x1e(a))return{data:await L1e(a)};if(HA(typeof a=="object"),HA(p8(a)),"url"in a&&typeof a.url=="string"){if(kR(a.url)){const{url:pt}=a,Ke=d8(a,["url"]),Le=h8(pt);return Object.assign({data:Le},Ke)}f8()}return a},[a]);me.useEffect(()=>{const pt=A2(ae());return pt.promise.then(Ke=>{D({type:"RESOLVE",value:Ke})}).catch(Ke=>{D({type:"REJECT",error:Ke})}),()=>{lw(pt)}},[ae,D]),me.useEffect(()=>{if(!(typeof _>"u")){if(_===!1){z();return}H()}},[_]);function ie(){$&&(y&&y($),le.current=new Array($.numPages),re.current.setDocument($))}function pe(){Y&&(Da(!1,Y.toString()),m&&m(Y))}me.useEffect(function(){V({type:"RESET"})},[V,_]),me.useEffect(function(){if(!_)return;const Ke=B?Object.assign(Object.assign({},_),B):_,Le=ZO(Ke);g&&(Le.onProgress=g),v&&(Le.onPassword=v);const Ut=Le,ke=Ut.promise.then(Me=>{V({type:"RESOLVE",value:Me})}).catch(Me=>{Ut.destroyed||V({type:"REJECT",error:Me})});return()=>{ke.finally(()=>Ut.destroy())}},[B,V,_]),me.useEffect(()=>{if(!(typeof $>"u")){if($===!1){pe();return}ie()}},[$]),me.useEffect(function(){re.current.setViewer(G.current),re.current.setExternalLinkRel(s),re.current.setExternalLinkTarget(o)},[s,o]);const Ce=me.useCallback((pt,Ke)=>{le.current[pt]=Ke},[]),Ie=me.useCallback(pt=>{delete le.current[pt]},[]),Qe=me.useMemo(()=>({imageResourcesPath:l,linkService:re.current,onItemClick:d,pdf:$,registerPage:Ce,renderMode:F,rotate:N,scale:T,unregisterPage:Ie}),[l,d,$,Ce,F,N,T,Ie]),qe=me.useMemo(()=>FW(U,()=>$),[U,$]);function et(){return J.jsx(xW.Provider,{value:Qe,children:n})}function nt(){return a?$==null?J.jsx(P0,{type:"loading",children:typeof c=="function"?c():c}):$===!1?J.jsx(P0,{type:"error",children:typeof i=="function"?i():i}):et():J.jsx(P0,{type:"no-data",children:typeof h=="function"?h():h})}return J.jsx("div",Object.assign({className:gU("react-pdf__Document",A),ref:u},qe,{children:nt()}))});function QW(){return me.useContext(xW)}function LW(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=r.filter(Boolean);if(t.length<=1){var n=t[0];return n||null}return function(i){for(var s=0,o=t;s<o.length;s++){var a=o[s];typeof a=="function"?a(i):a&&(a.current=i)}}}const NW=me.createContext(null),RW={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},O1e=/^H(\d+)$/;function k1e(r){return r in RW}function yU(r){return"children"in r}function PW(r){return yU(r)?r.children.length===1&&0 in r.children&&"id"in r.children[0]:!1}function D1e(r){const e={};if(yU(r)){const{role:t}=r,n=t.match(O1e);if(n)e.role="heading",e["aria-level"]=Number(n[1]);else if(k1e(t)){const A=RW[t];A&&(e.role=A)}}return e}function OW(r){const e={};if(yU(r)){if(r.alt!==void 0&&(e["aria-label"]=r.alt),r.lang!==void 0&&(e.lang=r.lang),PW(r)){const[t]=r.children;if(t){const n=OW(t);return Object.assign(Object.assign({},e),n)}}}else"id"in r&&(e["aria-owns"]=r.id);return e}function M1e(r){return r?Object.assign(Object.assign({},D1e(r)),OW(r)):null}function kW({className:r,node:e}){const t=me.useMemo(()=>M1e(e),[e]),n=me.useMemo(()=>!yU(e)||PW(e)?null:e.children.map((A,i)=>J.jsx(kW,{node:A},i)),[e]);return J.jsx("span",Object.assign({className:r},t,{children:n}))}function wU(){return me.useContext(NW)}function H1e(){const r=wU();HA(r);const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=r,[n,A]=r1(),{value:i,error:s}=n,{customTextRenderer:o,page:a}=r;function u(){i&&t&&t(i)}function l(){s&&(Da(!1,s.toString()),e&&e(s))}return me.useEffect(function(){A({type:"RESET"})},[A,a]),me.useEffect(function(){if(o||!a)return;const h=A2(a.getStructTree()),d=h;return h.promise.then(m=>{A({type:"RESOLVE",value:m})}).catch(m=>{A({type:"REJECT",error:m})}),()=>lw(d)},[o,a,A]),me.useEffect(()=>{if(i!==void 0){if(i===!1){l();return}u()}},[i]),i?J.jsx(kW,{className:"react-pdf__Page__structTree structTree",node:i}):null}const g8=Vf;function j1e(r){const e=wU();HA(e);const t=Object.assign(Object.assign({},e),r),{_className:n,canvasBackground:A,devicePixelRatio:i=U1e(),onRenderError:s,onRenderSuccess:o,page:a,renderForms:u,renderTextLayer:l,rotate:c,scale:h}=t,{canvasRef:d}=r;HA(a);const m=me.useRef(null);function g(){a&&o&&o(DR(a,h))}function y(B){Q1e(B)||(Da(!1,B.toString()),s&&s(B))}const v=me.useMemo(()=>a.getViewport({scale:h*i,rotation:c}),[i,a,c,h]),w=me.useMemo(()=>a.getViewport({scale:h,rotation:c}),[a,c,h]);me.useEffect(function(){if(!a)return;a.cleanup();const{current:F}=m;if(!F)return;F.width=v.width,F.height=v.height,F.style.width=`${Math.floor(w.width)}px`,F.style.height=`${Math.floor(w.height)}px`,F.style.visibility="hidden";const N={annotationMode:u?g8.ENABLE_FORMS:g8.ENABLE,canvasContext:F.getContext("2d",{alpha:!1}),viewport:v};A&&(N.background=A);const T=a.render(N),U=T;return T.promise.then(()=>{F.style.visibility="",g()}).catch(y),()=>lw(U)},[A,a,u,v,w]);const b=me.useCallback(()=>{const{current:B}=m;B&&(B.width=0,B.height=0)},[]);return me.useEffect(()=>b,[b]),J.jsx("canvas",{className:`${n}__canvas`,dir:"ltr",ref:LW(d,m),style:{display:"block",userSelect:"none"},children:l?J.jsx(H1e,{}):null})}function V1e(r){return"str"in r}function K1e(){const r=wU();HA(r);const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:n,onRenderTextLayerError:A,onRenderTextLayerSuccess:i,page:s,pageIndex:o,pageNumber:a,rotate:u,scale:l}=r;HA(s);const[c,h]=r1(),{value:d,error:m}=c,g=me.useRef(null);Da(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function y(){d&&n&&n(d)}function v(){m&&(Da(!1,m.toString()),t&&t(m))}me.useEffect(function(){h({type:"RESET"})},[s,h]),me.useEffect(function(){if(!s)return;const U=A2(s.getTextContent()),k=U;return U.promise.then(D=>{h({type:"RESOLVE",value:D})}).catch(D=>{h({type:"REJECT",error:D})}),()=>lw(k)},[s,h]),me.useEffect(()=>{if(d!==void 0){if(d===!1){v();return}y()}},[d]);const w=me.useCallback(()=>{i&&i()},[i]),b=me.useCallback(T=>{Da(!1,T.toString()),A&&A(T)},[A]);function B(){const T=g.current;T&&T.classList.add("selecting")}function F(){const T=g.current;T&&T.classList.remove("selecting")}const N=me.useMemo(()=>s.getViewport({scale:l,rotation:u}),[s,u,l]);return me.useLayoutEffect(function(){if(!s||!d)return;const{current:U}=g;if(!U)return;U.innerHTML="";const k=s.streamTextContent({includeMarkedContent:!0}),D={container:U,textContentSource:k,viewport:N},_=new Zb(D),L=_;return _.render().then(()=>{const O=document.createElement("div");O.className="endOfContent",U.append(O);const V=U.querySelectorAll('[role="presentation"]');if(e){let $=0;d.items.forEach((Y,re)=>{if(!V1e(Y))return;const le=V[$];if(!le)return;const ne=e(Object.assign({pageIndex:o,pageNumber:a,itemIndex:re},Y));le.innerHTML=ne,$+=Y.str&&Y.hasEOL?2:1})}w()}).catch(b),()=>lw(L)},[e,b,w,s,o,a,d,N]),J.jsx("div",{className:gU("react-pdf__Page__textContent","textLayer"),onMouseUp:F,onMouseDown:B,ref:g})}function G1e(){const r=QW(),e=wU();HA(e);const t=Object.assign(Object.assign({},r),e),{imageResourcesPath:n,linkService:A,onGetAnnotationsError:i,onGetAnnotationsSuccess:s,onRenderAnnotationLayerError:o,onRenderAnnotationLayerSuccess:a,page:u,pdf:l,renderForms:c,rotate:h,scale:d=1}=t;HA(l),HA(u),HA(A);const[m,g]=r1(),{value:y,error:v}=m,w=me.useRef(null);Da(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function b(){y&&s&&s(y)}function B(){v&&(Da(!1,v.toString()),i&&i(v))}me.useEffect(function(){g({type:"RESET"})},[g,u]),me.useEffect(function(){if(!u)return;const k=A2(u.getAnnotations()),D=k;return k.promise.then(_=>{g({type:"RESOLVE",value:_})}).catch(_=>{g({type:"REJECT",error:_})}),()=>{lw(D)}},[g,u]),me.useEffect(()=>{if(y!==void 0){if(y===!1){B();return}b()}},[y]);function F(){a&&a()}function N(U){Da(!1,`${U}`),o&&o(U)}const T=me.useMemo(()=>u.getViewport({scale:d,rotation:h}),[u,h,d]);return me.useEffect(function(){if(!l||!u||!A||!y)return;const{current:k}=w;if(!k)return;const D=T.clone({dontFlip:!0}),_={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:k,l10n:null,page:u,structTreeLayer:null,viewport:D},L={annotations:y,annotationStorage:l.annotationStorage,div:k,imageResourcesPath:n,linkService:A,page:u,renderForms:c,viewport:D};k.innerHTML="";try{new nk(_).render(L),F()}catch(O){N(O)}return()=>{}},[y,n,A,u,l,c,T]),J.jsx("div",{className:gU("react-pdf__Page__annotations","annotationLayer"),ref:w})}var z1e=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var A=0,n=Object.getOwnPropertySymbols(r);A<n.length;A++)e.indexOf(n[A])<0&&Object.prototype.propertyIsEnumerable.call(r,n[A])&&(t[n[A]]=r[n[A]]);return t};const m8=1;function BU(r){const e=QW(),t=Object.assign(Object.assign({},e),r),{_className:n="react-pdf__Page",_enableRegisterUnregisterPage:A=!0,canvasBackground:i,canvasRef:s,children:o,className:a,customRenderer:u,customTextRenderer:l,devicePixelRatio:c,error:h="Failed to load the page.",height:d,inputRef:m,loading:g="Loading page",noData:y="No page specified.",onGetAnnotationsError:v,onGetAnnotationsSuccess:w,onGetStructTreeError:b,onGetStructTreeSuccess:B,onGetTextError:F,onGetTextSuccess:N,onLoadError:T,onLoadSuccess:U,onRenderAnnotationLayerError:k,onRenderAnnotationLayerSuccess:D,onRenderError:_,onRenderSuccess:L,onRenderTextLayerError:O,onRenderTextLayerSuccess:V,pageIndex:$,pageNumber:Y,pdf:re,registerPage:le,renderAnnotationLayer:ne=!0,renderForms:te=!1,renderMode:G="canvas",renderTextLayer:H=!0,rotate:z,scale:oe=m8,unregisterPage:ae,width:ie}=t,pe=z1e(t,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Ce,Ie]=r1(),{value:Qe,error:qe}=Ce,et=me.useRef(null);HA(re);const nt=mv(Y)?Y-1:$??null,pt=Y??(mv($)?$+1:null),Ke=z??(Qe?Qe.rotate:null),Le=me.useMemo(()=>{if(!Qe)return null;let ge=1;const X=oe??m8;if(ie||d){const Ae=Qe.getViewport({scale:1,rotation:Ke});ie?ge=ie/Ae.width:d&&(ge=d/Ae.height)}return X*ge},[d,Qe,Ke,oe,ie]);me.useEffect(function(){return()=>{mv(nt)&&A&&ae&&ae(nt)}},[A,re,nt,ae]);function Ut(){if(U){if(!Qe||!Le)return;U(DR(Qe,Le))}if(A&&le){if(!mv(nt)||!et.current)return;le(nt,et.current)}}function ke(){qe&&(Da(!1,qe.toString()),T&&T(qe))}me.useEffect(function(){Ie({type:"RESET"})},[Ie,re,nt]),me.useEffect(function(){if(!re||!pt)return;const X=A2(re.getPage(pt)),Ae=X;return X.promise.then(de=>{Ie({type:"RESOLVE",value:de})}).catch(de=>{Ie({type:"REJECT",error:de})}),()=>lw(Ae)},[Ie,re,pt]),me.useEffect(()=>{if(Qe!==void 0){if(Qe===!1){ke();return}Ut()}},[Qe,Le]);const Me=me.useMemo(()=>Qe&&mv(nt)&&pt&&mv(Ke)&&mv(Le)?{_className:n,canvasBackground:i,customTextRenderer:l,devicePixelRatio:c,onGetAnnotationsError:v,onGetAnnotationsSuccess:w,onGetStructTreeError:b,onGetStructTreeSuccess:B,onGetTextError:F,onGetTextSuccess:N,onRenderAnnotationLayerError:k,onRenderAnnotationLayerSuccess:D,onRenderError:_,onRenderSuccess:L,onRenderTextLayerError:O,onRenderTextLayerSuccess:V,page:Qe,pageIndex:nt,pageNumber:pt,renderForms:te,renderTextLayer:H,rotate:Ke,scale:Le}:null,[n,i,l,c,v,w,b,B,F,N,k,D,_,L,O,V,Qe,nt,pt,te,H,Ke,Le]),it=me.useMemo(()=>FW(pe,()=>Qe&&(Le?DR(Qe,Le):void 0)),[pe,Qe,Le]),ut=`${nt}@${Le}/${Ke}`;function ze(){switch(G){case"custom":return HA(u),J.jsx(u,{},`${ut}_custom`);case"none":return null;case"canvas":default:return J.jsx(j1e,{canvasRef:s},`${ut}_canvas`)}}function Ve(){return H?J.jsx(K1e,{},`${ut}_text`):null}function At(){return ne?J.jsx(G1e,{},`${ut}_annotations`):null}function lt(){return J.jsxs(NW.Provider,{value:Me,children:[ze(),Ve(),At(),o]})}function yt(){return pt?re===null||Qe===void 0||Qe===null?J.jsx(P0,{type:"loading",children:typeof g=="function"?g():g}):re===!1||Qe===!1?J.jsx(P0,{type:"error",children:typeof h=="function"?h():h}):lt():J.jsx(P0,{type:"no-data",children:typeof y=="function"?y():y})}return J.jsx("div",Object.assign({className:gU(n,a),"data-page-number":pt,ref:LW(m,et),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${Le}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:i||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},it,{children:yt()}))}T1e();pl.workerSrc="pdf.worker.mjs";const Mo=[];for(let r=0;r<256;++r)Mo.push((r+256).toString(16).slice(1));function q1e(r,e=0){return(Mo[r[e+0]]+Mo[r[e+1]]+Mo[r[e+2]]+Mo[r[e+3]]+"-"+Mo[r[e+4]]+Mo[r[e+5]]+"-"+Mo[r[e+6]]+Mo[r[e+7]]+"-"+Mo[r[e+8]]+Mo[r[e+9]]+"-"+Mo[r[e+10]]+Mo[r[e+11]]+Mo[r[e+12]]+Mo[r[e+13]]+Mo[r[e+14]]+Mo[r[e+15]]).toLowerCase()}let VL;const W1e=new Uint8Array(16);function $1e(){if(!VL){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");VL=crypto.getRandomValues.bind(crypto)}return VL(W1e)}const X1e=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),v8={randomUUID:X1e};function QI(r,e,t){var A;if(v8.randomUUID&&!r)return v8.randomUUID();r=r||{};const n=r.random??((A=r.rng)==null?void 0:A.call(r))??$1e();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,q1e(n)}pl.workerSrc=`//unpkg.com/pdfjs-dist@${y1}/build/pdf.worker.min.js`;const Y1e=()=>{const[r,e]=me.useState(null),[t,n]=me.useState(null),[A,i]=me.useState(null),[s,o]=me.useState(1),[a,u]=me.useState(0),[l,c]=me.useState(!0),[h,d]=me.useState(null),[m,g]=me.useState(""),[y,v]=me.useState(""),[w,b]=me.useState({}),[B,F]=me.useState(!1),[N,T]=me.useState({id:null,questionNumber:"",type:"MCQ",marks:"",correctAnswer:"",correctAnswerFile:null,options:""}),[U,k]=me.useState("");me.useEffect(()=>{const H=a1(Mh,async z=>{d(z),c(!1)});return()=>H()},[]);const D=({numPages:H})=>{u(H),o(1)},_=async H=>{const z=H.target.files[0];if(g(""),b({}),k(""),e(null),n(null),i(null),o(1),u(0),!z)return;const oe=z.type;if(n(oe),oe==="application/pdf"){const ae=new FileReader;ae.onload=ie=>{const pe=ie.target.result;i(pe),e(z)},ae.onerror=()=>{g("Failed to read PDF file.")},ae.readAsArrayBuffer(z)}else if(oe==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"||z.name.endsWith(".docx"))try{const ae=new FormData;ae.append("file",z);const ie=await ai.post("http://localhost:10000/convert-docx-to-pdf",ae,{responseType:"blob"}),pe=new Blob([ie.data],{type:"application/pdf"}),Ce=URL.createObjectURL(pe);i(Ce),e(z),o(1),u(0)}catch(ae){console.error(ae),g("Failed to convert DOCX to PDF.")}else g("Unsupported file type. Please upload PDF or DOCX.")},L=()=>{o(H=>Math.max(H-1,1))},O=()=>{o(H=>Math.min(H+1,a))},V=()=>{T({id:null,questionNumber:"",type:"MCQ",marks:"",correctAnswer:"",correctAnswerFile:null,options:""}),F(!0)},$=()=>{F(!1)},Y=H=>{if(!H.marks||isNaN(Number(H.marks))||Number(H.marks)<0)return!1;if(H.type==="MCQ"){if(!H.options||H.options.trim()===""||!H.correctAnswer||H.correctAnswer.length===0)return!1;const z=H.options.split(",").map(ie=>ie.trim().toUpperCase());if(!H.correctAnswer.split(",").map(ie=>ie.trim().toUpperCase()).filter(Boolean).every(ie=>z.includes(ie)))return!1}return!(H.type==="Open-ended"&&(!H.correctAnswer||H.correctAnswer.trim()==="")||H.type==="Other"&&!H.correctAnswerFile)},re=H=>{if(H.type==="MCQ")return H.correctAnswer.split(",").map(z=>z.trim().toUpperCase());if(H.type==="Open-ended")return H.correctAnswer.trim();if(H.type==="Other")return H.correctAnswerFile},le=()=>{Y(N)&&(b(H=>{var ae;const z=H[s]||[];let oe;return N.id?oe=z.map(ie=>{var pe;return ie.id===N.id?{...N,marks:Number(N.marks),correctAnswer:re(N),options:N.type==="MCQ"?(pe=N.options)==null?void 0:pe.split(",").map(Ce=>Ce.trim().toUpperCase()):void 0}:ie}):oe=[...z,{...N,id:QI(),marks:Number(N.marks),correctAnswer:re(N),options:N.type==="MCQ"?(ae=N.options)==null?void 0:ae.split(",").map(ie=>ie.trim().toUpperCase()):void 0}],{...H,[s]:oe}}),F(!1))},ne=(H,z)=>{b(oe=>{const ie=(oe[H]||[]).filter(pe=>pe.id!==z);return{...oe,[H]:ie}})},te=(H,z)=>{T({...z,questionNumber:z.questionNumber||"",correctAnswer:Array.isArray(z.correctAnswer)?z.correctAnswer.join(","):z.correctAnswer,correctAnswerFile:z.correctAnswerFile||null,options:Array.isArray(z.options)?z.options.join(","):z.options||""}),F(!0)},G=async()=>{if(!y.trim()||!A||!h){g("Missing paper title, PDF data, or user not logged in.");return}const H=QI(),z=mi(wm(yA,"users",h.uid,"testpapers"),H),oe=Sx();let ae="";try{const ie=XB(oe,`testpapers/${h.uid}/${H}/${r.name}`);await YF(ie,r),ae=await JF(ie),k(ae)}catch(ie){console.error("Error uploading test paper file:",ie),g("Failed to upload test paper file.");return}try{const ie=await Promise.all(Object.entries(w).map(async([pe,Ce])=>{const Ie=await Promise.all(Ce.map(async Qe=>{let qe=Qe.correctAnswer;if(Qe.type==="Other"&&Qe.correctAnswer instanceof File)try{const et=XB(oe,`testpapers/${h.uid}/${H}/answers/${Qe.correctAnswer.name}`);await YF(et,Qe.correctAnswer);const nt=await JF(et);qe={name:Qe.correctAnswer.name,url:nt}}catch(et){throw console.error("Error uploading answer file:",et),g("Failed to upload answer file."),et}return{id:Qe.id,type:Qe.type,questionNumber:Qe.questionNumber||"",marks:Number(Qe.marks),correctAnswer:Qe.type==="MCQ"?typeof Qe.correctAnswer=="string"?Qe.correctAnswer.split(",").map(et=>et.trim().toUpperCase()):Qe.correctAnswer:qe,options:Qe.type==="MCQ"?typeof Qe.options=="string"?Qe.options.split(",").map(et=>et.trim().toUpperCase()):Qe.options:Qe.options||[]}}));return{page:Number(pe),questions:Ie}}));await $P(z,{paperTitle:y,uploadedAt:new Date().toISOString(),numPages:a,fileName:r.name,fileUrl:ae,questionsByPage:ie}),alert("Test paper submitted successfully!")}catch(ie){console.error("Error submitting test paper:",ie),g("Failed to submit test paper to Firestore.")}};return J.jsxs("div",{className:"upload-container",children:[J.jsx(Pc,{}),J.jsx("main",{}),J.jsxs("div",{className:"upload-card",children:[J.jsx("h1",{className:"upload-title",children:"Upload Test Paper"}),J.jsxs("div",{className:"title-input-section",children:[J.jsx("label",{htmlFor:"paperTitle",children:"Test Paper Title:"}),J.jsx("input",{id:"paperTitle",type:"text",placeholder:"Enter test paper title",value:y,onChange:H=>v(H.target.value),required:!0})]}),J.jsxs("div",{className:"file-upload-section",children:[J.jsx("label",{children:"Upload PDF/DOCX:"}),J.jsx("br",{}),J.jsxs("label",{className:"custom-file-upload",children:["Choose File",J.jsx("input",{type:"file",accept:".pdf,.docx,application/pdf,application/vnd.openxmlformats-officedocument.wordprocessingml.document",onChange:_})]}),r&&J.jsx("div",{className:"selected-filename",children:r.name})]}),m&&J.jsx("div",{className:"error-message",children:m}),r&&A&&J.jsxs("div",{children:[J.jsx(vU,{file:A,onLoadSuccess:D,onLoadError:H=>{console.error("PDF load error:",H),g("Failed to load PDF file.")},loading:"Loading PDF...",error:"Failed to load PDF.",children:J.jsx(BU,{pageNumber:s})}),J.jsxs("div",{className:"pdf-nav",children:[J.jsx("button",{onClick:L,disabled:s<=1,"aria-label":"Previous Page",children:""}),J.jsxs("span",{children:["Page ",s," of ",a]}),J.jsx("button",{onClick:O,disabled:s>=a,"aria-label":"Next Page",children:""})]}),J.jsxs("div",{className:"question-panel",children:[(w[s]||[]).length===0&&J.jsx("p",{children:"No questions added for this page."}),J.jsx("ul",{children:(w[s]||[]).map(H=>{var z,oe;return J.jsxs("li",{children:[J.jsxs("strong",{children:[H.questionNumber,"."]})," ",H.type,"  Marks: ",H.marks,"  Correct Answer:",H.type==="Other"?(z=H.correctAnswer)!=null&&z.url?J.jsx("a",{href:H.correctAnswer.url,target:"_blank",rel:"noopener noreferrer",className:"question-answer-link",children:H.correctAnswer.name||"PDF/DOCX file"}):H.correctAnswer instanceof File?J.jsx("a",{href:URL.createObjectURL(H.correctAnswer),target:"_blank",rel:"noopener noreferrer",className:"question-answer-link",children:H.correctAnswer.name}):J.jsx("span",{className:"fallback-answer",children:((oe=H.correctAnswer)==null?void 0:oe.name)||"PDF/DOCX file (not uploaded)"}):J.jsx("span",{className:"open-ended-answer",title:Array.isArray(H.correctAnswer)?H.correctAnswer.join(", "):H.correctAnswer,children:Array.isArray(H.correctAnswer)?H.correctAnswer.join(", "):H.correctAnswer}),J.jsx("button",{onClick:()=>ne(s,H.id),className:"delete-question-button","aria-label":"Delete question",children:"Delete"}),J.jsx("button",{onClick:()=>te(s,H),className:"edit-question-button","aria-label":"Edit question",children:"Edit"})]},H.id)})}),J.jsx("button",{onClick:()=>V(),className:"add-question-button",children:"+ Add Question"}),B&&J.jsxs("div",{className:"question-form",children:[J.jsx("h4",{children:N.id?"Edit Question":"New Question"}),J.jsxs("label",{children:["Question Number (e.g. 2a, 3bii):",J.jsx("input",{type:"text",value:N.questionNumber,onChange:H=>T(z=>({...z,questionNumber:H.target.value}))})]}),J.jsxs("label",{children:["Question Type:",J.jsxs("select",{value:N.type,onChange:H=>T(z=>({...z,type:H.target.value,correctAnswer:"",correctAnswerFile:null})),children:[J.jsx("option",{value:"MCQ",children:"MCQ"}),J.jsx("option",{value:"Open-ended",children:"Open-ended"}),J.jsx("option",{value:"Other",children:"Other"})]})]}),J.jsx("br",{}),J.jsxs("label",{children:["Marks:",J.jsx("input",{type:"number",min:"0",value:N.marks,onChange:H=>T(z=>({...z,marks:H.target.value}))})]}),N.type==="MCQ"&&J.jsxs(J.Fragment,{children:[J.jsxs("label",{children:["MCQ Options (comma-separated):",J.jsx("input",{type:"text",placeholder:"E.g. A,B,C,D or 1,2,3,4 or True,False",value:N.options||"",onChange:H=>T(z=>({...z,options:H.target.value.toUpperCase()}))})]}),J.jsxs("label",{children:["Correct Answer(s) (comma-separated):",J.jsx("input",{type:"text",placeholder:"E.g. A,B",value:N.correctAnswer,onChange:H=>T(z=>({...z,correctAnswer:H.target.value.toUpperCase()}))})]})]}),N.type==="Open-ended"&&J.jsxs("label",{children:["Correct Answer:",J.jsx("input",{type:"text",value:N.correctAnswer,onChange:H=>T(z=>({...z,correctAnswer:H.target.value}))})]}),N.type==="Other"&&J.jsxs("div",{className:"file-upload-wrapper",children:[J.jsx("label",{htmlFor:"correctAnswerFile",children:"Upload Correct Answer File (PDF/DOCX):"}),J.jsxs("label",{className:"custom-file-upload",children:["Choose File",J.jsx("input",{id:"correctAnswerFile",type:"file",accept:".pdf,.docx",onChange:H=>T(z=>({...z,correctAnswerFile:H.target.files[0]}))})]}),N.correctAnswerFile&&J.jsx("a",{className:"selected-filename",href:N.correctAnswerFile instanceof File?URL.createObjectURL(N.correctAnswerFile):N.correctAnswerFile.url||"#",target:"_blank",rel:"noopener noreferrer",children:N.correctAnswerFile.name||(typeof N.correctAnswerFile=="string"?N.correctAnswerFile:"Answer File")})]}),J.jsxs("div",{children:[J.jsx("button",{onClick:le,disabled:!Y(N),children:"Save Question"}),J.jsx("button",{onClick:$,children:"Cancel"})]})]})]})]}),J.jsx("div",{className:"submit-testpaper-container",children:J.jsx("button",{onClick:G,className:"submit-testpaper-button",children:"Upload Test Paper"})}),U&&J.jsx("div",{className:"view-uploaded-paper-link",children:J.jsx("a",{href:U,target:"_blank",rel:"noopener noreferrer",children:"View Uploaded Test Paper"})})]})]})};pl.workerSrc=`//unpkg.com/pdfjs-dist@${y1}/build/pdf.worker.min.js`;const J1e=()=>{var D;const{uid:r,id:e}=cw(),t=wl(),[n,A]=me.useState(null),[i,s]=me.useState(!0),[o,a]=me.useState(null),[u,l]=me.useState(1),[c,h]=me.useState([]),[d,m]=me.useState({type:"MCQ",questionNumber:"",marks:"",correctAnswer:"",options:""}),[g,y]=me.useState(null),[v,w]=me.useState(null),[b,B]=me.useState(!1);me.useEffect(()=>{(async()=>{try{const L=mi(yA,"users",r,"testpapers",e),O=await Rc(L);O.exists()?(A(O.data()),h(O.data().questionsByPage||[])):(alert("Test paper not found."),t("/dashboard"))}catch{alert("Failed to fetch test paper."),t("/dashboard")}finally{s(!1)}})()},[r,e,t]);const F=_=>{if(!_.marks||isNaN(Number(_.marks))||Number(_.marks)<0)return!1;if(_.type==="MCQ"){if(!_.options||_.options.trim()===""||!_.correctAnswer||_.correctAnswer.length===0)return!1;const L=_.options.split(",").map(V=>V.trim().toUpperCase());return _.correctAnswer.split(",").map(V=>V.trim().toUpperCase()).filter(Boolean).every(V=>L.includes(V))}return!(_.type==="Open-ended"&&(!_.correctAnswer||_.correctAnswer.trim()==="")||_.type==="Other"&&!_.correctAnswer&&!g)},N=async()=>{if(!F(d)){alert("Please ensure all fields are filled and that MCQ answers match the listed options.");return}const _=c.find($=>$.page===u)||{page:u,questions:[]},L=v!==null;let O={...d,id:L?v:QI(),marks:Number(d.marks)};if(O.type==="MCQ"&&(O.options=(O.options||"").split(",").map($=>$.trim().toUpperCase()).filter(Boolean),O.correctAnswer=(O.correctAnswer||"").split(",").map($=>$.trim().toUpperCase()).filter(Boolean)),O.type==="Other")if(g){const $=XB(Sx(),`testpapers/${r}/${e}/answers/${g.name}`);await YF($,g);const Y=await JF($);O.correctAnswer={name:g.name,url:Y,id:QI()}}else L||(O.correctAnswer="");L?_.questions=_.questions.map($=>$.id===v?O:$):_.questions.push(O);const V=c.filter($=>$.page!==u).concat(_);h(V),m({type:"MCQ",questionNumber:"",marks:"",correctAnswer:"",options:""}),y(null),w(null),B(!1)},T=_=>{const L=c.map(O=>O.page===u?{...O,questions:O.questions.filter(V=>V.id!==_)}:O);h(L)},U=async()=>{try{const _=mi(yA,"users",r,"testpapers",e),L=c.map(O=>({...O,questions:O.questions.map(V=>V.type==="MCQ"?{...V,options:V.options,correctAnswer:V.correctAnswer}:V)}));await Vy(_,{questionsByPage:L}),alert("Changes saved.")}catch{alert("Failed to save changes.")}},k=()=>{if(!d.marks||isNaN(Number(d.marks))||Number(d.marks)<0)return!0;if(d.type==="MCQ"){if(!d.options||d.options.trim()==="")return!0;let _="";if(typeof d.correctAnswer=="string"?_=d.correctAnswer:Array.isArray(d.correctAnswer)?_=d.correctAnswer.join(","):_="",!_||_.length===0)return!0;const L=d.options.split(",").map(V=>V.trim().toUpperCase());return!_.split(",").map(V=>V.trim().toUpperCase()).filter(Boolean).every(V=>L.includes(V))}return d.type==="Open-ended"?!d.correctAnswer||typeof d.correctAnswer=="string"&&d.correctAnswer.trim()==="":d.type==="Other"?(!d.correctAnswer||typeof d.correctAnswer!="object")&&!g:!1};return i?J.jsxs(J.Fragment,{children:[J.jsx(Pc,{}),J.jsx("div",{className:"loading-container",children:"Loading test paper..."})]}):n?J.jsxs(J.Fragment,{children:[J.jsx(Pc,{}),J.jsx("main",{children:J.jsxs("div",{className:"paper-container",children:[J.jsx("h1",{children:n.paperTitle||"Untitled Test Paper"}),J.jsx("div",{className:"pdf-wrapper",children:J.jsx(vU,{file:n.fileUrl,onLoadSuccess:({numPages:_})=>a(_),loading:J.jsx("div",{style:{textAlign:"center"},children:"Loading PDF..."}),children:J.jsx(BU,{pageNumber:u,width:800,renderAnnotationLayer:!1,renderTextLayer:!1})})}),J.jsxs("div",{className:"pdf-nav",children:[J.jsx("button",{onClick:()=>l(_=>Math.max(_-1,1)),disabled:u===1,children:""}),J.jsxs("span",{children:["Page ",u," of ",o]}),J.jsx("button",{onClick:()=>l(_=>Math.min(_+1,o)),disabled:u===o,children:""})]}),J.jsx("div",{className:"question-panel",children:J.jsx("ul",{className:"question-list",children:(D=c.find(_=>_.page===u))==null?void 0:D.questions.map(_=>{var L;return J.jsxs("li",{children:[J.jsxs("strong",{children:[_.questionNumber?`${_.questionNumber}. `:"",_.type]}),"  Marks: ",_.marks,"  Correct Answer:",Array.isArray(_.correctAnswer)?_.correctAnswer.join(", "):typeof _.correctAnswer=="object"&&((L=_.correctAnswer)!=null&&L.url)?J.jsx("a",{href:_.correctAnswer.url,target:"_blank",rel:"noopener noreferrer",style:{color:"#81d4fa"},children:_.correctAnswer.name||"File"}):J.jsx("span",{className:"open-ended-answer",title:_.correctAnswer,children:_.correctAnswer}),J.jsx("button",{className:"edit-button",onClick:()=>{m({type:_.type||"MCQ",questionNumber:_.questionNumber||"",marks:_.marks||"",correctAnswer:_.correctAnswer||"",options:Array.isArray(_.options)?_.options.join(", "):_.options||""}),w(_.id),y(null),B(!0)},children:"Edit"}),J.jsx("button",{onClick:()=>T(_.id),children:"Delete"})]},_.id)})})}),b?J.jsxs("div",{className:"question-form",children:[J.jsx("h3",{children:v?"Update Question":"Add Question"}),J.jsx("input",{type:"text",placeholder:"Question Number",value:d.questionNumber,onChange:_=>m({...d,questionNumber:_.target.value})}),J.jsxs("select",{value:d.type,onChange:_=>m({...d,type:_.target.value}),children:[J.jsx("option",{value:"MCQ",children:"MCQ"}),J.jsx("option",{value:"Open-ended",children:"Open-Ended"}),J.jsx("option",{value:"Other",children:"Other"})]}),J.jsx("input",{type:"number",placeholder:"Marks",value:d.marks,onChange:_=>m({...d,marks:_.target.value})}),d.type==="MCQ"?J.jsxs(J.Fragment,{children:[J.jsx("input",{type:"text",placeholder:"Options (comma-separated)",value:d.options||"",onChange:_=>m({...d,options:_.target.value.toUpperCase()})}),J.jsx("input",{type:"text",placeholder:"Correct Answer(s)",value:d.correctAnswer||"",onChange:_=>m({...d,correctAnswer:_.target.value.toUpperCase()})})]}):d.type==="Other"?J.jsxs("div",{style:{margin:"8px 0"},children:[J.jsx("label",{htmlFor:"other-answer-upload",className:"file-upload-label",children:v?"Update Answer File:":"Upload Answer File:"}),J.jsxs("label",{htmlFor:"other-answer-upload",className:"choose-file-btn",children:["Choose File",J.jsx("input",{id:"other-answer-upload",type:"file",accept:".pdf,.doc,.docx",style:{display:"none"},onChange:_=>y(_.target.files[0])})]}),g&&J.jsx("a",{className:"selected-filename",href:g instanceof File?URL.createObjectURL(g):g.url||"#",target:"_blank",rel:"noopener noreferrer",children:g.name||(typeof g=="string"?g:"Answer File")})]}):J.jsx("input",{type:"text",placeholder:"Correct Answer",value:d.correctAnswer,onChange:_=>m({...d,correctAnswer:_.target.value})}),J.jsx("button",{onClick:N,disabled:k(),className:`submit-button ${k()?"disabled":""}`,children:v?"Update":"Add"}),J.jsx("button",{type:"button",className:"cancel-edit-button",onClick:()=>{m({type:"MCQ",questionNumber:"",marks:"",correctAnswer:"",options:""}),w(null),y(null),B(!1)},children:"Cancel"})]}):J.jsx("button",{className:"add-question-toggle",onClick:()=>B(!0),children:"Add Question"}),J.jsx("div",{className:"save-button-wrapper",children:J.jsx("button",{className:"save-buttonn",onClick:U,children:"Save Changes"})})]})})]}):null},Z1e=()=>{const{uid:r,id:e}=cw(),t=wl(),[n,A]=me.useState(null),[i,s]=me.useState(60),[o,a]=me.useState(null);me.useEffect(()=>{(async()=>{try{const c=mi(yA,"users",r,"testpapers",e),h=await Rc(c);h.exists()?A(h.data()):(alert("Test paper not found."),t("/dashboard"))}catch(c){console.error("Error fetching test paper:",c),alert("Failed to load test paper."),t("/dashboard")}})()},[r,e,t]);const u=()=>{t(`/testattempt/${r}/${e}/exam`,{state:{duration:i}})};return J.jsxs("div",{className:"attempt-setup-container",children:[J.jsx(Pc,{user:o}),J.jsxs("main",{children:[J.jsx("h2",{children:"Start Test Paper Attempt"}),n?J.jsxs("div",{className:"attempt-setup-card",children:[J.jsxs("p",{children:[J.jsx("strong",{children:"Title:"})," ",n.paperTitle]}),J.jsxs("p",{children:[J.jsx("strong",{children:"Pages:"})," ",n.numPages]}),J.jsxs("label",{children:["Duration (minutes):",J.jsx("input",{type:"number",value:i,onChange:l=>s(Number(l.target.value)),min:1})]}),J.jsx("button",{className:"start-button",onClick:u,children:"Start Paper"})]}):J.jsx("p",{children:"Loading test paper..."})]})]})};pl.workerSrc=`//unpkg.com/pdfjs-dist@${y1}/build/pdf.worker.min.js`;const eCe=r=>{const e=Math.floor(r/60),t=Math.floor(r%60);return`${e}m ${t<10?"0":""}${t}s`},tCe=()=>{var $,Y,re;const{uid:r,id:e}=cw(),t=Ad(),n=wl(),A=(($=t.state)==null?void 0:$.duration)||60,[i,s]=me.useState(null),[o,a]=me.useState(1),[u,l]=me.useState({}),c=me.useRef({}),[h,d]=me.useState(A*60),[m,g]=me.useState(!0),[y,v]=me.useState(!1),[w,b]=me.useState(0),[B,F]=me.useState(!1),[N,T]=me.useState(!1),U=me.useRef(null),k=me.useRef(null);me.useEffect(()=>{k.current=Date.now()},[]),me.useEffect(()=>{(async()=>{try{const ne=mi(yA,"users",r,"testpapers",e),te=await Rc(ne);te.exists()?s(te.data()):(alert("Test paper not found."),n("/dashboard"))}catch{alert("Failed to load test."),n("/dashboard")}})()},[r,e,n]),me.useEffect(()=>{if(m)return U.current=setInterval(()=>{d(le=>le<=1?(clearInterval(U.current),g(!1),T(!0),0):le-1)},1e3),()=>{clearInterval(U.current)}},[m]);const D=(le,ne)=>{l(te=>{const G={...te,[le]:ne};return c.current=G,G})},_=async()=>{var ne;if(B)return;F(!0);const le=(Date.now()-k.current)/1e3;try{g(!1);const te=wm(yA,"users",r,"testpapers",e,"attempts"),G=mi(te),H=G.id,z={};for(const ae of((ne=i==null?void 0:i.questionsByPage)==null?void 0:ne.flatMap(ie=>ie.questions))||[]){const ie=c.current[ae.id];if(ie!==void 0)if(ae.type==="Other"&&ie instanceof File){const pe=XB(xAe,`testpapers/${r}/${e}/attempts/${H}/answers/${ae.id}/${ie.name}`);await YF(pe,ie);const Ce=await JF(pe);z[ae.id]={name:ie.name,url:Ce}}else z[ae.id]=ie}const oe={answers:z,timeTaken:le,graded:!1,timestamp:XP()};await $P(G,oe),n(`/testattempt/${r}/${e}/${H}/grade`,{state:{answers:z,timeTaken:le,attemptId:H,testpaper:i}}),F(!1)}catch{alert("Failed to submit test."),F(!1)}},L=()=>{const le=(Date.now()-k.current)/1e3;b(le),v(!0)},O=((re=(Y=i==null?void 0:i.questionsByPage)==null?void 0:Y.find(le=>le.page===o))==null?void 0:re.questions)||[],V=()=>{const le=Math.floor(h/60),ne=h%60;return`${le}:${ne<10?"0":""}${ne}`};return J.jsxs("div",{className:"test-attempt-container",children:[J.jsx(Pc,{}),J.jsxs("main",{children:[J.jsxs("div",{className:"timer",children:["Time Left: ",V()]}),J.jsx("div",{className:"pdf-viewer",children:i!=null&&i.fileUrl?J.jsx(vU,{file:i.fileUrl,children:J.jsx("div",{className:"pdf-page",children:J.jsx(BU,{pageNumber:o,width:600})})}):J.jsx("p",{children:"Loading test paper..."})}),J.jsxs("div",{className:"pdf-nav",children:[J.jsx("button",{disabled:o===1,onClick:()=>a(o-1),children:""}),J.jsxs("span",{children:["Page ",o," of ",i==null?void 0:i.numPages]}),J.jsx("button",{disabled:o===(i==null?void 0:i.numPages),onClick:()=>a(o+1),children:""})]}),J.jsx("div",{className:"question-list",children:O.map(le=>J.jsxs("div",{className:"question-block",children:[J.jsx("p",{children:J.jsxs("strong",{children:[le.questionNumber,". (",le.type,")  ",le.marks," marks"]})}),le.type==="MCQ"&&Array.isArray(le.options)&&J.jsx("div",{className:"mcq-answer",children:le.options.map(ne=>J.jsxs("label",{style:{marginRight:"1rem"},children:[J.jsx("input",{type:"checkbox",name:le.id,value:ne,checked:(u[le.id]||[]).includes(ne),onChange:te=>{const G=te.target.value,H=new Set(u[le.id]||[]);H.has(G)?H.delete(G):H.add(G),D(le.id,Array.from(H))}}),ne]},ne))}),le.type==="Open-ended"&&J.jsx("div",{className:"open-ended-answer",children:J.jsx("textarea",{rows:4,placeholder:"Your answer...",value:u[le.id]||"",onChange:ne=>D(le.id,ne.target.value)})}),le.type==="Other"&&J.jsx("div",{className:"other-answer",children:J.jsxs(J.Fragment,{children:[J.jsx("input",{id:`file-upload-${le.id}`,type:"file",accept:".pdf,.doc,.docx",style:{display:"none"},onChange:ne=>D(le.id,ne.target.files[0])}),J.jsx("label",{htmlFor:`file-upload-${le.id}`,className:"submit-button",style:{display:"inline-block",marginBottom:"8px",cursor:"pointer"},children:"Choose File"}),u[le.id]&&typeof u[le.id]=="object"&&J.jsx("a",{className:"selected-filename",href:URL.createObjectURL(u[le.id]),target:"_blank",rel:"noopener noreferrer",children:u[le.id].name})]})})]},le.id))}),J.jsx("div",{className:"submit-button-wrapper",children:J.jsx("button",{className:"submit-button",onClick:L,disabled:B,children:"Submit"})})]}),y&&J.jsx("div",{className:"delete-modal-overlay",children:J.jsxs("div",{className:"delete-modal",children:[J.jsxs("p",{children:["Are you sure you want to submit this test?",J.jsx("br",{}),"Your answers will be saved and cannot be changed.",J.jsx("br",{}),J.jsxs("strong",{children:["Time taken: ",eCe(w)]})]}),J.jsxs("div",{className:"delete-modal-buttons",children:[J.jsx("button",{className:"delete-confirm-button",onClick:async()=>{v(!1),await _()},disabled:B,children:B?"Submitting...":"Submit"}),J.jsx("button",{className:"delete-cancel-button",onClick:()=>v(!1),disabled:B,children:"Cancel"})]})]})}),N&&J.jsx("div",{className:"delete-modal-overlay",children:J.jsxs("div",{className:"delete-modal",children:[J.jsx("p",{children:"Time is up! Would you like to submit your attempt or continue?"}),J.jsxs("div",{className:"delete-modal-buttons",children:[J.jsx("button",{className:"delete-confirm-button",onClick:()=>{T(!1),v(!0);const le=(Date.now()-k.current)/1e3;b(le)},disabled:B,children:B?"Submitting...":"Submit"}),J.jsx("button",{className:"delete-cancel-button",onClick:()=>{T(!1),g(!1),d(0)},children:"Continue"})]})]})})]})};pl.workerSrc=`//unpkg.com/pdfjs-dist@${y1}/build/pdf.worker.min.js`;const rCe=r=>{const e=Math.floor(r/60),t=Math.floor(r%60);return`${e}m ${t<10?"0":""}${t}s`},nCe=()=>{var V,$;const{uid:r,id:e,attemptId:t}=cw(),n=Ad(),A=wl(),i=n.state||{},[s,o]=me.useState(i.testpaper),[a,u]=me.useState(i.answers),[l,c]=me.useState(i.timeTaken),[h,d]=me.useState(null),[m,g]=me.useState({}),[y,v]=me.useState({visible:!1}),[w,b]=me.useState(!1),[B,F]=me.useState(1);me.useEffect(()=>{(async()=>{if(!s||!a)try{const re=mi(yA,"users",r,"testpapers",e),le=await Rc(re);le.exists()&&o(le.data());const ne=mi(yA,"users",r,"testpapers",e,"attempts",t),te=await Rc(ne);if(te.exists()){const G=te.data();u(G.answers),c(G.timeTaken)}}catch(re){console.error("Error fetching testpaper or attempt data:",re),alert("Failed to load test data.")}})()},[r,e,t,s,a]);const N=((V=s==null?void 0:s.questionsByPage)==null?void 0:V.flatMap(Y=>Y.questions).reduce((Y,re)=>Y+Number(re.marks||0),0))||0,T=Object.values(m).reduce((Y,re)=>Y+Number(re||0),0),U=(Y,re)=>{const le=re===""?"":Number(re);g(ne=>({...ne,[Y]:le}))},k=()=>{v({visible:!0})},D=()=>{v({visible:!1})},_=async()=>{b(!0);try{const Y=mi(yA,"users",r,"testpapers",e,"attempts",t);await Vy(Y,{scores:m,totalScored:T,graded:!0}),v({visible:!1}),alert("Attempt saved successfully!"),A("/dashboard")}catch(Y){console.error("Error updating attempt:",Y),alert("Failed to save attempt.")}finally{b(!1)}},L=()=>{B<(s==null?void 0:s.numPages)&&F(B+1)},O=()=>{B>1&&F(B-1)};return J.jsxs("div",{className:"test-grading-container",children:[J.jsx(Pc,{}),J.jsxs("main",{children:[J.jsx("h2",{children:"Grade Your Attempt"}),J.jsxs("div",{className:"pdf-viewer-container",children:[(s==null?void 0:s.fileUrl)&&J.jsx(vU,{file:s.fileUrl,onLoadSuccess:({numPages:Y})=>{F(1),d(Y)},children:J.jsx(BU,{pageNumber:B})}),J.jsxs("div",{className:"pdf-nav",children:[J.jsx("button",{onClick:O,disabled:B===1,children:""}),J.jsxs("span",{children:["Page ",B," of ",h]}),J.jsx("button",{onClick:L,disabled:B===h,children:""})]})]}),J.jsxs("main",{children:[($=s==null?void 0:s.questionsByPage)==null?void 0:$.filter(Y=>Y.page===B).map(Y=>J.jsxs("div",{className:"grading-page-block",children:[J.jsxs("h3",{children:["Page ",Y.page]}),Y.questions.map(re=>{var le,ne;return J.jsxs("div",{className:"grading-question-block",children:[J.jsx("p",{children:J.jsxs("strong",{children:[re.questionNumber," (",re.type,")  ",Number(re.marks)," marks"]})}),J.jsx("p",{children:J.jsx("strong",{children:"Correct Answer:"})}),re.type==="MCQ"&&Array.isArray(re.correctAnswer)&&J.jsx("p",{children:re.correctAnswer.join(", ")}),re.type==="Open-ended"&&J.jsx("p",{children:re.correctAnswer}),re.type==="Other"&&((le=re.correctAnswer)==null?void 0:le.url)&&J.jsx("a",{href:re.correctAnswer.url,target:"_blank",rel:"noopener noreferrer",className:"selected-filename",children:re.correctAnswer.name}),J.jsx("p",{children:J.jsx("strong",{children:"Your Answer:"})}),re.type==="MCQ"&&J.jsx("p",{children:Array.isArray(a==null?void 0:a[re.id])&&a[re.id].length>0?a[re.id].join(", "):"No answer submitted"}),re.type==="Open-ended"&&J.jsx("p",{children:typeof(a==null?void 0:a[re.id])=="string"&&a[re.id]!==""?a[re.id]:"No answer submitted"}),re.type==="Other"&&((ne=a==null?void 0:a[re.id])!=null&&ne.url?J.jsx("a",{href:a[re.id].url,target:"_blank",rel:"noopener noreferrer",className:"selected-filename",children:a[re.id].name}):J.jsx("p",{children:"No answer submitted"})),J.jsxs("label",{children:["Marks You Scored:",J.jsx("input",{type:"number",min:"0",max:Number(re.marks),value:m[re.id]===void 0?"":m[re.id],onChange:te=>U(re.id,te.target.value)})]})]},re.id)})]},Y.page)),J.jsxs("div",{className:"grading-summary",children:[J.jsxs("p",{children:["Total Scored: ",T," / ",N]}),J.jsx("button",{onClick:k,disabled:w,children:"Save Attempt"})]})]}),y.visible&&J.jsx("div",{className:"delete-modal-overlay",children:J.jsxs("div",{className:"delete-modal",children:[J.jsxs("p",{children:["You scored ",T," out of ",N,".",J.jsx("br",{}),"Time taken: ",rCe(l),J.jsx("br",{}),"Are you sure you want to save this attempt?"]}),J.jsxs("div",{className:"delete-modal-buttons",children:[J.jsx("button",{className:"delete-confirm-button",onClick:_,disabled:w,children:w?"Saving...":"Save"}),J.jsx("button",{className:"delete-cancel-button",onClick:D,disabled:w,children:"Cancel"})]})]})})]})]})},ACe=()=>{const{uid:r,id:e}=cw(),[t,n]=me.useState("attempts"),[A,i]=me.useState([]),[s,o]=me.useState(!0),[a,u]=me.useState(0),[l,c]=me.useState([]),[h,d]=Dt.useState({visible:!1,attemptId:null}),m=wl();me.useEffect(()=>{(async()=>{try{const T=wm(yA,"users",r,"testpapers",e,"attempts"),k=(await gne(T)).docs.map(D=>({id:D.id,...D.data()}));k.sort((D,_)=>_.timestamp-D.timestamp),i(k)}catch(T){console.error("Failed to fetch attempts:",T)}finally{o(!1)}})()},[r,e,h.visible]);const g=async()=>{try{const N=mi(yA,"users",r,"testpapers",e,"attempts",h.attemptId);await nK(N),d({visible:!1,attemptId:null})}catch(N){console.error("Error deleting attempt:",N),d({visible:!1,attemptId:null})}};me.useEffect(()=>{(async()=>{try{const T=mi(yA,"users",r,"testpapers",e),U=await Rc(T);if(U.exists()){const _=(U.data().questionsByPage||[]).flatMap(O=>O.questions||[]),L=_.reduce((O,V)=>O+Number(V.marks||0),0);u(L),c(_)}else u(0),c([])}catch(T){console.error("Failed to fetch testpaper document:",T)}})()},[r,e]);const y=()=>{const N=A.filter(_=>_.graded);if(N.length===0)return{avg:"-",high:"-",low:"-"};const T=N.map(_=>_.totalScored||0),U=(T.reduce((_,L)=>_+L,0)/T.length).toFixed(2),k=Math.max(...T),D=Math.min(...T);return{avg:U,high:k,low:D}},{avg:v,high:w,low:b}=y(),F=A.length===0?[]:l.map((N,T)=>{const U=A.map(O=>{var $;const V=($=O.scores)==null?void 0:$[N.id];if(typeof V=="number")return V;if(typeof V=="object"&&V!==null&&typeof V.score=="number")return V.score;if(typeof V=="string"&&!isNaN(Number(V)))return Number(V)}),k=U.filter(O=>typeof O=="number"&&!isNaN(O)),D=k.length>0?(k.reduce((O,V)=>O+V,0)/k.length).toFixed(2):"-",_=k.length>0?Math.max(...k):"-",L=k.length>0?Math.min(...k):"-";return{question:N,avgScore:D,highScore:_,lowScore:L,scores:U}});return J.jsxs("div",{className:"test-review-container",children:[J.jsx(Pc,{}),J.jsxs("main",{children:[J.jsxs("div",{className:"review-toggle-buttons",children:[J.jsx("button",{className:t==="attempts"?"active":"",onClick:()=>n("attempts"),children:"Attempts"}),J.jsx("button",{className:t==="stats"?"active":"",onClick:()=>n("stats"),children:"Paper Statistics"})]}),s?J.jsx("p",{children:"Loading..."}):t==="attempts"?J.jsx("div",{className:"attempt-list",children:A.length===0?J.jsx("p",{children:"No attempts yet."}):A.map((N,T)=>J.jsxs("div",{className:"attempt-entry",children:[J.jsxs("button",{className:"attempt-link",onClick:()=>{m(`/testattempt/${r}/${e}/${N.id}/grade`,{state:{graded:N.graded,answers:N.answers,timeTaken:N.timeTaken,attemptId:N.id,timestamp:N.timestamp}})},children:["Attempt ",A.length-T]}),J.jsx("p",{children:N.timestamp?`Attempted at: ${N.timestamp.toDate().toLocaleString()}`:"Unknown time"}),J.jsx("p",{children:N.graded?`Score: ${N.totalScored} / ${a}`:"Score: Ungraded"}),J.jsxs("p",{children:["Time Taken: ",N.timeTaken?`${Math.round(N.timeTaken/60)} mins`:"-"]}),J.jsx("button",{className:"delete-button",onClick:U=>{U.stopPropagation(),d({visible:!0,attemptId:N.id})},children:"Delete"})]},N.id))}):J.jsxs("div",{className:"paper-stats",children:[J.jsx("h3",{children:"Overall Statistics"}),J.jsxs("p",{children:[J.jsx("strong",{children:"Average Score:"})," ",v]}),J.jsxs("p",{children:[J.jsx("strong",{children:"Highest Score:"})," ",w]}),J.jsxs("p",{children:[J.jsx("strong",{children:"Lowest Score:"})," ",b]}),F.length>0&&F.map(({question:N,avgScore:T,highScore:U,lowScore:k,scores:D},_)=>{var L;return J.jsxs("div",{className:"question-stats",children:[J.jsxs("h4",{children:["Question ",_+1]}),J.jsxs("p",{children:[J.jsx("strong",{children:"Marks:"})," ",N.marks]}),J.jsxs("p",{children:[J.jsx("strong",{children:"Average Score:"})," ",T]}),J.jsxs("p",{children:[J.jsx("strong",{children:"Highest Score:"})," ",U]}),J.jsxs("p",{children:[J.jsx("strong",{children:"Lowest Score:"})," ",k]}),J.jsxs("p",{children:[J.jsx("strong",{children:"Correct Answer:"})," ",typeof N.correctAnswer=="object"&&((L=N.correctAnswer)!=null&&L.url)?J.jsx("a",{href:N.correctAnswer.url,target:"_blank",rel:"noopener noreferrer",className:"selected-filename",children:N.correctAnswer.name}):N.correctAnswer||"N/A"]}),J.jsx("div",{className:"scrollable-scores",children:A.map((O,V)=>{var le,ne;const $=(le=O.scores)==null?void 0:le[N.id],Y=(ne=O.answers)==null?void 0:ne[N.id];A.length-1-V;const re=A.length-V;return J.jsxs("div",{className:"score-entry",children:["Attempt ",re,": ",typeof $=="number"&&!isNaN($)?`${$} mark(s)`:"Ungraded",J.jsx("div",{className:"user-answer",children:typeof Y=="string"?Y.length>100?Y.slice(0,100)+"...":Y:typeof Y=="object"&&(Y!=null&&Y.url)?J.jsx("a",{href:Y.url,target:"_blank",rel:"noopener noreferrer",className:"selected-filename",children:Y.name}):Array.isArray(Y)?Y.join(", "):"No answer submitted"})]},V)}).slice().reverse()})]},_)})]}),h.visible&&J.jsx("div",{className:"delete-modal-overlay",children:J.jsxs("div",{className:"delete-modal",children:[J.jsx("p",{children:"Delete attempt?"}),J.jsxs("div",{className:"delete-modal-buttons",children:[J.jsx("button",{className:"modal-cancel-button",onClick:()=>d({visible:!1,attemptId:null}),children:"Cancel"}),J.jsx("button",{className:"modal-cancel-button",onClick:g,children:"Delete"})]})]})})]})]})};function iCe(){return J.jsx(fX,{children:J.jsxs(V$,{children:[J.jsx(ol,{path:"/",element:J.jsx(MAe,{})}),J.jsx(ol,{path:"/register",element:J.jsx(kAe,{})}),J.jsx(ol,{path:"/login",element:J.jsx(OAe,{})}),J.jsx(ol,{path:"/dashboard",element:J.jsx(dh,{children:J.jsx(yve,{})})}),J.jsx(ol,{path:"/summarizer",element:J.jsx(dh,{children:J.jsx(Xye,{})})}),J.jsx(ol,{path:"/summary/:uid/:id",element:J.jsx(dh,{children:J.jsx(g0e,{})})}),J.jsx(ol,{path:"/mindmapgenerator",element:J.jsx(dh,{children:J.jsx(m0e,{})})}),J.jsx(ol,{path:"/mindmap/:uid/:id",element:J.jsx(dh,{children:J.jsx(y0e,{})})}),J.jsx(ol,{path:"/testmodeupload",element:J.jsx(dh,{children:J.jsx(Y1e,{})})}),J.jsx(ol,{path:"/testpaperdetail/:uid/:id",element:J.jsx(dh,{children:J.jsx(J1e,{})})}),J.jsx(ol,{path:"/testattemptsetup/:uid/:id",element:J.jsx(dh,{children:J.jsx(Z1e,{})})}),J.jsx(ol,{path:"/testattempt/:uid/:id/exam",element:J.jsx(dh,{children:J.jsx(tCe,{})})}),J.jsx(ol,{path:"/testattempt/:uid/:id/:attemptId/grade",element:J.jsx(dh,{children:J.jsx(nCe,{})})}),J.jsx(ol,{path:"/testreview/:uid/:id",element:J.jsx(dh,{children:J.jsx(ACe,{})})})]})})}window.Buffer=bg.Buffer;window.process=pm;YW.createRoot(document.getElementById("root")).render(J.jsx(Dt.StrictMode,{children:J.jsx(iCe,{})}));export{wA as _,uw as g,pm as p};
